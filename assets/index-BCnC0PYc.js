var Wg=e=>{throw TypeError(e)};var Kd=(e,t,n)=>t.has(e)||Wg("Cannot "+n);var A=(e,t,n)=>(Kd(e,t,"read from private field"),n?n.call(e):t.get(e)),ge=(e,t,n)=>t.has(e)?Wg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ae=(e,t,n,r)=>(Kd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ut=(e,t,n)=>(Kd(e,t,"access private method"),n);var Vl=(e,t,n,r)=>({set _(s){ae(e,t,s,n)},get _(){return A(e,t,r)}});function pT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yb={exports:{}},Wu={},vb={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),gT=Symbol.for("react.portal"),yT=Symbol.for("react.fragment"),vT=Symbol.for("react.strict_mode"),xT=Symbol.for("react.profiler"),wT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),ST=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),ET=Symbol.for("react.memo"),jT=Symbol.for("react.lazy"),Hg=Symbol.iterator;function CT(e){return e===null||typeof e!="object"?null:(e=Hg&&e[Hg]||e["@@iterator"],typeof e=="function"?e:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wb=Object.assign,bb={};function $a(e,t,n){this.props=e,this.context=t,this.refs=bb,this.updater=n||xb}$a.prototype.isReactComponent={};$a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sb(){}Sb.prototype=$a.prototype;function hp(e,t,n){this.props=e,this.context=t,this.refs=bb,this.updater=n||xb}var fp=hp.prototype=new Sb;fp.constructor=hp;wb(fp,$a.prototype);fp.isPureReactComponent=!0;var Gg=Array.isArray,kb=Object.prototype.hasOwnProperty,mp={current:null},Eb={key:!0,ref:!0,__self:!0,__source:!0};function jb(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)kb.call(t,r)&&!Eb.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Sl,type:e,key:i,ref:a,props:s,_owner:mp.current}}function TT(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function PT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kg=/\/+/g;function qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PT(""+e.key):t.toString(36)}function Cc(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sl:case gT:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+qd(a,0):r,Gg(s)?(n="",e!=null&&(n=e.replace(Kg,"$&/")+"/"),Cc(s,t,n,"",function(u){return u})):s!=null&&(pp(s)&&(s=TT(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Kg,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Gg(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+qd(i,o);a+=Cc(i,t,n,c,s)}else if(c=CT(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+qd(i,o++),a+=Cc(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ul(e,t,n){if(e==null)return e;var r=[],s=0;return Cc(e,r,"","",function(i){return t.call(n,i,s++)}),r}function NT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},Tc={transition:null},_T={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:mp};function Cb(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Ul,forEach:function(e,t,n){Ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!pp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=$a;ue.Fragment=yT;ue.Profiler=xT;ue.PureComponent=hp;ue.StrictMode=vT;ue.Suspense=kT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T;ue.act=Cb;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wb({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=mp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)kb.call(t,c)&&!Eb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Sl,type:e.type,key:s,ref:i,props:r,_owner:a}};ue.createContext=function(e){return e={$$typeof:bT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wT,_context:e},e.Consumer=e};ue.createElement=jb;ue.createFactory=function(e){var t=jb.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:ST,render:e}};ue.isValidElement=pp;ue.lazy=function(e){return{$$typeof:jT,_payload:{_status:-1,_result:e},_init:NT}};ue.memo=function(e,t){return{$$typeof:ET,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Tc.transition;Tc.transition={};try{e()}finally{Tc.transition=t}};ue.unstable_act=Cb;ue.useCallback=function(e,t){return Et.current.useCallback(e,t)};ue.useContext=function(e){return Et.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Et.current.useEffect(e,t)};ue.useId=function(){return Et.current.useId()};ue.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Et.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};ue.useRef=function(e){return Et.current.useRef(e)};ue.useState=function(e){return Et.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return Et.current.useTransition()};ue.version="18.3.1";vb.exports=ue;var p=vb.exports;const z=gb(p),gp=pT({__proto__:null,default:z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=p,RT=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),OT=Object.prototype.hasOwnProperty,DT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IT={key:!0,ref:!0,__self:!0,__source:!0};function Tb(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)OT.call(t,r)&&!IT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:RT,type:e,key:i,ref:a,props:s,_owner:DT.current}}Wu.Fragment=AT;Wu.jsx=Tb;Wu.jsxs=Tb;yb.exports=Wu;var l=yb.exports,Pb={exports:{}},Yt={},Nb={exports:{}},_b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,P){var M=_.length;_.push(P);e:for(;0<M;){var I=M-1>>>1,$=_[I];if(0<s($,P))_[I]=P,_[M]=$,M=I;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],M=_.pop();if(M!==P){_[0]=M;e:for(var I=0,$=_.length,X=$>>>1;I<X;){var ee=2*(I+1)-1,K=_[ee],Y=ee+1,V=_[Y];if(0>s(K,M))Y<$&&0>s(V,K)?(_[I]=V,_[Y]=M,I=Y):(_[I]=K,_[ee]=M,I=ee);else if(Y<$&&0>s(V,M))_[I]=V,_[Y]=M,I=Y;else break e}}return P}function s(_,P){var M=_.sortIndex-P.sortIndex;return M!==0?M:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=_)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function S(_){if(v=!1,y(_),!w)if(n(c)!==null)w=!0,F(k);else{var P=n(u);P!==null&&B(S,P.startTime-_)}}function k(_,P){w=!1,v&&(v=!1,g(j),j=-1),m=!0;var M=f;try{for(y(P),h=n(c);h!==null&&(!(h.expirationTime>P)||_&&!R());){var I=h.callback;if(typeof I=="function"){h.callback=null,f=h.priorityLevel;var $=I(h.expirationTime<=P);P=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(c)&&r(c),y(P)}else r(c);h=n(c)}if(h!==null)var X=!0;else{var ee=n(u);ee!==null&&B(S,ee.startTime-P),X=!1}return X}finally{h=null,f=M,m=!1}}var E=!1,C=null,j=-1,T=5,N=-1;function R(){return!(e.unstable_now()-N<T)}function O(){if(C!==null){var _=e.unstable_now();N=_;var P=!0;try{P=C(!0,_)}finally{P?U():(E=!1,C=null)}}else E=!1}var U;if(typeof x=="function")U=function(){x(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=O,U=function(){q.postMessage(null)}}else U=function(){b(O,0)};function F(_){C=_,E||(E=!0,U())}function B(_,P){j=b(function(){_(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,F(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var M=f;f=P;try{return _()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=f;f=_;try{return P()}finally{f=M}},e.unstable_scheduleCallback=function(_,P,M){var I=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,_){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=M+$,_={id:d++,callback:P,priorityLevel:_,startTime:M,expirationTime:$,sortIndex:-1},M>I?(_.sortIndex=M,t(u,_),n(c)===null&&_===n(u)&&(v?(g(j),j=-1):v=!0,B(S,M-I))):(_.sortIndex=$,t(c,_),w||m||(w=!0,F(k))),_},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(_){var P=f;return function(){var M=f;f=P;try{return _.apply(this,arguments)}finally{f=M}}}})(_b);Nb.exports=_b;var LT=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=p,Kt=LT;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mb=new Set,Io={};function di(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Io[e]=t,e=0;e<t.length;e++)Mb.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=Object.prototype.hasOwnProperty,FT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qg={},Yg={};function BT(e){return ff.call(Yg,e)?!0:ff.call(qg,e)?!1:FT.test(e)?Yg[e]=!0:(qg[e]=!0,!1)}function zT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VT(e,t,n,r){if(t===null||typeof t>"u"||zT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yp=/[\-:]([a-z])/g;function vp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yp,vp);lt[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yp,vp);lt[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yp,vp);lt[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xp(e,t,n,r){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VT(t,n,s,r)&&(n=null),r||s===null?BT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Li=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),Ob=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Ja(e){return e===null||typeof e!="object"?null:(e=Xg&&e[Xg]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Yd;function co(e){if(Yd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yd=t&&t[1]||""}return`
`+Yd+e}var Xd=!1;function Qd(e,t){if(!e||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function UT(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=Qd(e.type,!1),e;case 11:return e=Qd(e.type.render,!1),e;case 1:return e=Qd(e.type,!0),e;default:return""}}function yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Li:return"Portal";case mf:return"Profiler";case wp:return"StrictMode";case pf:return"Suspense";case gf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ab:return(e.displayName||"Context")+".Consumer";case Rb:return(e._context.displayName||"Context")+".Provider";case bp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sp:return t=e.displayName||null,t!==null?t:yf(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return yf(e(t))}catch{}}return null}function WT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Db(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HT(e){var t=Db(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=HT(e))}function Ib(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Db(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vf(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lb(e,t){t=t.checked,t!=null&&xp(e,"checked",t,!1)}function xf(e,t){Lb(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wf(e,t.type,n):t.hasOwnProperty("defaultValue")&&wf(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wf(e,t,n){(t!=="number"||Kc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function ta(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(uo(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function $b(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gl,Bb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GT=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){GT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function zb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function Vb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KT=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(e,t){if(t){if(KT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function kp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cf=null,na=null,ra=null;function ty(e){if(e=jl(e)){if(typeof Cf!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Yu(t),Cf(e.stateNode,e.type,t))}}function Ub(e){na?ra?ra.push(e):ra=[e]:na=e}function Wb(){if(na){var e=na,t=ra;if(ra=na=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function Hb(e,t){return e(t)}function Gb(){}var Jd=!1;function Kb(e,t,n){if(Jd)return e(t,n);Jd=!0;try{return Hb(e,t,n)}finally{Jd=!1,(na!==null||ra!==null)&&(Gb(),Wb())}}function $o(e,t){var n=e.stateNode;if(n===null)return null;var r=Yu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Tf=!1;if(wr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Tf=!1}function qT(e,t,n,r,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wo=!1,qc=null,Yc=!1,Pf=null,YT={onError:function(e){wo=!0,qc=e}};function XT(e,t,n,r,s,i,a,o,c){wo=!1,qc=null,qT.apply(YT,arguments)}function QT(e,t,n,r,s,i,a,o,c){if(XT.apply(this,arguments),wo){if(wo){var u=qc;wo=!1,qc=null}else throw Error(L(198));Yc||(Yc=!0,Pf=u)}}function hi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ny(e){if(hi(e)!==e)throw Error(L(188))}function JT(e){var t=e.alternate;if(!t){if(t=hi(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ny(s),e;if(i===r)return ny(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Yb(e){return e=JT(e),e!==null?Xb(e):null}function Xb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xb(e);if(t!==null)return t;e=e.sibling}return null}var Qb=Kt.unstable_scheduleCallback,ry=Kt.unstable_cancelCallback,ZT=Kt.unstable_shouldYield,eP=Kt.unstable_requestPaint,Ve=Kt.unstable_now,tP=Kt.unstable_getCurrentPriorityLevel,Ep=Kt.unstable_ImmediatePriority,Jb=Kt.unstable_UserBlockingPriority,Xc=Kt.unstable_NormalPriority,nP=Kt.unstable_LowPriority,Zb=Kt.unstable_IdlePriority,Hu=null,Xn=null;function rP(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Hu,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:aP,sP=Math.log,iP=Math.LN2;function aP(e){return e>>>=0,e===0?32:31-(sP(e)/iP|0)|0}var Kl=64,ql=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ho(o):(i&=a,i!==0&&(r=ho(i)))}else a=n&~s,a!==0?r=ho(a):i!==0&&(r=ho(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),s=1<<n,r|=e[n],t&=~s;return r}function oP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-On(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=oP(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Nf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e1(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function Zd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function cP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-On(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var we=0;function t1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n1,Cp,r1,s1,i1,_f=!1,Yl=[],ns=null,rs=null,ss=null,Fo=new Map,Bo=new Map,Hr=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(t.pointerId)}}function eo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jl(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dP(e,t,n,r,s){switch(t){case"focusin":return ns=eo(ns,e,t,n,r,s),!0;case"dragenter":return rs=eo(rs,e,t,n,r,s),!0;case"mouseover":return ss=eo(ss,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fo.set(i,eo(Fo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bo.set(i,eo(Bo.get(i)||null,e,t,n,r,s)),!0}return!1}function a1(e){var t=zs(e.target);if(t!==null){var n=hi(t);if(n!==null){if(t=n.tag,t===13){if(t=qb(n),t!==null){e.blockedOn=t,i1(e.priority,function(){r1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return t=jl(n),t!==null&&Cp(t),e.blockedOn=n,!1;t.shift()}return!0}function iy(e,t,n){Pc(e)&&n.delete(t)}function hP(){_f=!1,ns!==null&&Pc(ns)&&(ns=null),rs!==null&&Pc(rs)&&(rs=null),ss!==null&&Pc(ss)&&(ss=null),Fo.forEach(iy),Bo.forEach(iy)}function to(e,t){e.blockedOn===t&&(e.blockedOn=null,_f||(_f=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,hP)))}function zo(e){function t(s){return to(s,e)}if(0<Yl.length){to(Yl[0],e);for(var n=1;n<Yl.length;n++){var r=Yl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&to(ns,e),rs!==null&&to(rs,e),ss!==null&&to(ss,e),Fo.forEach(t),Bo.forEach(t),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)a1(n),n.blockedOn===null&&Hr.shift()}var sa=Nr.ReactCurrentBatchConfig,Jc=!0;function fP(e,t,n,r){var s=we,i=sa.transition;sa.transition=null;try{we=1,Tp(e,t,n,r)}finally{we=s,sa.transition=i}}function mP(e,t,n,r){var s=we,i=sa.transition;sa.transition=null;try{we=4,Tp(e,t,n,r)}finally{we=s,sa.transition=i}}function Tp(e,t,n,r){if(Jc){var s=Mf(e,t,n,r);if(s===null)ch(e,t,r,Zc,n),sy(e,r);else if(dP(s,e,t,n,r))r.stopPropagation();else if(sy(e,r),t&4&&-1<uP.indexOf(e)){for(;s!==null;){var i=jl(s);if(i!==null&&n1(i),i=Mf(e,t,n,r),i===null&&ch(e,t,r,Zc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ch(e,t,r,null,n)}}var Zc=null;function Mf(e,t,n,r){if(Zc=null,e=kp(r),e=zs(e),e!==null)if(t=hi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zc=e,null}function o1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case Ep:return 1;case Jb:return 4;case Xc:case nP:return 16;case Zb:return 536870912;default:return 16}default:return 16}}var Zr=null,Pp=null,Nc=null;function l1(){if(Nc)return Nc;var e,t=Pp,n=t.length,r,s="value"in Zr?Zr.value:Zr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Nc=s.slice(e,1<r?1-r:void 0)}function _c(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function ay(){return!1}function Xt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xl:ay,this.isPropagationStopped=ay,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=Xt(Fa),El=De({},Fa,{view:0,detail:0}),pP=Xt(El),eh,th,no,Gu=De({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==no&&(no&&e.type==="mousemove"?(eh=e.screenX-no.screenX,th=e.screenY-no.screenY):th=eh=0,no=e),eh)},movementY:function(e){return"movementY"in e?e.movementY:th}}),oy=Xt(Gu),gP=De({},Gu,{dataTransfer:0}),yP=Xt(gP),vP=De({},El,{relatedTarget:0}),nh=Xt(vP),xP=De({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),wP=Xt(xP),bP=De({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SP=Xt(bP),kP=De({},Fa,{data:0}),ly=Xt(kP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CP[e])?!!t[e]:!1}function _p(){return TP}var PP=De({},El,{key:function(e){if(e.key){var t=EP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(e){return e.type==="keypress"?_c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NP=Xt(PP),_P=De({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Xt(_P),MP=De({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),RP=Xt(MP),AP=De({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),OP=Xt(AP),DP=De({},Gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=Xt(DP),LP=[9,13,27,32],Mp=wr&&"CompositionEvent"in window,bo=null;wr&&"documentMode"in document&&(bo=document.documentMode);var $P=wr&&"TextEvent"in window&&!bo,c1=wr&&(!Mp||bo&&8<bo&&11>=bo),uy=" ",dy=!1;function u1(e,t){switch(e){case"keyup":return LP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function FP(e,t){switch(e){case"compositionend":return d1(t);case"keypress":return t.which!==32?null:(dy=!0,uy);case"textInput":return e=t.data,e===uy&&dy?null:e;default:return null}}function BP(e,t){if(Fi)return e==="compositionend"||!Mp&&u1(e,t)?(e=l1(),Nc=Pp=Zr=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c1&&t.locale!=="ko"?null:t.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zP[e.type]:t==="textarea"}function h1(e,t,n,r){Ub(r),t=eu(t,"onChange"),0<t.length&&(n=new Np("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var So=null,Vo=null;function VP(e){k1(e,0)}function Ku(e){var t=Vi(e);if(Ib(t))return e}function UP(e,t){if(e==="change")return t}var f1=!1;if(wr){var rh;if(wr){var sh="oninput"in document;if(!sh){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),sh=typeof fy.oninput=="function"}rh=sh}else rh=!1;f1=rh&&(!document.documentMode||9<document.documentMode)}function my(){So&&(So.detachEvent("onpropertychange",m1),Vo=So=null)}function m1(e){if(e.propertyName==="value"&&Ku(Vo)){var t=[];h1(t,Vo,e,kp(e)),Kb(VP,t)}}function WP(e,t,n){e==="focusin"?(my(),So=t,Vo=n,So.attachEvent("onpropertychange",m1)):e==="focusout"&&my()}function HP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Vo)}function GP(e,t){if(e==="click")return Ku(t)}function KP(e,t){if(e==="input"||e==="change")return Ku(t)}function qP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:qP;function Uo(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ff.call(t,s)||!In(e[s],t[s]))return!1}return!0}function py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gy(e,t){var n=py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=py(n)}}function p1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g1(){for(var e=window,t=Kc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kc(e.document)}return t}function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YP(e){var t=g1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&p1(n.ownerDocument.documentElement,n)){if(r!==null&&Rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=gy(n,i);var a=gy(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XP=wr&&"documentMode"in document&&11>=document.documentMode,Bi=null,Rf=null,ko=null,Af=!1;function yy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Af||Bi==null||Bi!==Kc(r)||(r=Bi,"selectionStart"in r&&Rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Uo(ko,r)||(ko=r,r=eu(Rf,"onSelect"),0<r.length&&(t=new Np("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bi)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},ih={},y1={};wr&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function qu(e){if(ih[e])return ih[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in y1)return ih[e]=t[n];return e}var v1=qu("animationend"),x1=qu("animationiteration"),w1=qu("animationstart"),b1=qu("transitionend"),S1=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){S1.set(e,t),di(t,[e])}for(var ah=0;ah<vy.length;ah++){var oh=vy[ah],QP=oh.toLowerCase(),JP=oh[0].toUpperCase()+oh.slice(1);bs(QP,"on"+JP)}bs(v1,"onAnimationEnd");bs(x1,"onAnimationIteration");bs(w1,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(b1,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function xy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QT(r,t,void 0,e),e.currentTarget=null}function k1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;xy(s,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;xy(s,o,u),i=c}}}if(Yc)throw e=Pf,Yc=!1,Pf=null,e}function je(e,t){var n=t[$f];n===void 0&&(n=t[$f]=new Set);var r=e+"__bubble";n.has(r)||(E1(t,e,2,!1),n.add(r))}function lh(e,t,n){var r=0;t&&(r|=4),E1(n,e,r,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Jl]){e[Jl]=!0,Mb.forEach(function(n){n!=="selectionchange"&&(ZP.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,lh("selectionchange",!1,t))}}function E1(e,t,n,r){switch(o1(t)){case 1:var s=fP;break;case 4:s=mP;break;default:s=Tp}n=s.bind(null,t,n,e),s=void 0,!Tf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ch(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=zs(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Kb(function(){var u=i,d=kp(n),h=[];e:{var f=S1.get(e);if(f!==void 0){var m=Np,w=e;switch(e){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":m=NP;break;case"focusin":w="focus",m=nh;break;case"focusout":w="blur",m=nh;break;case"beforeblur":case"afterblur":m=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RP;break;case v1:case x1:case w1:m=wP;break;case b1:m=OP;break;case"scroll":m=pP;break;case"wheel":m=IP;break;case"copy":case"cut":case"paste":m=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cy}var v=(t&4)!==0,b=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,y;x!==null;){y=x;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=$o(x,g),S!=null&&v.push(Ho(x,S,y)))),b)break;x=x.return}0<v.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==jf&&(w=n.relatedTarget||n.fromElement)&&(zs(w)||w[br]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?zs(w):null,w!==null&&(b=hi(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=oy,S="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=cy,S="onPointerLeave",g="onPointerEnter",x="pointer"),b=m==null?f:Vi(m),y=w==null?f:Vi(w),f=new v(S,x+"leave",m,n,d),f.target=b,f.relatedTarget=y,S=null,zs(d)===u&&(v=new v(g,x+"enter",w,n,d),v.target=y,v.relatedTarget=b,S=v),b=S,m&&w)t:{for(v=m,g=w,x=0,y=v;y;y=bi(y))x++;for(y=0,S=g;S;S=bi(S))y++;for(;0<x-y;)v=bi(v),x--;for(;0<y-x;)g=bi(g),y--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=bi(v),g=bi(g)}v=null}else v=null;m!==null&&wy(h,f,m,v,!1),w!==null&&b!==null&&wy(h,b,w,v,!0)}}e:{if(f=u?Vi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=UP;else if(hy(f))if(f1)k=KP;else{k=HP;var E=WP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=GP);if(k&&(k=k(e,u))){h1(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&wf(f,"number",f.value)}switch(E=u?Vi(u):window,e){case"focusin":(hy(E)||E.contentEditable==="true")&&(Bi=E,Rf=u,ko=null);break;case"focusout":ko=Rf=Bi=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,yy(h,n,d);break;case"selectionchange":if(XP)break;case"keydown":case"keyup":yy(h,n,d)}var C;if(Mp)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fi?u1(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(c1&&n.locale!=="ko"&&(Fi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fi&&(C=l1()):(Zr=d,Pp="value"in Zr?Zr.value:Zr.textContent,Fi=!0)),E=eu(u,j),0<E.length&&(j=new ly(j,e,null,n,d),h.push({event:j,listeners:E}),C?j.data=C:(C=d1(n),C!==null&&(j.data=C)))),(C=$P?FP(e,n):BP(e,n))&&(u=eu(u,"onBeforeInput"),0<u.length&&(d=new ly("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}k1(h,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$o(e,n),i!=null&&r.unshift(Ho(e,i,s)),i=$o(e,t),i!=null&&r.push(Ho(e,i,s))),e=e.return}return r}function bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wy(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=$o(n,i),c!=null&&a.unshift(Ho(n,c,o))):s||(c=$o(n,i),c!=null&&a.push(Ho(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(eN,`
`).replace(tN,"")}function Zl(e,t,n){if(t=by(t),by(e)!==t&&n)throw Error(L(425))}function tu(){}var Of=null,Df=null;function If(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(e){return Sy.resolve(null).then(e).catch(sN)}:Lf;function sN(e){setTimeout(function(){throw e})}function uh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zo(t)}function is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ba,Go="__reactProps$"+Ba,br="__reactContainer$"+Ba,$f="__reactEvents$"+Ba,iN="__reactListeners$"+Ba,aN="__reactHandles$"+Ba;function zs(e){var t=e[Hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[Hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ky(e);e!==null;){if(n=e[Hn])return n;e=ky(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[Hn]||e[br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Yu(e){return e[Go]||null}var Ff=[],Ui=-1;function Ss(e){return{current:e}}function Ce(e){0>Ui||(e.current=Ff[Ui],Ff[Ui]=null,Ui--)}function ke(e,t){Ui++,Ff[Ui]=e.current,e.current=t}var ms={},vt=Ss(ms),Mt=Ss(!1),ti=ms;function Ea(e,t){var n=e.type.contextTypes;if(!n)return ms;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(e){return e=e.childContextTypes,e!=null}function nu(){Ce(Mt),Ce(vt)}function Ey(e,t,n){if(vt.current!==ms)throw Error(L(168));ke(vt,t),ke(Mt,n)}function j1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,WT(e)||"Unknown",s));return De({},n,r)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ms,ti=vt.current,ke(vt,e),ke(Mt,Mt.current),!0}function jy(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=j1(e,t,ti),r.__reactInternalMemoizedMergedChildContext=e,Ce(Mt),Ce(vt),ke(vt,e)):Ce(Mt),ke(Mt,n)}var hr=null,Xu=!1,dh=!1;function C1(e){hr===null?hr=[e]:hr.push(e)}function oN(e){Xu=!0,C1(e)}function ks(){if(!dh&&hr!==null){dh=!0;var e=0,t=we;try{var n=hr;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hr=null,Xu=!1}catch(s){throw hr!==null&&(hr=hr.slice(e+1)),Qb(Ep,ks),s}finally{we=t,dh=!1}}return null}var Wi=[],Hi=0,su=null,iu=0,nn=[],rn=0,ni=null,mr=1,pr="";function As(e,t){Wi[Hi++]=iu,Wi[Hi++]=su,su=e,iu=t}function T1(e,t,n){nn[rn++]=mr,nn[rn++]=pr,nn[rn++]=ni,ni=e;var r=mr;e=pr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var i=32-On(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,mr=1<<32-On(t)+s|n<<s|r,pr=i+e}else mr=1<<i|n<<s|r,pr=e}function Ap(e){e.return!==null&&(As(e,1),T1(e,1,0))}function Op(e){for(;e===su;)su=Wi[--Hi],Wi[Hi]=null,iu=Wi[--Hi],Wi[Hi]=null;for(;e===ni;)ni=nn[--rn],nn[rn]=null,pr=nn[--rn],nn[rn]=null,mr=nn[--rn],nn[rn]=null}var Wt=null,zt=null,Ne=!1,Mn=null;function P1(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,zt=is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ni!==null?{id:mr,overflow:pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,zt=null,!0):!1;default:return!1}}function Bf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zf(e){if(Ne){var t=zt;if(t){var n=t;if(!Cy(e,t)){if(Bf(e))throw Error(L(418));t=is(n.nextSibling);var r=Wt;t&&Cy(e,t)?P1(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Wt=e)}}else{if(Bf(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ne=!1,Wt=e}}}function Ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function ec(e){if(e!==Wt)return!1;if(!Ne)return Ty(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!If(e.type,e.memoizedProps)),t&&(t=zt)){if(Bf(e))throw N1(),Error(L(418));for(;t;)P1(e,t),t=is(t.nextSibling)}if(Ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zt=is(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zt=null}}else zt=Wt?is(e.stateNode.nextSibling):null;return!0}function N1(){for(var e=zt;e;)e=is(e.nextSibling)}function ja(){zt=Wt=null,Ne=!1}function Dp(e){Mn===null?Mn=[e]:Mn.push(e)}var lN=Nr.ReactCurrentBatchConfig;function ro(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function tc(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Py(e){var t=e._init;return t(e._payload)}function _1(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=cs(g,x),g.index=0,g.sibling=null,g}function i(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,x,y,S){return x===null||x.tag!==6?(x=vh(y,g.mode,S),x.return=g,x):(x=s(x,y),x.return=g,x)}function c(g,x,y,S){var k=y.type;return k===$i?d(g,x,y.props.children,S,y.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vr&&Py(k)===x.type)?(S=s(x,y.props),S.ref=ro(g,x,y),S.return=g,S):(S=Lc(y.type,y.key,y.props,null,g.mode,S),S.ref=ro(g,x,y),S.return=g,S)}function u(g,x,y,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=xh(y,g.mode,S),x.return=g,x):(x=s(x,y.children||[]),x.return=g,x)}function d(g,x,y,S,k){return x===null||x.tag!==7?(x=Zs(y,g.mode,S,k),x.return=g,x):(x=s(x,y),x.return=g,x)}function h(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=vh(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wl:return y=Lc(x.type,x.key,x.props,null,g.mode,y),y.ref=ro(g,null,x),y.return=g,y;case Li:return x=xh(x,g.mode,y),x.return=g,x;case Vr:var S=x._init;return h(g,S(x._payload),y)}if(uo(x)||Ja(x))return x=Zs(x,g.mode,y,null),x.return=g,x;tc(g,x)}return null}function f(g,x,y,S){var k=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(g,x,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:return y.key===k?c(g,x,y,S):null;case Li:return y.key===k?u(g,x,y,S):null;case Vr:return k=y._init,f(g,x,k(y._payload),S)}if(uo(y)||Ja(y))return k!==null?null:d(g,x,y,S,null);tc(g,y)}return null}function m(g,x,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,o(x,g,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wl:return g=g.get(S.key===null?y:S.key)||null,c(x,g,S,k);case Li:return g=g.get(S.key===null?y:S.key)||null,u(x,g,S,k);case Vr:var E=S._init;return m(g,x,y,E(S._payload),k)}if(uo(S)||Ja(S))return g=g.get(y)||null,d(x,g,S,k,null);tc(x,S)}return null}function w(g,x,y,S){for(var k=null,E=null,C=x,j=x=0,T=null;C!==null&&j<y.length;j++){C.index>j?(T=C,C=null):T=C.sibling;var N=f(g,C,y[j],S);if(N===null){C===null&&(C=T);break}e&&C&&N.alternate===null&&t(g,C),x=i(N,x,j),E===null?k=N:E.sibling=N,E=N,C=T}if(j===y.length)return n(g,C),Ne&&As(g,j),k;if(C===null){for(;j<y.length;j++)C=h(g,y[j],S),C!==null&&(x=i(C,x,j),E===null?k=C:E.sibling=C,E=C);return Ne&&As(g,j),k}for(C=r(g,C);j<y.length;j++)T=m(C,g,j,y[j],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?j:T.key),x=i(T,x,j),E===null?k=T:E.sibling=T,E=T);return e&&C.forEach(function(R){return t(g,R)}),Ne&&As(g,j),k}function v(g,x,y,S){var k=Ja(y);if(typeof k!="function")throw Error(L(150));if(y=k.call(y),y==null)throw Error(L(151));for(var E=k=null,C=x,j=x=0,T=null,N=y.next();C!==null&&!N.done;j++,N=y.next()){C.index>j?(T=C,C=null):T=C.sibling;var R=f(g,C,N.value,S);if(R===null){C===null&&(C=T);break}e&&C&&R.alternate===null&&t(g,C),x=i(R,x,j),E===null?k=R:E.sibling=R,E=R,C=T}if(N.done)return n(g,C),Ne&&As(g,j),k;if(C===null){for(;!N.done;j++,N=y.next())N=h(g,N.value,S),N!==null&&(x=i(N,x,j),E===null?k=N:E.sibling=N,E=N);return Ne&&As(g,j),k}for(C=r(g,C);!N.done;j++,N=y.next())N=m(C,g,j,N.value,S),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?j:N.key),x=i(N,x,j),E===null?k=N:E.sibling=N,E=N);return e&&C.forEach(function(O){return t(g,O)}),Ne&&As(g,j),k}function b(g,x,y,S){if(typeof y=="object"&&y!==null&&y.type===$i&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:e:{for(var k=y.key,E=x;E!==null;){if(E.key===k){if(k=y.type,k===$i){if(E.tag===7){n(g,E.sibling),x=s(E,y.props.children),x.return=g,g=x;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vr&&Py(k)===E.type){n(g,E.sibling),x=s(E,y.props),x.ref=ro(g,E,y),x.return=g,g=x;break e}n(g,E);break}else t(g,E);E=E.sibling}y.type===$i?(x=Zs(y.props.children,g.mode,S,y.key),x.return=g,g=x):(S=Lc(y.type,y.key,y.props,null,g.mode,S),S.ref=ro(g,x,y),S.return=g,g=S)}return a(g);case Li:e:{for(E=y.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),x=s(x,y.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=xh(y,g.mode,S),x.return=g,g=x}return a(g);case Vr:return E=y._init,b(g,x,E(y._payload),S)}if(uo(y))return w(g,x,y,S);if(Ja(y))return v(g,x,y,S);tc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),x=s(x,y),x.return=g,g=x):(n(g,x),x=vh(y,g.mode,S),x.return=g,g=x),a(g)):n(g,x)}return b}var Ca=_1(!0),M1=_1(!1),au=Ss(null),ou=null,Gi=null,Ip=null;function Lp(){Ip=Gi=ou=null}function $p(e){var t=au.current;Ce(au),e._currentValue=t}function Vf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ia(e,t){ou=e,Ip=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Ip!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if(ou===null)throw Error(L(308));Gi=e,ou.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var Vs=null;function Fp(e){Vs===null?Vs=[e]:Vs.push(e)}function R1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Sr(e,r)}function Sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Bp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Sr(e,n)}return s=r.interleaved,s===null?(t.next=t,Fp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Sr(e,n)}function Mc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jp(e,n)}}function Ny(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lu(e,t,n,r){var s=e.updateQueue;Ur=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(f=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=De({},h,f);break e;case 2:Ur=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);si|=a,e.lanes=a,e.memoizedState=h}}function _y(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Cl={},Qn=Ss(Cl),Ko=Ss(Cl),qo=Ss(Cl);function Us(e){if(e===Cl)throw Error(L(174));return e}function zp(e,t){switch(ke(qo,t),ke(Ko,e),ke(Qn,Cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sf(t,e)}Ce(Qn),ke(Qn,t)}function Ta(){Ce(Qn),Ce(Ko),Ce(qo)}function O1(e){Us(qo.current);var t=Us(Qn.current),n=Sf(t,e.type);t!==n&&(ke(Ko,e),ke(Qn,n))}function Vp(e){Ko.current===e&&(Ce(Qn),Ce(Ko))}var Me=Ss(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hh=[];function Up(){for(var e=0;e<hh.length;e++)hh[e]._workInProgressVersionPrimary=null;hh.length=0}var Rc=Nr.ReactCurrentDispatcher,fh=Nr.ReactCurrentBatchConfig,ri=0,Ae=null,Ye=null,Je=null,uu=!1,Eo=!1,Yo=0,cN=0;function dt(){throw Error(L(321))}function Wp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function Hp(e,t,n,r,s,i){if(ri=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rc.current=e===null||e.memoizedState===null?fN:mN,e=n(r,s),Eo){i=0;do{if(Eo=!1,Yo=0,25<=i)throw Error(L(301));i+=1,Je=Ye=null,t.updateQueue=null,Rc.current=pN,e=n(r,s)}while(Eo)}if(Rc.current=du,t=Ye!==null&&Ye.next!==null,ri=0,Je=Ye=Ae=null,uu=!1,t)throw Error(L(300));return e}function Gp(){var e=Yo!==0;return Yo=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=e:Je=Je.next=e,Je}function un(){if(Ye===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?Ae.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(L(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Ae.memoizedState=Je=e:Je=Je.next=e}return Je}function Xo(e,t){return typeof t=="function"?t(e):t}function mh(e){var t=un(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((ri&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,Ae.lanes|=d,si|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,In(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,si|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ph(e){var t=un(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);In(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function D1(){}function I1(e,t){var n=Ae,r=un(),s=t(),i=!In(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,Kp(F1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Qo(9,$1.bind(null,n,r,s,t),void 0,null),Ze===null)throw Error(L(349));ri&30||L1(n,t,s)}return s}function L1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $1(e,t,n,r){t.value=n,t.getSnapshot=r,B1(t)&&z1(e)}function F1(e,t,n){return n(function(){B1(t)&&z1(e)})}function B1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function z1(e){var t=Sr(e,1);t!==null&&Dn(t,e,1,-1)}function My(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=hN.bind(null,Ae,e),[t.memoizedState,e]}function Qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function V1(){return un().memoizedState}function Ac(e,t,n,r){var s=zn();Ae.flags|=e,s.memoizedState=Qo(1|t,n,void 0,r===void 0?null:r)}function Qu(e,t,n,r){var s=un();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var a=Ye.memoizedState;if(i=a.destroy,r!==null&&Wp(r,a.deps)){s.memoizedState=Qo(t,n,i,r);return}}Ae.flags|=e,s.memoizedState=Qo(1|t,n,i,r)}function Ry(e,t){return Ac(8390656,8,e,t)}function Kp(e,t){return Qu(2048,8,e,t)}function U1(e,t){return Qu(4,2,e,t)}function W1(e,t){return Qu(4,4,e,t)}function H1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G1(e,t,n){return n=n!=null?n.concat([e]):null,Qu(4,4,H1.bind(null,t,e),n)}function qp(){}function K1(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function q1(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Y1(e,t,n){return ri&21?(In(n,t)||(n=e1(),Ae.lanes|=n,si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function uN(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=fh.transition;fh.transition={};try{e(!1),t()}finally{we=n,fh.transition=r}}function X1(){return un().memoizedState}function dN(e,t,n){var r=ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q1(e))J1(t,n);else if(n=R1(e,t,n,r),n!==null){var s=kt();Dn(n,e,r,s),Z1(n,t,r)}}function hN(e,t,n){var r=ls(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q1(e))J1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,In(o,a)){var c=t.interleaved;c===null?(s.next=s,Fp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=R1(e,t,s,r),n!==null&&(s=kt(),Dn(n,e,r,s),Z1(n,t,r))}}function Q1(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function J1(e,t){Eo=uu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jp(e,n)}}var du={readContext:cn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},fN={readContext:cn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Ry,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ac(4194308,4,H1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ac(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dN.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:My,useDebugValue:qp,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=My(!1),t=e[0];return e=uN.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,s=zn();if(Ne){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ze===null)throw Error(L(349));ri&30||L1(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ry(F1.bind(null,r,i,e),[e]),r.flags|=2048,Qo(9,$1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zn(),t=Ze.identifierPrefix;if(Ne){var n=pr,r=mr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mN={readContext:cn,useCallback:K1,useContext:cn,useEffect:Kp,useImperativeHandle:G1,useInsertionEffect:U1,useLayoutEffect:W1,useMemo:q1,useReducer:mh,useRef:V1,useState:function(){return mh(Xo)},useDebugValue:qp,useDeferredValue:function(e){var t=un();return Y1(t,Ye.memoizedState,e)},useTransition:function(){var e=mh(Xo)[0],t=un().memoizedState;return[e,t]},useMutableSource:D1,useSyncExternalStore:I1,useId:X1,unstable_isNewReconciler:!1},pN={readContext:cn,useCallback:K1,useContext:cn,useEffect:Kp,useImperativeHandle:G1,useInsertionEffect:U1,useLayoutEffect:W1,useMemo:q1,useReducer:ph,useRef:V1,useState:function(){return ph(Xo)},useDebugValue:qp,useDeferredValue:function(e){var t=un();return Ye===null?t.memoizedState=e:Y1(t,Ye.memoizedState,e)},useTransition:function(){var e=ph(Xo)[0],t=un().memoizedState;return[e,t]},useMutableSource:D1,useSyncExternalStore:I1,useId:X1,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Uf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ju={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),s=ls(e),i=gr(r,s);i.payload=t,n!=null&&(i.callback=n),t=as(e,i,s),t!==null&&(Dn(t,e,s,r),Mc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),s=ls(e),i=gr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=as(e,i,s),t!==null&&(Dn(t,e,s,r),Mc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=ls(e),s=gr(n,r);s.tag=2,t!=null&&(s.callback=t),t=as(e,s,r),t!==null&&(Dn(t,e,r,n),Mc(t,e,r))}};function Ay(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Uo(n,r)||!Uo(s,i):!0}function eS(e,t,n){var r=!1,s=ms,i=t.contextType;return typeof i=="object"&&i!==null?i=cn(i):(s=Rt(t)?ti:vt.current,r=t.contextTypes,i=(r=r!=null)?Ea(e,s):ms),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function Wf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=cn(i):(i=Rt(t)?ti:vt.current,s.context=Ea(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Uf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ju.enqueueReplaceState(s,s.state,null),lu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pa(e,t){try{var n="",r=t;do n+=UT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function gh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function tS(e,t,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fu||(fu=!0,tm=r),Hf(e,t)},n}function nS(e,t,n){n=gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Hf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hf(e,t),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Dy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_N.bind(null,e,t,n),t.then(e,e))}function Iy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ly(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gr(-1,1),t.tag=2,as(n,t,1))),n.lanes|=1),e)}var yN=Nr.ReactCurrentOwner,_t=!1;function wt(e,t,n,r){t.child=e===null?M1(t,null,n,r):Ca(t,e.child,n,r)}function $y(e,t,n,r,s){n=n.render;var i=t.ref;return ia(t,s),r=Hp(e,t,n,r,i,s),n=Gp(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kr(e,t,s)):(Ne&&n&&Ap(t),t.flags|=1,wt(e,t,r,s),t.child)}function Fy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!n0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rS(e,t,i,r,s)):(e=Lc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Uo,n(a,r)&&e.ref===t.ref)return kr(e,t,s)}return t.flags|=1,e=cs(i,r),e.ref=t.ref,e.return=t,t.child=e}function rS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Uo(i,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,kr(e,t,s)}return Gf(e,t,n,r,s)}function sS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(qi,Lt),Lt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(qi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(qi,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ke(qi,Lt),Lt|=r;return wt(e,t,s,n),t.child}function iS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gf(e,t,n,r,s){var i=Rt(n)?ti:vt.current;return i=Ea(t,i),ia(t,s),n=Hp(e,t,n,r,i,s),r=Gp(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kr(e,t,s)):(Ne&&r&&Ap(t),t.flags|=1,wt(e,t,n,s),t.child)}function By(e,t,n,r,s){if(Rt(n)){var i=!0;ru(t)}else i=!1;if(ia(t,s),t.stateNode===null)Oc(e,t),eS(t,n,r),Wf(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Rt(n)?ti:vt.current,u=Ea(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Oy(t,a,r,u),Ur=!1;var f=t.memoizedState;a.state=f,lu(t,r,a,s),c=t.memoizedState,o!==r||f!==c||Mt.current||Ur?(typeof d=="function"&&(Uf(t,n,d,r),c=t.memoizedState),(o=Ur||Ay(t,n,o,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,A1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:En(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Rt(n)?ti:vt.current,c=Ea(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Oy(t,a,r,c),Ur=!1,f=t.memoizedState,a.state=f,lu(t,r,a,s);var w=t.memoizedState;o!==h||f!==w||Mt.current||Ur?(typeof m=="function"&&(Uf(t,n,m,r),w=t.memoizedState),(u=Ur||Ay(t,n,u,r,f,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Kf(e,t,n,r,i,s)}function Kf(e,t,n,r,s,i){iS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&jy(t,n,!1),kr(e,t,i);r=t.stateNode,yN.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ca(t,e.child,null,i),t.child=Ca(t,null,o,i)):wt(e,t,o,i),t.memoizedState=r.state,s&&jy(t,n,!0),t.child}function aS(e){var t=e.stateNode;t.pendingContext?Ey(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ey(e,t.context,!1),zp(e,t.containerInfo)}function zy(e,t,n,r,s){return ja(),Dp(s),t.flags|=256,wt(e,t,n,r),t.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(e){return{baseLanes:e,cachePool:null,transitions:null}}function oS(e,t,n){var r=t.pendingProps,s=Me.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Me,s&1),e===null)return zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=td(a,r,0,null),e=Zs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yf(n),t.memoizedState=qf,e):Yp(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return vN(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=cs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=cs(o,i):(i=Zs(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Yf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=qf,r}return i=e.child,e=i.sibling,r=cs(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yp(e,t){return t=td({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nc(e,t,n,r){return r!==null&&Dp(r),Ca(t,e.child,null,n),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vN(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=gh(Error(L(422))),nc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=td({mode:"visible",children:r.children},s,0,null),i=Zs(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ca(t,e.child,null,a),t.child.memoizedState=Yf(a),t.memoizedState=qf,i);if(!(t.mode&1))return nc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(L(419)),r=gh(i,r,void 0),nc(e,t,a,r)}if(o=(a&e.childLanes)!==0,_t||o){if(r=Ze,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sr(e,s),Dn(r,e,s,-1))}return t0(),r=gh(Error(L(421))),nc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=MN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,zt=is(s.nextSibling),Wt=t,Ne=!0,Mn=null,e!==null&&(nn[rn++]=mr,nn[rn++]=pr,nn[rn++]=ni,mr=e.id,pr=e.overflow,ni=t),t=Yp(t,r.children),t.flags|=4096,t)}function Vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vf(e.return,t,n)}function yh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wt(e,t,r.children,n),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,n,t);else if(e.tag===19)Vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&cu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yh(t,!0,n,null,i);break;case"together":yh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xN(e,t,n){switch(t.tag){case 3:aS(t),ja();break;case 5:O1(t);break;case 1:Rt(t.type)&&ru(t);break;case 4:zp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ke(au,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?oS(e,t,n):(ke(Me,Me.current&1),e=kr(e,t,n),e!==null?e.sibling:null);ke(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,sS(e,t,n)}return kr(e,t,n)}var cS,Xf,uS,dS;cS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xf=function(){};uS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Us(Qn.current);var i=null;switch(n){case"input":s=vf(e,s),r=vf(e,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=bf(e,s),r=bf(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tu)}kf(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Io.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Io.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};dS=function(e,t,n,r){n!==r&&(t.flags|=4)};function so(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wN(e,t,n){var r=t.pendingProps;switch(Op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Rt(t.type)&&nu(),ht(t),null;case 3:return r=t.stateNode,Ta(),Ce(Mt),Ce(vt),Up(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ec(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(sm(Mn),Mn=null))),Xf(e,t),ht(t),null;case 5:Vp(t);var s=Us(qo.current);if(n=t.type,e!==null&&t.stateNode!=null)uS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return ht(t),null}if(e=Us(Qn.current),ec(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Hn]=t,r[Go]=i,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<fo.length;s++)je(fo[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Qg(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":Zg(r,i),je("invalid",r)}kf(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zl(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zl(r.textContent,o,e),s=["children",""+o]):Io.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":Hl(r),Jg(r,i,!0);break;case"textarea":Hl(r),ey(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=tu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Hn]=t,e[Go]=r,cS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ef(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<fo.length;s++)je(fo[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":Qg(e,r),s=vf(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),je("invalid",e);break;case"textarea":Zg(e,r),s=bf(e,r),je("invalid",e);break;default:s=r}kf(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Vb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bb(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lo(e,c):typeof c=="number"&&Lo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Io.hasOwnProperty(i)?c!=null&&i==="onScroll"&&je("scroll",e):c!=null&&xp(e,i,c,a))}switch(n){case"input":Hl(e),Jg(e,r,!1);break;case"textarea":Hl(e),ey(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ta(e,!!r.multiple,i,!1):r.defaultValue!=null&&ta(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)dS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Us(qo.current),Us(Qn.current),ec(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hn]=t,(i=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:Zl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=t,t.stateNode=r}return ht(t),null;case 13:if(Ce(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&zt!==null&&t.mode&1&&!(t.flags&128))N1(),ja(),t.flags|=98560,i=!1;else if(i=ec(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Hn]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else Mn!==null&&(sm(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Qe===0&&(Qe=3):t0())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Ta(),Xf(e,t),e===null&&Wo(t.stateNode.containerInfo),ht(t),null;case 10:return $p(t.type._context),ht(t),null;case 17:return Rt(t.type)&&nu(),ht(t),null;case 19:if(Ce(Me),i=t.memoizedState,i===null)return ht(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)so(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cu(e),a!==null){for(t.flags|=128,so(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>Na&&(t.flags|=128,r=!0,so(i,!1),t.lanes=4194304)}else{if(!r)if(e=cu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),so(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ne)return ht(t),null}else 2*Ve()-i.renderingStartTime>Na&&n!==1073741824&&(t.flags|=128,r=!0,so(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,n=Me.current,ke(Me,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return e0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function bN(e,t){switch(Op(t),t.tag){case 1:return Rt(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(),Ce(Mt),Ce(vt),Up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vp(t),null;case 13:if(Ce(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Me),null;case 4:return Ta(),null;case 10:return $p(t.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var rc=!1,gt=!1,SN=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function Qf(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var Uy=!1;function kN(e,t){if(Of=Jc,e=g1(),Rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(o=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:e,selectionRange:n},Jc=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:En(t.type,v),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Fe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=Uy,Uy=!1,w}function jo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qf(t,n,i)}s=s.next}while(s!==r)}}function Zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hS(e){var t=e.alternate;t!==null&&(e.alternate=null,hS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hn],delete t[Go],delete t[$f],delete t[iN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fS(e){return e.tag===5||e.tag===3||e.tag===4}function Wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tu));else if(r!==4&&(e=e.child,e!==null))for(Zf(e,t,n),e=e.sibling;e!==null;)Zf(e,t,n),e=e.sibling}function em(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(em(e,t,n),e=e.sibling;e!==null;)em(e,t,n),e=e.sibling}var rt=null,Nn=!1;function Dr(e,t,n){for(n=n.child;n!==null;)mS(e,t,n),n=n.sibling}function mS(e,t,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Hu,n)}catch{}switch(n.tag){case 5:gt||Ki(n,t);case 6:var r=rt,s=Nn;rt=null,Dr(e,t,n),rt=r,Nn=s,rt!==null&&(Nn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Nn?(e=rt,n=n.stateNode,e.nodeType===8?uh(e.parentNode,n):e.nodeType===1&&uh(e,n),zo(e)):uh(rt,n.stateNode));break;case 4:r=rt,s=Nn,rt=n.stateNode.containerInfo,Nn=!0,Dr(e,t,n),rt=r,Nn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Qf(n,t,a),s=s.next}while(s!==r)}Dr(e,t,n);break;case 1:if(!gt&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Fe(n,t,o)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Dr(e,t,n),gt=r):Dr(e,t,n);break;default:Dr(e,t,n)}}function Hy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SN),t.forEach(function(r){var s=RN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,Nn=!1;break e;case 3:rt=o.stateNode.containerInfo,Nn=!0;break e;case 4:rt=o.stateNode.containerInfo,Nn=!0;break e}o=o.return}if(rt===null)throw Error(L(160));mS(i,a,s),rt=null,Nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pS(t,e),t=t.sibling}function pS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Bn(e),r&4){try{jo(3,e,e.return),Zu(3,e)}catch(v){Fe(e,e.return,v)}try{jo(5,e,e.return)}catch(v){Fe(e,e.return,v)}}break;case 1:vn(t,e),Bn(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(vn(t,e),Bn(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var s=e.stateNode;try{Lo(s,"")}catch(v){Fe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Lb(s,i),Ef(o,a);var u=Ef(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Vb(s,h):d==="dangerouslySetInnerHTML"?Bb(s,h):d==="children"?Lo(s,h):xp(s,d,h,u)}switch(o){case"input":xf(s,i);break;case"textarea":$b(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ta(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[Go]=i}catch(v){Fe(e,e.return,v)}}break;case 6:if(vn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Fe(e,e.return,v)}}break;case 3:if(vn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(v){Fe(e,e.return,v)}break;case 4:vn(t,e),Bn(e);break;case 13:vn(t,e),Bn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jp=Ve())),r&4&&Hy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(u=gt)||d,vn(t,e),gt=u):vn(t,e),Bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:jo(4,f,f.return);break;case 1:Ki(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Fe(r,n,v)}}break;case 5:Ki(f,f.return);break;case 22:if(f.memoizedState!==null){Ky(h);continue}}m!==null?(m.return=f,W=m):Ky(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=zb("display",a))}catch(v){Fe(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Fe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(t,e),Bn(e),r&4&&Hy(e);break;case 21:break;default:vn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fS(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lo(s,""),r.flags&=-33);var i=Wy(e);em(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Wy(e);Zf(e,o,a);break;default:throw Error(L(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EN(e,t,n){W=e,gS(e)}function gS(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||rc;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||gt;o=rc;var u=gt;if(rc=a,(gt=c)&&!u)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?qy(s):c!==null?(c.return=a,W=c):qy(s);for(;i!==null;)W=i,gS(i),i=i.sibling;W=s,rc=o,gt=u}Gy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Gy(e)}}function Gy(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||Zu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_y(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_y(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}gt||t.flags&512&&Jf(t)}catch(f){Fe(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Ky(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function qy(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zu(4,t)}catch(c){Fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Fe(t,s,c)}}var i=t.return;try{Jf(t)}catch(c){Fe(t,i,c)}break;case 5:var a=t.return;try{Jf(t)}catch(c){Fe(t,a,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var jN=Math.ceil,hu=Nr.ReactCurrentDispatcher,Xp=Nr.ReactCurrentOwner,ln=Nr.ReactCurrentBatchConfig,me=0,Ze=null,He=null,ot=0,Lt=0,qi=Ss(0),Qe=0,Jo=null,si=0,ed=0,Qp=0,Co=null,Pt=null,Jp=0,Na=1/0,ur=null,fu=!1,tm=null,os=null,sc=!1,es=null,mu=0,To=0,nm=null,Dc=-1,Ic=0;function kt(){return me&6?Ve():Dc!==-1?Dc:Dc=Ve()}function ls(e){return e.mode&1?me&2&&ot!==0?ot&-ot:lN.transition!==null?(Ic===0&&(Ic=e1()),Ic):(e=we,e!==0||(e=window.event,e=e===void 0?16:o1(e.type)),e):1}function Dn(e,t,n,r){if(50<To)throw To=0,nm=null,Error(L(185));kl(e,n,r),(!(me&2)||e!==Ze)&&(e===Ze&&(!(me&2)&&(ed|=n),Qe===4&&Gr(e,ot)),At(e,r),n===1&&me===0&&!(t.mode&1)&&(Na=Ve()+500,Xu&&ks()))}function At(e,t){var n=e.callbackNode;lP(e,t);var r=Qc(e,e===Ze?ot:0);if(r===0)n!==null&&ry(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ry(n),t===1)e.tag===0?oN(Yy.bind(null,e)):C1(Yy.bind(null,e)),rN(function(){!(me&6)&&ks()}),n=null;else{switch(t1(r)){case 1:n=Ep;break;case 4:n=Jb;break;case 16:n=Xc;break;case 536870912:n=Zb;break;default:n=Xc}n=ES(n,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yS(e,t){if(Dc=-1,Ic=0,me&6)throw Error(L(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var r=Qc(e,e===Ze?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pu(e,r);else{t=r;var s=me;me|=2;var i=xS();(Ze!==e||ot!==t)&&(ur=null,Na=Ve()+500,Js(e,t));do try{PN();break}catch(o){vS(e,o)}while(!0);Lp(),hu.current=i,me=s,He!==null?t=0:(Ze=null,ot=0,t=Qe)}if(t!==0){if(t===2&&(s=Nf(e),s!==0&&(r=s,t=rm(e,s))),t===1)throw n=Jo,Js(e,0),Gr(e,r),At(e,Ve()),n;if(t===6)Gr(e,r);else{if(s=e.current.alternate,!(r&30)&&!CN(s)&&(t=pu(e,r),t===2&&(i=Nf(e),i!==0&&(r=i,t=rm(e,i))),t===1))throw n=Jo,Js(e,0),Gr(e,r),At(e,Ve()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Os(e,Pt,ur);break;case 3:if(Gr(e,r),(r&130023424)===r&&(t=Jp+500-Ve(),10<t)){if(Qc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lf(Os.bind(null,e,Pt,ur),t);break}Os(e,Pt,ur);break;case 4:if(Gr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-On(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jN(r/1960))-r,10<r){e.timeoutHandle=Lf(Os.bind(null,e,Pt,ur),r);break}Os(e,Pt,ur);break;case 5:Os(e,Pt,ur);break;default:throw Error(L(329))}}}return At(e,Ve()),e.callbackNode===n?yS.bind(null,e):null}function rm(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),e=pu(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&sm(t)),e}function sm(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function CN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!In(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t){for(t&=~Qp,t&=~ed,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function Yy(e){if(me&6)throw Error(L(327));aa();var t=Qc(e,0);if(!(t&1))return At(e,Ve()),null;var n=pu(e,t);if(e.tag!==0&&n===2){var r=Nf(e);r!==0&&(t=r,n=rm(e,r))}if(n===1)throw n=Jo,Js(e,0),Gr(e,t),At(e,Ve()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e,Pt,ur),At(e,Ve()),null}function Zp(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Na=Ve()+500,Xu&&ks())}}function ii(e){es!==null&&es.tag===0&&!(me&6)&&aa();var t=me;me|=1;var n=ln.transition,r=we;try{if(ln.transition=null,we=1,e)return e()}finally{we=r,ln.transition=n,me=t,!(me&6)&&ks()}}function e0(){Lt=qi.current,Ce(qi)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nN(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:Ta(),Ce(Mt),Ce(vt),Up();break;case 5:Vp(r);break;case 4:Ta();break;case 13:Ce(Me);break;case 19:Ce(Me);break;case 10:$p(r.type._context);break;case 22:case 23:e0()}n=n.return}if(Ze=e,He=e=cs(e.current,null),ot=Lt=t,Qe=0,Jo=null,Qp=ed=si=0,Pt=Co=null,Vs!==null){for(t=0;t<Vs.length;t++)if(n=Vs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Vs=null}return e}function vS(e,t){do{var n=He;try{if(Lp(),Rc.current=du,uu){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uu=!1}if(ri=0,Je=Ye=Ae=null,Eo=!1,Yo=0,Xp.current=null,n===null||n.return===null){Qe=1,Jo=t,He=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=ot,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Iy(a);if(m!==null){m.flags&=-257,Ly(m,a,o,i,t),m.mode&1&&Dy(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){Dy(i,u,t),t0();break e}c=Error(L(426))}}else if(Ne&&o.mode&1){var b=Iy(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ly(b,a,o,i,t),Dp(Pa(c,o));break e}}i=c=Pa(c,o),Qe!==4&&(Qe=2),Co===null?Co=[i]:Co.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=tS(i,c,t);Ny(i,g);break e;case 1:o=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(os===null||!os.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=nS(i,o,t);Ny(i,S);break e}}i=i.return}while(i!==null)}bS(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function xS(){var e=hu.current;return hu.current=du,e===null?du:e}function t0(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(si&268435455)&&!(ed&268435455)||Gr(Ze,ot)}function pu(e,t){var n=me;me|=2;var r=xS();(Ze!==e||ot!==t)&&(ur=null,Js(e,t));do try{TN();break}catch(s){vS(e,s)}while(!0);if(Lp(),me=n,hu.current=r,He!==null)throw Error(L(261));return Ze=null,ot=0,Qe}function TN(){for(;He!==null;)wS(He)}function PN(){for(;He!==null&&!ZT();)wS(He)}function wS(e){var t=kS(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?bS(e):He=t,Xp.current=null}function bS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bN(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}else if(n=wN(n,t,Lt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function Os(e,t,n){var r=we,s=ln.transition;try{ln.transition=null,we=1,NN(e,t,n,r)}finally{ln.transition=s,we=r}return null}function NN(e,t,n,r){do aa();while(es!==null);if(me&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cP(e,i),e===Ze&&(He=Ze=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,ES(Xc,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var a=we;we=1;var o=me;me|=4,Xp.current=null,kN(e,n),pS(n,e),YP(Df),Jc=!!Of,Df=Of=null,e.current=n,EN(n),eP(),me=o,we=a,ln.transition=i}else e.current=n;if(sc&&(sc=!1,es=e,mu=s),i=e.pendingLanes,i===0&&(os=null),rP(n.stateNode),At(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fu)throw fu=!1,e=tm,tm=null,e;return mu&1&&e.tag!==0&&aa(),i=e.pendingLanes,i&1?e===nm?To++:(To=0,nm=e):To=0,ks(),null}function aa(){if(es!==null){var e=t1(mu),t=ln.transition,n=we;try{if(ln.transition=null,we=16>e?16:e,es===null)var r=!1;else{if(e=es,es=null,mu=0,me&6)throw Error(L(331));var s=me;for(me|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:jo(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var f=d.sibling,m=d.return;if(hS(d),d===u){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,W=g;break e}W=i.return}}var x=e.current;for(W=x;W!==null;){a=W;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,W=y;else e:for(a=x;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zu(9,o)}}catch(k){Fe(o,o.return,k)}if(o===a){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(me=s,ks(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Hu,e)}catch{}r=!0}return r}finally{we=n,ln.transition=t}}return!1}function Xy(e,t,n){t=Pa(n,t),t=tS(e,t,1),e=as(e,t,1),t=kt(),e!==null&&(kl(e,1,t),At(e,t))}function Fe(e,t,n){if(e.tag===3)Xy(e,e,n);else for(;t!==null;){if(t.tag===3){Xy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){e=Pa(n,e),e=nS(t,e,1),t=as(t,e,1),e=kt(),t!==null&&(kl(t,1,e),At(t,e));break}}t=t.return}}function _N(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Ve()-Jp?Js(e,0):Qp|=n),At(e,t)}function SS(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var n=kt();e=Sr(e,t),e!==null&&(kl(e,t,n),At(e,n))}function MN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SS(e,n)}function RN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),SS(e,n)}var kS;kS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,xN(e,t,n);_t=!!(e.flags&131072)}else _t=!1,Ne&&t.flags&1048576&&T1(t,iu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oc(e,t),e=t.pendingProps;var s=Ea(t,vt.current);ia(t,n),s=Hp(null,t,r,e,s,n);var i=Gp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(i=!0,ru(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bp(t),s.updater=Ju,t.stateNode=s,s._reactInternals=t,Wf(t,r,e,n),t=Kf(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&Ap(t),wt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ON(r),e=En(r,e),s){case 0:t=Gf(null,t,r,e,n);break e;case 1:t=By(null,t,r,e,n);break e;case 11:t=$y(null,t,r,e,n);break e;case 14:t=Fy(null,t,r,En(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Gf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),By(e,t,r,s,n);case 3:e:{if(aS(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,A1(e,t),lu(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Pa(Error(L(423)),t),t=zy(e,t,r,n,s);break e}else if(r!==s){s=Pa(Error(L(424)),t),t=zy(e,t,r,n,s);break e}else for(zt=is(t.stateNode.containerInfo.firstChild),Wt=t,Ne=!0,Mn=null,n=M1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===s){t=kr(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return O1(t),e===null&&zf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,If(r,s)?a=null:i!==null&&If(r,i)&&(t.flags|=32),iS(e,t),wt(e,t,a,n),t.child;case 6:return e===null&&zf(t),null;case 13:return oS(e,t,n);case 4:return zp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ca(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),$y(e,t,r,s,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ke(au,r._currentValue),r._currentValue=a,i!==null)if(In(i.value,a)){if(i.children===s.children&&!Mt.current){t=kr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Vf(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Vf(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ia(t,n),s=cn(s),r=r(s),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,s=En(r,t.pendingProps),s=En(r.type,s),Fy(e,t,r,s,n);case 15:return rS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Oc(e,t),t.tag=1,Rt(r)?(e=!0,ru(t)):e=!1,ia(t,n),eS(t,r,s),Wf(t,r,s,n),Kf(null,t,r,!0,e,n);case 19:return lS(e,t,n);case 22:return sS(e,t,n)}throw Error(L(156,t.tag))};function ES(e,t){return Qb(e,t)}function AN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new AN(e,t,n,r)}function n0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ON(e){if(typeof e=="function")return n0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bp)return 11;if(e===Sp)return 14}return 2}function cs(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")n0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $i:return Zs(n.children,s,i,t);case wp:a=8,s|=8;break;case mf:return e=sn(12,n,t,s|2),e.elementType=mf,e.lanes=i,e;case pf:return e=sn(13,n,t,s),e.elementType=pf,e.lanes=i,e;case gf:return e=sn(19,n,t,s),e.elementType=gf,e.lanes=i,e;case Ob:return td(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rb:a=10;break e;case Ab:a=9;break e;case bp:a=11;break e;case Sp:a=14;break e;case Vr:a=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=sn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Zs(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function td(e,t,n,r){return e=sn(22,e,r,t),e.elementType=Ob,e.lanes=n,e.stateNode={isHidden:!1},e}function vh(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function xh(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function r0(e,t,n,r,s,i,a,o,c){return e=new DN(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(i),e}function IN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jS(e){if(!e)return ms;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Rt(n))return j1(e,n,t)}return t}function CS(e,t,n,r,s,i,a,o,c){return e=r0(n,r,!0,e,s,i,a,o,c),e.context=jS(null),n=e.current,r=kt(),s=ls(n),i=gr(r,s),i.callback=t??null,as(n,i,s),e.current.lanes=s,kl(e,s,r),At(e,r),e}function nd(e,t,n,r){var s=t.current,i=kt(),a=ls(s);return n=jS(n),t.context===null?t.context=n:t.pendingContext=n,t=gr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=as(s,t,a),e!==null&&(Dn(e,s,a,i),Mc(e,s,a)),a}function gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function s0(e,t){Qy(e,t),(e=e.alternate)&&Qy(e,t)}function LN(){return null}var TS=typeof reportError=="function"?reportError:function(e){console.error(e)};function i0(e){this._internalRoot=e}rd.prototype.render=i0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));nd(e,t,null,null)};rd.prototype.unmount=i0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ii(function(){nd(null,e,null,null)}),t[br]=null}};function rd(e){this._internalRoot=e}rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=s1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hr.length&&t!==0&&t<Hr[n].priority;n++);Hr.splice(n,0,e),n===0&&a1(e)}};function a0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jy(){}function $N(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=gu(a);i.call(u)}}var a=CS(t,r,e,0,null,!1,!1,"",Jy);return e._reactRootContainer=a,e[br]=a.current,Wo(e.nodeType===8?e.parentNode:e),ii(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=gu(c);o.call(u)}}var c=r0(e,0,!1,null,null,!1,!1,"",Jy);return e._reactRootContainer=c,e[br]=c.current,Wo(e.nodeType===8?e.parentNode:e),ii(function(){nd(t,c,n,r)}),c}function id(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=gu(a);o.call(c)}}nd(t,a,e,s)}else a=$N(n,t,e,s,r);return gu(a)}n1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(jp(t,n|1),At(t,Ve()),!(me&6)&&(Na=Ve()+500,ks()))}break;case 13:ii(function(){var r=Sr(e,1);if(r!==null){var s=kt();Dn(r,e,1,s)}}),s0(e,1)}};Cp=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var n=kt();Dn(t,e,134217728,n)}s0(e,134217728)}};r1=function(e){if(e.tag===13){var t=ls(e),n=Sr(e,t);if(n!==null){var r=kt();Dn(n,e,t,r)}s0(e,t)}};s1=function(){return we};i1=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Cf=function(e,t,n){switch(t){case"input":if(xf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Yu(r);if(!s)throw Error(L(90));Ib(r),xf(r,s)}}}break;case"textarea":$b(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};Hb=Zp;Gb=ii;var FN={usingClientEntryPoint:!1,Events:[jl,Vi,Yu,Ub,Wb,Zp]},io={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BN={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yb(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||LN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Hu=ic.inject(BN),Xn=ic}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a0(t))throw Error(L(200));return IN(e,t,null,n)};Yt.createRoot=function(e,t){if(!a0(e))throw Error(L(299));var n=!1,r="",s=TS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=r0(e,1,!1,null,null,n,!1,r,s),e[br]=t.current,Wo(e.nodeType===8?e.parentNode:e),new i0(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Yb(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return ii(e)};Yt.hydrate=function(e,t,n){if(!sd(t))throw Error(L(200));return id(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!a0(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=TS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=CS(t,null,e,1,n??null,s,!1,i,a),e[br]=t.current,Wo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new rd(t)};Yt.render=function(e,t,n){if(!sd(t))throw Error(L(200));return id(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!sd(e))throw Error(L(40));return e._reactRootContainer?(ii(function(){id(null,null,e,!1,function(){e._reactRootContainer=null,e[br]=null})}),!0):!1};Yt.unstable_batchedUpdates=Zp;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sd(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return id(e,t,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(e){console.error(e)}}PS(),Pb.exports=Yt;var fi=Pb.exports;const NS=gb(fi);var _S,Zy=fi;_S=Zy.createRoot,Zy.hydrateRoot;const zN=1,VN=1e6;let wh=0;function UN(){return wh=(wh+1)%Number.MAX_SAFE_INTEGER,wh.toString()}const bh=new Map,ev=e=>{if(bh.has(e))return;const t=setTimeout(()=>{bh.delete(e),Po({type:"REMOVE_TOAST",toastId:e})},VN);bh.set(e,t)},WN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ev(n):e.toasts.forEach(r=>{ev(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},$c=[];let Fc={toasts:[]};function Po(e){Fc=WN(Fc,e),$c.forEach(t=>{t(Fc)})}function Ai({...e}){const t=UN(),n=s=>Po({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Po({type:"DISMISS_TOAST",toastId:t});return Po({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function HN(){const[e,t]=p.useState(Fc);return p.useEffect(()=>($c.push(t),()=>{const n=$c.indexOf(t);n>-1&&$c.splice(n,1)}),[e]),{...e,toast:Ai,dismiss:n=>Po({type:"DISMISS_TOAST",toastId:n})}}function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function tv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function MS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=tv(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():tv(e[s],null)}}}}function ce(...e){return p.useCallback(MS(...e),e)}function GN(e,t){const n=p.createContext(t),r=i=>{const{children:a,...o}=i,c=p.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function hn(e,t=[]){let n=[];function r(i,a){const o=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var g;const{scope:f,children:m,...w}=h,v=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,b=p.useMemo(()=>w,Object.values(w));return l.jsx(v.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(h,f){var v;const m=((v=f==null?void 0:f[e])==null?void 0:v[c])||o,w=p.useContext(m);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,KN(s,...t)]}function KN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function _a(e){const t=YN(e),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,o=p.Children.toArray(i),c=o.find(QN);if(c){const u=c.props.children,d=o.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var qN=_a("Slot");function YN(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=ZN(s),o=JN(i,s.props);return s.type!==p.Fragment&&(o.ref=r?MS(r,a):a),p.cloneElement(s,o)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RS=Symbol("radix.slottable");function XN(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=RS,t}function QN(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RS}function JN(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function ZN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ad(e){const t=e+"CollectionProvider",[n,r]=hn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:b,children:g}=v,x=z.useRef(null),y=z.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:y,collectionRef:x,children:g})};a.displayName=t;const o=e+"CollectionSlot",c=_a(o),u=z.forwardRef((v,b)=>{const{scope:g,children:x}=v,y=i(o,g),S=ce(b,y.collectionRef);return l.jsx(c,{ref:S,children:x})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=_a(d),m=z.forwardRef((v,b)=>{const{scope:g,children:x,...y}=v,S=z.useRef(null),k=ce(b,S),E=i(d,g);return z.useEffect(()=>(E.itemMap.set(S,{ref:S,...y}),()=>void E.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:k,children:x})});m.displayName=d;function w(v){const b=i(e+"CollectionConsumer",v);return z.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,C)=>y.indexOf(E.ref.current)-y.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},w,r]}var e_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J=e_.reduce((e,t)=>{const n=_a(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function AS(e,t){e&&fi.flushSync(()=>e.dispatchEvent(t))}function Xe(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function t_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var n_="DismissableLayer",im="dismissableLayer.update",r_="dismissableLayer.pointerDownOutside",s_="dismissableLayer.focusOutside",nv,OS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=e,u=p.useContext(OS),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=ce(t,C=>h(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(b),x=d?v.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=g,k=a_(C=>{const j=C.target,T=[...u.branches].some(N=>N.contains(j));!S||T||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},f),E=o_(C=>{const j=C.target;[...u.branches].some(N=>N.contains(j))||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},f);return t_(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nv=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=nv)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rv())},[d,u]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(im,C),()=>document.removeEventListener(im,C)},[]),l.jsx(J.div,{...c,ref:w,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,E.onFocusCapture),onBlurCapture:G(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,k.onPointerDownCapture)})});Tl.displayName=n_;var i_="DismissableLayerBranch",DS=p.forwardRef((e,t)=>{const n=p.useContext(OS),r=p.useRef(null),s=ce(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(J.div,{...e,ref:s})});DS.displayName=i_;function a_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){IS(r_,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function o_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&IS(s_,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rv(){const e=new CustomEvent(im);document.dispatchEvent(e)}function IS(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?AS(s,i):s.dispatchEvent(i)}var l_=Tl,c_=DS,et=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},u_="Portal",od=p.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,i]=p.useState(!1);et(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?NS.createPortal(l.jsx(J.div,{...r,ref:t}),a):null});od.displayName=u_;function d_(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var fn=e=>{const{present:t,children:n}=e,r=h_(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=ce(r.ref,f_(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};fn.displayName="Presence";function h_(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[o,c]=d_(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=ac(r.current);i.current=o==="mounted"?u:"none"},[o]),et(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=ac(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const v=ac(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(i.current=ac(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ac(e){return(e==null?void 0:e.animationName)||"none"}function f_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var m_=gp[" useInsertionEffect ".trim().toString()]||et;function ps({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=p_({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=p.useCallback(d=>{var h;if(o){const f=g_(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else i(d)},[o,e,i,a]);return[c,u]}function p_({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return m_(()=>{i.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function g_(e){return typeof e=="function"}var LS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),y_="VisuallyHidden",ld=p.forwardRef((e,t)=>l.jsx(J.span,{...e,ref:t,style:{...LS,...e.style}}));ld.displayName=y_;var v_=ld,o0="ToastProvider",[l0,x_,w_]=ad("Toast"),[$S]=hn("Toast",[w_]),[b_,cd]=$S(o0),FS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${o0}\`. Expected non-empty \`string\`.`),l.jsx(l0.Provider,{scope:t,children:l.jsx(b_,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};FS.displayName=o0;var BS="ToastViewport",S_=["F8"],am="toast.viewportPause",om="toast.viewportResume",zS=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=S_,label:s="Notifications ({hotkey})",...i}=e,a=cd(BS,n),o=x_(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=ce(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;p.useEffect(()=>{const b=g=>{var y;r.length!==0&&r.every(S=>g[S]||g.code===S)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=c.current,g=h.current;if(w&&b&&g){const x=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(am);g.dispatchEvent(E),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(om);g.dispatchEvent(E),a.isClosePausedRef.current=!1}},S=E=>{!b.contains(E.relatedTarget)&&y()},k=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",x),b.addEventListener("focusout",S),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[w,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const x=o().map(y=>{const S=y.ref.current,k=[S,...D_(S)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[o]);return p.useEffect(()=>{const b=h.current;if(b){const g=x=>{var k,E,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const j=document.activeElement,T=x.shiftKey;if(x.target===b&&T){(k=u.current)==null||k.focus();return}const O=v({tabbingDirection:T?"backwards":"forwards"}),U=O.findIndex(D=>D===j);Sh(O.slice(U+1))?x.preventDefault():T?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[o,v]),l.jsxs(c_,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(lm,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Sh(b)}}),l.jsx(l0.Slot,{scope:n,children:l.jsx(J.ol,{tabIndex:-1,...i,ref:f})}),w&&l.jsx(lm,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Sh(b)}})]})});zS.displayName=BS;var VS="ToastFocusProxy",lm=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=cd(VS,n);return l.jsx(ld,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});lm.displayName=VS;var Pl="Toast",k_="toast.swipeStart",E_="toast.swipeMove",j_="toast.swipeCancel",C_="toast.swipeEnd",US=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[o,c]=ps({prop:r,defaultProp:s??!0,onChange:i,caller:Pl});return l.jsx(fn,{present:n||o,children:l.jsx(N_,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:Xe(e.onPause),onResume:Xe(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});US.displayName=Pl;var[T_,P_]=$S(Pl,{onClose(){}}),N_=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=e,v=cd(Pl,n),[b,g]=p.useState(null),x=ce(t,D=>g(D)),y=p.useRef(null),S=p.useRef(null),k=s||v.duration,E=p.useRef(0),C=p.useRef(k),j=p.useRef(0),{onToastAdd:T,onToastRemove:N}=v,R=Xe(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),a()}),O=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(R,D))},[R]);p.useEffect(()=>{const D=v.viewport;if(D){const q=()=>{O(C.current),u==null||u()},F=()=>{const B=new Date().getTime()-E.current;C.current=C.current-B,window.clearTimeout(j.current),c==null||c()};return D.addEventListener(am,F),D.addEventListener(om,q),()=>{D.removeEventListener(am,F),D.removeEventListener(om,q)}}},[v.viewport,k,c,u,O]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(k)},[i,k,v.isClosePausedRef,O]),p.useEffect(()=>(T(),()=>N()),[T,N]);const U=p.useMemo(()=>b?XS(b):null,[b]);return v.viewport?l.jsxs(l.Fragment,{children:[U&&l.jsx(__,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),l.jsx(T_,{scope:n,onClose:R,children:fi.createPortal(l.jsx(l0.ItemSlot,{scope:n,children:l.jsx(l_,{asChild:!0,onEscapeKeyDown:G(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(J.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:G(e.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:G(e.onPointerMove,D=>{if(!y.current)return;const q=D.clientX-y.current.x,F=D.clientY-y.current.y,B=!!S.current,_=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,M=_?P(0,q):0,I=_?0:P(0,F),$=D.pointerType==="touch"?10:2,X={x:M,y:I},ee={originalEvent:D,delta:X};B?(S.current=X,oc(E_,h,ee,{discrete:!1})):sv(X,v.swipeDirection,$)?(S.current=X,oc(k_,d,ee,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(q)>$||Math.abs(F)>$)&&(y.current=null)}),onPointerUp:G(e.onPointerUp,D=>{const q=S.current,F=D.target;if(F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),S.current=null,y.current=null,q){const B=D.currentTarget,_={originalEvent:D,delta:q};sv(q,v.swipeDirection,v.swipeThreshold)?oc(C_,m,_,{discrete:!0}):oc(j_,f,_,{discrete:!0}),B.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),__=e=>{const{__scopeToast:t,children:n,...r}=e,s=cd(Pl,t),[i,a]=p.useState(!1),[o,c]=p.useState(!1);return A_(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(od,{asChild:!0,children:l.jsx(ld,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},M_="ToastTitle",WS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(J.div,{...r,ref:t})});WS.displayName=M_;var R_="ToastDescription",HS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(J.div,{...r,ref:t})});HS.displayName=R_;var GS="ToastAction",KS=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(YS,{altText:n,asChild:!0,children:l.jsx(c0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${GS}\`. Expected non-empty \`string\`.`),null)});KS.displayName=GS;var qS="ToastClose",c0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=P_(qS,n);return l.jsx(YS,{asChild:!0,children:l.jsx(J.button,{type:"button",...r,ref:t,onClick:G(e.onClick,s.onClose)})})});c0.displayName=qS;var YS=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(J.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function XS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),O_(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...XS(r))}}),t}function oc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?AS(s,i):s.dispatchEvent(i)}var sv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function A_(e=()=>{}){const t=Xe(e);et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function O_(e){return e.nodeType===e.ELEMENT_NODE}function D_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var I_=FS,QS=zS,JS=US,ZS=WS,e2=HS,t2=KS,n2=c0;function r2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function s2(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r2(e))&&(r&&(r+=" "),r+=t);return r}const iv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,av=s2,ud=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=iv(d)||iv(h);return s[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...o}[v]):{...i,...o}[v]===b})?[...u,h,f]:u},[]);return av(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>p.createElement("svg",{ref:c,...$_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:i2("lucide",s),...o},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(F_,{ref:i,iconNode:t,className:i2(`lucide-${L_(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Z("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Z("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Z("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Z("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Z("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Z("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Z("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Z("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p0="-",uM=e=>{const t=hM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(p0);return o[0]===""&&o.length!==1&&o.shift(),f2(o,t)||dM(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},f2=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?f2(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(p0);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},cv=/^\[(.+)\]$/,dM=e=>{if(cv.test(e)){const t=cv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},hM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return mM(Object.entries(e.classGroups),n).forEach(([i,a])=>{hm(a,r,i,t)}),r},hm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:uv(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(fM(s)){hm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{hm(a,uv(t,i),n,r)})})},uv=(e,t)=>{let n=e;return t.split(p0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fM=e=>e.isThemeGetter,mM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[n,s]}):e,pM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},m2="!",gM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let b=0;b<o.length;b++){let g=o[b];if(u===0){if(g===s&&(r||o.slice(b,b+i)===t)){c.push(o.slice(d,b)),d=b+i;continue}if(g==="/"){h=b;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(m2),w=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},yM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},vM=e=>({cache:pM(e.cacheSize),parseClassName:gM(e),...uM(e)}),xM=/\s+/,wM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(xM);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let w=!!m,v=r(w?f.substring(0,m):f);if(!v){if(!w){o=u+(o.length>0?" "+o:o);continue}if(v=r(f),!v){o=u+(o.length>0?" "+o:o);continue}w=!1}const b=yM(d).join(":"),g=h?b+m2:b,x=g+v;if(i.includes(x))continue;i.push(x);const y=s(v,w);for(let S=0;S<y.length;++S){const k=y[S];i.push(g+k)}o=u+(o.length>0?" "+o:o)}return o};function bM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=p2(t))&&(r&&(r+=" "),r+=n);return r}const p2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=p2(e[r]))&&(n&&(n+=" "),n+=t);return n};function SM(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=vM(u),r=n.cache.get,s=n.cache.set,i=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=wM(c,n);return s(c,d),d}return function(){return i(bM.apply(null,arguments))}}const Ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},g2=/^\[(?:([a-z-]+):)?(.+)\]$/i,kM=/^\d+\/\d+$/,EM=new Set(["px","full","screen"]),jM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,or=e=>oa(e)||EM.has(e)||kM.test(e),Ir=e=>Va(e,"length",LM),oa=e=>!!e&&!Number.isNaN(Number(e)),Eh=e=>Va(e,"number",oa),ao=e=>!!e&&Number.isInteger(Number(e)),_M=e=>e.endsWith("%")&&oa(e.slice(0,-1)),oe=e=>g2.test(e),Lr=e=>jM.test(e),MM=new Set(["length","size","percentage"]),RM=e=>Va(e,MM,y2),AM=e=>Va(e,"position",y2),OM=new Set(["image","url"]),DM=e=>Va(e,OM,FM),IM=e=>Va(e,"",$M),oo=()=>!0,Va=(e,t,n)=>{const r=g2.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},LM=e=>CM.test(e)&&!TM.test(e),y2=()=>!1,$M=e=>PM.test(e),FM=e=>NM.test(e),BM=()=>{const e=Ee("colors"),t=Ee("spacing"),n=Ee("blur"),r=Ee("brightness"),s=Ee("borderColor"),i=Ee("borderRadius"),a=Ee("borderSpacing"),o=Ee("borderWidth"),c=Ee("contrast"),u=Ee("grayscale"),d=Ee("hueRotate"),h=Ee("invert"),f=Ee("gap"),m=Ee("gradientColorStops"),w=Ee("gradientColorStopPositions"),v=Ee("inset"),b=Ee("margin"),g=Ee("opacity"),x=Ee("padding"),y=Ee("saturate"),S=Ee("scale"),k=Ee("sepia"),E=Ee("skew"),C=Ee("space"),j=Ee("translate"),T=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",oe,t],O=()=>[oe,t],U=()=>["",or,Ir],D=()=>["auto",oa,oe],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",oe],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[oa,oe];return{cacheSize:500,separator:":",theme:{colors:[oo],spacing:[or,Ir],blur:["none","",Lr,oe],brightness:I(),borderColor:[e],borderRadius:["none","","full",Lr,oe],borderSpacing:O(),borderWidth:U(),contrast:I(),grayscale:P(),hueRotate:I(),invert:P(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[_M,Ir],inset:R(),margin:R(),opacity:I(),padding:O(),saturate:I(),scale:I(),sepia:P(),skew:I(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Lr]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),oe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ao,oe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",ao,oe]}],"grid-cols":[{"grid-cols":[oo]}],"col-start-end":[{col:["auto",{span:["full",ao,oe]},oe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[oo]}],"row-start-end":[{row:["auto",{span:[ao,oe]},oe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,t]}],"min-w":[{"min-w":[oe,t,"min","max","fit"]}],"max-w":[{"max-w":[oe,t,"none","full","min","max","fit","prose",{screen:[Lr]},Lr]}],h:[{h:[oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lr,Ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eh]}],"font-family":[{font:[oo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",oa,Eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",or,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",or,Ir]}],"underline-offset":[{"underline-offset":["auto",or,oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),AM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[or,oe]}],"outline-w":[{outline:[or,Ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[or,Ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lr,IM]}],"shadow-color":[{shadow:[oo]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lr,oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ao,oe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[or,Ir,Eh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zM=SM(BM);function H(...e){return zM(s2(e))}const VM=I_,v2=p.forwardRef(({className:e,...t},n)=>l.jsx(QS,{ref:n,className:H("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));v2.displayName=QS.displayName;const UM=ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x2=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(JS,{ref:r,className:H(UM({variant:t}),e),...n}));x2.displayName=JS.displayName;const WM=p.forwardRef(({className:e,...t},n)=>l.jsx(t2,{ref:n,className:H("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));WM.displayName=t2.displayName;const w2=p.forwardRef(({className:e,...t},n)=>l.jsx(n2,{ref:n,className:H("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(za,{className:"h-4 w-4"})}));w2.displayName=n2.displayName;const b2=p.forwardRef(({className:e,...t},n)=>l.jsx(ZS,{ref:n,className:H("text-sm font-semibold",e),...t}));b2.displayName=ZS.displayName;const S2=p.forwardRef(({className:e,...t},n)=>l.jsx(e2,{ref:n,className:H("text-sm opacity-90",e),...t}));S2.displayName=e2.displayName;function HM(){const{toasts:e}=HN();return l.jsxs(VM,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(x2,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(b2,{children:n}),r&&l.jsx(S2,{children:r})]}),s,l.jsx(w2,{})]},t)}),l.jsx(v2,{})]})}var dv=["light","dark"],GM="(prefers-color-scheme: dark)",KM=p.createContext(void 0),qM={setTheme:e=>{},themes:[]},YM=()=>{var e;return(e=p.useContext(KM))!=null?e:qM};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?dv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,v=!1,b=!0)=>{let g=a?a[w]:w,x=v?w+"|| ''":`'${g}'`,y="";return s&&b&&!v&&dv.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),n==="class"?v||g?y+=`c.add(${x})`:y+="null":g&&(y+=`d[s](n,${x})`),y},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${GM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var XM=e=>{switch(e){case"success":return ZM;case"info":return tR;case"warning":return eR;case"error":return nR;default:return null}},QM=Array(12).fill(0),JM=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},QM.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZM=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sR=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},fm=1,iR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:fm++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:n}),{...o,...e,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],z.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(oR(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||fm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tt=new iR,aR=(e,t)=>{let n=(t==null?void 0:t.id)||fm++;return Tt.addToast({title:e,...t,id:n}),n},oR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lR=aR,cR=()=>Tt.toasts,uR=()=>Tt.getActiveToasts(),Nt=Object.assign(lR,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:cR,getToasts:uR});function dR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}dR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lc(e){return e.label!==void 0}var hR=3,fR="32px",mR="16px",hv=4e3,pR=356,gR=14,yR=20,vR=200;function xn(...e){return e.filter(Boolean).join(" ")}function xR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var wR=e=>{var t,n,r,s,i,a,o,c,u,d,h;let{invert:f,toast:m,unstyled:w,interacting:v,setHeights:b,visibleToasts:g,heights:x,index:y,toasts:S,expanded:k,removeToast:E,defaultRichColors:C,closeButton:j,style:T,cancelButtonStyle:N,actionButtonStyle:R,className:O="",descriptionClassName:U="",duration:D,position:q,gap:F,loadingIcon:B,expandByDefault:_,classNames:P,icons:M,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:$}=e,[X,ee]=z.useState(null),[K,Y]=z.useState(null),[V,pe]=z.useState(!1),[he,se]=z.useState(!1),[de,fe]=z.useState(!1),[Ke,ct]=z.useState(!1),[Qt,Ct]=z.useState(!1),[ir,Mr]=z.useState(0),[ar,$g]=z.useState(0),Qa=z.useRef(m.duration||D||hv),Fg=z.useRef(null),Ps=z.useRef(null),aT=y===0,oT=y+1<=g,Jt=m.type,vi=m.dismissible!==!1,lT=m.className||"",cT=m.descriptionClassName||"",zl=z.useMemo(()=>x.findIndex(ie=>ie.toastId===m.id)||0,[x,m.id]),uT=z.useMemo(()=>{var ie;return(ie=m.closeButton)!=null?ie:j},[m.closeButton,j]),Bg=z.useMemo(()=>m.duration||D||hv,[m.duration,D]),Hd=z.useRef(0),xi=z.useRef(0),zg=z.useRef(0),wi=z.useRef(null),[dT,hT]=q.split("-"),Vg=z.useMemo(()=>x.reduce((ie,be,Pe)=>Pe>=zl?ie:ie+be.height,0),[x,zl]),Ug=sR(),fT=m.invert||f,Gd=Jt==="loading";xi.current=z.useMemo(()=>zl*F+Vg,[zl,Vg]),z.useEffect(()=>{Qa.current=Bg},[Bg]),z.useEffect(()=>{pe(!0)},[]),z.useEffect(()=>{let ie=Ps.current;if(ie){let be=ie.getBoundingClientRect().height;return $g(be),b(Pe=>[{toastId:m.id,height:be,position:m.position},...Pe]),()=>b(Pe=>Pe.filter(pn=>pn.toastId!==m.id))}},[b,m.id]),z.useLayoutEffect(()=>{if(!V)return;let ie=Ps.current,be=ie.style.height;ie.style.height="auto";let Pe=ie.getBoundingClientRect().height;ie.style.height=be,$g(Pe),b(pn=>pn.find(gn=>gn.toastId===m.id)?pn.map(gn=>gn.toastId===m.id?{...gn,height:Pe}:gn):[{toastId:m.id,height:Pe,position:m.position},...pn])},[V,m.title,m.description,b,m.id]);let Rr=z.useCallback(()=>{se(!0),Mr(xi.current),b(ie=>ie.filter(be=>be.toastId!==m.id)),setTimeout(()=>{E(m)},vR)},[m,E,b,xi]);z.useEffect(()=>{if(m.promise&&Jt==="loading"||m.duration===1/0||m.type==="loading")return;let ie;return k||v||$&&Ug?(()=>{if(zg.current<Hd.current){let be=new Date().getTime()-Hd.current;Qa.current=Qa.current-be}zg.current=new Date().getTime()})():Qa.current!==1/0&&(Hd.current=new Date().getTime(),ie=setTimeout(()=>{var be;(be=m.onAutoClose)==null||be.call(m,m),Rr()},Qa.current)),()=>clearTimeout(ie)},[k,v,m,Jt,$,Ug,Rr]),z.useEffect(()=>{m.delete&&Rr()},[Rr,m.delete]);function mT(){var ie,be,Pe;return M!=null&&M.loading?z.createElement("div",{className:xn(P==null?void 0:P.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Jt==="loading"},M.loading):B?z.createElement("div",{className:xn(P==null?void 0:P.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Jt==="loading"},B):z.createElement(JM,{className:xn(P==null?void 0:P.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader),visible:Jt==="loading"})}return z.createElement("li",{tabIndex:0,ref:Ps,className:xn(O,lT,P==null?void 0:P.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Jt],(n=m==null?void 0:m.classNames)==null?void 0:n[Jt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":Qt,"data-removed":he,"data-visible":oT,"data-y-position":dT,"data-x-position":hT,"data-index":y,"data-front":aT,"data-swiping":de,"data-dismissible":vi,"data-type":Jt,"data-invert":fT,"data-swipe-out":Ke,"data-swipe-direction":K,"data-expanded":!!(k||_&&V),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${he?ir:xi.current}px`,"--initial-height":_?"auto":`${ar}px`,...T,...m.style},onDragEnd:()=>{fe(!1),ee(null),wi.current=null},onPointerDown:ie=>{Gd||!vi||(Fg.current=new Date,Mr(xi.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(fe(!0),wi.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,be,Pe,pn;if(Ke||!vi)return;wi.current=null;let gn=Number(((ie=Ps.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((be=Ps.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ns=new Date().getTime()-((Pe=Fg.current)==null?void 0:Pe.getTime()),yn=X==="x"?gn:Ar,Or=Math.abs(yn)/Ns;if(Math.abs(yn)>=yR||Or>.11){Mr(xi.current),(pn=m.onDismiss)==null||pn.call(m,m),Y(X==="x"?gn>0?"right":"left":Ar>0?"down":"up"),Rr(),ct(!0),Ct(!1);return}fe(!1),ee(null)},onPointerMove:ie=>{var be,Pe,pn,gn;if(!wi.current||!vi||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let Ar=ie.clientY-wi.current.y,Ns=ie.clientX-wi.current.x,yn=(Pe=e.swipeDirections)!=null?Pe:xR(q);!X&&(Math.abs(Ns)>1||Math.abs(Ar)>1)&&ee(Math.abs(Ns)>Math.abs(Ar)?"x":"y");let Or={x:0,y:0};X==="y"?(yn.includes("top")||yn.includes("bottom"))&&(yn.includes("top")&&Ar<0||yn.includes("bottom")&&Ar>0)&&(Or.y=Ar):X==="x"&&(yn.includes("left")||yn.includes("right"))&&(yn.includes("left")&&Ns<0||yn.includes("right")&&Ns>0)&&(Or.x=Ns),(Math.abs(Or.x)>0||Math.abs(Or.y)>0)&&Ct(!0),(pn=Ps.current)==null||pn.style.setProperty("--swipe-amount-x",`${Or.x}px`),(gn=Ps.current)==null||gn.style.setProperty("--swipe-amount-y",`${Or.y}px`)}},uT&&!m.jsx?z.createElement("button",{"aria-label":I,"data-disabled":Gd,"data-close-button":!0,onClick:Gd||!vi?()=>{}:()=>{var ie;Rr(),(ie=m.onDismiss)==null||ie.call(m,m)},className:xn(P==null?void 0:P.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=M==null?void 0:M.close)!=null?i:rR):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:z.createElement(z.Fragment,null,Jt||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:xn(P==null?void 0:P.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||mT():null,m.type!=="loading"?m.icon||(M==null?void 0:M[Jt])||XM(Jt):null):null,z.createElement("div",{"data-content":"",className:xn(P==null?void 0:P.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:xn(P==null?void 0:P.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?z.createElement("div",{"data-description":"",className:xn(U,cT,P==null?void 0:P.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&lc(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:ie=>{var be,Pe;lc(m.cancel)&&vi&&((Pe=(be=m.cancel).onClick)==null||Pe.call(be,ie),Rr())},className:xn(P==null?void 0:P.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&lc(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:ie=>{var be,Pe;lc(m.action)&&((Pe=(be=m.action).onClick)==null||Pe.call(be,ie),!ie.defaultPrevented&&Rr())},className:xn(P==null?void 0:P.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function fv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function bR(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?mR:fR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var SR=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:w=hR,toastOptions:v,dir:b=fv(),gap:g=gR,loadingIcon:x,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=e,[E,C]=z.useState([]),j=z.useMemo(()=>Array.from(new Set([r].concat(E.filter($=>$.position).map($=>$.position)))),[E,r]),[T,N]=z.useState([]),[R,O]=z.useState(!1),[U,D]=z.useState(!1),[q,F]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=z.useRef(null),_=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=z.useRef(null),M=z.useRef(!1),I=z.useCallback($=>{C(X=>{var ee;return(ee=X.find(K=>K.id===$.id))!=null&&ee.delete||Tt.dismiss($.id),X.filter(({id:K})=>K!==$.id)})},[]);return z.useEffect(()=>Tt.subscribe($=>{if($.dismiss){C(X=>X.map(ee=>ee.id===$.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{NS.flushSync(()=>{C(X=>{let ee=X.findIndex(K=>K.id===$.id);return ee!==-1?[...X.slice(0,ee),{...X[ee],...$},...X.slice(ee+1)]:[$,...X]})})})}),[]),z.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{F(X?"dark":"light")})}catch{$.addListener(({matches:ee})=>{try{F(ee?"dark":"light")}catch(K){console.error(K)}})}},[d]),z.useEffect(()=>{E.length<=1&&O(!1)},[E]),z.useEffect(()=>{let $=X=>{var ee,K;s.every(Y=>X[Y]||X.code===Y)&&(O(!0),(ee=B.current)==null||ee.focus()),X.code==="Escape"&&(document.activeElement===B.current||(K=B.current)!=null&&K.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),z.useEffect(()=>{if(B.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,M.current=!1)}},[B.current]),z.createElement("section",{ref:t,"aria-label":`${S} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map(($,X)=>{var ee;let[K,Y]=$.split("-");return E.length?z.createElement("ol",{key:$,dir:b==="auto"?fv():b,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":K,"data-lifted":R&&E.length>1&&!i,"data-x-position":Y,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--width":`${pR}px`,"--gap":`${g}px`,...m,...bR(c,u)},onBlur:V=>{M.current&&!V.currentTarget.contains(V.relatedTarget)&&(M.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||M.current||(M.current=!0,P.current=V.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},E.filter(V=>!V.position&&X===0||V.position===$).map((V,pe)=>{var he,se;return z.createElement(wR,{key:V.id,icons:y,index:pe,toast:V,defaultRichColors:h,duration:(he=v==null?void 0:v.duration)!=null?he:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(se=v==null?void 0:v.closeButton)!=null?se:a,interacting:U,position:$,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:I,toasts:E.filter(de=>de.position==V.position),heights:T.filter(de=>de.position==V.position),setHeights:N,expandByDefault:i,gap:g,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const kR=({...e})=>{const{theme:t="system"}=YM();return l.jsx(SR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var ER=gp[" useId ".trim().toString()]||(()=>{}),jR=0;function us(e){const[t,n]=p.useState(ER());return et(()=>{n(r=>r??String(jR++))},[e]),t?`radix-${t}`:""}const CR=["top","right","bottom","left"],gs=Math.min,$t=Math.max,vu=Math.round,cc=Math.floor,Zn=e=>({x:e,y:e}),TR={left:"right",right:"left",bottom:"top",top:"bottom"},PR={start:"end",end:"start"};function mm(e,t,n){return $t(e,gs(t,n))}function jr(e,t){return typeof e=="function"?e(t):e}function Cr(e){return e.split("-")[0]}function Ua(e){return e.split("-")[1]}function g0(e){return e==="x"?"y":"x"}function y0(e){return e==="y"?"height":"width"}const NR=new Set(["top","bottom"]);function Yn(e){return NR.has(Cr(e))?"y":"x"}function v0(e){return g0(Yn(e))}function _R(e,t,n){n===void 0&&(n=!1);const r=Ua(e),s=v0(e),i=y0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=xu(a)),[a,xu(a)]}function MR(e){const t=xu(e);return[pm(e),t,pm(t)]}function pm(e){return e.replace(/start|end/g,t=>PR[t])}const mv=["left","right"],pv=["right","left"],RR=["top","bottom"],AR=["bottom","top"];function OR(e,t,n){switch(e){case"top":case"bottom":return n?t?pv:mv:t?mv:pv;case"left":case"right":return t?RR:AR;default:return[]}}function DR(e,t,n,r){const s=Ua(e);let i=OR(Cr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(pm)))),i}function xu(e){return e.replace(/left|right|bottom|top/g,t=>TR[t])}function IR(e){return{top:0,right:0,bottom:0,left:0,...e}}function k2(e){return typeof e!="number"?IR(e):{top:e,right:e,bottom:e,left:e}}function wu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function gv(e,t,n){let{reference:r,floating:s}=e;const i=Yn(t),a=v0(t),o=y0(a),c=Cr(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ua(t)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const LR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=gv(u,r,c),f=r,m={},w=0;for(let v=0;v<o.length;v++){const{name:b,fn:g}=o[v],{x,y,data:S,reset:k}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,h=y??h,m={...m,[b]:{...m[b],...S}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=gv(u,f,c)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function tl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=jr(t,e),w=k2(m),b=o[f?h==="floating"?"reference":"floating":h],g=wu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=wu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:c}):x);return{top:(g.top-k.top+w.top)/S.y,bottom:(k.bottom-g.bottom+w.bottom)/S.y,left:(g.left-k.left+w.left)/S.x,right:(k.right-g.right+w.right)/S.x}}const $R=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=jr(e,t)||{};if(u==null)return{};const h=k2(d),f={x:n,y:r},m=v0(s),w=y0(m),v=await a.getDimensions(u),b=m==="y",g=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[m]-f[m]-i.floating[w],k=f[m]-i.reference[m],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=E?E[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=o.floating[y]||i.floating[w]);const j=S/2-k/2,T=C/2-v[w]/2-1,N=gs(h[g],T),R=gs(h[x],T),O=N,U=C-v[w]-R,D=C/2-v[w]/2+j,q=mm(O,D,U),F=!c.arrow&&Ua(s)!=null&&D!==q&&i.reference[w]/2-(D<O?N:R)-v[w]/2<0,B=F?D<O?D-O:D-U:0;return{[m]:f[m]+B,data:{[m]:q,centerOffset:D-q-B,...F&&{alignmentOffset:B}},reset:F}}}),FR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=jr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=Cr(s),x=Yn(o),y=Cr(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=f||(y||!v?[xu(o)]:MR(o)),E=w!=="none";!f&&E&&k.push(...DR(o,v,w,S));const C=[o,...k],j=await tl(t,b),T=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(j[g]),h){const D=_R(s,a,S);T.push(j[D[0]],j[D[1]])}if(N=[...N,{placement:s,overflows:T}],!T.every(D=>D<=0)){var R,O;const D=(((R=i.flip)==null?void 0:R.index)||0)+1,q=C[D];if(q&&(!(h==="alignment"?x!==Yn(q):!1)||N.every(_=>_.overflows[0]>0&&Yn(_.placement)===x)))return{data:{index:D,overflows:N},reset:{placement:q}};let F=(O=N.filter(B=>B.overflows[0]<=0).sort((B,_)=>B.overflows[1]-_.overflows[1])[0])==null?void 0:O.placement;if(!F)switch(m){case"bestFit":{var U;const B=(U=N.filter(_=>{if(E){const P=Yn(_.placement);return P===x||P==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(P=>P>0).reduce((P,M)=>P+M,0)]).sort((_,P)=>_[1]-P[1])[0])==null?void 0:U[0];B&&(F=B);break}case"initialPlacement":F=o;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function yv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vv(e){return CR.some(t=>e[t]>=0)}const BR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=jr(e,t);switch(r){case"referenceHidden":{const i=await tl(t,{...s,elementContext:"reference"}),a=yv(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:vv(a)}}}case"escaped":{const i=await tl(t,{...s,altBoundary:!0}),a=yv(i,n.floating);return{data:{escapedOffsets:a,escaped:vv(a)}}}default:return{}}}}},E2=new Set(["left","top"]);async function zR(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Cr(n),o=Ua(n),c=Yn(n)==="y",u=E2.has(a)?-1:1,d=i&&c?-1:1,h=jr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof w=="number"&&(m=o==="end"?w*-1:w),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const VR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,c=await zR(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},UR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:g,y:x}=b;return{x:g,y:x}}},...c}=jr(e,t),u={x:n,y:r},d=await tl(t,c),h=Yn(Cr(s)),f=g0(h);let m=u[f],w=u[h];if(i){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=m+d[b],y=m-d[g];m=mm(x,m,y)}if(a){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=w+d[b],y=w-d[g];w=mm(x,w,y)}const v=o.fn({...t,[f]:m,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:a}}}}}},WR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=jr(e,t),d={x:n,y:r},h=Yn(s),f=g0(h);let m=d[f],w=d[h];const v=jr(o,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=f==="y"?"height":"width",S=i.reference[f]-i.floating[y]+b.mainAxis,k=i.reference[f]+i.reference[y]-b.mainAxis;m<S?m=S:m>k&&(m=k)}if(u){var g,x;const y=f==="y"?"width":"height",S=E2.has(Cr(s)),k=i.reference[h]-i.floating[y]+(S&&((g=a.offset)==null?void 0:g[h])||0)+(S?0:b.crossAxis),E=i.reference[h]+i.reference[y]+(S?0:((x=a.offset)==null?void 0:x[h])||0)-(S?b.crossAxis:0);w<k?w=k:w>E&&(w=E)}return{[f]:m,[h]:w}}}},HR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:c=()=>{},...u}=jr(e,t),d=await tl(t,u),h=Cr(s),f=Ua(s),m=Yn(s)==="y",{width:w,height:v}=i.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(g=h,b=f==="end"?"top":"bottom");const x=v-d.top-d.bottom,y=w-d.left-d.right,S=gs(v-d[b],x),k=gs(w-d[g],y),E=!t.middlewareData.shift;let C=S,j=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),E&&!f){const N=$t(d.left,0),R=$t(d.right,0),O=$t(d.top,0),U=$t(d.bottom,0);m?j=w-2*(N!==0||R!==0?N+R:$t(d.left,d.right)):C=v-2*(O!==0||U!==0?O+U:$t(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:C});const T=await a.getDimensions(o.floating);return w!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function Wa(e){return j2(e)?(e.nodeName||"").toLowerCase():"#document"}function Ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rr(e){var t;return(t=(j2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j2(e){return fd()?e instanceof Node||e instanceof Ht(e).Node:!1}function Ln(e){return fd()?e instanceof Element||e instanceof Ht(e).Element:!1}function nr(e){return fd()?e instanceof HTMLElement||e instanceof Ht(e).HTMLElement:!1}function xv(e){return!fd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ht(e).ShadowRoot}const GR=new Set(["inline","contents"]);function _l(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!GR.has(s)}const KR=new Set(["table","td","th"]);function qR(e){return KR.has(Wa(e))}const YR=[":popover-open",":modal"];function md(e){return YR.some(t=>{try{return e.matches(t)}catch{return!1}})}const XR=["transform","translate","scale","rotate","perspective"],QR=["transform","translate","scale","rotate","perspective","filter"],JR=["paint","layout","strict","content"];function x0(e){const t=w0(),n=Ln(e)?$n(e):e;return XR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||QR.some(r=>(n.willChange||"").includes(r))||JR.some(r=>(n.contain||"").includes(r))}function ZR(e){let t=ys(e);for(;nr(t)&&!Ra(t);){if(x0(t))return t;if(md(t))return null;t=ys(t)}return null}function w0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eA=new Set(["html","body","#document"]);function Ra(e){return eA.has(Wa(e))}function $n(e){return Ht(e).getComputedStyle(e)}function pd(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ys(e){if(Wa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xv(e)&&e.host||rr(e);return xv(t)?t.host:t}function C2(e){const t=ys(e);return Ra(t)?e.ownerDocument?e.ownerDocument.body:e.body:nr(t)&&_l(t)?t:C2(t)}function nl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=C2(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Ht(s);if(i){const o=gm(a);return t.concat(a,a.visualViewport||[],_l(s)?s:[],o&&n?nl(o):[])}return t.concat(s,nl(s,[],n))}function gm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T2(e){const t=$n(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=nr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=vu(n)!==i||vu(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function b0(e){return Ln(e)?e:e.contextElement}function la(e){const t=b0(e);if(!nr(t))return Zn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=T2(t);let a=(i?vu(n.width):n.width)/r,o=(i?vu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const tA=Zn(0);function P2(e){const t=Ht(e);return!w0()||!t.visualViewport?tA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ht(e)?!1:t}function oi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=b0(e);let a=Zn(1);t&&(r?Ln(r)&&(a=la(r)):a=la(e));const o=nA(i,n,r)?P2(i):Zn(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=Ht(i),m=r&&Ln(r)?Ht(r):r;let w=f,v=gm(w);for(;v&&r&&m!==w;){const b=la(v),g=v.getBoundingClientRect(),x=$n(v),y=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,S=g.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=y,u+=S,w=Ht(v),v=gm(w)}}return wu({width:d,height:h,x:c,y:u})}function S0(e,t){const n=pd(e).scrollLeft;return t?t.left+n:oi(rr(e)).left+n}function N2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:S0(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function rA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=rr(r),o=t?md(t.floating):!1;if(r===a||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Zn(1);const d=Zn(0),h=nr(r);if((h||!h&&!i)&&((Wa(r)!=="body"||_l(a))&&(c=pd(r)),nr(r))){const m=oi(r);u=la(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!h&&!i?N2(a,c,!0):Zn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function sA(e){return Array.from(e.getClientRects())}function iA(e){const t=rr(e),n=pd(e),r=e.ownerDocument.body,s=$t(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=$t(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+S0(e);const o=-n.scrollTop;return $n(r).direction==="rtl"&&(a+=$t(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function aA(e,t){const n=Ht(e),r=rr(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const u=w0();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}const oA=new Set(["absolute","fixed"]);function lA(e,t){const n=oi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=nr(e)?la(e):Zn(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:o,x:c,y:u}}function wv(e,t,n){let r;if(t==="viewport")r=aA(e,n);else if(t==="document")r=iA(rr(e));else if(Ln(t))r=lA(t,n);else{const s=P2(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return wu(r)}function _2(e,t){const n=ys(e);return n===t||!Ln(n)||Ra(n)?!1:$n(n).position==="fixed"||_2(n,t)}function cA(e,t){const n=t.get(e);if(n)return n;let r=nl(e,[],!1).filter(o=>Ln(o)&&Wa(o)!=="body"),s=null;const i=$n(e).position==="fixed";let a=i?ys(e):e;for(;Ln(a)&&!Ra(a);){const o=$n(a),c=x0(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&oA.has(s.position)||_l(a)&&!c&&_2(e,a))?r=r.filter(d=>d!==a):s=o,a=ys(a)}return t.set(e,r),r}function uA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?md(t)?[]:cA(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const h=wv(t,d,s);return u.top=$t(h.top,u.top),u.right=gs(h.right,u.right),u.bottom=gs(h.bottom,u.bottom),u.left=$t(h.left,u.left),u},wv(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dA(e){const{width:t,height:n}=T2(e);return{width:t,height:n}}function hA(e,t,n){const r=nr(t),s=rr(t),i=n==="fixed",a=oi(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=Zn(0);function u(){c.x=S0(s)}if(r||!r&&!i)if((Wa(t)!=="body"||_l(s))&&(o=pd(t)),r){const m=oi(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?N2(s,o):Zn(0),h=a.left+o.scrollLeft-c.x-d.x,f=a.top+o.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function jh(e){return $n(e).position==="static"}function bv(e,t){if(!nr(e)||$n(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rr(e)===n&&(n=n.ownerDocument.body),n}function M2(e,t){const n=Ht(e);if(md(e))return n;if(!nr(e)){let s=ys(e);for(;s&&!Ra(s);){if(Ln(s)&&!jh(s))return s;s=ys(s)}return n}let r=bv(e,t);for(;r&&qR(r)&&jh(r);)r=bv(r,t);return r&&Ra(r)&&jh(r)&&!x0(r)?n:r||ZR(e)||n}const fA=async function(e){const t=this.getOffsetParent||M2,n=this.getDimensions,r=await n(e.floating);return{reference:hA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mA(e){return $n(e).direction==="rtl"}const pA={convertOffsetParentRelativeRectToViewportRelativeRect:rA,getDocumentElement:rr,getClippingRect:uA,getOffsetParent:M2,getElementRects:fA,getClientRects:sA,getDimensions:dA,getScale:la,isElement:Ln,isRTL:mA};function R2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gA(e,t){let n=null,r;const s=rr(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(o||t(),!f||!m)return;const w=cc(h),v=cc(s.clientWidth-(d+f)),b=cc(s.clientHeight-(h+m)),g=cc(d),y={rootMargin:-w+"px "+-v+"px "+-b+"px "+-g+"px",threshold:$t(0,gs(1,c))||1};let S=!0;function k(E){const C=E[0].intersectionRatio;if(C!==c){if(!S)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!R2(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(k,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return a(!0),i}function yA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=b0(e),d=s||i?[...u?nl(u):[],...nl(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const h=u&&o?gA(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let w,v=c?oi(e):null;c&&b();function b(){const g=oi(e);v&&!R2(v,g)&&n(),v=g,w=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const vA=VR,xA=UR,wA=FR,bA=HR,SA=BR,Sv=$R,kA=WR,EA=(e,t,n)=>{const r=new Map,s={platform:pA,...n},i={...s.platform,_c:r};return LR(e,t,{...s,platform:i})};var jA=typeof document<"u",CA=function(){},Bc=jA?p.useLayoutEffect:CA;function bu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!bu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function A2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kv(e,t){const n=A2(e);return Math.round(t*n)/n}function Ch(e){const t=p.useRef(e);return Bc(()=>{t.current=e}),t}function TA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);bu(f,r)||m(r);const[w,v]=p.useState(null),[b,g]=p.useState(null),x=p.useCallback(_=>{_!==E.current&&(E.current=_,v(_))},[]),y=p.useCallback(_=>{_!==C.current&&(C.current=_,g(_))},[]),S=i||w,k=a||b,E=p.useRef(null),C=p.useRef(null),j=p.useRef(d),T=c!=null,N=Ch(c),R=Ch(s),O=Ch(u),U=p.useCallback(()=>{if(!E.current||!C.current)return;const _={placement:t,strategy:n,middleware:f};R.current&&(_.platform=R.current),EA(E.current,C.current,_).then(P=>{const M={...P,isPositioned:O.current!==!1};D.current&&!bu(j.current,M)&&(j.current=M,fi.flushSync(()=>{h(M)}))})},[f,t,n,R,O]);Bc(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const D=p.useRef(!1);Bc(()=>(D.current=!0,()=>{D.current=!1}),[]),Bc(()=>{if(S&&(E.current=S),k&&(C.current=k),S&&k){if(N.current)return N.current(S,k,U);U()}},[S,k,U,N,T]);const q=p.useMemo(()=>({reference:E,floating:C,setReference:x,setFloating:y}),[x,y]),F=p.useMemo(()=>({reference:S,floating:k}),[S,k]),B=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!F.floating)return _;const P=kv(F.floating,d.x),M=kv(F.floating,d.y);return o?{..._,transform:"translate("+P+"px, "+M+"px)",...A2(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:M}},[n,o,F.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:U,refs:q,elements:F,floatingStyles:B}),[d,U,q,F,B])}const PA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Sv({element:r.current,padding:s}).fn(n):{}:r?Sv({element:r,padding:s}).fn(n):{}}}},NA=(e,t)=>({...vA(e),options:[e,t]}),_A=(e,t)=>({...xA(e),options:[e,t]}),MA=(e,t)=>({...kA(e),options:[e,t]}),RA=(e,t)=>({...wA(e),options:[e,t]}),AA=(e,t)=>({...bA(e),options:[e,t]}),OA=(e,t)=>({...SA(e),options:[e,t]}),DA=(e,t)=>({...PA(e),options:[e,t]});var IA="Arrow",O2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(J.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});O2.displayName=IA;var LA=O2;function k0(e){const[t,n]=p.useState(void 0);return et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var E0="Popper",[D2,gd]=hn(E0),[$A,I2]=D2(E0),L2=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx($A,{scope:t,anchor:r,onAnchorChange:s,children:n})};L2.displayName=E0;var $2="PopperAnchor",F2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=I2($2,n),a=p.useRef(null),o=ce(t,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(J.div,{...s,ref:o})});F2.displayName=$2;var j0="PopperContent",[FA,BA]=D2(j0),B2=p.forwardRef((e,t)=>{var V,pe,he,se,de,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=e,b=I2(j0,n),[g,x]=p.useState(null),y=ce(t,Ke=>x(Ke)),[S,k]=p.useState(null),E=k0(S),C=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,T=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],O=R.length>0,U={padding:N,boundary:R.filter(VA),altBoundary:O},{refs:D,floatingStyles:q,placement:F,isPositioned:B,middlewareData:_}=TA({strategy:"fixed",placement:T,whileElementsMounted:(...Ke)=>yA(...Ke,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[NA({mainAxis:s+j,alignmentAxis:a}),c&&_A({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?MA():void 0,...U}),c&&RA({...U}),AA({...U,apply:({elements:Ke,rects:ct,availableWidth:Qt,availableHeight:Ct})=>{const{width:ir,height:Mr}=ct.reference,ar=Ke.floating.style;ar.setProperty("--radix-popper-available-width",`${Qt}px`),ar.setProperty("--radix-popper-available-height",`${Ct}px`),ar.setProperty("--radix-popper-anchor-width",`${ir}px`),ar.setProperty("--radix-popper-anchor-height",`${Mr}px`)}}),S&&DA({element:S,padding:o}),UA({arrowWidth:C,arrowHeight:j}),f&&OA({strategy:"referenceHidden",...U})]}),[P,M]=U2(F),I=Xe(w);et(()=>{B&&(I==null||I())},[B,I]);const $=(V=_.arrow)==null?void 0:V.x,X=(pe=_.arrow)==null?void 0:pe.y,ee=((he=_.arrow)==null?void 0:he.centerOffset)!==0,[K,Y]=p.useState();return et(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(se=_.transformOrigin)==null?void 0:se.x,(de=_.transformOrigin)==null?void 0:de.y].join(" "),...((fe=_.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(FA,{scope:n,placedSide:P,onArrowChange:k,arrowX:$,arrowY:X,shouldHideArrow:ee,children:l.jsx(J.div,{"data-side":P,"data-align":M,...v,ref:y,style:{...v.style,animation:B?void 0:"none"}})})})});B2.displayName=j0;var z2="PopperArrow",zA={top:"bottom",right:"left",bottom:"top",left:"right"},V2=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=BA(z2,r),a=zA[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(LA,{...s,ref:n,style:{...s.style,display:"block"}})})});V2.displayName=z2;function VA(e){return e!==null}var UA=e=>({name:"transformOrigin",options:e,fn(t){var b,g,x;const{placement:n,rects:r,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=U2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+o/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?h:`${f}px`,v=`${-c}px`):u==="top"?(w=a?h:`${f}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?h:`${m}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=a?h:`${m}px`),{data:{x:w,y:v}}}});function U2(e){const[t,n="center"]=e.split("-");return[t,n]}var WA=L2,W2=F2,H2=B2,G2=V2,[yd]=hn("Tooltip",[gd]),C0=gd(),K2="TooltipProvider",HA=700,Ev="tooltip.open",[GA,q2]=yd(K2),Y2=e=>{const{__scopeTooltip:t,delayDuration:n=HA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=p.useRef(!0),o=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(GA,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:p.useCallback(u=>{o.current=u},[]),disableHoverableContent:s,children:i})};Y2.displayName=K2;var X2="Tooltip",[A7,vd]=yd(X2),ym="TooltipTrigger",KA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=vd(ym,n),i=q2(ym,n),a=C0(n),o=p.useRef(null),c=ce(t,o,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(W2,{asChild:!0,...a,children:l.jsx(J.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:G(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:G(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:G(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:G(e.onBlur,s.onClose),onClick:G(e.onClick,s.onClose)})})});KA.displayName=ym;var qA="TooltipPortal",[O7,YA]=yd(qA,{forceMount:void 0}),Aa="TooltipContent",Q2=p.forwardRef((e,t)=>{const n=YA(Aa,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=vd(Aa,e.__scopeTooltip);return l.jsx(fn,{present:r||a.open,children:a.disableHoverableContent?l.jsx(J2,{side:s,...i,ref:t}):l.jsx(XA,{side:s,...i,ref:t})})}),XA=p.forwardRef((e,t)=>{const n=vd(Aa,e.__scopeTooltip),r=q2(Aa,e.__scopeTooltip),s=p.useRef(null),i=ce(t,s),[a,o]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{o(null),h(!1)},[h]),m=p.useCallback((w,v)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},x=tO(g,b.getBoundingClientRect()),y=nO(g,x),S=rO(v.getBoundingClientRect()),k=iO([...y,...S]);o(k),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const w=b=>m(b,d),v=b=>m(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,m,f]),p.useEffect(()=>{if(a){const w=v=>{const b=v.target,g={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),y=!sO(g,a);x?f():y&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,a,u,f]),l.jsx(J2,{...e,ref:i})}),[QA,JA]=yd(X2,{isInside:!1}),ZA=XN("TooltipContent"),J2=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,c=vd(Aa,n),u=C0(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Ev,d),()=>document.removeEventListener(Ev,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(H2,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(ZA,{children:r}),l.jsx(QA,{scope:n,isInside:!0,children:l.jsx(v_,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Q2.displayName=Aa;var Z2="TooltipArrow",eO=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=C0(n);return JA(Z2,n).isInside?null:l.jsx(G2,{...s,...r,ref:t})});eO.displayName=Z2;function tO(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function rO(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function sO(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],c=t[a],u=o.x,d=o.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function iO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),aO(t)}function aO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var oO=Y2,e5=Q2;const lO=oO,cO=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(e5,{ref:r,sideOffset:t,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));cO.displayName=e5.displayName;var xd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wd=typeof window>"u"||"Deno"in globalThis;function jn(){}function uO(e,t){return typeof e=="function"?e(t):e}function dO(e){return typeof e=="number"&&e>=0&&e!==1/0}function hO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vm(e,t){return typeof e=="function"?e(t):e}function fO(e,t){return typeof e=="function"?e(t):e}function jv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==T0(a,t.options))return!1}else if(!sl(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Cv(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(rl(t.options.mutationKey)!==rl(i))return!1}else if(!sl(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function T0(e,t){return((t==null?void 0:t.queryKeyHashFn)||rl)(e)}function rl(e){return JSON.stringify(e,(t,n)=>xm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>sl(e[n],t[n])):!1}function t5(e,t){if(e===t)return e;const n=Tv(e)&&Tv(t);if(n||xm(e)&&xm(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=t5(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:o}return t}function Tv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xm(e){if(!Pv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pv(e){return Object.prototype.toString.call(e)==="[object Object]"}function mO(e){return new Promise(t=>{setTimeout(t,e)})}function pO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?t5(e,t):t}function gO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function yO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var P0=Symbol();function n5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===P0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gs,qr,pa,lb,vO=(lb=class extends xd{constructor(){super();ge(this,Gs);ge(this,qr);ge(this,pa);ae(this,pa,t=>{if(!wd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,qr)||this.setEventListener(A(this,pa))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,qr))==null||t.call(this),ae(this,qr,void 0))}setEventListener(t){var n;ae(this,pa,t),(n=A(this,qr))==null||n.call(this),ae(this,qr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){A(this,Gs)!==t&&(ae(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,Gs)=="boolean"?A(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,qr=new WeakMap,pa=new WeakMap,lb),r5=new vO,ga,Yr,ya,cb,xO=(cb=class extends xd{constructor(){super();ge(this,ga,!0);ge(this,Yr);ge(this,ya);ae(this,ya,t=>{if(!wd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,Yr)||this.setEventListener(A(this,ya))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Yr))==null||t.call(this),ae(this,Yr,void 0))}setEventListener(t){var n;ae(this,ya,t),(n=A(this,Yr))==null||n.call(this),ae(this,Yr,t(this.setOnline.bind(this)))}setOnline(t){A(this,ga)!==t&&(ae(this,ga,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return A(this,ga)}},ga=new WeakMap,Yr=new WeakMap,ya=new WeakMap,cb),Su=new xO;function wO(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function bO(e){return Math.min(1e3*2**e,3e4)}function s5(e){return(e??"online")==="online"?Su.isOnline():!0}var i5=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Th(e){return e instanceof i5}function a5(e){let t=!1,n=0,r=!1,s;const i=wO(),a=v=>{var b;r||(f(new i5(v)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>r5.isFocused()&&(e.networkMode==="always"||Su.isOnline())&&e.canRun(),d=()=>s5(e.networkMode)&&e.canRun(),h=v=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,v),s==null||s(),i.resolve(v))},f=v=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var b;s=g=>{(r||u())&&v(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const b=n===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(h).catch(g=>{var E;if(r)return;const x=e.retry??(wd?0:3),y=e.retryDelay??bO,S=typeof y=="function"?y(n,g):y,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,g);if(t||!k){f(g);return}n++,(E=e.onFail)==null||E.call(e,n,g),mO(S).then(()=>u()?void 0:m()).then(()=>{t?f(g):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),i)}}var SO=e=>setTimeout(e,0);function kO(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=SO;const i=o=>{t?e.push(o):s(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var bt=kO(),Ks,ub,o5=(ub=class{constructor(){ge(this,Ks)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dO(this.gcTime)&&ae(this,Ks,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wd?1/0:5*60*1e3))}clearGcTimeout(){A(this,Ks)&&(clearTimeout(A(this,Ks)),ae(this,Ks,void 0))}},Ks=new WeakMap,ub),va,qs,tn,Ys,ft,wl,Xs,Tn,cr,db,EO=(db=class extends o5{constructor(t){super();ge(this,Tn);ge(this,va);ge(this,qs);ge(this,tn);ge(this,Ys);ge(this,ft);ge(this,wl);ge(this,Xs);ae(this,Xs,!1),ae(this,wl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Ys,t.client),ae(this,tn,A(this,Ys).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,va,CO(this.options)),this.state=t.state??A(this,va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,ft))==null?void 0:t.promise}setOptions(t){this.options={...A(this,wl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,tn).remove(this)}setData(t,n){const r=pO(this.state.data,t,this.options);return ut(this,Tn,cr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ut(this,Tn,cr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=A(this,ft))==null?void 0:r.promise;return(s=A(this,ft))==null||s.cancel(t),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,va))}isActive(){return this.observers.some(t=>fO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hO(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,ft))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,ft))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,ft)&&(A(this,Xs)?A(this,ft).cancel({revert:!0}):A(this,ft).cancelRetry()),this.scheduleGc()),A(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ut(this,Tn,cr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,ft))return A(this,ft).continueRetry(),A(this,ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,Xs,!0),r.signal)})},i=()=>{const f=n5(this.options,n),w=(()=>{const v={client:A(this,Ys),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ae(this,Xs,!1),this.options.persister?this.options.persister(f,w,this):f(w)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Ys),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),ae(this,qs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ut(this,Tn,cr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,w,v,b;Th(f)&&f.silent||ut(this,Tn,cr).call(this,{type:"error",error:f}),Th(f)||((w=(m=A(this,tn).config).onError)==null||w.call(m,f,this),(b=(v=A(this,tn).config).onSettled)==null||b.call(v,this.state.data,f,this)),this.scheduleGc()};return ae(this,ft,a5({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,w,v,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){c(g);return}(w=(m=A(this,tn).config).onSuccess)==null||w.call(m,f,this),(b=(v=A(this,tn).config).onSettled)==null||b.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{ut(this,Tn,cr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ut(this,Tn,cr).call(this,{type:"pause"})},onContinue:()=>{ut(this,Tn,cr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,ft).start()}},va=new WeakMap,qs=new WeakMap,tn=new WeakMap,Ys=new WeakMap,ft=new WeakMap,wl=new WeakMap,Xs=new WeakMap,Tn=new WeakSet,cr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jO(r.data,this.options),fetchMeta:t.meta??null};case"success":return ae(this,qs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Th(s)&&s.revert&&A(this,qs)?{...A(this,qs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,tn).notify({query:this,type:"updated",action:t})})},db);function jO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vn,hb,TO=(hb=class extends xd{constructor(t={}){super();ge(this,Vn);this.config=t,ae(this,Vn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??T0(s,n);let a=this.get(i);return a||(a=new EO({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){A(this,Vn).has(t.queryHash)||(A(this,Vn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,Vn).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,Vn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Vn).get(t)}getAll(){return[...A(this,Vn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>jv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>jv(t,r)):n}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vn=new WeakMap,hb),Un,xt,Qs,Wn,Fr,fb,PO=(fb=class extends o5{constructor(t){super();ge(this,Wn);ge(this,Un);ge(this,xt);ge(this,Qs);this.mutationId=t.mutationId,ae(this,xt,t.mutationCache),ae(this,Un,[]),this.state=t.state||NO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Un).includes(t)||(A(this,Un).push(t),this.clearGcTimeout(),A(this,xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Un,A(this,Un).filter(n=>n!==t)),this.scheduleGc(),A(this,xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Un).length||(this.state.status==="pending"?this.scheduleGc():A(this,xt).remove(this))}continue(){var t;return((t=A(this,Qs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,c,u,d,h,f,m,w,v,b,g,x,y,S,k,E,C,j;const n=()=>{ut(this,Wn,Fr).call(this,{type:"continue"})};ae(this,Qs,a5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,N)=>{ut(this,Wn,Fr).call(this,{type:"failed",failureCount:T,error:N})},onPause:()=>{ut(this,Wn,Fr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,xt).canRun(this)}));const r=this.state.status==="pending",s=!A(this,Qs).canStart();try{if(r)n();else{ut(this,Wn,Fr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=A(this,xt).config).onMutate)==null?void 0:a.call(i,t,this));const N=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));N!==this.state.context&&ut(this,Wn,Fr).call(this,{type:"pending",context:N,variables:t,isPaused:s})}const T=await A(this,Qs).start();return await((d=(u=A(this,xt).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,T,t,this.state.context)),await((w=(m=A(this,xt).config).onSettled)==null?void 0:w.call(m,T,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context)),ut(this,Wn,Fr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(g=A(this,xt).config).onError)==null?void 0:x.call(g,T,t,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,t,this.state.context)),await((E=(k=A(this,xt).config).onSettled)==null?void 0:E.call(k,void 0,T,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,T,t,this.state.context)),T}finally{ut(this,Wn,Fr).call(this,{type:"error",error:T})}}finally{A(this,xt).runNext(this)}}},Un=new WeakMap,xt=new WeakMap,Qs=new WeakMap,Wn=new WeakSet,Fr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bt.batch(()=>{A(this,Un).forEach(r=>{r.onMutationUpdate(t)}),A(this,xt).notify({mutation:this,type:"updated",action:t})})},fb);function NO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,Pn,bl,mb,_O=(mb=class extends xd{constructor(t={}){super();ge(this,fr);ge(this,Pn);ge(this,bl);this.config=t,ae(this,fr,new Set),ae(this,Pn,new Map),ae(this,bl,0)}build(t,n,r){const s=new PO({mutationCache:this,mutationId:++Vl(this,bl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){A(this,fr).add(t);const n=uc(t);if(typeof n=="string"){const r=A(this,Pn).get(n);r?r.push(t):A(this,Pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,fr).delete(t)){const n=uc(t);if(typeof n=="string"){const r=A(this,Pn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&A(this,Pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=uc(t);if(typeof n=="string"){const r=A(this,Pn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=uc(t);if(typeof n=="string"){const s=(r=A(this,Pn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bt.batch(()=>{A(this,fr).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,fr).clear(),A(this,Pn).clear()})}getAll(){return Array.from(A(this,fr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cv(n,r))}findAll(t={}){return this.getAll().filter(n=>Cv(t,n))}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bt.batch(()=>Promise.all(t.map(n=>n.continue().catch(jn))))}},fr=new WeakMap,Pn=new WeakMap,bl=new WeakMap,mb);function uc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Nv(e){return{onFetch:(t,n)=>{var d,h,f,m,w;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=n5(t.options,t.fetchOptions),x=async(y,S,k)=>{if(v)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:S,direction:k?"backward":"forward",meta:t.options.meta};return b(R),R})(),j=await g(C),{maxPages:T}=t.options,N=k?yO:gO;return{pages:N(y.pages,j,T),pageParams:N(y.pageParams,S,T)}};if(s&&i.length){const y=s==="backward",S=y?MO:_v,k={pages:i,pageParams:a},E=S(r,k);o=await x(k,E,y)}else{const y=e??i.length;do{const S=c===0?a[0]??r.initialPageParam:_v(r,o);if(c>0&&S==null)break;o=await x(o,S),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function _v(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ie,Xr,Qr,xa,wa,Jr,ba,Sa,pb,RO=(pb=class{constructor(e={}){ge(this,Ie);ge(this,Xr);ge(this,Qr);ge(this,xa);ge(this,wa);ge(this,Jr);ge(this,ba);ge(this,Sa);ae(this,Ie,e.queryCache||new TO),ae(this,Xr,e.mutationCache||new _O),ae(this,Qr,e.defaultOptions||{}),ae(this,xa,new Map),ae(this,wa,new Map),ae(this,Jr,0)}mount(){Vl(this,Jr)._++,A(this,Jr)===1&&(ae(this,ba,r5.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Ie).onFocus())})),ae(this,Sa,Su.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Ie).onOnline())})))}unmount(){var e,t;Vl(this,Jr)._--,A(this,Jr)===0&&((e=A(this,ba))==null||e.call(this),ae(this,ba,void 0),(t=A(this,Sa))==null||t.call(this),ae(this,Sa,void 0))}isFetching(e){return A(this,Ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Xr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Ie).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=A(this,Ie).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(vm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return A(this,Ie).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=A(this,Ie).get(r.queryHash),i=s==null?void 0:s.state.data,a=uO(t,i);if(a!==void 0)return A(this,Ie).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return bt.batch(()=>A(this,Ie).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Ie).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,Ie);bt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,Ie);return bt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=bt.batch(()=>A(this,Ie).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(e,t={}){return bt.batch(()=>(A(this,Ie).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=bt.batch(()=>A(this,Ie).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,Ie).build(this,t);return n.isStaleByTime(vm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=Nv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=Nv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Su.isOnline()?A(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Ie)}getMutationCache(){return A(this,Xr)}getDefaultOptions(){return A(this,Qr)}setDefaultOptions(e){ae(this,Qr,e)}setQueryDefaults(e,t){A(this,xa).set(rl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,xa).values()],n={};return t.forEach(r=>{sl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){A(this,wa).set(rl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,wa).values()],n={};return t.forEach(r=>{sl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,Qr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=T0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===P0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,Qr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Ie).clear(),A(this,Xr).clear()}},Ie=new WeakMap,Xr=new WeakMap,Qr=new WeakMap,xa=new WeakMap,wa=new WeakMap,Jr=new WeakMap,ba=new WeakMap,Sa=new WeakMap,pb),AO=p.createContext(void 0),OO=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(AO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)}var ts;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ts||(ts={}));const Mv="popstate";function DO(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return wm("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ku(s)}return LO(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IO(){return Math.random().toString(36).substr(2,8)}function Rv(e,t){return{usr:e.state,key:e.key,idx:t}}function wm(e,t,n,r){return n===void 0&&(n=null),il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:n,key:t&&t.key||r||IO()})}function ku(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function LO(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=ts.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(il({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=ts.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:g})}function f(b,g){o=ts.Push;let x=wm(v.location,b,g);u=d()+1;let y=Rv(x,u),S=v.createHref(x);try{a.pushState(y,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&c&&c({action:o,location:v.location,delta:1})}function m(b,g){o=ts.Replace;let x=wm(v.location,b,g);u=d();let y=Rv(x,u),S=v.createHref(x);a.replaceState(y,"",S),i&&c&&c({action:o,location:v.location,delta:0})}function w(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:ku(b);return x=x.replace(/ $/,"%20"),Ge(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return o},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Mv,h),c=b,()=>{s.removeEventListener(Mv,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(b){return a.go(b)}};return v}var Av;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Av||(Av={}));function $O(e,t,n){return n===void 0&&(n="/"),FO(e,t,n)}function FO(e,t,n,r){let s=typeof t=="string"?Ha(t):t,i=N0(s.pathname||"/",n);if(i==null)return null;let a=c5(e);BO(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=JO(i);o=YO(a[c],u)}return o}function c5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ds([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),c5(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:KO(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of u5(i.path))s(i,a,c)}),t}function u5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=u5(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function BO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zO=/^:[\w-]+$/,VO=3,UO=2,WO=1,HO=10,GO=-2,Ov=e=>e==="*";function KO(e,t){let n=e.split("/"),r=n.length;return n.some(Ov)&&(r+=GO),t&&(r+=UO),n.filter(s=>!Ov(s)).reduce((s,i)=>s+(zO.test(i)?VO:i===""?WO:HO),r)}function qO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function YO(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=XO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:ds([i,h.pathname]),pathnameBase:nD(ds([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ds([i,h.pathnameBase]))}return a}function XO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[h];return m&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function QO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),l5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function JO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return l5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function N0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ZO(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ha(e):e;return{pathname:n?n.startsWith("/")?n:eD(n,t):t,search:rD(r),hash:sD(s)}}function eD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ph(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function d5(e,t){let n=tD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function h5(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ha(e):(s=il({},e),Ge(!s.pathname||!s.pathname.includes("?"),Ph("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),Ph("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),Ph("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=ZO(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ds=e=>e.join("/").replace(/\/\/+/g,"/"),nD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const f5=["post","put","patch","delete"];new Set(f5);const aD=["get",...f5];new Set(aD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}const _0=p.createContext(null),oD=p.createContext(null),mi=p.createContext(null),bd=p.createContext(null),Es=p.createContext({outlet:null,matches:[],isDataRoute:!1}),m5=p.createContext(null);function lD(e,t){let{relative:n}=t===void 0?{}:t;Ml()||Ge(!1);let{basename:r,navigator:s}=p.useContext(mi),{hash:i,pathname:a,search:o}=g5(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ds([r,a])),s.createHref({pathname:c,search:o,hash:i})}function Ml(){return p.useContext(bd)!=null}function pi(){return Ml()||Ge(!1),p.useContext(bd).location}function p5(e){p.useContext(mi).static||p.useLayoutEffect(e)}function M0(){let{isDataRoute:e}=p.useContext(Es);return e?SD():cD()}function cD(){Ml()||Ge(!1);let e=p.useContext(_0),{basename:t,future:n,navigator:r}=p.useContext(mi),{matches:s}=p.useContext(Es),{pathname:i}=pi(),a=JSON.stringify(d5(s,n.v7_relativeSplatPath)),o=p.useRef(!1);return p5(()=>{o.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=h5(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ds([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function uD(){let{matches:e}=p.useContext(Es),t=e[e.length-1];return t?t.params:{}}function g5(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(mi),{matches:s}=p.useContext(Es),{pathname:i}=pi(),a=JSON.stringify(d5(s,r.v7_relativeSplatPath));return p.useMemo(()=>h5(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function dD(e,t){return hD(e,t)}function hD(e,t,n,r){Ml()||Ge(!1);let{navigator:s}=p.useContext(mi),{matches:i}=p.useContext(Es),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=pi(),d;if(t){var h;let b=typeof t=="string"?Ha(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ge(!1),d=b}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=$O(e,{pathname:m}),v=yD(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ds([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ds([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&v?p.createElement(bd.Provider,{value:{location:al({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ts.Pop}},v):v}function fD(){let e=bD(),t=iD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const mD=p.createElement(fD,null);class pD extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Es.Provider,{value:this.props.routeContext},p.createElement(m5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gD(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(_0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Es.Provider,{value:t},r)}function yD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Ge(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,w=!1,v=null,b=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||mD,c&&(u<0&&f===0?(kD("route-fallback"),w=!0,b=null):u===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),x=()=>{let y;return m?y=v:w?y=b:h.route.Component?y=p.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,p.createElement(gD,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(pD,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var y5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y5||{}),v5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(v5||{});function vD(e){let t=p.useContext(_0);return t||Ge(!1),t}function xD(e){let t=p.useContext(oD);return t||Ge(!1),t}function wD(e){let t=p.useContext(Es);return t||Ge(!1),t}function x5(e){let t=wD(),n=t.matches[t.matches.length-1];return n.route.id||Ge(!1),n.route.id}function bD(){var e;let t=p.useContext(m5),n=xD(),r=x5();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function SD(){let{router:e}=vD(y5.UseNavigateStable),t=x5(v5.UseNavigateStable),n=p.useRef(!1);return p5(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,al({fromRouteId:t},i)))},[e,t])}const Dv={};function kD(e,t,n){Dv[e]||(Dv[e]=!0)}function ED(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wn(e){Ge(!1)}function jD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ts.Pop,navigator:i,static:a=!1,future:o}=e;Ml()&&Ge(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:al({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=Ha(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,v=p.useMemo(()=>{let b=N0(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:w},navigationType:s}},[c,d,h,f,m,w,s]);return v==null?null:p.createElement(mi.Provider,{value:u},p.createElement(bd.Provider,{children:n,value:v}))}function Iv(e){let{children:t,location:n}=e;return dD(bm(t),n)}new Promise(()=>{});function bm(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,bm(r.props.children,i));return}r.type!==wn&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sm.apply(this,arguments)}function CD(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function TD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PD(e,t){return e.button===0&&(!t||t==="_self")&&!TD(e)}const ND=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_D="6";try{window.__reactRouterVersion=_D}catch{}const MD="startTransition",Lv=gp[MD];function RD(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=DO({window:s,v5Compat:!0}));let a=i.current,[o,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&Lv?Lv(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>ED(r),[r]),p.createElement(jD,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const AD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=CD(t,ND),{basename:m}=p.useContext(mi),w,v=!1;if(typeof u=="string"&&OD.test(u)&&(w=u,AD))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=N0(S.pathname,m);S.origin===y.origin&&k!=null?u=k+S.search+S.hash:v=!0}catch{}let b=lD(u,{relative:s}),g=DD(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(y){r&&r(y),y.defaultPrevented||g(y)}return p.createElement("a",Sm({},f,{href:w||b,onClick:v||i?r:x,ref:n,target:c}))});var $v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($v||($v={}));var Fv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fv||(Fv={}));function DD(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,c=M0(),u=pi(),d=g5(e,{relative:a});return p.useCallback(h=>{if(PD(h,n)){h.preventDefault();let f=r!==void 0?r:ku(u)===ku(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,s,n,e,i,a,o])}const ID=[{path:"/",icon:X_,label:"Home"},{path:"/logs",icon:V_,label:"Logs"},{path:"/library",icon:d0,label:"Library"},{path:"/story",icon:dd,label:"Story"},{path:"/statistics",icon:u0,label:"Stats"},{path:"/about",icon:c2,label:"About"}],Bv={superBloodMoon:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.95), rgba(80, 10, 10, 0.9), rgba(100, 20, 20, 0.8))",borderTop:"1px solid rgba(255, 50, 50, 0.6)",boxShadow:"0 -10px 40px rgba(220, 20, 60, 0.6), 0 -2px 10px rgba(255, 0, 0, 0.4), inset 0 2px 20px rgba(255, 50, 50, 0.2)",animation:"bloodPulse 3s ease-in-out infinite",backdropFilter:"blur(20px) saturate(150%)"},superBlueBloodMoon:{background:"linear-gradient(135deg, rgba(20, 0, 40, 0.95), rgba(60, 20, 80, 0.9), rgba(100, 40, 120, 0.8))",borderTop:"1px solid rgba(200, 100, 255, 0.6)",borderImage:"linear-gradient(90deg, transparent, rgba(200, 100, 255, 1), rgba(100, 200, 255, 1), transparent) 1",boxShadow:"0 -10px 40px rgba(120, 20, 220, 0.6), 0 -2px 10px rgba(200, 100, 255, 0.4), inset 0 2px 20px rgba(200, 100, 255, 0.2)",animation:"royalShimmer 4s ease-in-out infinite",backdropFilter:"blur(20px) saturate(180%)"},lunarTransientPhenomena:{background:"linear-gradient(to top, rgba(10, 10, 20, 0.95), rgba(30, 30, 60, 0.9))",borderTop:"1px solid rgba(150, 255, 255, 0.8)",boxShadow:"0 -5px 30px rgba(100, 255, 255, 0.5), 0 0 15px rgba(100, 255, 255, 0.3), inset 0 0 20px rgba(100, 255, 255, 0.1)",animation:"electricGlitch 3s steps(5) infinite",backdropFilter:"blur(15px) brightness(1.2)"},hybridEclipse:{background:"linear-gradient(to top, rgba(20, 10, 0, 0.95), rgba(60, 40, 10, 0.9))",borderTop:"1px solid rgba(255, 200, 100, 0.8)",boxShadow:"0 -5px 35px rgba(255, 160, 50, 0.6), 0 0 15px rgba(255, 200, 100, 0.4), inset 0 2px 10px rgba(255, 200, 100, 0.2)",animation:"eclipsePulse 4s ease-in-out infinite",backdropFilter:"blur(18px) contrast(1.1)"},stillMoon:{background:"linear-gradient(to top, rgba(200, 220, 255, 0.15), rgba(255, 255, 255, 0.05))",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 -5px 30px rgba(200, 230, 255, 0.4), inset 0 0 30px rgba(200, 230, 255, 0.2)",backdropFilter:"blur(30px) brightness(1.1)",animation:"stillFreeze 10s linear infinite"},echoMoon:{background:"linear-gradient(to top, rgba(30, 15, 60, 0.98), rgba(15, 5, 30, 0.98))",backgroundSize:"200% 100%",borderTop:"2px solid rgba(180, 130, 255, 0.8)",borderImage:"repeating-linear-gradient(90deg, rgba(160, 100, 255, 0.5) 0, rgba(200, 150, 255, 1) 20px, rgba(160, 100, 255, 0.5) 40px) 1",boxShadow:`
      0 -5px 25px rgba(140, 70, 255, 0.6),
      0 -10px 50px rgba(124, 58, 237, 0.3),
      inset 0 4px 20px rgba(200, 160, 255, 0.2)
    `,animation:"echoRipple 3s infinite linear",backdropFilter:"blur(25px)"},brokenMoon:{background:"linear-gradient(to top, rgba(10, 10, 12, 0.95), rgba(30, 30, 35, 0.9))",borderTop:"2px dashed rgba(255, 255, 255, 0.4)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1)",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px)",backdropFilter:"blur(15px) grayscale(0.8)"},emptySky:{background:"#050505",borderTop:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 -10px 50px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 255, 255, 0.1) inset",backdropFilter:"blur(50px) brightness(0.5)"},crystalMoon:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(200, 240, 255, 0.2))",borderTop:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 -5px 35px rgba(200, 240, 255, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(25px) contrast(1.2)",animation:"crystalFacet 5s ease-in-out infinite"},arcticMoon:{background:"linear-gradient(to top, rgba(20, 40, 60, 0.9), rgba(50, 100, 150, 0.8))",borderTop:"1px solid rgba(150, 230, 255, 0.8)",boxShadow:"0 -8px 30px rgba(100, 200, 255, 0.5), inset 0 0 20px rgba(150, 230, 255, 0.3)",backdropFilter:"blur(20px) brightness(1.1)"},shatteredMoon:{background:"linear-gradient(to top, rgba(20, 20, 25, 0.95), rgba(50, 50, 60, 0.9))",borderTop:"1px double rgba(255, 255, 255, 0.5)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.25), inset 0 0 10px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)"},cosmicVoyageMoon:{background:"linear-gradient(to top, rgba(30, 10, 60, 0.95), rgba(60, 20, 100, 0.9))",borderTop:"1px solid rgba(200, 100, 255, 0.7)",boxShadow:"0 -8px 35px rgba(150, 50, 255, 0.5), inset 0 0 15px rgba(200, 100, 255, 0.2)",backdropFilter:"blur(20px)"},nebulaDreamMoon:{background:"linear-gradient(to top, rgba(40, 20, 60, 0.95), rgba(80, 40, 100, 0.9))",borderTop:"1px solid rgba(255, 150, 255, 0.7)",boxShadow:"0 -8px 35px rgba(255, 100, 255, 0.5), 0 0 20px rgba(255, 100, 255, 0.2) inset",backdropFilter:"blur(20px)",animation:"nebulaSwirl 6s ease-in-out infinite"}};function Sd(){const e=pi(),[t,n]=p.useState(null);p.useEffect(()=>{const s=document.documentElement.getAttribute("data-mythic-theme");n(s);const i=new MutationObserver(()=>{const a=document.documentElement.getAttribute("data-mythic-theme");n(a)});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-mythic-theme"]}),()=>i.disconnect()},[]);const r=t&&Bv[t]?{...Bv[t]}:void 0;if(r){const s=r.animation||"";r.animation=`mythicThemeEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards${s?`, ${s}`:""}`}return l.jsxs("nav",{className:H("mythic-bottom-nav fixed bottom-0 left-0 right-0 border-t z-20",!t&&"bg-background"),style:r,children:[t==="hybridEclipse"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255, 220, 120, 0.8) 50%, transparent)",animation:"goldenWave 3s ease-in-out infinite"}}),t==="arcticMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1026] via-[#1b2735] to-[#090a0f]"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 50% 40%, white 10%, transparent 0), radial-gradient(2px 2px at 80% 20%, white 10%, transparent 0), radial-gradient(1px 1px at 30% 70%, white 20%, transparent 0)",backgroundSize:"200px 200px"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{background:"linear-gradient(120deg, rgba(0,255,150,0.3), rgba(0,0,0,0), rgba(150,0,255,0.3))",backgroundSize:"200% 200%",animation:"auroraShift 15s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-80 mix-blend-screen",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(0, 255, 180, 0.5), transparent 70%), linear-gradient(90deg, transparent, rgba(50, 255, 200, 0.3), transparent)",filter:"blur(15px)",transformOrigin:"bottom center",animation:"auroraWave 8s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-70 mix-blend-screen",style:{background:"radial-gradient(ellipse at 80% 80%, rgba(220, 50, 255, 0.4), transparent 60%)",filter:"blur(20px)",transformOrigin:"bottom center",animation:"auroraWave 12s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute top-0 left-0 w-[200%] h-full opacity-50 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.8), rgba(180, 100, 255, 0.6), transparent)",transform:"skewX(-20deg)",backgroundSize:"200% 100%",animation:"borderFlow 6s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`twinkle ${Math.random()*3+2}s ease-in-out infinite`,opacity:Math.random()*.8+.2}},i)),l.jsx("div",{className:"absolute inset-0 z-40 mix-blend-overlay pointer-events-none",style:{background:"radial-gradient(circle at 50% -20%, rgba(200, 255, 255, 0.8), transparent 70%)",animation:"auroraFlare 18s ease-in-out infinite"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute z-20",style:{top:-Math.random()*100-50+"%",right:Math.random()*100-20+"%",width:Math.random()*120+80+"px",height:"2px",opacity:0,background:`linear-gradient(to right, transparent, ${Math.random()>.5?"white":"#a5f3fc"}, transparent)`,filter:`drop-shadow(0 0 ${Math.random()*3+2}px ${Math.random()>.5?"white":"cyan"})`,animation:`shootingStar ${Math.random()*5+3}s linear infinite ${Math.random()*10}s both`,transform:"rotate(-45deg)"}},i)),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40px] z-10",style:{background:"linear-gradient(to top, rgba(100, 200, 255, 0.2), transparent)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-50 opacity-90",style:{background:"linear-gradient(90deg, transparent, #00ffcc, #bd00ff, #00ffcc, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 10px rgba(0, 255, 200, 0.6), 0 0 20px rgba(189, 0, 255, 0.4)"}}),l.jsx("div",{className:"absolute top-[2px] left-0 right-0 h-[1px] z-40 opacity-50 mix-blend-overlay",style:{background:"white"}})]}),t==="echoMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, rgba(20, 10, 40, 0.6), transparent)"}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute rounded-full border border-white/30",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out"}}),l.jsx("div",{className:"absolute rounded-full border border-white/20",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 1s"}}),l.jsx("div",{className:"absolute rounded-full border border-white/10",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 2s"}})]}),l.jsx("div",{className:"absolute left-[20%] top-[40%] rounded-full border border-white/20",style:{width:"50px",height:"50px",animation:"waterRipple 4s infinite ease-out 0.5s"}}),l.jsx("div",{className:"absolute right-[20%] top-[30%] rounded-full border border-white/20",style:{width:"60px",height:"60px",animation:"waterRipple 5s infinite ease-out 2.5s"}}),[...Array(5)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[1px]",style:{width:Math.random()*3+1+"px",height:Math.random()*3+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`echoParticle ${Math.random()*2+2}s infinite ease-in-out ${Math.random()}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-20",style:{background:"linear-gradient(90deg, rgba(160, 100, 255, 0), rgba(200, 160, 255, 0.8), rgba(255, 255, 255, 1), rgba(200, 160, 255, 0.8), rgba(160, 100, 255, 0))",backgroundSize:"200% 100%",animation:"liquidBorder 3s linear infinite",boxShadow:"0 2px 10px rgba(180, 130, 255, 0.5)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 40% 60%, rgba(180, 0, 50, 0.5), transparent 50%)",filter:"blur(20px)",animation:"plasmaFlow 10s ease-in-out infinite alternate"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 60% 40%, rgba(50, 60, 200, 0.6), transparent 50%)",filter:"blur(15px)",animation:"plasmaFlow 8s ease-in-out infinite alternate-reverse"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`starFloat ${Math.random()*10+10}s infinite linear, starTwinkle ${Math.random()*1+.5}s infinite ease-in-out alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(255, 50, 50, 0.8), rgba(200, 100, 255, 1), rgba(50, 100, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"flowRight 3s linear infinite",boxShadow:"0 0 15px rgba(200, 50, 200, 0.6)"}})]}),t==="hybridEclipse"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0a0500]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-40 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 180, 50, 0.3), rgba(255, 220, 100, 0.5), rgba(255, 180, 50, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 10s linear infinite"}}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 140, 0, 0.2), transparent)",backgroundSize:"25% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 7s linear infinite reverse"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E")`,mixBlendMode:"overlay"}}),[...Array(8)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-yellow-100 blur-[1px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 5px rgba(255, 200, 50, 0.8)",animation:`starFloat ${Math.random()*5+3}s infinite ease-in-out ${Math.random()}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(200, 120, 20, 0), rgba(255, 200, 100, 1), rgba(200, 120, 20, 0), transparent)",backgroundSize:"200% 100%",animation:"flowRight 4s linear infinite",boxShadow:"0 1px 15px rgba(255, 160, 50, 0.5)"}})]}),t==="brokenMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0c0c16]/98"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent 0, transparent 20px, rgba(160, 160, 200, 0.1) 21px, transparent 22px), repeating-linear-gradient(-45deg, transparent 0, transparent 35px, rgba(160, 160, 200, 0.1) 36px, transparent 37px)",animation:"voidCracks 5s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 mix-blend-color-dodge opacity-20",style:{background:"linear-gradient(90deg, transparent, rgba(100, 100, 255, 0.2), transparent)",backgroundSize:"200% 100%",animation:"flowRight 0.2s steps(4) infinite",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}}),[...Array(10)].map((s,i)=>l.jsx("div",{className:"absolute bg-white/40",style:{width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`shardFloat ${Math.random()*4+2}s linear infinite ${Math.random()*2}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(150, 150, 200, 0.5), rgba(200, 200, 255, 0.9), rgba(150, 150, 200, 0.5), transparent)",boxShadow:"0 0 10px rgba(180, 180, 255, 0.4)",animation:"glitchBorder 3s infinite"}})]}),t==="cosmicVoyageMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0b0515]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-50 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(100, 20, 200, 0.3), rgba(60, 20, 150, 0.5), rgba(100, 20, 200, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 5s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute w-[2px] bg-white rounded-full mix-blend-screen opacity-40",style:{height:Math.random()*30+10+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`warpSpeed ${Math.random()*2+1.5}s linear infinite ${Math.random()*3}s`,boxShadow:"0 0 2px rgba(200, 200, 255, 0.5)"}},i)),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-white rounded-full opacity-60",style:{top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`pulse ${Math.random()*2+1}s ease-in-out infinite`}},`star-${i}`)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 opacity-40",style:{background:"linear-gradient(90deg, transparent, #8a2be2, transparent)"}}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-screen",style:{background:"linear-gradient(90deg, transparent, rgba(150, 50, 255, 0), rgba(255, 200, 255, 1) 50%, rgba(150, 50, 255, 0), transparent)",backgroundSize:"200% 100%",boxShadow:"0 0 20px rgba(220, 150, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.5)",animation:"mistFlow 1.5s linear infinite"}})]}),t==="crystalMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0f1525]/90"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{background:"linear-gradient(135deg, rgba(200, 240, 255, 0.1), rgba(255, 200, 250, 0.15), rgba(200, 240, 255, 0.1), transparent)",backgroundSize:"200% 200%",animation:"prismReflect 5s ease-in-out infinite"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute bg-white/20 border border-white/40",style:{width:Math.random()*8+4+"px",height:Math.random()*8+4+"px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`crystalFloat ${Math.random()*4+3}s ease-in-out infinite ${Math.random()*2}s`,backdropFilter:"blur(2px)"}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 bg-white/40"}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.5), rgba(255, 165, 0, 0.5), rgba(255, 255, 0, 0.5), rgba(0, 255, 0, 0.5), rgba(0, 0, 255, 0.5), rgba(238, 130, 238, 0.5), transparent)",backgroundSize:"200% 100%",animation:"prismFlow 3s linear infinite, rainbowBorder 6s linear infinite"}})]}),t==="stillMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#b3e5fc] via-[#e1f5fe] to-[#ffffff]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjgiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuNSIvPjwvc3ZnPg==')",filter:"contrast(180%)"}}),l.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[150%] bg-white/20 backdrop-blur-sm z-10",style:{clipPath:"polygon(0 0, 100% 0, 80% 100%, 0 100%)",boxShadow:"inset 0 0 20px rgba(255,255,255,0.5)"}}),l.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[150%] bg-white/10 backdrop-blur-md z-10",style:{clipPath:"polygon(20% 0, 100% 0, 100% 100%, 0 100%)",borderLeft:"1px solid rgba(255,255,255,0.4)"}}),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute bg-white z-20",style:{width:Math.random()<.2?"3px":"1.5px",height:Math.random()<.2?"3px":"1.5px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.4,boxShadow:"0 0 4px rgba(255,255,255,0.9)",animation:`pulse ${Math.random()*4+2}s ease-in-out infinite alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 bg-white",style:{boxShadow:"0 0 15px rgba(200, 240, 255, 1), 0 0 30px rgba(200, 240, 255, 0.6)"}})]}),t==="nebulaDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#1a0b2e]/95 backdrop-blur-md"}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 0, 150, 0.3), transparent 60%), radial-gradient(circle at 70% 50%, rgba(0, 200, 255, 0.3), transparent 60%)",filter:"blur(10px)",animation:"nebulaPulse 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjAyIiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=')",animation:"mistFlow 10s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.8+.2,animation:`stardustTwinkle ${Math.random()*2+1}s ease-in-out infinite ${Math.random()}s`,boxShadow:`0 0 ${Math.random()*4+2}px ${i%2===0?"#ff00ff":"#00ffff"}`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",boxShadow:"0 0 15px rgba(255, 0, 255, 0.5), 0 0 30px rgba(0, 255, 255, 0.3)"}})]}),t==="superBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 3s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(50, 0, 0, 0.8), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 20% 20%, #ffaaaa 10%, transparent 0), radial-gradient(1.5px 1.5px at 60% 80%, #ff4444 10%, transparent 0)",backgroundSize:"200px 200px",animation:"pulse 4s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 35% 35%, #800000 0%, #500000 40%, #2a0a0a 100%)",boxShadow:"0 0 60px rgba(255, 30, 30, 0.6), inset -10px -10px 40px rgba(0,0,0,0.9)",filter:"contrast(1.2) brightness(1.2)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-60 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(0,0,0,0.7) 4%, transparent 12%), radial-gradient(circle at 65% 60%, rgba(0,0,0,0.6) 8%, transparent 20%), radial-gradient(circle at 45% 75%, rgba(0,0,0,0.5) 5%, transparent 15%), radial-gradient(circle at 80% 30%, rgba(0,0,0,0.6) 3%, transparent 10%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 20px rgba(255, 100, 100, 0.8), 0 0 10px rgba(255, 50, 50, 0.5)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-overlay",style:{background:"radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.6), transparent 70%)",animation:"flashPulse 4s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.6), transparent)",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:[...Array(8)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-red-600/20 blur-xl",style:{width:Math.random()*100+50+"px",height:Math.random()*100+50+"px",bottom:"-50px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*10+10}s linear infinite reverse`}},i))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #ff0000, #ff4444, #ff0000, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(255, 0, 0, 0.6)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(80, 0, 100, 0.4), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(1.5px 1.5px at 20% 20%, #aaddff 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 80%, #ffaaaa 10%, transparent 0)",backgroundSize:"250px 250px",animation:"pulse 5s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 30% 30%, #1e1b4b 0%, #4c0519 60%, #000000 100%)",boxShadow:"0 0 60px rgba(100, 50, 255, 0.4), inset -10px -10px 50px rgba(100, 0, 50, 0.8)",filter:"contrast(1.3) brightness(1.1)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-50 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 30% 40%, rgba(50,50,100,0.5) 5%, transparent 15%), radial-gradient(circle at 70% 60%, rgba(100,50,50,0.5) 8%, transparent 20%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 10px 10px 30px rgba(100, 150, 255, 0.6), inset -10px -10px 30px rgba(255, 50, 100, 0.4)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-color-dodge",style:{background:"radial-gradient(circle at 50% 50%, rgba(120, 50, 255, 0.4), transparent 70%)",animation:"flashPulse 5s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(20, 0, 40, 0.4), transparent)"},children:[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full blur-md",style:{backgroundColor:i%2===0?"#60a5fa":"#f43f5e",width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",bottom:"-20px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*8+8}s linear infinite reverse`,opacity:.6}},i))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #3b82f6, #a855f7, #ef4444, #a855f7, #3b82f6, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(168, 85, 247, 0.6)"}})]}),(t==="brokenMoon"||t==="shatteredMoon")&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#020205]"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] h-[12px] z-20",style:{background:"linear-gradient(90deg, #2e004d, #ffffff, #2e004d)",clipPath:"polygon(0% 45%, 10% 30%, 20% 60%, 30% 35%, 40% 65%, 50% 20%, 60% 70%, 70% 30%, 80% 60%, 90% 40%, 100% 50%, 100% 55%, 90% 45%, 80% 65%, 70% 35%, 60% 75%, 50% 25%, 40% 70%, 30% 40%, 20% 65%, 10% 35%, 0% 55%)",filter:"drop-shadow(0 0 10px rgba(100, 150, 255, 0.8)) drop-shadow(0 0 20px rgba(180, 50, 255, 0.6))",animation:"pulse 3s ease-in-out infinite alternate"},children:l.jsx("div",{className:"absolute inset-0 bg-white opacity-80 mix-blend-overlay",style:{animation:"flashPulse 0.1s infinite alternate"}})}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[60px] z-10 opacity-30",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(100, 200, 255, 0.4) 0%, transparent 70%)",filter:"blur(10px)",animation:"pulse 4s ease-in-out infinite"}}),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full z-30",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 4px white",opacity:Math.random()*.7+.3,animation:`twinkle ${Math.random()*2+1}s infinite alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#a855f7] to-transparent opacity-50"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#3b82f6] to-transparent opacity-50"})]}),t==="lunarTransientPhenomena"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 1.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]/95 backdrop-blur-xl"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",maskImage:"radial-gradient(circle at 50% 50%, black 40%, transparent 80%)"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute top-0 h-[2px] bg-gradient-to-r from-transparent via-[#00ffcc] to-transparent",style:{width:"30%",top:i*20+"%",opacity:.7,animation:`dataStream ${Math.random()*2+2}s linear infinite ${Math.random()*2}s`,boxShadow:"0 0 8px #00ffcc"}},i)),l.jsx("div",{className:"absolute top-0 h-[3px] w-[50%] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",animation:"laserScan 3s linear infinite",boxShadow:"0 0 15px rgba(255, 0, 255, 0.8)"}}),l.jsx("div",{className:"absolute inset-0 bg-white/10 mix-blend-overlay",style:{animation:"flashPulse 4s infinite random"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/20"})]}),t==="emptySky"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 4s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 50% 50%, rgba(70, 0, 150, 0.2), transparent 60%)",filter:"blur(20px)"}}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 40%, #b080ff 10%, transparent 0), radial-gradient(2px 2px at 40% 80%, white 10%, transparent 0)",backgroundSize:"300px 300px",animation:"accretionSpin 120s linear infinite"}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] z-10 pointer-events-none rounded-full",style:{background:"radial-gradient(circle, transparent 30%, rgba(150, 50, 255, 0.05) 40%, transparent 70%)",backdropFilter:"blur(2px) contrast(1.1)",transform:"scale(1.2)"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] pointer-events-none z-40 flex items-center justify-center scale-60",children:[l.jsx("div",{className:"absolute w-[280px] h-[280px] rounded-full opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 50% 50%, transparent 60%, rgba(120, 50, 255, 0.6) 65%, transparent 70%)",animation:"diskPulse 4s ease-in-out infinite",filter:"blur(4px)"}}),l.jsx("div",{className:"absolute w-[160px] h-[160px] rounded-full z-20",style:{background:"conic-gradient(from 0deg, #4c1d95 0%, #8b5cf6 25%, #ffffff 50%, #8b5cf6 75%, #4c1d95 100%)",maskImage:"radial-gradient(transparent 64%, black 66%)",WebkitMaskImage:"radial-gradient(transparent 64%, black 66%)",animation:"accretionSpin 0.9s linear infinite",boxShadow:"0 0 30px rgba(139, 92, 246, 0.6)"}}),l.jsx("div",{className:"absolute w-[150px] h-[150px] rounded-full z-10 bg-black box-border border border-purple-500/30"})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 opacity-100",style:{background:"linear-gradient(90deg, transparent 0%, #4c1d95 20%, #8b5cf6 45%, #ffffff 50%, #8b5cf6 55%, #4c1d95 80%, transparent 100%)",backgroundSize:"200% 100%",animation:"borderFlow 0.4s linear infinite",boxShadow:"0 0 15px rgba(139, 92, 246, 0.7)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[40px] z-20 opacity-30 pointer-events-none",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(150, 50, 255, 0.5), transparent 70%)"}}),[...Array(12)].map((s,i)=>l.jsx("div",{className:"absolute bg-zinc-800 rounded-full z-20 opacity-80",style:{width:Math.random()*4+2+"px",height:Math.random()*3+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*15+10}s linear infinite`,boxShadow:"inset 1px 1px 2px rgba(0,0,0,0.8)"}},i))]}),l.jsx("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto relative z-50",children:ID.map(({path:s,icon:i,label:a})=>{const o=e.pathname===s||s!=="/"&&e.pathname.startsWith(s);return l.jsxs(Dt,{to:s,className:H("mythic-nav-item flex flex-col items-center justify-center gap-1 px-3 py-2 transition-colors min-w-[60px] relative",o?"text-primary bg-primary/10 rounded-lg mythic-nav-active":"text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg"),style:t==="cosmicVoyageMoon"&&o?{background:"transparent"}:void 0,children:[t==="cosmicVoyageMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(45deg, transparent, rgba(128, 144, 192, 0.3), transparent)",boxShadow:"0 0 15px rgba(100, 100, 255, 0.4)",animation:"pulse 2s ease-in-out infinite"}}),t==="superBloodMoon"&&o&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 20px rgba(220, 20, 60, 0.5), inset 0 0 10px rgba(255, 50, 80, 0.2)",animation:"bloodGlow 2s ease-in-out infinite"}})}),t==="lunarTransientPhenomena"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 15px rgba(200, 168, 248, 0.6), 0 0 5px rgba(255, 255, 255, 0.8)",animation:"electricSpark 0.5s steps(5) infinite"}}),t==="crystalMoon"&&o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(220, 240, 255, 0.12), rgba(200, 230, 255, 0.15), rgba(240, 250, 255, 0.1))",boxShadow:"inset 0 0 15px rgba(255, 255, 255, 0.3), 0 0 20px rgba(220, 240, 255, 0.4)",animation:"crystalSparkle 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%), radial-gradient(circle at 70% 50%, rgba(200, 230, 255, 0.15) 0%, transparent 50%)",animation:"crystalSparkle 3s ease-in-out infinite reverse"}})]}),t==="nebulaDreamMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10 overflow-hidden",children:l.jsx("div",{style:{position:"absolute",inset:"-20%",background:"radial-gradient(circle, rgba(184, 136, 216, 0.3) 0%, transparent 70%)",animation:"nebulaRotate 8s linear infinite"}})}),t==="emptySky"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at center, rgba(40, 40, 60, 0.3) 0%, rgba(20, 20, 40, 0.2) 50%, transparent 100%)",boxShadow:"inset 0 0 15px rgba(10, 10, 25, 0.5), 0 0 10px rgba(30, 30, 50, 0.4)",animation:"voidDrift 4s ease-in-out infinite"}}),l.jsx(i,{className:H("w-5 h-5 transition-all duration-300",t&&o&&"drop-shadow-lg"),style:t&&o?{filter:t==="superBloodMoon"?"drop-shadow(0 0 6px rgba(220, 20, 60, 0.8))":t==="emptySky"?"drop-shadow(0 0 5px rgba(60, 60, 80, 0.7))":t==="lunarTransientPhenomena"?"drop-shadow(0 0 6px rgba(200, 168, 248, 0.8))":t==="crystalMoon"?"drop-shadow(0 0 6px rgba(224, 240, 255, 0.8))":t==="arcticMoon"?"drop-shadow(0 0 6px rgba(144, 220, 255, 0.8))":t==="nebulaDreamMoon"?"drop-shadow(0 0 6px rgba(184, 136, 216, 0.8))":void 0,animation:t==="lunarTransientPhenomena"?"iconFlicker 0.3s steps(3) infinite":void 0}:void 0}),l.jsx("span",{className:"text-[10px] font-medium",children:a})]},s)})})]})}function LD({children:e}){return pi(),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("header",{className:"border-b border-border sticky top-0 bg-background z-10",children:l.jsx("div",{className:"container-app py-3",children:l.jsxs(Dt,{to:"/",className:"text-lg font-semibold",children:["Dream book"," ",l.jsx("span",{className:"text-muted-foreground font-normal",children:"by Bon"})]})})}),l.jsx("main",{className:"flex-1 container-app pb-24",children:e}),l.jsx(Sd,{})]})}var Gn=function(){return Gn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gn.apply(this,arguments)};function Ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $D(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function FD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const BD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class R0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class zD extends R0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zv extends R0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vv extends R0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var km;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(km||(km={}));class VD{constructor(t,{headers:n={},customFetch:r,region:s=km.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=BD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $D(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const w=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,w.searchParams.set("forceFunctionRegion",m));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let b=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:b}).catch(k=>{throw new zD(k)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new zv(g);if(!g.ok)throw new Vv(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield g.json():y==="application/octet-stream"||y==="application/pdf"?S=yield g.blob():y==="text/event-stream"?S=g:y==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Vv||o instanceof zv?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var UD=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},WD=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var w;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new UD(a)}return{error:a,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const w=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",v=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${w}`,v&&(o+=` (${v})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var m;o=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},HD=class extends WD{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Uv=new RegExp("[,()]");var Oi=class extends HD{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Uv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Uv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},GD=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new Oi({method:s,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Oi({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Oi({method:a,url:o,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Oi({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Oi({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},KD=class w5{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new w5(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,w])=>w!==void 0).map(([m,w])=>[m,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([m,w])=>{c.searchParams.append(m,w)})):(o="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Oi({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class qD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const YD="2.91.0",XD=`realtime-js/${YD}`,QD="1.0.0",b5="2.0.0",Wv=b5,Em=1e4,JD=1e3,ZD=100;var Wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wr||(Wr={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var _n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_n||(_n={}));var jm;(function(e){e.websocket="websocket"})(jm||(jm={}));var Fs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fs||(Fs={}));class e4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(m),v=0;w.setUint8(v++,this.KINDS.userBroadcastPush),w.setUint8(v++,c.length),w.setUint8(v++,o.length),w.setUint8(v++,a.length),w.setUint8(v++,u.length),w.setUint8(v++,h.length),w.setUint8(v++,n),Array.from(c,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>w.setUint8(v++,g.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,o,c]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class S5{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const Hv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=t4(a,e,t,s),i),{}):{}},t4=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?k5(i,a):Cm(a)},k5=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return i4(t,n)}switch(e){case Se.bool:return n4(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return r4(t);case Se.json:case Se.jsonb:return s4(t);case Se.timestamp:return a4(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Cm(t);default:return Cm(t)}},Cm=e=>e,n4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},i4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>k5(t,o))}return e},a4=e=>typeof e=="string"?e.replace(" ","T"):e,E5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nh{constructor(t,n,r={},s=Em){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gv||(Gv={}));class No{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=No.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=No.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),w=d.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(o[u]=w),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kv||(Kv={}));var _o;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_o||(_o={}));var dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class Yi{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nh(this,_n.join,this.params,this.timeout),this.rejoinTimer=new S5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new No(this),this.broadcastEndpointURL=E5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[_o.PRESENCE]&&this.bindings[_o.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(dr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(dr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,g=[];for(let x=0;x<b;x++){const y=v[x],{filter:{event:S,schema:k,table:E,filter:C}}=y,j=m&&m[x];if(j&&j.event===S&&Yi.isFilterValueEqual(j.schema,k)&&Yi.isFilterValueEqual(j.table,E)&&Yi.isFilterValueEqual(j.filter,C))g.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(dr.SUBSCRIBED);return}}).receive("error",m=>{this.state=qe.errored,t==null||t(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===qe.joined&&t===_o.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Nh(this,_n.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=_n;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var w,v,b,g,x,y,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,C=(w=m.filter)===null||w===void 0?void 0:w.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((g=m.filter)===null||g===void 0)&&g.table)||m.filter.table===((x=n.data)===null||x===void 0?void 0:x.table))}else{const E=(S=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:b,commit_timestamp:g,type:x,errors:y}=w;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(f,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_n.close,{},t)}_onError(t){this._on(_n.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hv(t.columns,t.old_record)),n}}const _h=()=>{},dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o4=[1e3,2e3,5e3,1e4],l4=1e4,c4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Em,this.transport=null,this.heartbeatIntervalMs=dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_h,this.ref=0,this.reconnectTimer=null,this.vsn=Wv,this.logger=_h,this.conn=null,this.sendBuffer=[],this.serializer=new e4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${jm.websocket}`,this.httpEndpoint=E5(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return Fs.Connecting;case Wr.open:return Fs.Open;case Wr.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Yi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wr.open||this.conn.readyState===Wr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_n.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([c4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:XD};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(_n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new S5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Em,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:dc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:_h,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Wv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>o4[w-1]||l4,this.vsn){case QD:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,v)=>v(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,v)=>v(JSON.parse(w));break;case b5:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ol=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function d4(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function h4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function f4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=d4(e.baseUrl,r,s),c=await h4(e.auth),u=await t(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,w=m==null?void 0:m.error;throw new ol((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function hc(e){return e.join("")}var m4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(e.namespace)}`}),!0}catch(t){if(t instanceof ol&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ol&&n.status===409)return;throw n}}};function Si(e){return e.join("")}var p4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ol&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ol&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},g4=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=f4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new m4(this.client,t),this.tableOps=new p4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},kd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var y4=class extends kd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tm=class extends kd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const A0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v4=()=>Response,Pm=e=>{if(Array.isArray(e))return e.map(n=>Pm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Pm(r)}),t},x4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function b4(e,t){if(ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S4(e){var t=b4(e,"string");return ll(t)=="symbol"?t:t+""}function k4(e,t,n){return(t=S4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(n),!0).forEach(function(r){k4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Mh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},E4=async(e,t,n)=>{e instanceof await v4()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new y4(Mh(r),s,i))}).catch(r=>{t(new Tm(Mh(r),r))}):t(new Tm(Mh(e),e))},j4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(x4(r)?(s.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),re(re({},s),n))};async function Rl(e,t,n,r,s,i){return new Promise((a,o)=>{e(n,j4(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>E4(c,o,r))})}async function cl(e,t,n,r){return Rl(e,"GET",t,n,r)}async function Cn(e,t,n,r,s){return Rl(e,"POST",t,r,s,n)}async function Nm(e,t,n,r,s){return Rl(e,"PUT",t,r,s,n)}async function C4(e,t,n,r){return Rl(e,"HEAD",t,re(re({},n),{},{noResolveJson:!0}),r)}async function O0(e,t,n,r,s){return Rl(e,"DELETE",t,r,s,n)}var T4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}}};let j5;j5=Symbol.toStringTag;var P4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[j5]="BlobDownloadBuilder",this.promise=null}asStream(){return new T4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}}};const N4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=A0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=re(re({},Yv),r);let o=re(re({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=re(re({},o),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Nm:Cn)(s.fetch,`${s.url}/object/${d}`,i,re({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(_e(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let c;const u=re({upsert:Yv.upsert},r),d=re(re({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Nm(s.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(_e(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=re({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Cn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new kd("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Cn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Cn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await Cn(r.fetch,`${r.url}/object/sign/${s}`,re({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Cn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>re(re({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>cl(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new P4(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Pm(await cl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await C4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_e(r)&&r instanceof Tm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(e){var t=this;try{return{data:await O0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=re(re(re({},N4),t),{},{prefix:e||""});return{data:await Cn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=re({},e);return{data:await Cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const C5="2.91.0",T5={"X-Client-Info":`storage-js/${C5}`};var M4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=re(re({},T5),t),this.fetch=A0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await cl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await cl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Nm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await O0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},R4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},T5),t),this.fetch=A0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await cl(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await O0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!w4(e))throw new kd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new g4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const D0={"X-Client-Info":`storage-js/${C5}`,"Content-Type":"application/json"};var P5=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Rh=class extends P5{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},A4=class extends P5{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const I0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),O4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Rh(Xv(i),r,a))}).catch(()=>{const i=r+"";t(new Rh(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Rh(s.statusText||`HTTP ${r} error`,r,i))}}else t(new A4(Xv(e),e))},I4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(O4(r)?(s.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,re(re({},s),n)):s};async function L4(e,t,n,r,s,i){return new Promise((a,o)=>{e(n,I4(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>D4(c,o,r))})}async function Bt(e,t,n,r,s){return L4(e,"POST",t,r,s,n)}var $4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},D0),t),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}}},F4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},D0),t),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Bt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}},B4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},D0),t),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}},z4=class extends B4{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new V4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},V4=class extends $4{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new U4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},U4=class extends F4{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},W4=class extends M4{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new _4(this.url,this.headers,e,this.fetch)}get vectors(){return new z4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R4(this.url+"/iceberg",this.headers,this.fetch)}};const N5="2.91.0",Di=30*1e3,_m=3,Ah=_m*Di,H4="http://localhost:9999",G4="supabase.auth.token",K4={"X-Client-Info":`gotrue-js/${N5}`},Mm="X-Supabase-Api-Version",_5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y4=10*60*1e3;class ul extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X4 extends ul{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Q4(e){return Q(e)&&e.name==="AuthApiError"}class Bs extends ul{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class _r extends ul{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class It extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J4(e){return Q(e)&&e.name==="AuthSessionMissingError"}class ki extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends _r{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mc extends _r{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z4(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qv extends _r{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eI extends _r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Rm extends _r{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Oh(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Jv extends _r{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Am extends _r{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zv=` 	
\r=`.split(""),tI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zv.length;t+=1)e[Zv[t].charCodeAt(0)]=-2;for(let t=0;t<Eu.length;t+=1)e[Eu[t].charCodeAt(0)]=t;return e})();function ex(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eu[r]),t.queuedBits-=6}}function M5(e,t,n){const r=tI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tx(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{sI(a,r,n)};for(let a=0;a<e.length;a+=1)M5(e.charCodeAt(a),s,i);return t.join("")}function nI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}nI(r,t)}}function sI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ca(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)M5(e.charCodeAt(s),n,r);return new Uint8Array(t)}function iI(e){const t=[];return rI(e,n=>t.push(n)),new Uint8Array(t)}function Ws(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ex(s,n,r)),ex(null,n,r),t.join("")}function aI(e){return Math.round(Date.now()/1e3)+e}function oI(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},R5=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function lI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const A5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ii=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ms=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tt=async(e,t)=>{await e.removeItem(t)};class Ed{constructor(){this.promise=new Ed.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ed.promiseConstructor=Promise;function Dh(e){const t=e.split(".");if(t.length!==3)throw new Am("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!q4.test(t[r]))throw new Am("JWT not in base64url format");return{header:JSON.parse(tx(t[0])),payload:JSON.parse(tx(t[1])),signature:ca(t[2]),raw:{header:t[0],payload:t[1]}}}async function uI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dI(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function hI(e){return("0"+e.toString(16)).substr(-2)}function fI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,hI).join("")}async function mI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ei(e,t,n=!1){const r=fI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ii(e,`${t}-code-verifier`,s);const i=await pI(r);return[i,r===i?"plain":"s256"]}const gI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yI(e){const t=e.headers.get(Mm);if(!t||!t.match(gI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(e){if(!wI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bI(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function nx(e){return JSON.parse(JSON.stringify(e))}const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SI=[502,503,504];async function rx(e){var t;if(!cI(e))throw new Rm(Ds(e),0);if(SI.includes(e.status))throw new Rm(Ds(e),e.status);let n;try{n=await e.json()}catch(i){throw new Bs(Ds(i),i)}let r;const s=yI(e);if(s&&s.getTime()>=_5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jv(Ds(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new It}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Jv(Ds(n),e.status,n.weak_password.reasons);throw new X4(Ds(n),e.status||500,r)}const kI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Mm]||(i[Mm]=_5["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await EI(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function EI(e,t,n,r,s,i){const a=kI(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Rm(Ds(c),0)}if(o.ok||await rx(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await rx(c)}}function bn(e){var t;let n=null;TI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sx(e){const t=bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jI(e){return{data:e,error:null}}function CI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Ga(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function ix(e){return e}function TI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lh=["global","local","others"];class PI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=A5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Lh[0]){if(Lh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lh.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ga(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ix});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ji(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ji(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ji(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ji(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ji(t.userId),ji(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ix});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function ax(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ci={debug:!!(globalThis&&R5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NI extends O5{}async function _I(e,t,n){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ci.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function MI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function D5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function RI(e){return parseInt(e,16)}function AI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function OI(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=D5(e.address),w=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);x+=`
- ${y}`}g+=x}return`${b}
${g}`}class We extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ju extends We{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function DI({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(I5(a)){if(i.rp.id!==a)return new We({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function II({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(I5(r)){if(n.rpId!==r)return new We({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class LI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $I=new LI;function FI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ga(e,["challenge","user","excludeCredentials"]),i=ca(t).buffer,a=Object.assign(Object.assign({},n),{id:ca(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ca(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function BI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ga(e,["challenge","allowCredentials"]),s=ca(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ca(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function zI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ws(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ws(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ws(new Uint8Array(s.authenticatorData)),clientDataJSON:Ws(new Uint8Array(s.clientDataJSON)),signature:Ws(new Uint8Array(s.signature)),userHandle:s.userHandle?Ws(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function I5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ox(){var e,t;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:DI({error:t,options:e})}}}async function WI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:II({error:t,options:e})}}}const HI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const o=r[i];t(o)?r[i]=Cu(o,a):r[i]=Cu(a)}else r[i]=a}return r}function KI(e,t){return Cu(HI,e,t||{})}function qI(e,t){return Cu(GI,e,t||{})}class YI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:o};const c=s??$I.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=KI(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await UI({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=qI(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await WI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Bs("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ul("rpId is required for WebAuthn authentication")};try{if(!ox())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Bs("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ul("rpId is required for WebAuthn registration")};try{if(!ox())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Bs("Unexpected error in register",a)}}}}MI();const XI={url:H4,storageKey:G4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lx(e,t,n){return await n()}const Ti={};class dl{get jwks(){var t,n;return(n=(t=Ti[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ti[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},XI),t);if(this.storageKey=i.storageKey,this.instanceID=(n=dl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&nt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=A5(i.fetch),this.lock=i.lock||lx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_I:this.lock=lx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:R5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ax(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ax(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${N5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(nt()&&(n=lI(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Bs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bn}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Ei(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:w},xform:bn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bn})}else throw new fc("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sx})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sx})}else throw new fc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new ki;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,o,c,u,d,h,f;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:v,wallet:b,statement:g,options:x}=t;let y;if(nt())if(typeof b=="object")y=b;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=D5(k[0]);let C=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const T=await y.request({method:"eth_chainId"});C=RI(T)}const j={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:C,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=OI(j),w=await y.request({method:"personal_sign",params:[AI(m),E]})}try{const{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bn});if(b)throw b;if(!v||!v.session||!v.user){const g=new ki;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Q(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,a,o,c,u,d,h,f,m;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:g,statement:x,options:y}=t;let S;if(nt())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:b,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ws(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bn});if(g)throw g;if(!b||!b.session||!b.user){const x=new ki;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(Q(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Ms(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new eI;const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new ki;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",i.session)},0)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ki;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ei(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new fc("You must provide either an email or phone number.")}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Ei(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:jI});return!((i=u.data)===null||i===void 0)&&i.url&&nt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new It;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new fc("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ah:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ms(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ih()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=bI(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kr}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kr})})}catch(n){if(Q(n))return J4(n)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new It;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ei(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Kr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Dh(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!nt())throw new mc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qv("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new mc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Q4(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=oI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ei(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=t,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ki}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dI(async s=>(s>0&&await uI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Oh(i)&&Date.now()+a-r<Di})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ms(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ii(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ih()}else if(s&&!s.user&&!s.user){const a=await Ms(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await tt(this.storage,this.storageKey+"-user"),await Ii(this.storage,this.storageKey,s)):s.user=Ih()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ah;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ah}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Oh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ed;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Q(i)){const a={data:null,error:i};return Oh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ii(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=nx(s);await Ii(this.storage,this.storageKey,i)}else{const s=nx(n);await Ii(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Di}ms, refresh threshold is ${_m} ticks`),s<=_m&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ei(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zI(t.webauthn.credential_response):VI(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:FI(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:BI(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Dh(r.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new It})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new It});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new It});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new It})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Y4>s)return r;const{data:i,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return this._returnResult({data:null,error:w});r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=Dh(r);n!=null&&n.allowExpired||vI(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=xI(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,iI(`${o}.${c}`)))throw new Am("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}dl.nextInstanceID={};const QI=dl,JI="2.91.0";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const ZI={"X-Client-Info":`supabase-js-${mo}/${JI}`},e3={headers:ZI},t3={schema:"public"},n3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r3={};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function s3(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3(e){var t=s3(e,"string");return hl(t)=="symbol"?t:t+""}function a3(e,t,n){return(t=i3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(n),!0).forEach(function(r){a3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const o3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),l3=()=>Headers,c3=(e,t,n)=>{const r=o3(n),s=l3();return async(i,a)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Le(Le({},a),{},{headers:u}))}};function u3(e){return e.endsWith("/")?e:e+"/"}function d3(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Le(Le({},c),s),auth:Le(Le({},u),i),realtime:Le(Le({},d),a),storage:{},global:Le(Le(Le({},h),o),{},{headers:Le(Le({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function h3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f3=class extends QI{constructor(e){super(e)}},m3=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=h3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:t3,realtime:r3,auth:Le(Le({},n3),{},{storageKey:a}),global:e3},c=d3(n??{},o);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=c3(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new KD(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new W4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new VD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f3({url:this.authUrl.href,headers:Le(Le({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new u4(this.realtimeUrl.href,Le(Le({},e),{},{params:Le(Le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const p3=(e,t,n)=>new m3(e,t,n);function g3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}g3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y3="https://rapxqrjhrehfhqsafovf.supabase.co",v3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co",Be=p3(y3,v3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function gi(){const{data:e,error:t}=await Be.from("dream_logs").select(`
      *,
      world:worlds(id, name),
      entities:dream_log_entities(entity:entities(id, name))
    `).order("date",{ascending:!1});return t?(console.error("Error fetching dream logs:",t),[]):(e||[]).map(n=>{var r,s;return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:((r=n.world)==null?void 0:r.name)||"",timeSystem:n.time_system,environments:n.environments||[],entities:((s=n.entities)==null?void 0:s.map(i=>{var a;return(a=i.entity)==null?void 0:a.name}).filter(Boolean))||[],threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}})}async function L5(e){let t=null;if(e.world){const{data:s}=await Be.from("worlds").select("id").eq("name",e.world).maybeSingle();if(s)t=s.id;else{const{data:i}=await Be.from("worlds").insert({name:e.world,type:"transient",stability:3}).select("id").single();t=(i==null?void 0:i.id)||null}}const{data:n,error:r}=await Be.from("dream_logs").insert({dream_id:"",date:e.date,wake_time:e.wakeTime,world_id:t,time_system:e.timeSystem,environments:e.environments,threat_level:e.threatLevel,safety_override:e.safetyOverride,exit:e.exit,notes:e.notes}).select().single();if(r||!n)return console.error("Error adding dream log:",r),null;for(const s of e.entities){let i;const{data:a}=await Be.from("entities").select("id").eq("name",s).maybeSingle();if(a)i=a.id;else{const{data:o}=await Be.from("entities").insert({name:s,role:"observer"}).select("id").single();i=(o==null?void 0:o.id)||""}i&&await Be.from("dream_log_entities").insert({dream_log_id:n.id,entity_id:i})}return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:e.world,timeSystem:n.time_system,environments:n.environments||[],entities:e.entities,threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}}async function x3(e,t){const{data:n}=await Be.from("dream_logs").select("*").eq("dream_id",e).single();if(!n)return null;let r=n.world_id;if(t.world){const{data:o}=await Be.from("worlds").select("id").eq("name",t.world).maybeSingle();if(o)r=o.id;else{const{data:c}=await Be.from("worlds").insert({name:t.world,type:"transient",stability:3}).select("id").single();r=(c==null?void 0:c.id)||r}}const{data:s,error:i}=await Be.from("dream_logs").update({world_id:r,time_system:t.timeSystem||n.time_system,environments:t.environments||n.environments,threat_level:t.threatLevel!==void 0?t.threatLevel:n.threat_level,safety_override:t.safetyOverride||n.safety_override,exit:t.exit||n.exit,notes:t.notes!==void 0?t.notes:n.notes}).eq("dream_id",e).select().single();if(i||!s)return console.error("Error updating dream log:",i),null;if(t.entities){await Be.from("dream_log_entities").delete().eq("dream_log_id",s.id);for(const o of t.entities){let c;const{data:u}=await Be.from("entities").select("id").eq("name",o).maybeSingle();if(u)c=u.id;else{const{data:d}=await Be.from("entities").insert({name:o,role:"observer"}).select("id").single();c=(d==null?void 0:d.id)||""}c&&await Be.from("dream_log_entities").insert({dream_log_id:s.id,entity_id:c})}}let a=t.world||"";if(!a&&r){const{data:o}=await Be.from("worlds").select("name").eq("id",r).maybeSingle();a=(o==null?void 0:o.name)||""}return{id:s.dream_id,date:s.date,wakeTime:s.wake_time,world:a,timeSystem:s.time_system,environments:s.environments||[],entities:t.entities||[],threatLevel:s.threat_level,safetyOverride:s.safety_override,exit:s.exit,notes:s.notes||void 0,createdAt:s.created_at}}async function w3(e){const{error:t}=await Be.from("dream_logs").delete().eq("dream_id",e);return!t}async function Al(){const{data:e,error:t}=await Be.from("worlds").select(`
      *,
      dream_logs(dream_id)
    `).order("name");return t?(console.error("Error fetching worlds:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,type:n.type,stability:n.stability,description:n.description||void 0,dreamIds:((r=n.dream_logs)==null?void 0:r.map(s=>s.dream_id))||[]}})}async function jd(){const{data:e,error:t}=await Be.from("entities").select(`
      *,
      dream_log_entities(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching entities:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,role:n.role,description:n.description||void 0,dreamIds:((r=n.dream_log_entities)==null?void 0:r.map(s=>{var i;return(i=s.dream_log)==null?void 0:i.dream_id}).filter(Boolean))||[]}})}async function b3(){const{data:e,error:t}=await Be.from("threats").select(`
      *,
      dream_log_threats(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching threats:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,level:n.level,response:n.response||void 0,dreamIds:((r=n.dream_log_threats)==null?void 0:r.map(s=>{var i;return(i=s.dream_log)==null?void 0:i.dream_id}).filter(Boolean))||[]}})}async function S3(e,t,n,r){const s=await fetch("https://rapxqrjhrehfhqsafovf.supabase.co/functions/v1/suggest-tags",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co"},body:JSON.stringify({text:e,existingWorlds:t,existingEntities:n,existingEnvironments:r})});return s.ok?s.json():{world:null,environments:[],entities:[],threatLevel:0,safetyOverride:"unknown",exit:"unknown",timeSystem:"unknown"}}const Mo={newMoon:{id:"newMoon",name:"",nameEn:"New Moon",rarity:"normal",moonTint:"#2a2a3a",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#5a5a7a",transitionSpeed:35,starDensity:1,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.2,emotionTag:"new_beginning",subtitle:""},waxingCrescent:{id:"waxingCrescent",name:"",nameEn:"Waxing Crescent",rarity:"normal",moonTint:"#D8D8E8",skyPalette:["#0a0e27","#1a1e37","#2a2e47"],uiAccent:"#8888a8",transitionSpeed:30,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.22,emotionTag:"growing",subtitle:" "},firstQuarter:{id:"firstQuarter",name:"",nameEn:"First Quarter",rarity:"normal",moonTint:"#E0E0F0",skyPalette:["#0c1028","#1c2038","#2c3048"],uiAccent:"#9090b0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"balanced",subtitle:""},waxingGibbous:{id:"waxingGibbous",name:"",nameEn:"Waxing Gibbous",rarity:"normal",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#9898c8",transitionSpeed:30,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.28,emotionTag:"anticipation",subtitle:""},fullMoon:{id:"fullMoon",name:"",nameEn:"Full Moon",rarity:"normal",moonTint:"#E6E6FA",skyPalette:["#0a0e27","#1a1e3e","#2a2e4e"],uiAccent:"#9090c0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"peaceful",subtitle:""},waningGibbous:{id:"waningGibbous",name:"",nameEn:"Waning Gibbous",rarity:"normal",moonTint:"#D0D0E0",skyPalette:["#0a0e25","#1a1e35","#2a2e45"],uiAccent:"#8080a0",transitionSpeed:32,starDensity:.82,cloudOpacity:.28,cloudSpeed:.95,shootingStarChance:.23,emotionTag:"reflection",subtitle:""},lastQuarter:{id:"lastQuarter",name:"",nameEn:"Last Quarter",rarity:"normal",moonTint:"#C8C8D8",skyPalette:["#0b0f26","#1b1f36","#2b2f46"],uiAccent:"#7878a8",transitionSpeed:33,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.2,emotionTag:"letting_go",subtitle:""},waningCrescent:{id:"waningCrescent",name:"",nameEn:"Waning Crescent",rarity:"normal",moonTint:"#B8B8C8",skyPalette:["#080c24","#181c34","#282c44"],uiAccent:"#6868a0",transitionSpeed:35,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"fading",subtitle:" "},penumbralEclipse:{id:"penumbralEclipse",name:"",nameEn:"Penumbral Lunar Eclipse",rarity:"rare",moonTint:"#A8A8B8",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#7878a8",transitionSpeed:40,starDensity:.85,cloudOpacity:.25,cloudSpeed:.8,shootingStarChance:.3,emotionTag:"subtle_change",subtitle:""},partialEclipse:{id:"partialEclipse",name:"",nameEn:"Partial Lunar Eclipse",rarity:"very_rare",moonTint:"#987070",skyPalette:["#150a0a","#251a1a","#352a2a"],uiAccent:"#a87878",transitionSpeed:45,starDensity:.75,cloudOpacity:.35,cloudSpeed:1,shootingStarChance:.35,emotionTag:"partial_shadow",subtitle:""},totalEclipse:{id:"totalEclipse",name:"",nameEn:"Total Lunar Eclipse",rarity:"legendary",moonTint:"#8B4545",skyPalette:["#1a0a0a","#2a1a1a","#3a2a2a"],uiAccent:"#a85555",transitionSpeed:45,starDensity:.7,cloudOpacity:.4,cloudSpeed:1.2,shootingStarChance:.4,specialEffect:"bloodRing",effectIntensity:.75,emotionTag:"intense",subtitle:""},superBloodMoon:{id:"superBloodMoon",name:"",nameEn:"Super Blood Moon",rarity:"mythic",moonTint:"#A03030",skyPalette:["#200505","#301515","#402525"],uiAccent:"#c84040",transitionSpeed:50,starDensity:.65,cloudOpacity:.45,cloudSpeed:1.3,shootingStarChance:.5,specialEffect:"meteorShower",effectIntensity:.9,emotionTag:"dramatic",subtitle:"",moonSize:1.5},superBlueBloodMoon:{id:"superBlueBloodMoon",name:"",nameEn:"Super Blue Blood Moon",rarity:"mythic",moonTint:"#B84060",skyPalette:["#1a0510","#2a1520","#3a2530"],uiAccent:"#d85080",transitionSpeed:60,starDensity:.95,cloudOpacity:.35,cloudSpeed:1.4,shootingStarChance:.6,specialEffect:"meteorShower",effectIntensity:.7,emotionTag:"once_in_lifetime",subtitle:"",moonSize:1.5},lunarTransientPhenomena:{id:"lunarTransientPhenomena",name:"",nameEn:"Lunar Transient Phenomena",rarity:"mythic",moonTint:"#E8D8FF",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#c8a8f8",transitionSpeed:55,starDensity:.9,cloudOpacity:.2,cloudSpeed:.9,shootingStarChance:.45,specialEffect:"flash",effectIntensity:.8,emotionTag:"mysterious_flash",subtitle:"",moonSize:1.4},hybridEclipse:{id:"hybridEclipse",name:"",nameEn:"Hybrid Eclipse",rarity:"mythic",moonTint:"#D8A860",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#e8b870",transitionSpeed:58,starDensity:.7,cloudOpacity:.3,cloudSpeed:1.1,shootingStarChance:.35,specialEffect:"fog",effectIntensity:.7,emotionTag:"dual_nature",subtitle:"",moonSize:1.4},supermoon:{id:"supermoon",name:"",nameEn:"Supermoon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2c","#1a1e3c","#2a2e4c"],uiAccent:"#a0a0d0",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"grand",subtitle:""},micromoon:{id:"micromoon",name:"",nameEn:"Micromoon",rarity:"rare",moonTint:"#C0C0D0",skyPalette:["#0a0e22","#1a1e32","#2a2e42"],uiAccent:"#7070a0",transitionSpeed:38,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.2,emotionTag:"distant",subtitle:""},perigeeMoon:{id:"perigeeMoon",name:"",nameEn:"Perigee Moon",rarity:"rare",moonTint:"#F8F8FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#a8a8d8",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.15,shootingStarChance:.32,emotionTag:"close",subtitle:""},apogeeMoon:{id:"apogeeMoon",name:"",nameEn:"Apogee Moon",rarity:"rare",moonTint:"#B0B0C0",skyPalette:["#0a0e20","#1a1e30","#2a2e40"],uiAccent:"#6060a0",transitionSpeed:40,starDensity:.95,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.18,emotionTag:"far",subtitle:""},earthshine:{id:"earthshine",name:"",nameEn:"Earthshine Moon",rarity:"rare",moonTint:"#FFE4B5",skyPalette:["#0d0a1f","#1d1a2f","#2d2a3f"],uiAccent:"#d4a574",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.35,emotionTag:"warm",subtitle:""},moonHalo:{id:"moonHalo",name:"",nameEn:"Moon Halo",rarity:"very_rare",moonTint:"#E0E0FA",skyPalette:["#0a0e28","#1a1e38","#2a2e48"],uiAccent:"#9898c8",transitionSpeed:42,starDensity:.8,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.28,emotionTag:"mystical",subtitle:""},moonCorona:{id:"moonCorona",name:"",nameEn:"Moon Corona",rarity:"very_rare",moonTint:"#D8D8F8",skyPalette:["#0a0e29","#1a1e39","#2a2e49"],uiAccent:"#8888c8",transitionSpeed:43,starDensity:.75,cloudOpacity:.45,cloudSpeed:.85,shootingStarChance:.3,emotionTag:"crowned",subtitle:""},coloredMoon:{id:"coloredMoon",name:"",nameEn:"Colored Moon",rarity:"rare",moonTint:"#E8C8D8",skyPalette:["#0c0a1e","#1c1a2e","#2c2a3e"],uiAccent:"#b898a8",transitionSpeed:38,starDensity:.85,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.27,emotionTag:"colorful",subtitle:""},moonIllusion:{id:"moonIllusion",name:"",nameEn:"Moon Illusion",rarity:"rare",moonTint:"#F8E8D8",skyPalette:["#0d0b1d","#1d1b2d","#2d2b3d"],uiAccent:"#c8b898",transitionSpeed:37,starDensity:.8,cloudOpacity:.35,cloudSpeed:1.05,shootingStarChance:.25,emotionTag:"illusory",subtitle:""},blueMoon:{id:"blueMoon",name:"",nameEn:"Blue Moon",rarity:"very_rare",moonTint:"#B0C8E0",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#8098c0",transitionSpeed:45,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.33,emotionTag:"rare",subtitle:""},blackMoon:{id:"blackMoon",name:"",nameEn:"Black Moon",rarity:"very_rare",moonTint:"#1a1a2e",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#4a4a6a",transitionSpeed:50,starDensity:1,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,emotionTag:"mysterious",subtitle:""},harvestMoon:{id:"harvestMoon",name:"",nameEn:"Harvest Moon",rarity:"rare",moonTint:"#FFD8A0",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#d8a870",transitionSpeed:38,starDensity:.75,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,specialEffect:"fireflies",effectIntensity:.6,emotionTag:"abundant",subtitle:""},hunterMoon:{id:"hunterMoon",name:"",nameEn:"Hunter Moon",rarity:"rare",moonTint:"#E8B878",skyPalette:["#1a1208","#2a2218","#3a3228"],uiAccent:"#c89858",transitionSpeed:38,starDensity:.8,cloudOpacity:.25,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"alert",subtitle:""},pinkMoon:{id:"pinkMoon",name:"",nameEn:"Pink Moon",rarity:"rare",moonTint:"#FFD8E8",skyPalette:["#1a0e18","#2a1e28","#3a2e38"],uiAccent:"#d8a8b8",transitionSpeed:35,starDensity:.85,cloudOpacity:.3,cloudSpeed:.95,shootingStarChance:.27,emotionTag:"gentle",subtitle:""},wolfMoon:{id:"wolfMoon",name:"",nameEn:"Wolf Moon",rarity:"rare",moonTint:"#D8D8E8",skyPalette:["#0a0e24","#1a1e34","#2a2e44"],uiAccent:"#9898b8",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.25,emotionTag:"wild",subtitle:""},snowMoon:{id:"snowMoon",name:"",nameEn:"Snow Moon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#b0b0d0",transitionSpeed:42,starDensity:.95,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.22,specialEffect:"snow",effectIntensity:.7,emotionTag:"cold",subtitle:""},strawberryMoon:{id:"strawberryMoon",name:"",nameEn:"Strawberry Moon",rarity:"rare",moonTint:"#FFE0D0",skyPalette:["#1a0e0e","#2a1e1e","#3a2e2e"],uiAccent:"#d8b0a0",transitionSpeed:36,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,emotionTag:"sweet",subtitle:""},stillMoon:{id:"stillMoon",name:"",nameEn:"Still Moon",rarity:"mythic",moonTint:"#B0C4DE",skyPalette:["#0f0f1f","#1f1f2f","#2f2f3f"],uiAccent:"#7090b0",transitionSpeed:60,starDensity:.6,cloudOpacity:.5,cloudSpeed:.1,shootingStarChance:0,specialEffect:"frozenTime",effectIntensity:.75,emotionTag:"frozen",subtitle:"",moonSize:1.4},fadingMoon:{id:"fadingMoon",name:"",nameEn:"Fading Moon",rarity:"legendary",moonTint:"#A0A0B0",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#707090",transitionSpeed:55,starDensity:.7,cloudOpacity:.45,cloudSpeed:.6,shootingStarChance:.15,specialEffect:"fadeParticles",effectIntensity:.7,emotionTag:"disappearing",subtitle:" "},veiledMoon:{id:"veiledMoon",name:"",nameEn:"Veiled Moon",rarity:"very_rare",moonTint:"#C0C0D0",skyPalette:["#0c0c1c","#1c1c2c","#2c2c3c"],uiAccent:"#8080a0",transitionSpeed:48,starDensity:.65,cloudOpacity:.6,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"obscured",subtitle:""},echoMoon:{id:"echoMoon",name:"",nameEn:"Echo Moon",rarity:"mythic",moonTint:"#D0D0E8",skyPalette:["#0e0e1e","#1e1e2e","#2e2e3e"],uiAccent:"#9090b8",transitionSpeed:52,starDensity:.75,cloudOpacity:.35,cloudSpeed:.9,shootingStarChance:.25,specialEffect:"echo",effectIntensity:.75,emotionTag:"repeating",subtitle:"",moonSize:1.4},silentMoon:{id:"silentMoon",name:"",nameEn:"Silent Moon",rarity:"legendary",moonTint:"#A8A8C8",skyPalette:["#08081a","#18182a","#28283a"],uiAccent:"#6868a8",transitionSpeed:58,starDensity:0,cloudOpacity:.2,cloudSpeed:.5,shootingStarChance:0,specialEffect:"silence",effectIntensity:.8,emotionTag:"silent",subtitle:" "},brokenMoon:{id:"brokenMoon",name:"",nameEn:"Broken Moon",rarity:"mythic",moonTint:"#9898B8",skyPalette:["#0a0a1c","#1a1a2c","#2a2a3c"],uiAccent:"#6868a8",transitionSpeed:54,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.2,emotionTag:"fractured",subtitle:"",moonSize:1.4},emptySky:{id:"emptySky",name:"",nameEn:"Empty Sky",rarity:"mythic",moonTint:"#404050",skyPalette:["#000000","#050510","#0a0a20"],uiAccent:"#505070",transitionSpeed:60,starDensity:0,cloudOpacity:0,cloudSpeed:0,shootingStarChance:0,specialEffect:"voidRipples",effectIntensity:.6,emotionTag:"void",subtitle:"",moonSize:1.4},dreamMoon:{id:"dreamMoon",name:"",nameEn:"Dream Moon",rarity:"legendary",moonTint:"#C8B8D8",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#a888c8",transitionSpeed:50,starDensity:.85,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.35,specialEffect:"dreamDust",effectIntensity:.75,emotionTag:"dreamy",subtitle:""},whisperingMoon:{id:"whisperingMoon",name:"",nameEn:"Whispering Moon",rarity:"very_rare",moonTint:"#D8C8E8",skyPalette:["#0c0a1c","#1c1a2c","#2c2a3c"],uiAccent:"#b898d8",transitionSpeed:46,starDensity:.8,cloudOpacity:.35,cloudSpeed:.85,shootingStarChance:.28,emotionTag:"whispering",subtitle:""},forgottenMoon:{id:"forgottenMoon",name:"",nameEn:"Forgotten Moon",rarity:"legendary",moonTint:"#888898",skyPalette:["#0a0a18","#1a1a28","#2a2a38"],uiAccent:"#585878",transitionSpeed:56,starDensity:.5,cloudOpacity:.5,cloudSpeed:.4,shootingStarChance:.1,specialEffect:"memoryFragments",effectIntensity:.65,emotionTag:"forgotten",subtitle:""},mirrorMoon:{id:"mirrorMoon",name:"",nameEn:"Mirror Moon",rarity:"very_rare",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:.9,cloudOpacity:.25,cloudSpeed:1,shootingStarChance:.3,emotionTag:"reflective",subtitle:""},twilightMoon:{id:"twilightMoon",name:"",nameEn:"Twilight Moon",rarity:"rare",moonTint:"#C8B8D8",skyPalette:["#1a1428","#2a2438","#3a3448"],uiAccent:"#9888b8",transitionSpeed:40,starDensity:.7,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.25,emotionTag:"transition",subtitle:""},ancientMoon:{id:"ancientMoon",name:"",nameEn:"Ancient Moon",rarity:"legendary",moonTint:"#B8A888",skyPalette:["#1a1408","#2a2418","#3a3428"],uiAccent:"#988868",transitionSpeed:52,starDensity:.85,cloudOpacity:.3,cloudSpeed:.6,shootingStarChance:.22,specialEffect:"ancientRunes",effectIntensity:.7,emotionTag:"ancient",subtitle:""},crystalMoon:{id:"crystalMoon",name:"",nameEn:"Crystal Moon",rarity:"mythic",moonTint:"#E0F0FF",skyPalette:["#0a0e30","#1a1e40","#2a2e50"],uiAccent:"#b0c0e0",transitionSpeed:48,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:.4,specialEffect:"prismLights",effectIntensity:.9,emotionTag:"crystalline",subtitle:"",moonSize:1.5},shadowMoon:{id:"shadowMoon",name:"",nameEn:"Shadow Moon",rarity:"very_rare",moonTint:"#606078",skyPalette:["#050510","#151520","#252530"],uiAccent:"#404068",transitionSpeed:50,starDensity:.6,cloudOpacity:.5,cloudSpeed:.7,shootingStarChance:.15,emotionTag:"shadowy",subtitle:""},luminousMoon:{id:"luminousMoon",name:"",nameEn:"Luminous Moon",rarity:"legendary",moonTint:"#F8F8FF",skyPalette:["#0a0e32","#1a1e42","#2a2e52"],uiAccent:"#c8c8f0",transitionSpeed:46,starDensity:.95,cloudOpacity:.2,cloudSpeed:1.1,shootingStarChance:.38,specialEffect:"lightRays",effectIntensity:.8,emotionTag:"radiant",subtitle:""},arcticMoon:{id:"arcticMoon",name:"",nameEn:"Arctic Moon",rarity:"mythic",moonTint:"#D0E8F8",skyPalette:["#000814","#001428","#00243c"],uiAccent:"#90c0d8",transitionSpeed:50,starDensity:.9,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,specialEffect:"aurora",effectIntensity:.85,emotionTag:"ethereal",subtitle:"",moonSize:1.4},meteorShowerMoon:{id:"meteorShowerMoon",name:"",nameEn:"Meteor Shower Moon",rarity:"legendary",moonTint:"#E8E8FF",skyPalette:["#0a0a20","#1a1a30","#2a2a40"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:0,specialEffect:"shootingStars",effectIntensity:.85,emotionTag:"spectacular",subtitle:""},shatteredMoon:{id:"shatteredMoon",name:"",nameEn:"Shattered Moon",rarity:"mythic",moonTint:"#E8E8F8",skyPalette:["#0a0a1f","#141428","#1e1e38"],uiAccent:"#9898c8",transitionSpeed:52,starDensity:.85,cloudOpacity:.15,cloudSpeed:.4,shootingStarChance:.22,moonSize:1.6,specialEffect:"shattered",effectIntensity:1,emotionTag:"broken",subtitle:""},cosmicVoyageMoon:{id:"cosmicVoyageMoon",name:"",nameEn:"Cosmic Voyage Moon",rarity:"mythic",moonTint:"#E0E8FF",skyPalette:["#000510","#001020","#001530"],uiAccent:"#8090C0",transitionSpeed:55,starDensity:.95,cloudOpacity:.05,cloudSpeed:.3,shootingStarChance:.25,moonSize:1.3,specialEffect:"starfield",effectIntensity:1,emotionTag:"cosmic",subtitle:""},nebulaDreamMoon:{id:"nebulaDreamMoon",name:"",nameEn:"Nebula Dream Moon",rarity:"mythic",moonTint:"#F0D8FF",skyPalette:["#0a0515","#150a25","#200f35"],uiAccent:"#B888D8",transitionSpeed:58,starDensity:.9,cloudOpacity:.1,cloudSpeed:.4,shootingStarChance:.2,moonSize:1.5,specialEffect:"nebula",effectIntensity:.9,emotionTag:"dreamy",subtitle:""}},k3=()=>Object.values(Mo),ux={normal:70,rare:20,very_rare:15,legendary:10,mythic:5},E3=()=>{const e=k3(),t=e.reduce((r,s)=>r+ux[s.rarity],0);let n=Math.random()*t;for(const r of e)if(n-=ux[r.rarity],n<=0)return r;return e[0]},fl=()=>{const e="dreambook_moon_phenomenon",t=sessionStorage.getItem(e);if(t)try{const r=JSON.parse(t);if(r&&r.id)return r}catch(r){console.error("Failed to parse stored phenomenon:",r)}const n=E3();return sessionStorage.setItem(e,JSON.stringify(n)),n},j3=()=>{sessionStorage.removeItem("dreambook_moon_phenomenon")},Tu=e=>{const t=document.documentElement,n=e.transitionSpeed;t.style.setProperty("--sky-transition-duration",`${n*.8}s`),t.style.setProperty("--moon-transition-duration",`${n}s`),t.style.setProperty("--ui-transition-duration",`${n*1.5}s`),t.style.setProperty("--moon-accent",e.uiAccent);const r=$5(e.uiAccent);if(r){const s=C3(r.r,r.g,r.b);if(e.rarity==="mythic"){t.setAttribute("data-mythic-theme",e.id),console.log(` Applied Mythic Theme: ${e.id}`),console.log(" Attribute set on:",t),console.log(` Check CSS selector: :root[data-mythic-theme="${e.id}"]`);const h={superBloodMoon:{background:"0 50% 5%",foreground:"0 100% 95%",card:"0 50% 8%",primary:"0 84% 60%",bgColor:"#100505"},superBlueBloodMoon:{background:"270 50% 5%",foreground:"270 100% 95%",card:"270 50% 8%",primary:"290 80% 60%",bgColor:"#1a0520"},lunarTransientPhenomena:{background:"250 50% 4%",foreground:"250 100% 95%",card:"250 50% 7%",primary:"260 100% 70%",bgColor:"#050510"},hybridEclipse:{background:"30 40% 5%",foreground:"40 80% 90%",card:"30 40% 8%",primary:"40 100% 60%",bgColor:"#1a1008"},stillMoon:{background:"210 50% 10%",foreground:"210 20% 95%",card:"210 30% 15%",primary:"210 80% 70%",bgColor:"#0f1f2f"},echoMoon:{background:"240 20% 8%",foreground:"240 20% 90%",card:"240 20% 12%",primary:"245 40% 70%",bgColor:"#0e0e1e"},brokenMoon:{background:"250 15% 8%",foreground:"250 15% 90%",card:"250 15% 11%",primary:"255 30% 65%",bgColor:"#0a0a1c"},emptySky:{background:"0 0% 0%",foreground:"0 0% 80%",card:"0 0% 5%",primary:"0 0% 60%",bgColor:"#000000"},crystalMoon:{background:"220 50% 8%",foreground:"220 50% 95%",card:"220 40% 12%",primary:"200 80% 70%",bgColor:"#0a0e30"},arcticMoon:{background:"200 60% 6%",foreground:"200 50% 95%",card:"200 50% 10%",primary:"190 90% 65%",bgColor:"#001428"},shatteredMoon:{background:"260 20% 8%",foreground:"260 20% 90%",card:"260 20% 12%",primary:"250 50% 60%",bgColor:"#0a0a1f"},cosmicVoyageMoon:{background:"230 60% 4%",foreground:"230 40% 95%",card:"230 50% 8%",primary:"220 80% 70%",bgColor:"#000510"},nebulaDreamMoon:{background:"280 40% 8%",foreground:"280 40% 95%",card:"280 40% 12%",primary:"290 70% 70%",bgColor:"#150a25"}}[e.id];h&&(t.style.setProperty("--background",h.background),t.style.setProperty("--foreground",h.foreground),t.style.setProperty("--card",h.card),t.style.setProperty("--card-foreground",h.foreground),t.style.setProperty("--primary",h.primary),t.style.setProperty("--primary-foreground","0 0% 100%"),document.body.style.backgroundColor=h.bgColor,console.log(" Mythic theme colors applied via JavaScript"));return}else t.removeAttribute("data-mythic-theme"),console.log(` Moon Rarity: ${e.rarity} - Using dynamic theme`);t.style.setProperty("--primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--primary-foreground","0 0% 100%"),t.style.setProperty("--accent",`${s.h} ${s.s}% ${Math.min(s.l+10,95)}%`),t.style.setProperty("--accent-foreground",`${s.h} ${s.s}% ${Math.max(s.l-40,10)}%`),t.style.setProperty("--ring",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--border",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--input",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--card",`${s.h} ${Math.max(s.s-50,15)}% 95%`),t.style.setProperty("--card-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--popover",`${s.h} ${Math.max(s.s-50,15)}% 96%`),t.style.setProperty("--popover-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--secondary",`${s.h} ${Math.max(s.s-40,20)}% 90%`),t.style.setProperty("--secondary-foreground",`${s.h} ${s.s}% ${Math.max(s.l-30,10)}%`),t.style.setProperty("--muted",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--muted-foreground",`${s.h} ${Math.max(s.s-40,15)}% 45%`),t.style.setProperty("--background",`${s.h} ${Math.max(s.s-50,20)}% 92%`),t.style.setProperty("--foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-background",`${s.h} ${Math.max(s.s-50,20)}% 93%`),t.style.setProperty("--sidebar-foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--sidebar-primary-foreground","0 0% 100%"),t.style.setProperty("--sidebar-accent",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--sidebar-accent-foreground",`${s.h} ${Math.max(s.s-50,15)}% 10%`),t.style.setProperty("--sidebar-border",`${s.h} ${Math.max(s.s-30,10)}% 85%`),t.style.setProperty("--sidebar-ring",`${s.h} ${s.s}% ${s.l}%`);const i=$h(e.uiAccent,1.2);t.style.setProperty("--moon-text",i);const a=$h(e.uiAccent,.6);t.style.setProperty("--moon-placeholder",a);const o=`rgba(${r.r}, ${r.g}, ${r.b}, 0.2)`;t.style.setProperty("--moon-divider",o),t.style.setProperty("--moon-caret",e.uiAccent);const c=`rgba(${r.r}, ${r.g}, ${r.b}, 0.3)`;t.style.setProperty("--moon-selection",c);const u=$h(e.uiAccent,1.1);t.style.setProperty("--moon-button-hover",u)}console.log(" Applied complete system-wide moon theme:",e.name)},$5=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},C3=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let i=0,a=0;const o=(r+s)/2;if(r!==s){const c=r-s;switch(a=o>.5?c/(2-r-s):c/(r+s),r){case e:i=((t-n)/c+(t<n?6:0))/6;break;case t:i=((n-e)/c+2)/6;break;case n:i=((e-t)/c+4)/6;break}}return{h:Math.round(i*360),s:Math.round(a*100),l:Math.round(o*100)}},$h=(e,t)=>{const n=$5(e);if(!n)return e;const r=Math.min(255,Math.floor(n.r*t)),s=Math.min(255,Math.floor(n.g*t)),i=Math.min(255,Math.floor(n.b*t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`},Pu=(e=new Date)=>{const t=new Date("2000-01-06T18:14:00Z"),n=29.530588853,s=(e.getTime()-t.getTime())/(1e3*60*60*24)%n,i=s/n,a=(1-Math.cos(i*Math.PI*2))/2;let o,c;return i<.033||i>.967?(o="New Moon",c=""):i<.216?(o="Waxing Crescent",c=""):i<.283?(o="First Quarter",c=""):i<.467?(o="Waxing Gibbous",c=""):i<.533?(o="Full Moon",c=""):i<.717?(o="Waning Gibbous",c=""):i<.783?(o="Last Quarter",c=""):(o="Waning Crescent",c=""),{phase:i,phaseName:o,phaseNameTh:c,illumination:a,age:s}};function T3(){const e=p.useRef({x:0,y:0});return p.useEffect(()=>{const t=n=>{let r=0,s=0;n instanceof MouseEvent?(r=(n.clientX/window.innerWidth-.5)*20,s=(n.clientY/window.innerHeight-.5)*20):window.DeviceOrientationEvent&&n instanceof DeviceOrientationEvent&&(n.gamma!==null&&(r=Math.max(-20,Math.min(20,n.gamma/2))),n.beta!==null&&(s=Math.max(-20,Math.min(20,(n.beta-45)/2)))),e.current={x:r,y:s}};return window.addEventListener("mousemove",t),window.addEventListener("deviceorientation",t),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("deviceorientation",t)}},[]),e}function P3(){const[e,t]=p.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return p.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=s=>{t(s.matches)};return n.addEventListener?n.addEventListener("change",r):n.addListener(r),()=>{n.removeEventListener?n.removeEventListener("change",r):n.removeListener(r)}},[]),e}function N3(e={}){const{targetFPS:t=60,enableAdaptive:n=!0,minFPS:r=20,maxFPS:s=60}=e,i=p.useRef(0),a=p.useRef(0),o=p.useRef([]),c=p.useRef(t),u=p.useRef(0),[d,h]=p.useState({currentFPS:t,averageFPS:t,isThrottled:!1}),[f,m]=p.useState(!1);p.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(g=>{const x=()=>{m(g.level<.2&&!g.charging)};return x(),g.addEventListener("levelchange",x),g.addEventListener("chargingchange",x),()=>{g.removeEventListener("levelchange",x),g.removeEventListener("chargingchange",x)}})},[]);const w=p.useCallback(()=>{let g=c.current;return f&&(g=Math.min(g,30)),1e3/g},[f]),v=p.useCallback(g=>{const x=w();if(g-i.current>=x){if(a.current++,g-u.current>=1e3){const S=a.current;o.current.push(S),o.current.length>5&&o.current.shift();const k=o.current.reduce((E,C)=>E+C,0)/o.current.length;n&&(S<c.current*.8?c.current=Math.max(r,c.current-5):S>=c.current*.95&&c.current<s&&(c.current=Math.min(s,c.current+2))),h({currentFPS:S,averageFPS:Math.round(k),isThrottled:c.current<t}),a.current=0,u.current=g}return i.current=g,!0}return!1},[w,n,r,s,t]),b=p.useCallback(()=>{i.current=0,a.current=0,o.current=[],c.current=t,u.current=0},[t]);return{shouldRenderFrame:v,resetThrottle:b,metrics:d,isLowPowerMode:f,currentTargetFPS:c.current}}const _3=()=>[],F5=(e,t,n=40)=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*8+4,opacity:1,lifetime:0,maxLifetime:30+Math.random()*20}},M3=(e,t)=>t.map(n=>{if(n.lifetime++,n.opacity=1-n.lifetime/n.maxLifetime,n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size);r.addColorStop(0,`rgba(255,255,255,${n.opacity})`),r.addColorStop(.5,`rgba(200,200,255,${n.opacity*.6})`),r.addColorStop(1,"rgba(150,150,255,0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size,0,Math.PI*2),e.fill()}return n}).filter(n=>n.lifetime<n.maxLifetime),Fh=(e=20,t="#B84060",n="#d85080",r=.01,s=.02)=>Array.from({length:e},(i,a)=>({angle:Math.PI*2*a/e,distance:50+Math.random()*30,size:Math.random()*3+1,speed:r+Math.random()*(s-r),color:a%2===0?t:n,opacity:Math.random()*.5+.3})),R3=(e,t,n,r)=>{t.forEach(s=>{s.angle+=s.speed;const i=n+Math.cos(s.angle)*s.distance,a=r+Math.sin(s.angle)*s.distance,o=e.createRadialGradient(i,a,0,i,a,s.size*2);o.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${s.color}00`),e.fillStyle=o,e.beginPath(),e.arc(i,a,s.size*2,0,Math.PI*2),e.fill(),e.fillStyle=s.color,e.globalAlpha=s.opacity,e.beginPath(),e.arc(i,a,s.size,0,Math.PI*2),e.fill(),e.globalAlpha=1})},B5=(e,t,n=40)=>Array.from({length:50},()=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*1.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*4+1.5,opacity:Math.random()*.9+.3,twinklePhase:Math.random()*Math.PI*2,twinkleSpeed:.03+Math.random()*.05}}),A3=(e,t)=>{t.forEach(n=>{n.twinklePhase+=n.twinkleSpeed;const r=(Math.sin(n.twinklePhase)+1)/2,s=n.opacity*r;if(s>.1){e.save(),e.translate(n.x,n.y),e.rotate(n.twinklePhase*.2);const i=e.createRadialGradient(0,0,0,0,0,n.size*6),a=n.twinklePhase*50%360;i.addColorStop(0,`hsla(${a}, 70%, 85%, ${s*.4})`),i.addColorStop(.3,`hsla(${a+60}, 60%, 80%, ${s*.3})`),i.addColorStop(.6,`hsla(${a+120}, 50%, 75%, ${s*.2})`),i.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,n.size*6,0,Math.PI*2),e.fill();const o=e.createRadialGradient(0,0,0,0,0,n.size*4);o.addColorStop(0,`rgba(240, 248, 255, ${s})`),o.addColorStop(.4,`rgba(200, 220, 255, ${s*.7})`),o.addColorStop(.7,`rgba(176, 192, 224, ${s*.4})`),o.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=o,e.beginPath(),e.arc(0,0,n.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s*.8})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*1.2,h=Math.sin(u)*n.size*1.2;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(200, 220, 255, ${s*.6})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*.6,h=Math.sin(u)*n.size*.6;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s})`,e.beginPath(),e.arc(0,0,n.size*.3,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(240, 248, 255, ${s*.9})`,e.lineWidth=1.5,e.lineCap="round";for(let c=0;c<6;c++){const u=c*Math.PI/3,d=n.size*6;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.strokeStyle=`rgba(200, 220, 255, ${s*.5})`,e.lineWidth=.8;for(let c=0;c<12;c++){const u=c*Math.PI/6+Math.PI/12,d=n.size*4;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.restore()}})},O3=e=>{const t=["#00ff88","#00ddaa","#00ccbb"];return Array.from({length:3},(n,r)=>({y:e*.3+r*80,amplitude:25+Math.random()*20,frequency:.003+Math.random()*.004,phase:Math.random()*Math.PI*2,speed:.004+Math.random()*.005,color:t[r],opacity:.08+Math.random()*.06}))},D3=(e,t,n)=>{t.forEach((r,s)=>{r.phase+=r.speed;const i=r.opacity*(1+Math.sin(r.phase*.5)*.3);e.beginPath(),e.moveTo(0,r.y);for(let c=0;c<=n;c+=2){const u=r.y+Math.sin(c*r.frequency+r.phase)*r.amplitude,d=Math.sin(c*r.frequency*2+r.phase*1.5)*(r.amplitude*.3),h=Math.sin(c*r.frequency*4+r.phase*2)*(r.amplitude*.15),f=Math.sin(c*.05+r.phase*3)*5;e.lineTo(c,u+d+h+f)}const a=e.createLinearGradient(0,r.y,n,r.y);a.addColorStop(0,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),a.addColorStop(.25,`${r.color}${Math.floor(i*.7*255).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${r.color}${Math.floor(i*255).toString(16).padStart(2,"0")}`),a.addColorStop(.75,`${r.color}${Math.floor(i*.7*255).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),e.strokeStyle=a,e.lineWidth=70,e.lineCap="round",e.lineJoin="round",e.shadowBlur=40,e.shadowColor=r.color,e.stroke(),e.shadowBlur=0;const o=e.createLinearGradient(0,r.y-r.amplitude*2,0,r.y+r.amplitude*3);if(o.addColorStop(0,`${r.color}00`),o.addColorStop(.2,`${r.color}${Math.floor(i*.5*255).toString(16).padStart(2,"0")}`),o.addColorStop(.5,`${r.color}${Math.floor(i*.8*255).toString(16).padStart(2,"0")}`),o.addColorStop(.8,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.strokeStyle=o,e.lineWidth=50,e.globalAlpha=.6,e.stroke(),e.globalAlpha=1,Math.random()<.3)for(let c=0;c<3;c++){const u=Math.random()*n,d=r.y+Math.sin(u*r.frequency+r.phase)*r.amplitude,h=2+Math.random()*3,f=e.createRadialGradient(u,d,0,u,d,h*3);f.addColorStop(0,`rgba(255, 255, 255, ${i*.6})`),f.addColorStop(.5,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${r.color}00`),e.fillStyle=f,e.beginPath(),e.arc(u,d,h*3,0,Math.PI*2),e.fill()}})},I3=(e,t,n=20)=>Array.from({length:n},()=>{const r=Math.random()*e,s=t*.5+Math.random()*t*.4;return{x:r,y:s,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2+Math.random()*2,opacity:0,blinkPhase:Math.random()*Math.PI*2,blinkSpeed:.05+Math.random()*.05,targetX:r,targetY:s}}),L3=(e,t,n,r)=>{t.forEach(s=>{if(s.blinkPhase+=s.blinkSpeed,s.opacity=Math.max(0,Math.sin(s.blinkPhase))*.8,Math.random()<.02&&(s.targetX=Math.random()*n,s.targetY=r*.5+Math.random()*r*.4),s.vx+=(s.targetX-s.x)*.001,s.vy+=(s.targetY-s.y)*.001,s.vx*=.95,s.vy*=.95,s.x+=s.vx,s.y+=s.vy,s.opacity>0){const i=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*3);i.addColorStop(0,`rgba(255,255,150,${s.opacity})`),i.addColorStop(.5,`rgba(255,200,100,${s.opacity*.5})`),i.addColorStop(1,"rgba(255,200,100,0)"),e.fillStyle=i,e.beginPath(),e.arc(s.x,s.y,s.size*3,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255,255,200,${s.opacity})`,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill()}})},$3=(e,t=50)=>Array.from({length:t},()=>({x:Math.random()*e,y:Math.random()*-100,size:Math.random()*3+1,speed:Math.random()*.5+.3,drift:(Math.random()-.5)*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.6+.4})),F3=(e,t,n,r)=>{t.forEach(s=>{s.y+=s.speed,s.x+=s.drift,s.rotation+=s.rotationSpeed,s.y>r&&(s.y=-10,s.x=Math.random()*n),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.globalAlpha=s.opacity,e.strokeStyle="#ffffff",e.lineWidth=1,e.lineCap="round";for(let i=0;i<6;i++)e.rotate(Math.PI/3),e.beginPath(),e.moveTo(0,0),e.lineTo(0,s.size*2),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(-s.size*.5,s.size*1.5),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(s.size*.5,s.size*1.5),e.stroke();e.restore()})},B3=(e,t)=>{const n=["#f0e8e0","#e8d8d0","#d8c8c0"];return Array.from({length:5},(r,s)=>({x:-e-Math.random()*e*.5,y:t*.5+s*40,width:e*2.5,height:100+s*20,speed:.06+s*.04,opacity:.1+s*.04,color:n[s%n.length],wave:Math.random()*Math.PI*2,waveSpeed:.01+Math.random()*.01}))},z3=(e,t,n)=>{t.forEach((r,s)=>{r.x+=r.speed,r.wave+=r.waveSpeed,r.x>n*.3&&(r.x=-r.width);const i=Math.sin(r.wave)*15,a=r.y+i,o=e.createRadialGradient(r.x+r.width*.5,a+r.height*.5,0,r.x+r.width*.5,a+r.height*.5,r.width*.6);if(o.addColorStop(0,`${r.color}${Math.floor(r.opacity*255*.5).toString(16).padStart(2,"0")}`),o.addColorStop(.3,`${r.color}${Math.floor(r.opacity*255*.9).toString(16).padStart(2,"0")}`),o.addColorStop(.7,`${r.color}${Math.floor(r.opacity*255*.4).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.save(),e.globalCompositeOperation="lighter",e.fillStyle=o,e.fillRect(r.x,a,r.width,r.height),r.x>0?e.fillRect(r.x-r.width,a,r.width,r.height):r.x+r.width<n,e.fillRect(r.x-r.width,a,r.width,r.height),e.restore(),s%2===0&&Math.random()<.02){const c=r.x+Math.random()*r.width,u=a+Math.random()*r.height,d=e.createRadialGradient(c,u,0,c,u,3);d.addColorStop(0,"rgba(255,255,255,0.3)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=d,e.beginPath(),e.arc(c,u,3,0,Math.PI*2),e.fill()}e.restore()})},V3=(e,t,n=15)=>{const r=["#ff9966","#ffcc66","#ff6666","#ffaa88","#ff8844"];return Array.from({length:n},(s,i)=>({x:e*.5+Math.random()*e*.5,y:-Math.random()*300-i*20,vx:-4-Math.random()*3,vy:6+Math.random()*3,length:50+Math.random()*80,opacity:.8+Math.random()*.2,color:r[Math.floor(Math.random()*r.length)],active:i<n*.6}))},U3=(e,t,n,r)=>{t.forEach(s=>{if(!s.active){Math.random()<.02&&(s.active=!0);return}s.x+=s.vx,s.y+=s.vy,(s.x<-s.length||s.y>r+50)&&(s.x=n*.7+Math.random()*n*.3,s.y=-Math.random()*200,s.active=!0),e.save(),e.globalAlpha=s.opacity;const i=e.createLinearGradient(s.x,s.y,s.x-s.vx*10,s.y-s.vy*10);i.addColorStop(0,s.color),i.addColorStop(.5,`${s.color}aa`),i.addColorStop(1,`${s.color}00`),e.strokeStyle=i,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*10,s.y-s.vy*10),e.stroke();const a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,6);a.addColorStop(0,"#fff"),a.addColorStop(.3,s.color),a.addColorStop(1,`${s.color}00`),e.fillStyle=a,e.beginPath(),e.arc(s.x,s.y,6,0,Math.PI*2),e.fill(),e.restore()})},W3=(e,t,n=40)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,opacity:0,lifetime:0,maxLifetime:240+Math.random()*180,freezePoint:40+Math.random()*30,isFrozen:!1,trailLength:Math.random()*30+15,color:Math.random()>.5?"#B0C4DE":"#7090b0",rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,frozenIntensity:Math.random()*.5+.5})),H3=(e,t)=>{t.forEach(n=>{if(n.lifetime++,n.lifetime<20?(n.opacity=n.lifetime/20,n.y-=.5):n.lifetime>=n.freezePoint&&n.lifetime<n.freezePoint+150?(n.isFrozen||(n.isFrozen=!0,n.rotationSpeed=0),n.opacity=.9*n.frozenIntensity):n.lifetime>=n.freezePoint+150?n.opacity=Math.max(0,1-(n.lifetime-n.freezePoint-150)/90):(n.opacity=.7,n.y-=.4,n.rotation+=n.rotationSpeed),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.y=Math.random()*e.canvas.height,n.x=Math.random()*e.canvas.width,n.freezePoint=40+Math.random()*30,n.isFrozen=!1,n.rotation=Math.random()*Math.PI*2,n.rotationSpeed=(Math.random()-.5)*.02),n.opacity>0){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),!n.isFrozen&&n.lifetime>=20&&n.lifetime<n.freezePoint){const i=e.createLinearGradient(0,0,0,n.trailLength);i.addColorStop(0,`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${n.color}${Math.floor(n.opacity*100).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${n.color}00`),e.strokeStyle=i,e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n.trailLength),e.stroke()}const r=n.isFrozen?n.size*4:n.size*3,s=e.createRadialGradient(0,0,0,0,0,r);s.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),s.addColorStop(.3,`${n.color}${Math.floor(n.opacity*180).toString(16).padStart(2,"0")}`),s.addColorStop(1,`${n.color}00`),e.fillStyle=s,e.beginPath(),e.arc(0,0,r,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*230).toString(16).padStart(2,"0")}`,e.beginPath();for(let i=0;i<6;i++){const a=Math.PI/3*i,o=Math.cos(a)*n.size,c=Math.sin(a)*n.size;i===0?e.moveTo(o,c):e.lineTo(o,c)}if(e.closePath(),e.fill(),e.fillStyle=`#ffffff${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(0,0,n.size*.5,0,Math.PI*2),e.fill(),n.isFrozen){e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.8})`,e.lineWidth=1.5;for(let a=0;a<6;a++){const o=Math.PI/3*a,c=n.size*3.5;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(o)*c,Math.sin(o)*c),e.stroke(),e.fillStyle=`rgba(220, 235, 255, ${n.opacity*.9})`,e.beginPath(),e.arc(Math.cos(o)*c,Math.sin(o)*c,2,0,Math.PI*2),e.fill()}const i=n.size*2.5+Math.sin(n.lifetime*.05)*n.size*.3;e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.5})`,e.lineWidth=2,e.beginPath(),e.arc(0,0,i,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(220, 235, 255, ${n.opacity*.3})`,e.lineWidth=1,e.beginPath(),e.arc(0,0,i*.6,0,Math.PI*2),e.stroke();for(let a=0;a<4;a++){const o=Math.PI/2*a+n.lifetime*.01,c=i*1.2,u=Math.cos(o)*c,d=Math.sin(o)*c;e.fillStyle=`rgba(255, 255, 255, ${n.opacity*.7})`,e.beginPath(),e.arc(u,d,1.5,0,Math.PI*2),e.fill()}}e.restore()}})},G3=()=>[],K3=(e,t,n)=>({radius:n*.5,maxRadius:n*5+Math.random()*n*3,opacity:1,lifetime:0,maxLifetime:120+Math.random()*80,centerX:e,centerY:t,speed:.8+Math.random()*.6,thickness:2+Math.random()*2}),q3=(e,t,n,r)=>t.map(s=>{s.lifetime++,s.radius+=s.speed;const i=20,a=s.maxLifetime-40;if(s.lifetime<i?s.opacity=s.lifetime/i:s.lifetime>a?s.opacity=Math.max(0,1-(s.lifetime-a)/40):s.opacity=.6+Math.sin(s.lifetime*.1)*.2,s.opacity>0){e.strokeStyle=`rgba(80, 80, 112, ${s.opacity*.4})`,e.lineWidth=s.thickness,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(64, 64, 80, ${s.opacity*.6})`,e.lineWidth=s.thickness*.5,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius-s.thickness,0,Math.PI*2),e.stroke();const o=e.createRadialGradient(s.centerX,s.centerY,s.radius-s.thickness*3,s.centerX,s.centerY,s.radius+s.thickness*2);if(o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(.4,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(.6,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=o,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.fill(),s.lifetime%8===0&&s.opacity>.3)for(let u=0;u<3;u++){const d=Math.random()*Math.PI*2,h=s.centerX+Math.cos(d)*s.radius,f=s.centerY+Math.sin(d)*s.radius,m=e.createRadialGradient(h,f,0,h,f,3);m.addColorStop(0,`rgba(112, 144, 176, ${s.opacity*.8})`),m.addColorStop(1,"rgba(112, 144, 176, 0)"),e.fillStyle=m,e.beginPath(),e.arc(h,f,3,0,Math.PI*2),e.fill()}}return s}).filter(s=>s.lifetime<s.maxLifetime),Y3=(e,t,n=12)=>{const r=[];for(let s=0;s<n;s++){const i=Math.PI*2/n*s+(Math.random()-.5)*.4,a=60+Math.random()*45;r.push({x:e+Math.cos(i)*a,y:t+Math.sin(i)*a,size:5+Math.random()*8,angle:i,distance:a,orbitSpeed:8e-4+Math.random()*.0015,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.025,opacity:.7+Math.random()*.3})}return r},dx=(e,t,n=25)=>{const r=[];for(let s=0;s<n;s++){const i=Math.random()*Math.PI*2,a=.15+Math.random()*.3;r.push({x:e+(Math.random()-.5)*90,y:t+(Math.random()-.5)*90,vx:Math.cos(i)*a,vy:Math.sin(i)*a,size:.8+Math.random()*1.5,opacity:.2+Math.random()*.3,life:0,maxLife:120+Math.random()*120})}return r},X3=(e,t,n,r,s)=>{t.forEach(i=>{i.angle+=i.orbitSpeed,i.rotation+=i.rotationSpeed,i.x=n+Math.cos(i.angle)*i.distance,i.y=r+Math.sin(i.angle)*i.distance,e.save(),e.translate(i.x,i.y),e.rotate(i.rotation),e.fillStyle=`rgba(0, 0, 0, ${i.opacity*.4})`,e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.6)",e.beginPath();const a=5+Math.floor(Math.random()*3);for(let c=0;c<a;c++){const u=Math.PI*2/a*c,d=i.size*(.8+Math.random()*.5),h=Math.cos(u)*d,f=Math.sin(u)*d;c===0?e.moveTo(h,f):e.lineTo(h,f)}e.closePath(),e.fill(),e.fillStyle=`${s}${Math.floor(i.opacity*255).toString(16).padStart(2,"0")}`,e.shadowBlur=8,e.shadowColor=s,e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${i.opacity*.6})`,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 0.8)",e.stroke();const o=e.createRadialGradient(0,0,0,0,0,i.size*.6);o.addColorStop(0,`rgba(255, 255, 255, ${i.opacity*.4})`),o.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=o,e.shadowBlur=0,e.beginPath(),e.arc(0,0,i.size*.6,0,Math.PI*2),e.fill(),e.restore()})},Q3=(e,t,n,r,s)=>{t.forEach(i=>{i.x+=i.vx,i.y+=i.vy,i.life++;const a=1-i.life/i.maxLife,o=i.opacity*a;if(i.life<i.maxLife&&o>.01){const c=e.createRadialGradient(i.x,i.y,0,i.x,i.y,i.size*4);c.addColorStop(0,`${n}${Math.floor(o*.8*255).toString(16).padStart(2,"0")}`),c.addColorStop(.5,`${n}${Math.floor(o*.3*255).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${n}00`),e.fillStyle=c,e.beginPath(),e.arc(i.x,i.y,i.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`${n}${Math.floor(o*255).toString(16).padStart(2,"0")}`,e.shadowBlur=5,e.shadowColor=n,e.beginPath(),e.arc(i.x,i.y,i.size,0,Math.PI*2),e.fill(),e.shadowBlur=0,Math.random()<.15&&(e.fillStyle=`rgba(255, 255, 255, ${o*.8})`,e.beginPath(),e.arc(i.x,i.y,i.size*.5,0,Math.PI*2),e.fill())}if(i.life>=i.maxLife){if(r!==void 0&&s!==void 0){const c=Math.random()*Math.PI*2,u=70+Math.random()*30;i.x=r+Math.cos(c)*u,i.y=s+Math.sin(c)*u;const d=.15+Math.random()*.35,h=Math.random()*Math.PI*2;i.vx=Math.cos(h)*d,i.vy=Math.sin(h)*d}i.life=0,i.opacity=.35+Math.random()*.45}})},J3=(e,t,n,r=4)=>Array.from({length:r},(s,i)=>({x:e,y:t,radius:n,opacity:.6-i*.15,delay:i*15,scale:1+i*.15,phaseOffset:0})),Z3=(e,t,n,r,s,i)=>{t.forEach((a,o)=>{a.phaseOffset+=.001;const c=n,u=r+Math.sin(s-a.phaseOffset*50)*3;a.x+=(c-a.x)*(.05/(o+1)),a.y+=(u-a.y)*(.05/(o+1));const d=a.radius*a.scale,h=e.createRadialGradient(a.x,a.y,d*.3,a.x,a.y,d*2);h.addColorStop(0,`${i}${Math.floor(a.opacity*.4*255).toString(16).padStart(2,"0")}`),h.addColorStop(.5,`${i}${Math.floor(a.opacity*.2*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${i}00`),e.fillStyle=h,e.beginPath(),e.arc(a.x,a.y,d*2,0,Math.PI*2),e.fill();const f=e.createRadialGradient(a.x-d*.25,a.y-d*.25,0,a.x,a.y,d);f.addColorStop(0,`${i}${Math.floor(a.opacity*.8*255).toString(16).padStart(2,"0")}`),f.addColorStop(.7,`${i}${Math.floor(a.opacity*.5*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${i}${Math.floor(a.opacity*.2*255).toString(16).padStart(2,"0")}`),e.fillStyle=f,e.beginPath(),e.arc(a.x,a.y,d,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${a.opacity*.3})`,e.lineWidth=1.5,e.beginPath(),e.arc(a.x-d*.3,a.y-d*.3,d*.6,Math.PI,Math.PI*2),e.stroke();const m=(Date.now()/1e3+o*.5)%2;for(let w=0;w<3;w++){const v=d*(1.2+m*.5+w*.3),b=a.opacity*(1-m/2)*.4;b>.05&&(e.strokeStyle=`rgba(208, 208, 232, ${b})`,e.lineWidth=2,e.beginPath(),e.arc(a.x,a.y,v,0,Math.PI*2),e.stroke())}})},eL=e=>Array.from({length:3},(t,n)=>({radius:e*(1.15+n*.2),opacity:.6-n*.15,pulsePhase:Math.PI*2*n/3,thickness:3-n*.5})),tL=(e,t,n,r)=>{t.forEach(s=>{s.pulsePhase+=.02;const i=Math.sin(s.pulsePhase)*.2+.8,a=s.opacity*i;e.strokeStyle=`rgba(160, 48, 48, ${a})`,e.lineWidth=s.thickness,e.shadowBlur=10,e.shadowColor=`rgba(200, 64, 64, ${a})`,e.beginPath(),e.arc(n,r,s.radius,0,Math.PI*2),e.stroke(),e.shadowBlur=0})},nL=(e,t,n=30)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*4+2,opacity:Math.random()*.8+.2,fadeSpeed:.002+Math.random()*.003,lifetime:0,maxLifetime:200+Math.random()*200})),rL=(e,t)=>{t.forEach(n=>{if(n.x+=n.vx,n.y+=n.vy,n.lifetime++,n.opacity-=n.fadeSpeed,(n.lifetime>=n.maxLifetime||n.opacity<=0)&&(n.x=Math.random()*e.canvas.width,n.y=Math.random()*e.canvas.height,n.opacity=Math.random()*.8+.2,n.lifetime=0),n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*3);r.addColorStop(0,`rgba(160, 160, 176, ${n.opacity})`),r.addColorStop(.5,`rgba(160, 160, 176, ${n.opacity*.5})`),r.addColorStop(1,"rgba(160, 160, 176, 0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*3,0,Math.PI*2),e.fill()}})},sL=()=>[],iL=(e,t,n,r,s)=>(Math.random()<.015&&t.push({radius:s,opacity:.6,lifetime:0,maxLifetime:120}),t.map(i=>(i.lifetime++,i.radius+=1,i.opacity=(1-i.lifetime/i.maxLifetime)*.6,i.lifetime<i.maxLifetime&&i.opacity>.05&&(e.strokeStyle=`rgba(168, 168, 200, ${i.opacity})`,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.arc(n,r,i.radius,0,Math.PI*2),e.stroke(),e.setLineDash([])),i)).filter(i=>i.lifetime<i.maxLifetime)),aL=(e,t,n=40)=>{const r=["#C8B8D8","#B8A8C8","#D8C8E8"];return Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.4,vy:-.2-Math.random()*.3,size:Math.random()*3+1.5,opacity:Math.random()*.7+.3,color:r[Math.floor(Math.random()*r.length)],floatPhase:Math.random()*Math.PI*2,floatSpeed:.02+Math.random()*.03}))},oL=(e,t)=>{t.forEach(n=>{n.floatPhase+=n.floatSpeed,n.x+=n.vx+Math.sin(n.floatPhase)*.3,n.y+=n.vy,n.y<-10&&(n.y=e.canvas.height+10,n.x=Math.random()*e.canvas.width),n.x<-10&&(n.x=e.canvas.width+10),n.x>e.canvas.width+10&&(n.x=-10);const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*2.5);r.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),r.addColorStop(.5,`${n.color}${Math.floor(n.opacity*128).toString(16).padStart(2,"0")}`),r.addColorStop(1,`${n.color}00`),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*2.5,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(n.x,n.y,n.size*.8,0,Math.PI*2),e.fill()})},lL=(e,t,n=25)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*6+3,opacity:Math.random()*.4+.2,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,lifetime:0,maxLifetime:300+Math.random()*300,fragmentType:Math.floor(Math.random()*3)})),cL=(e,t)=>{t.forEach(n=>{n.x+=n.vx,n.y+=n.vy,n.rotation+=n.rotationSpeed,n.lifetime++,n.x<0&&(n.x=e.canvas.width),n.x>e.canvas.width&&(n.x=0),n.y<0&&(n.y=e.canvas.height),n.y>e.canvas.height&&(n.y=0),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.opacity=Math.random()*.4+.2);const r=n.lifetime<60?n.lifetime/60:(n.maxLifetime-n.lifetime)/60,s=Math.min(n.opacity,r);if(s>.05){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),e.globalAlpha=s,e.strokeStyle="#888898",e.fillStyle="rgba(136, 136, 152, 0.3)",e.lineWidth=1.5,e.beginPath(),n.fragmentType===0)e.moveTo(0,-n.size),e.lineTo(n.size,n.size),e.lineTo(-n.size,n.size);else if(n.fragmentType===1)e.rect(-n.size/2,-n.size/2,n.size,n.size);else for(let i=0;i<5;i++){const a=Math.PI*2*i/5-Math.PI/2,o=Math.cos(a)*n.size,c=Math.sin(a)*n.size;i===0?e.moveTo(o,c):e.lineTo(o,c)}e.closePath(),e.fill(),e.stroke(),e.restore()}})},uL=(e,t,n)=>{const r=["","","","","",""];return Array.from({length:6},(s,i)=>({x:e,y:t,symbol:r[i],size:12+Math.random()*8,opacity:.6+Math.random()*.3,rotation:0,pulsePhase:Math.PI*2*i/6,orbitAngle:Math.PI*2*i/6,orbitSpeed:.005+Math.random()*.003,orbitRadius:n*(1.4+Math.random()*.3)}))},dL=(e,t,n,r)=>{t.forEach(s=>{s.orbitAngle+=s.orbitSpeed,s.pulsePhase+=.02,s.rotation+=.01;const i=n+Math.cos(s.orbitAngle)*s.orbitRadius,a=r+Math.sin(s.orbitAngle)*s.orbitRadius,o=Math.sin(s.pulsePhase)*.3+.7,c=s.opacity*o,u=e.createRadialGradient(i,a,0,i,a,s.size*2);u.addColorStop(0,`rgba(184, 168, 136, ${c*.5})`),u.addColorStop(1,"rgba(184, 168, 136, 0)"),e.fillStyle=u,e.beginPath(),e.arc(i,a,s.size*2,0,Math.PI*2),e.fill(),e.save(),e.translate(i,a),e.rotate(s.rotation),e.fillStyle=`rgba(184, 168, 136, ${c})`,e.font=`${s.size}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(s.symbol,0,0),e.restore()})},hL=(e=12)=>Array.from({length:e},(t,n)=>({angle:Math.PI*2*n/e,length:50+Math.random()*30,opacity:.3+Math.random()*.4,width:2+Math.random()*3,pulsePhase:Math.random()*Math.PI*2,speed:.02+Math.random()*.02})),fL=(e,t,n,r,s)=>{if(!isFinite(n)||!isFinite(r)||!isFinite(s)){console.warn("Invalid moon parameters in drawLightRays:",{moonX:n,moonY:r,moonRadius:s});return}t.forEach(i=>{i.pulsePhase+=i.speed,i.angle+=.003;const a=Math.sin(i.pulsePhase)*.4+.6,o=i.opacity*a,c=n+Math.cos(i.angle)*s,u=r+Math.sin(i.angle)*s,d=n+Math.cos(i.angle)*(s+i.length),h=r+Math.sin(i.angle)*(s+i.length);if(!isFinite(c)||!isFinite(u)||!isFinite(d)||!isFinite(h))return;const f=e.createLinearGradient(c,u,d,h);f.addColorStop(0,`rgba(248, 248, 255, ${o})`),f.addColorStop(.5,`rgba(248, 248, 255, ${o*.6})`),f.addColorStop(1,"rgba(248, 248, 255, 0)"),e.strokeStyle=f,e.lineWidth=i.width,e.lineCap="round",e.beginPath(),e.moveTo(c,u),e.lineTo(d,h),e.stroke()})},mL=()=>[],pL=(e,t,n,r)=>{if(Math.random()<.3){const s=Math.PI/4+Math.random()*(Math.PI/6),i=15+Math.random()*10;t.push({x:Math.random()*n,y:-50-Math.random()*100,vx:Math.cos(s)*i,vy:Math.sin(s)*i,length:50+Math.random()*50,opacity:Math.random()*.4+.6,trailLength:100+Math.random()*80,color:"#FFFFFF"})}return t.map(s=>{if(s.x+=s.vx,s.y+=s.vy,s.opacity-=.008,s.opacity>.05){const i=e.createLinearGradient(s.x,s.y,s.x-s.vx*3,s.y-s.vy*3);i.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${s.color}${Math.floor(s.opacity*128).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${s.color}00`),e.strokeStyle=i,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*3,s.y-s.vy*3),e.stroke(),e.fillStyle=`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(s.x,s.y,2,0,Math.PI*2),e.fill()}return s}).filter(s=>s.opacity>.05&&s.x<n+50&&s.y<r+50)},gL=()=>{const e=["rgba(220, 240, 255, 0.9)","rgba(255, 255, 255, 0.95)","rgba(200, 230, 255, 0.85)","rgba(240, 250, 255, 0.9)"],t=["hexagon","diamond","triangle"];return Array.from({length:12},(n,r)=>({angle:Math.PI*2*r/12,distance:80+r%3*20,size:8+Math.random()*8,rotation:Math.random()*Math.PI*2,rotationSpeed:.02+Math.random()*.03,orbitSpeed:.008+Math.random()*.004,opacity:.6+Math.random()*.3,color:e[r%e.length],pulsePhase:Math.random()*Math.PI*2,shardType:t[r%3]}))},yL=(e,t,n,r,s)=>{e.save(),t.forEach(a=>{a.angle+=a.orbitSpeed,a.rotation+=a.rotationSpeed,a.pulsePhase+=.03;const o=n+Math.cos(a.angle)*(s+a.distance),c=r+Math.sin(a.angle)*(s+a.distance),u=a.opacity*(.8+.2*Math.sin(a.pulsePhase));if(e.save(),e.translate(o,c),e.rotate(a.rotation),e.globalCompositeOperation="screen",e.shadowBlur=15,e.shadowColor=a.color,e.fillStyle=a.color.replace(/[\d.]+\)$/g,`${u})`),e.strokeStyle=`rgba(255, 255, 255, ${u*.8})`,e.lineWidth=1.5,e.beginPath(),a.shardType==="hexagon"){for(let d=0;d<6;d++){const h=Math.PI/3*d,f=Math.cos(h)*a.size,m=Math.sin(h)*a.size;d===0?e.moveTo(f,m):e.lineTo(f,m)}e.closePath()}else a.shardType==="diamond"?(e.moveTo(0,-a.size),e.lineTo(a.size*.6,0),e.lineTo(0,a.size),e.lineTo(-a.size*.6,0),e.closePath()):(e.moveTo(0,-a.size),e.lineTo(a.size*.866,a.size*.5),e.lineTo(-a.size*.866,a.size*.5),e.closePath());e.fill(),e.stroke(),e.globalCompositeOperation="lighter",e.fillStyle=`rgba(255, 255, 255, ${u*.6})`,e.beginPath(),e.arc(0,0,a.size*.3,0,Math.PI*2),e.fill(),e.restore()});const i=e.createRadialGradient(n,r,s*.8,n,r,s*1.5);i.addColorStop(0,"rgba(220, 240, 255, 0.15)"),i.addColorStop(.6,"rgba(200, 230, 255, 0.08)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.globalCompositeOperation="screen",e.fillStyle=i,e.beginPath(),e.arc(n,r,s*1.5,0,Math.PI*2),e.fill(),e.restore()},vL=(e=120)=>Array.from({length:e},()=>({x:(Math.random()-.5)*2,y:(Math.random()-.5)*2,z:Math.random(),speed:.001+Math.random()*.002,size:1+Math.random()*2,brightness:.3+Math.random()*.7})),xL=(e,t,n,r)=>{const s=n/2,i=r/2;return t.map(a=>{a.z+=a.speed,a.z>=1&&(a.x=(Math.random()-.5)*2,a.y=(Math.random()-.5)*2,a.z=0);const o=a.z*2,c=s+a.x*s*o,u=i+a.y*i*o,d=a.size*(.5+a.z*1.5),h=a.brightness*a.z,f=a.z-a.speed,m=f*2,w=s+a.x*s*m,v=i+a.y*i*m;if(f>0){const g=e.createLinearGradient(w,v,c,u);g.addColorStop(0,"rgba(255, 255, 255, 0)"),g.addColorStop(1,`rgba(255, 255, 255, ${h*.6})`),e.strokeStyle=g,e.lineWidth=d*.5,e.lineCap="round",e.beginPath(),e.moveTo(w,v),e.lineTo(c,u),e.stroke()}const b=e.createRadialGradient(c,u,0,c,u,d*2);return b.addColorStop(0,`rgba(255, 255, 255, ${h})`),b.addColorStop(.5,`rgba(200, 220, 255, ${h*.5})`),b.addColorStop(1,"rgba(200, 220, 255, 0)"),e.fillStyle=b,e.beginPath(),e.arc(c,u,d*2,0,Math.PI*2),e.fill(),a})},wL=(e,t,n=4)=>{const r=[["#FF6B9D","#C44569","#8B3A62"],["#4A90E2","#7B68EE","#9370DB"],["#00D9FF","#0099CC","#006699"],["#FF8C42","#FF6B35","#C44536"],["#6BCF7F","#4ECDC4","#44A08D"]];return Array.from({length:n},()=>{const s=r[Math.floor(Math.random()*r.length)];return{x:Math.random()*e,y:Math.random()*t,size:150+Math.random()*250,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*5e-4,colors:s,opacity:.15+Math.random()*.15,pulsePhase:Math.random()*Math.PI*2,pulseSpeed:.01+Math.random()*.01}})},bL=(e,t,n,r,s=0,i=0)=>t.map(a=>{a.rotation+=a.rotationSpeed,a.pulsePhase+=a.pulseSpeed;const o=Math.sin(a.pulsePhase)*.2+.8,c=a.size*o,u=a.opacity*o,d=a.x+s*.1,h=a.y+i*.1,f=(d%n+n)%n,m=(h%r+r)%r;return e.save(),e.translate(f,m),e.rotate(a.rotation),a.colors.forEach((w,v)=>{const b=c*(1-v*.2),g=u*(1-v*.3),x=e.createRadialGradient(0,0,0,0,0,b);x.addColorStop(0,`${w}${Math.floor(g*255).toString(16).padStart(2,"0")}`),x.addColorStop(.4,`${w}${Math.floor(g*.6*255).toString(16).padStart(2,"0")}`),x.addColorStop(.7,`${w}${Math.floor(g*.3*255).toString(16).padStart(2,"0")}`),x.addColorStop(1,`${w}00`),e.fillStyle=x,e.fillRect(-b,-b,b*2,b*2)}),e.restore(),a});function SL({ctx:e,width:t,height:n,phenomenon:r}){const s=e.createLinearGradient(0,0,0,n);s.addColorStop(0,r.skyPalette[0]),s.addColorStop(.5,r.skyPalette[1]),s.addColorStop(1,r.skyPalette[2]),e.fillStyle=s,e.fillRect(0,0,t,n)}function kL(e,t,n){return Array.from({length:Math.floor(120*n.starDensity)},()=>({x:Math.random()*e,y:Math.random()*t*.6,size:Math.random()*2+.5,opacity:Math.random()*.8+.2,twinkleSpeed:Math.random()*.02+.01,twinklePhase:Math.random()*Math.PI*2}))}function EL({ctx:e,phenomenon:t,parallaxOffset:n,stars:r}){if(t.starDensity===0)return;const s=n.x*.5,i=n.y*.5;r.forEach(a=>{a.twinklePhase+=a.twinkleSpeed;const o=a.opacity*(Math.sin(a.twinklePhase)*.5+.5),c=a.x+s,u=a.y+i;e.beginPath(),e.arc(c,u,a.size,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${o})`,e.fill(),a.size>1.5&&(e.beginPath(),e.arc(c,u,a.size*2,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${o*.2})`,e.fill())})}function jL(e,t,n){return Array.from({length:5},()=>({x:Math.random()*e,y:t*.2+Math.random()*t*.3,width:Math.random()*100+80,height:Math.random()*40+30,speed:(Math.random()*.15+.05)*n.cloudSpeed,opacity:(Math.random()*.15+.1)*n.cloudOpacity}))}function CL({ctx:e,width:t,phenomenon:n,clouds:r}){n.cloudOpacity!==0&&r.forEach(s=>{n.cloudSpeed>.2&&(s.x+=s.speed,s.x>t+s.width&&(s.x=-s.width)),e.fillStyle=`rgba(150,150,180,${s.opacity*.6})`,e.beginPath(),e.ellipse(s.x+5,s.y+5,s.width/2,s.height/2,0,0,Math.PI*2),e.fill();const i=e.createRadialGradient(s.x,s.y-s.height*.3,0,s.x,s.y,s.width/2);i.addColorStop(0,`rgba(230,230,250,${s.opacity})`),i.addColorStop(.6,`rgba(200,200,230,${s.opacity*.8})`),i.addColorStop(1,`rgba(180,180,210,${s.opacity*.5})`),e.fillStyle=i,e.beginPath(),e.ellipse(s.x,s.y,s.width/2,s.height/2,0,0,Math.PI*2),e.fill(),[{x:-.4,y:-.3,w:.35,h:.5},{x:-.2,y:-.4,w:.3,h:.45},{x:.1,y:-.35,w:.35,h:.5},{x:.35,y:-.25,w:.3,h:.45}].forEach(o=>{const c=e.createRadialGradient(s.x+s.width*o.x,s.y+s.height*o.y,0,s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w);c.addColorStop(0,`rgba(240,240,255,${s.opacity})`),c.addColorStop(.7,`rgba(210,210,240,${s.opacity*.7})`),c.addColorStop(1,`rgba(190,190,220,${s.opacity*.3})`),e.fillStyle=c,e.beginPath(),e.ellipse(s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w,s.height*o.h,0,0,Math.PI*2),e.fill()})})}const TL=["#FFFFFF","#FFE4B5","#87CEEB","#DDA0DD","#F0E68C","#98FB98","#FFB6C1","#B0E0E6","#FFDAB9","#E6E6FA"];function PL(e,t){return Array.from({length:10},(n,r)=>({x:e+Math.random()*100,y:Math.random()*t*.6,length:Math.random()*60+40,speed:Math.random()*1.5+1,angle:Math.PI/4+(Math.random()-.5)*.3,color:TL[r],opacity:Math.random()*.3+.7,isActive:!1,trailLength:Math.random()*80+60}))}function NL(e){const{ctx:t,width:n,height:r,phenomenon:s,shootingStars:i}=e;let a=e.timer;if(s.shootingStarChance===0)return{shootingStars:i,timer:a};if(i.forEach(o=>{if(!o.isActive)return;if(o.x-=Math.cos(o.angle)*o.speed,o.y+=Math.sin(o.angle)*o.speed,o.x<-o.trailLength||o.y>r+o.trailLength){o.isActive=!1;return}t.save();const c=t.createLinearGradient(o.x,o.y,o.x+Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength);c.addColorStop(0,o.color),c.addColorStop(.5,`${o.color}88`),c.addColorStop(1,`${o.color}00`),t.strokeStyle=c,t.lineWidth=2,t.lineCap="round",t.globalAlpha=o.opacity,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(o.x+Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength),t.stroke();const u=t.createRadialGradient(o.x,o.y,0,o.x,o.y,8);u.addColorStop(0,"#FFFFFF"),u.addColorStop(.3,o.color),u.addColorStop(1,`${o.color}00`),t.fillStyle=u,t.beginPath(),t.arc(o.x,o.y,8,0,Math.PI*2),t.fill(),t.fillStyle="#FFFFFF",t.beginPath(),t.arc(o.x,o.y,2,0,Math.PI*2),t.fill(),t.restore()}),a++,a>3600+Math.random()*3600){a=0;const o=i.map((c,u)=>c.isActive?-1:u).filter(c=>c!==-1);if(o.length>0){const u=Math.random()<s.shootingStarChance&&o.length>=3?Math.min(Math.floor(Math.random()*3)+3,o.length):1;for(let d=0;d<u;d++){const h=o.splice(Math.floor(Math.random()*o.length),1)[0],f=i[h];f.isActive=!0,f.x=n+Math.random()*100,f.y=-50-Math.random()*100}}}return{shootingStars:i,timer:a}}const Bh=(e,t)=>{e=e.replace("#","");const n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16),i=Math.min(255,Math.floor(n*t)),a=Math.min(255,Math.floor(r*t)),o=Math.min(255,Math.floor(s*t));return`#${i.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`};function _L(e,t,n,r,s){if(Math.abs(s-.5)<.01)return;e.save(),e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.clip();const i="rgba(5, 10, 25, 0.85)",a="rgba(5, 10, 25, 0.5)";if(s<.5){const o=s*2,c=r*(1-o),u=e.createLinearGradient(t-r,n,t-r+c*2.2,n);u.addColorStop(0,i),u.addColorStop(.4,i),u.addColorStop(.7,a),u.addColorStop(1,"rgba(5, 10, 25, 0)"),e.fillStyle=u,e.fillRect(t-r,n-r,c*2.2,r*2)}else if(s>.5){const o=1-(s-.5)*2,c=r*(1-o),u=e.createLinearGradient(t+r-c*2.2,n,t+r,n);u.addColorStop(0,"rgba(5, 10, 25, 0)"),u.addColorStop(.3,a),u.addColorStop(.6,i),u.addColorStop(1,i),e.fillStyle=u,e.fillRect(t+r-c*2.2,n-r,c*2.2,r*2)}e.restore()}function Cd(e){const n={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[e.rarity];return 40*(e.moonSize||1)*n}function ML({ctx:e,phenomenon:t,parallaxOffset:n,moonPosition:r,moonPhase:s}){const i={...r};i.phase+=.005;const a=Math.sin(i.phase)*3,o=n.x*.8,c=n.y*.8,u=i.x+o,d=i.y+c,h=Cd(t),f=t.moonTint,m=e.createRadialGradient(u,d+a,0,u,d+a,h*1.5);m.addColorStop(0,`${f}50`),m.addColorStop(.5,`${f}26`),m.addColorStop(1,`${f}00`),e.fillStyle=m,e.beginPath(),e.arc(u,d+a,h*1.5,0,Math.PI*2),e.fill();const w=e.createLinearGradient(u-h,d+a-h,u+h,d+a+h);return w.addColorStop(0,t.moonTint),w.addColorStop(.3,Bh(t.moonTint,.9)),w.addColorStop(.6,Bh(t.moonTint,.8)),w.addColorStop(1,Bh(t.moonTint,.7)),e.fillStyle=w,e.beginPath(),e.arc(u,d+a,h,0,Math.PI*2),e.fill(),t.rarity==="mythic"&&RL(e,u,d+a,h,t,i.phase),t.id==="lunarTransientPhenomena"&&AL(e,u,d+a,h,t,i.phase),_L(e,u,d+a,h,s.phase),t.id==="crystalMoon"&&OL(e,u,d+a,h,i.phase),i}function RL(e,t,n,r,s,i){const a=e.createRadialGradient(t,n,r*.7,t,n,r*1.8);a.addColorStop(0,`${s.uiAccent}00`),a.addColorStop(.3,`${s.uiAccent}40`),a.addColorStop(.6,`${s.uiAccent}20`),a.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=a,e.beginPath(),e.arc(t,n,r*1.8,0,Math.PI*2),e.fill(),e.strokeStyle=`${s.uiAccent}60`,e.lineWidth=2,e.beginPath(),e.arc(t,n,r-1,0,Math.PI*2),e.stroke();const o=i*2,c=(Math.sin(o)*.15+.25)*255,u=Math.floor(c).toString(16).padStart(2,"0"),d=e.createRadialGradient(t-r*.3,n-r*.3,0,t-r*.3,n-r*.3,r*.6);d.addColorStop(0,`#ffffff${u}`),d.addColorStop(1,"#ffffff00"),e.fillStyle=d,e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.fill()}function AL(e,t,n,r,s,i){const a=i*3,o=Math.sin(a)*.3+.7,c=e.createRadialGradient(t,n,r*.5,t,n,r*3);c.addColorStop(0,`${s.uiAccent}${Math.floor(o*120).toString(16).padStart(2,"0")}`),c.addColorStop(.3,`${s.uiAccent}${Math.floor(o*80).toString(16).padStart(2,"0")}`),c.addColorStop(.6,`${s.uiAccent}${Math.floor(o*40).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=c,e.beginPath(),e.arc(t,n,r*3,0,Math.PI*2),e.fill();const u=i*4,d=(Math.sin(u)*60+280)%360;e.strokeStyle=`hsla(${d}, 80%, 70%, ${o*.8})`,e.lineWidth=3,e.beginPath(),e.arc(t,n,r+2,0,Math.PI*2),e.stroke();const h=e.createRadialGradient(t,n,0,t,n,r*.8);h.addColorStop(0,`rgba(255, 255, 255, ${o*.4})`),h.addColorStop(.5,`${s.uiAccent}${Math.floor(o*100).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=h,e.beginPath(),e.arc(t,n,r*.8,0,Math.PI*2),e.fill();const f=12,m=r*2;for(let w=0;w<f;w++){const v=w/f*Math.PI*2+i,b=t+Math.cos(v)*m,g=n+Math.sin(v)*m,x=e.createRadialGradient(b,g,0,b,g,4);x.addColorStop(0,`${s.uiAccent}${Math.floor(o*200).toString(16).padStart(2,"0")}`),x.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=x,e.beginPath(),e.arc(b,g,4,0,Math.PI*2),e.fill()}}function OL(e,t,n,r,s){e.save();const i=8;for(let o=0;o<i;o++){const c=Math.PI*2*o/i+s*.3,u=Math.PI*2*(o+1)/i+s*.3,d=r*.95,h=r*.6,f=t+Math.cos(c)*d,m=n+Math.sin(c)*d,w=t+Math.cos(u)*d,v=n+Math.sin(u)*d,b=t+Math.cos(u)*h,g=n+Math.sin(u)*h,x=t+Math.cos(c)*h,y=n+Math.sin(c)*h,S=o%2===0?.08:.04,k=e.createLinearGradient(f,m,t,n);k.addColorStop(0,`rgba(255, 255, 255, ${S})`),k.addColorStop(.5,`rgba(200, 230, 255, ${S*.8})`),k.addColorStop(1,`rgba(180, 220, 255, ${S*.5})`),e.fillStyle=k,e.strokeStyle=`rgba(220, 240, 255, ${.15+S})`,e.lineWidth=.5,e.beginPath(),e.moveTo(f,m),e.lineTo(w,v),e.lineTo(b,g),e.lineTo(x,y),e.closePath(),e.fill(),e.stroke()}const a=20;for(let o=0;o<a;o++){const c=Math.PI*2*o/a+s*(o%3),u=.2+o%5*.15,d=r*u,h=t+Math.cos(c)*d,f=n+Math.sin(c)*d,m=Math.sin(s*4+o*.5)*.5+.5,w=(.8+m*1.2)*(o%3===0?1.2:.8),v=e.createRadialGradient(h,f,0,h,f,w*2.5);v.addColorStop(0,`rgba(255, 255, 255, ${.5*m})`),v.addColorStop(.4,`rgba(220, 240, 255, ${.3*m})`),v.addColorStop(1,"rgba(200, 230, 255, 0)"),e.fillStyle=v,e.beginPath(),e.arc(h,f,w*2.5,0,Math.PI*2),e.fill()}e.restore()}function DL(){const e=p.useRef([]),t=p.useRef([]),n=p.useRef([]),r=p.useRef([]),s=p.useRef([]),i=p.useRef([]),a=p.useRef([]),o=p.useRef([]),c=p.useRef([]),u=p.useRef([]),d=p.useRef([]),h=p.useRef([]),f=p.useRef([]),m=p.useRef([]),w=p.useRef([]),v=p.useRef([]),b=p.useRef([]),g=p.useRef([]),x=p.useRef([]),y=p.useRef([]),S=p.useRef([]),k=p.useRef([]),E=p.useRef([]),C=p.useRef([]),j=p.useRef(Date.now()),T=p.useCallback((P,M,I,$,X)=>{const ee=P.effectIntensity||.5,K={normal:0,rare:.3,very_rare:.5,legendary:.75,mythic:1}[P.rarity];if(P.id==="superBlueBloodMoon"?t.current=Fh(20,"#B84060","#d85080"):P.id==="brokenMoon"?t.current=Fh(25,"#9898B8","#6868a8",.008,.015):P.id==="emptySky"&&(t.current=Fh(30,"#606080","#707090",.008,.012)),P.rarity==="normal"||!P.specialEffect)return;const Y=P.specialEffect;Y==="flash"?e.current=_3():Y==="sparkle"?n.current=B5(M.x,M.y,60):Y==="echo"?f.current=J3(M.x,M.y,I,4):Y==="aurora"?r.current=O3(X):Y==="fireflies"?s.current=I3($,X,Math.floor((10+ee*20)*K)):Y==="snow"?i.current=$3($,Math.floor((30+ee*70)*K)):Y==="fog"?a.current=B3($,X):Y==="meteorShower"?u.current=V3($,X,Math.floor((10+ee*15)*K)):Y==="frozenTime"?d.current=W3($,X,Math.floor((20+ee*20)*K)):Y==="voidRipples"?h.current=G3():Y==="shattered"?(o.current=Y3(M.x,M.y,12),c.current=dx(M.x,M.y,25)):Y==="bloodRing"?m.current=eL(I):Y==="fadeParticles"?w.current=nL($,X):Y==="silence"?v.current=sL():Y==="dreamDust"?b.current=aL($,X):Y==="memoryFragments"?g.current=lL($,X):Y==="ancientRunes"?x.current=uL(M.x,M.y,I):Y==="lightRays"?y.current=hL():Y==="shootingStars"?S.current=mL():Y==="starfield"?k.current=vL(150):Y==="nebula"?E.current=wL($,X,5):Y==="prismLights"&&(C.current=gL())},[]),N=p.useCallback((P,M,I,$,X)=>{M.specialEffect==="nebula"&&E.current.length>0&&(E.current=bL(P,E.current,I,$,X.x,X.y)),M.specialEffect==="starfield"&&k.current.length>0&&(k.current=xL(P,k.current,I,$))},[]),R=p.useCallback((P,M,I)=>{M.specialEffect==="aurora"&&r.current.length>0&&D3(P,r.current,I),M.specialEffect==="fog"&&a.current.length>0&&z3(P,a.current,I)},[]),O=p.useCallback((P,M,I)=>{if(M.specialEffect!=="shattered")return;const $=Date.now();$-j.current>1e4&&(c.current=dx(I.x,I.y,25),j.current=$),c.current.length>0&&Q3(P,c.current,M.moonTint,I.x,I.y),o.current.length>0&&X3(P,o.current,I.x,I.y,M.moonTint)},[]),U=p.useCallback((P,M,I,$,X,ee)=>{const K=M.specialEffect;K&&(K==="flash"&&e.current.length>=0&&(Math.random()<.025&&e.current.push(F5(I.x,I.y,$)),e.current=M3(P,e.current)),K==="sparkle"&&n.current.length>0&&A3(P,n.current),K==="bloodRing"&&m.current.length>0&&tL(P,m.current,I.x,I.y),K==="fadeParticles"&&w.current.length>0&&rL(P,w.current),K==="silence"&&v.current.length>=0&&(v.current=iL(P,v.current,I.x,I.y,$)),K==="dreamDust"&&b.current.length>0&&oL(P,b.current),K==="memoryFragments"&&g.current.length>0&&cL(P,g.current),K==="ancientRunes"&&x.current.length>0&&dL(P,x.current,I.x,I.y),K==="lightRays"&&y.current.length>0&&fL(P,y.current,I.x,I.y,$),K==="prismLights"&&C.current.length>0&&yL(P,C.current,I.x,I.y,$),K==="shootingStars"&&S.current.length>=0&&(S.current=pL(P,S.current,X,ee)))},[]),D=p.useCallback((P,M,I)=>{(M.id==="superBlueBloodMoon"||M.id==="brokenMoon"||M.id==="emptySky")&&t.current.length>0&&R3(P,t.current,I.x,I.y)},[]),q=p.useCallback((P,M,I,$)=>{M.specialEffect==="snow"&&i.current.length>0&&F3(P,i.current,I,$),M.specialEffect==="meteorShower"&&u.current.length>0&&U3(P,u.current,I,$),M.specialEffect==="frozenTime"&&d.current.length>0&&H3(P,d.current)},[]),F=p.useCallback((P,M,I)=>{if(M.specialEffect!=="voidRipples")return;const $=Cd(M);Math.random()<.015&&h.current.push(K3(I.x,I.y+Math.sin(I.phase)*3,$)),h.current=q3(P,h.current,I.x,I.y)},[]),B=p.useCallback((P,M,I)=>{M.specialEffect==="echo"&&f.current.length>0&&Z3(P,f.current,I.x,I.y,I.phase,M.moonTint)},[]),_=p.useCallback((P,M,I,$)=>{M.specialEffect==="fireflies"&&s.current.length>0&&L3(P,s.current,I,$)},[]);return{moonFlashesRef:e,sparklesRef:n,echoMoonsRef:f,firefliesRef:s,initializeParticleEffects:T,drawBackgroundEffects:N,drawAtmosphericEffects:R,drawShatteredEffects:O,drawSpecialEffects:U,drawOrbitingEffects:D,drawWeatherEffects:q,drawVoidEffects:F,drawEchoMoonsEffect:B,drawFirefliesEffect:_}}function IL({canvasRef:e,phenomenon:t,moonPositionRef:n,parallaxOffsetRef:r,moonFlashesRef:s,sparklesRef:i}){const a=p.useRef(null),o=p.useRef(0),c=p.useRef(!1),[u,d]=p.useState(null),[h,f]=p.useState(Pu()),m=p.useCallback((E,C)=>{var P,M;if(!e.current||!t||!n.current)return console.log(" isMoonHit: No canvas or phenomenon"),!1;const j=e.current.getBoundingClientRect(),T=E-j.left,N=C-j.top,R=n.current,O=((P=r.current)==null?void 0:P.x)??0,U=((M=r.current)==null?void 0:M.y)??0,D=R.x+O*.8,q=R.y+Math.sin(R.phase)*3+U*.8,F=Cd(t),B=Math.sqrt(Math.pow(T-D,2)+Math.pow(N-q,2)),_=B<F*1.5;return console.log(" Moon Hit Check:",{clickX:T.toFixed(0),clickY:N.toFixed(0),moonX:D.toFixed(0),moonY:q.toFixed(0),dist:B.toFixed(0),moonRadius:F.toFixed(0),threshold:(F*1.5).toFixed(0),hit:_}),_},[e,t,n,r]),w=p.useCallback(()=>{var O,U;if(!e.current||!t||!n.current)return;const E=n.current,C=((O=r.current)==null?void 0:O.x)??0,j=((U=r.current)==null?void 0:U.y)??0,T=E.x+C*.8,N=E.y+Math.sin(E.phase)*3+j*.8;navigator.vibrate&&navigator.vibrate(20),s.current.push(F5(T,N));const R=B5(T,N,15);i.current=[...i.current,...R]},[e,t,n,r,s,i]),v=p.useCallback(()=>{f(Pu()),d("phase"),w()},[w]),b=p.useCallback(()=>{navigator.vibrate&&navigator.vibrate([50,30,50]),d("phenomenon")},[]),g=p.useCallback(E=>{console.log(" Touch Start triggered");const C=E.touches[0];m(C.clientX,C.clientY)&&(E.preventDefault(),c.current=!1,o.current=Date.now(),a.current=setTimeout(()=>{c.current||b()},500))},[m,b]),x=p.useCallback(()=>{c.current=!0,a.current&&(clearTimeout(a.current),a.current=null)},[]),y=p.useCallback(E=>{if(a.current&&(clearTimeout(a.current),a.current=null),Date.now()-o.current<500&&!c.current){const j=E.changedTouches[0];m(j.clientX,j.clientY)&&v()}},[m,v]),S=p.useCallback(E=>{m(E.clientX,E.clientY)&&v()},[m,v]),k=p.useCallback(()=>{d(null)},[]);return p.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),{overlayType:u,currentMoonPhase:h,handleTouchStart:g,handleTouchMove:x,handleTouchEnd:y,handleCanvasClick:S,handleCloseOverlay:k}}function LL({onRefresh:e,onExpand:t,onCollapse:n,pullThreshold:r=100,expandThreshold:s=50}={}){const i=p.useRef(null),[a,o]=p.useState({pullDistance:0,isRefreshing:!1,isPulling:!1,isExpanded:!1,gestureDirection:"none"}),c=p.useRef(0),u=p.useRef(0),d=p.useRef(!1),h=p.useRef(null),f=p.useCallback(g=>{if(a.isRefreshing)return;const x=g.touches[0];c.current=x.clientY,u.current=x.clientX,d.current=!0,h.current=null,o(y=>({...y,isPulling:!0,gestureDirection:"none"}))},[a.isRefreshing]),m=p.useCallback(g=>{if(!d.current||a.isRefreshing)return;const x=g.touches[0],y=x.clientY-c.current,S=x.clientX-u.current;if(h.current||(Math.abs(y)>10||Math.abs(S)>10)&&(h.current=Math.abs(y)>Math.abs(S)?"vertical":"horizontal"),h.current!=="vertical")return;const k=y>0?2.5:4,E=y/k;o(C=>({...C,pullDistance:Math.max(-50,Math.min(150,E)),gestureDirection:y>0?"down":"up"})),y>0&&g.preventDefault()},[a.isRefreshing]),w=p.useCallback(async()=>{if(!d.current)return;d.current=!1,h.current=null;const{pullDistance:g,gestureDirection:x}=a;if(x==="down"&&g>=r&&e){o(y=>({...y,isRefreshing:!0,pullDistance:r,isPulling:!1}));try{await e()}finally{o(y=>({...y,isRefreshing:!1,pullDistance:0}))}return}x==="down"&&g>=s&&t?(t(),o(y=>({...y,isExpanded:!0}))):x==="up"&&g<=-s&&n&&(n(),o(y=>({...y,isExpanded:!1}))),o(y=>({...y,pullDistance:0,isPulling:!1,gestureDirection:"none"}))},[a,r,s,e,t,n]);p.useEffect(()=>{const g=i.current;if(g)return g.addEventListener("touchstart",f,{passive:!0}),g.addEventListener("touchmove",m,{passive:!1}),g.addEventListener("touchend",w,{passive:!0}),()=>{g.removeEventListener("touchstart",f),g.removeEventListener("touchmove",m),g.removeEventListener("touchend",w)}},[f,m,w]);const v=Math.min(Math.abs(a.pullDistance)/r,1),b=a.pullDistance>=r;return{containerRef:i,...a,progress:v,isReady:b}}const hx="mythic-moon-collection",fx="mythic-theme-boosts",mx={superBloodMoon:{type:"blood",color:"#DC143C",secondaryColor:"#8B0000",speed:1.5,density:.8,glow:!0},superBlueBloodMoon:{type:"aurora",color:"#B840A0",secondaryColor:"#4040B8",speed:1.2,density:.7,glow:!0},lunarTransientPhenomena:{type:"lightning",color:"#C8A8F8",secondaryColor:"#FFFFFF",speed:2.5,density:.5,glow:!0},hybridEclipse:{type:"fire",color:"#FFB870",secondaryColor:"#D8A860",speed:1,density:.6,glow:!0},stillMoon:{type:"crystals",color:"#B0C4DE",secondaryColor:"#E0F0FF",speed:.3,density:.4,glow:!1},echoMoon:{type:"stars",color:"#D0D0E8",secondaryColor:"#9090B8",speed:.8,density:.6,glow:!1},brokenMoon:{type:"void",color:"#9898B8",secondaryColor:"#484868",speed:1.8,density:.9,glow:!1},emptySky:{type:"void",color:"#404040",secondaryColor:"#202020",speed:.5,density:.2,glow:!1},crystalMoon:{type:"crystals",color:"#E0F0FF",secondaryColor:"#80C0FF",speed:.6,density:.7,glow:!0},arcticMoon:{type:"snow",color:"#90DCC8",secondaryColor:"#FFFFFF",speed:.7,density:.8,glow:!1},shatteredMoon:{type:"void",color:"#9898C8",secondaryColor:"#6060A0",speed:2,density:.7,glow:!0},cosmicVoyageMoon:{type:"stars",color:"#8090C0",secondaryColor:"#4060A0",speed:1,density:.9,glow:!0},nebulaDreamMoon:{type:"aurora",color:"#B888D8",secondaryColor:"#D060A0",speed:.9,density:.6,glow:!0}};function z5(){const[e,t]=p.useState({}),[n,r]=p.useState({}),[s,i]=p.useState(!1);p.useEffect(()=>{const w=localStorage.getItem(hx),v=localStorage.getItem(fx);if(w)try{t(JSON.parse(w))}catch(b){console.error("Failed to parse moon collection:",b)}if(v)try{r(JSON.parse(v))}catch(b){console.error("Failed to parse theme boosts:",b)}i(!0)},[]),p.useEffect(()=>{s&&localStorage.setItem(hx,JSON.stringify(e))},[e,s]),p.useEffect(()=>{s&&localStorage.setItem(fx,JSON.stringify(n))},[n,s]);const a=p.useCallback(w=>{const v=new Date().toISOString();t(b=>{const g=b[w.id];return g?{...b,[w.id]:{...g,encounterCount:g.encounterCount+1,lastEncountered:v}}:{...b,[w.id]:{id:w.id,firstEncountered:v,encounterCount:1,lastEncountered:v,isFavorite:!1,themeDurationBoost:0}}})},[]),o=p.useCallback(w=>{t(v=>{const b=v[w];return b?{...v,[w]:{...b,isFavorite:!b.isFavorite}}:v})},[]),c=p.useCallback((w,v)=>{t(b=>{const g=b[w];return g?{...b,[w]:{...g,themeDurationBoost:Math.min(300,g.themeDurationBoost+v)}}:b})},[]),u=p.useCallback(w=>{const v=w.transitionSpeed*2,b=e[w.id],g=(b==null?void 0:b.themeDurationBoost)||0;return v+g},[e]),d=p.useCallback(()=>{const w=Object.keys(Mo),v=Object.keys(e),b=x=>v.filter(y=>{var S;return((S=Mo[y])==null?void 0:S.rarity)===x}).length,g=Object.values(e).reduce((x,y)=>x+y.encounterCount,0);return{totalDiscovered:v.length,totalEncounters:g,mythicCount:b("mythic"),legendaryCount:b("legendary"),veryRareCount:b("very_rare"),rareCount:b("rare"),normalCount:b("normal"),completionPercent:Math.round(v.length/w.length*100)}},[e]),h=p.useCallback(()=>Object.values(Mo).filter(w=>w.rarity==="mythic").map(w=>({...w,discovered:!!e[w.id],entry:e[w.id]||null,particles:mx[w.id]||null})),[e]),f=p.useCallback(w=>mx[w]||null,[]),m=p.useCallback(w=>!!e[w],[e]);return{collection:e,isLoaded:s,recordEncounter:a,toggleFavorite:o,addDurationBoost:c,getEffectiveThemeDuration:u,getStats:d,getMythicMoons:h,getParticleConfig:f,isDiscovered:m}}const $L={normal:{bg:"bg-slate-900/90",border:"border-slate-600",text:"text-slate-300"},rare:{bg:"bg-blue-950/90",border:"border-blue-500",text:"text-blue-300"},very_rare:{bg:"bg-purple-950/90",border:"border-purple-500",text:"text-purple-300"},legendary:{bg:"bg-amber-950/90",border:"border-amber-500",text:"text-amber-300"},mythic:{bg:"bg-rose-950/90",border:"border-rose-400",text:"text-rose-300"}},FL={normal:"",rare:"",very_rare:"",legendary:"",mythic:""};function BL({type:e,moonPhase:t,phenomenon:n,onClose:r}){const s=$L[(n==null?void 0:n.rarity)||"normal"];return l.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:r,children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),l.jsxs("div",{className:`relative max-w-sm w-full rounded-2xl border-2 ${s.bg} ${s.border} p-6 shadow-2xl animate-scale-in`,onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Close",children:l.jsx(za,{className:"w-4 h-4 text-white/80"})}),e==="phase"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full bg-white/10",children:l.jsx(f0,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:t.phaseName}),l.jsx("p",{className:"text-sm text-white/70",children:t.phaseNameTh})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[Math.round(t.illumination*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[t.age.toFixed(1)," ",l.jsx("span",{className:"text-sm font-normal",children:""})]})]})]}),l.jsx("div",{className:"flex justify-center py-2",children:l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white/90 shadow-lg"}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-900/90",style:{clipPath:t.phase<.5?`inset(0 ${(1-t.phase*2)*100}% 0 0)`:`inset(0 0 0 ${(t.phase-.5)*2*100}%)`}})]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"30"},children:l.jsx(Ot,{className:"w-6 h-6",style:{color:n==null?void 0:n.uiAccent}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:n==null?void 0:n.name}),l.jsx("p",{className:"text-sm text-white/70",children:n==null?void 0:n.nameEn})]})]}),l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${s.bg} border ${s.border}`,children:[l.jsx(h2,{className:`w-4 h-4 ${s.text}`}),l.jsx("span",{className:`text-sm font-medium ${s.text}`,children:FL[(n==null?void 0:n.rarity)||"normal"]})]}),l.jsxs("p",{className:"text-lg italic text-white/80 border-l-2 pl-3",style:{borderColor:n==null?void 0:n.uiAccent},children:['"',n==null?void 0:n.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.starDensity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.cloudOpacity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.shootingStarChance)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[(((n==null?void 0:n.moonSize)||1)*100).toFixed(0),"%"]})]})]}),(n==null?void 0:n.specialEffect)&&l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-base font-medium text-white capitalize",children:[n.specialEffect,n.effectIntensity&&l.jsxs("span",{className:"text-white/60 ml-2",children:["(",Math.round(n.effectIntensity*100),"%)"]})]})]}),l.jsx("div",{className:"flex items-center justify-center gap-2 pt-2",children:l.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"20",color:n==null?void 0:n.uiAccent},children:["#",n==null?void 0:n.emotionTag]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]})]})]})}function zL({phenomenon:e}){const t=()=>e?e.rarity==="mythic"?{superBloodMoon:"'Cinzel', serif",superBlueBloodMoon:"'UnifrakturMaguntia', cursive",lunarTransientPhenomena:"'Orbitron', sans-serif",hybridEclipse:"'Spectral', serif",stillMoon:"'Abril Fatface', serif",echoMoon:"'Righteous', cursive",brokenMoon:"'Creepster', cursive",emptySky:"'Nosifer', cursive",crystalMoon:"'Poiret One', cursive",shatteredMoon:"'Creepster', cursive"}[e.id]||"'Cinzel', serif":e.rarity==="legendary"?"'Playfair Display', serif":e.rarity==="very_rare"?"'Cormorant Garamond', serif":e.rarity==="rare"?e.id==="snowMoon"?"'Mountains of Christmas', cursive":"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",n=()=>e?e.rarity==="mythic"?"text-6xl":e.rarity==="legendary"||e.rarity==="very_rare"?"text-5xl":"text-4xl":"text-4xl",r=()=>e?e.rarity==="mythic"?`0 0 5px ${e.uiAccent}99, 0 0 12px ${e.uiAccent}55, 0 3px 8px rgba(0, 0, 0, 0.8)`:e.rarity==="legendary"?`0 0 12px ${e.uiAccent}, 0 0 25px ${e.uiAccent}aa, 0 4px 10px rgba(0, 0, 0, 0.8)`:e.rarity==="very_rare"?`0 0 20px ${e.uiAccent}aa, 0 0 40px ${e.uiAccent}66, 0 4px 8px rgba(0, 0, 0, 0.6)`:e.rarity==="rare"?"0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 4px 8px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)",s=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.id==="emptySky"||e.id==="brokenMoon"?"#ffffff":e.uiAccent:"#ffffff",i=()=>e?e.rarity==="mythic"?"pulse 3s ease-in-out infinite":e.rarity==="legendary"?"pulse 4s ease-in-out infinite":"none":"none",a=()=>e?e.rarity==="mythic"||e.rarity==="legendary"?"'Cormorant Garamond', serif":e.rarity==="very_rare"?"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",o=()=>e?e.rarity==="mythic"?`0 0 12px ${e.uiAccent}aa, 0 0 25px ${e.uiAccent}44, 0 2px 6px rgba(0, 0, 0, 0.7)`:e.rarity==="legendary"?`0 0 15px ${e.uiAccent}99, 0 2px 5px rgba(0, 0, 0, 0.6)`:e.rarity==="very_rare"?`0 0 12px ${e.uiAccent}66, 0 2px 4px rgba(0, 0, 0, 0.5)`:"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)",c=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.uiAccent:"rgba(255, 255, 255, 0.95)",u=()=>e&&e.rarity==="mythic"?"text-xl":"text-lg";return l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-6 pt-10 pointer-events-none",children:[l.jsx("h1",{className:`font-bold text-white mb-2 tracking-wide transition-all duration-500 ${n()}`,style:{fontFamily:t(),textShadow:r(),color:s(),animation:i()},children:"Dream book"}),e&&l.jsx("p",{className:`italic font-light transition-all duration-500 ${u()}`,style:{fontFamily:a(),textShadow:o(),color:c()},children:e.subtitle})]})}function VL({pullDistance:e,progress:t,isRefreshing:n,isReady:r,isPulling:s}){const i=e>15||n,a=.5+t*.5,o=t*180,c=t*.6;return l.jsxs("div",{className:H("absolute left-1/2 -translate-x-1/2 z-20 pointer-events-none","transition-all duration-300 ease-out",i?"opacity-100":"opacity-0"),style:{top:Math.max(8,Math.min(e*.8,80)),transform:`translateX(-50%) scale(${a})`},children:[l.jsx("div",{className:H("absolute inset-0 rounded-full blur-xl transition-opacity",r?"bg-primary/40":"bg-white/20"),style:{opacity:c,transform:`scale(${1.5+t*.5})`}}),l.jsx("div",{className:H("relative flex items-center justify-center w-12 h-12 rounded-full","backdrop-blur-md border transition-all duration-300",n?"bg-primary/30 border-primary/50 shadow-lg shadow-primary/20":r?"bg-primary/20 border-primary/40":"bg-white/10 border-white/20"),children:n?l.jsxs("div",{className:"relative",children:[l.jsx(hd,{className:"w-5 h-5 text-primary animate-spin"}),l.jsx(Ot,{className:"absolute -top-1 -right-1 w-3 h-3 text-primary animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx(Ot,{className:"absolute -bottom-1 -left-1 w-2 h-2 text-primary animate-pulse",style:{animationDelay:"0.5s"}})]}):l.jsx(ai,{className:H("w-6 h-6 transition-all duration-300",r?"text-primary":"text-white/70"),style:{transform:`rotate(${o}deg)`}})}),l.jsx("div",{className:H("absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap","text-[10px] font-medium transition-all duration-300",r?"text-primary":"text-white/50"),style:{opacity:t>.3?1:0,transform:`translateX(-50%) translateY(${(1-t)*10}px)`},children:n?"...":r?"":"..."}),s&&t>.2&&l.jsx("div",{className:"absolute inset-0",children:[...Array(3)].map((u,d)=>l.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-white/40",style:{left:`${50+(d-1)*20}%`,top:`${-20-d*10}%`,opacity:t*(.8-d*.2),transform:`scale(${1-d*.2})`,animation:`float ${1+d*.3}s ease-in-out infinite`}},d))})]})}function UL(){const e=p.useRef(null),t=p.useRef(),n=T3(),{recordEncounter:r}=z5(),s=P3(),{shouldRenderFrame:i}=N3({targetFPS:s?15:60,enableAdaptive:!0,minFPS:15,maxFPS:60}),a=p.useRef([]),o=p.useRef([]),c=p.useRef([]),u=p.useRef(0),d=p.useRef({x:0,y:0,phase:0}),h=p.useRef(Pu()),f=p.useRef({x:0,y:0}),[m,w]=p.useState(null),v=p.useCallback(async()=>{const K=fl();w(K),Tu(K),r(K);const Y=K.rarity==="mythic"?" MYTHIC  ":"";Nt.success(` ${Y}${K.name}`,{description:K.subtitle,duration:K.rarity==="mythic"?5e3:3e3}),await new Promise(V=>setTimeout(V,800))},[r]),{containerRef:b,pullDistance:g,isRefreshing:x,isPulling:y,progress:S,isReady:k}=LL({onRefresh:v,pullThreshold:100}),{moonFlashesRef:E,sparklesRef:C,initializeParticleEffects:j,drawBackgroundEffects:T,drawAtmosphericEffects:N,drawShatteredEffects:R,drawSpecialEffects:O,drawOrbitingEffects:U,drawWeatherEffects:D,drawVoidEffects:q,drawEchoMoonsEffect:F,drawFirefliesEffect:B}=DL(),{overlayType:_,currentMoonPhase:P,handleTouchStart:M,handleTouchMove:I,handleTouchEnd:$,handleCanvasClick:X,handleCloseOverlay:ee}=IL({canvasRef:e,phenomenon:m,moonPositionRef:d,parallaxOffsetRef:n,moonFlashesRef:E,sparklesRef:C});return p.useEffect(()=>{const K=fl();w(K),Tu(K),r(K),console.log(" Moon Phenomenon:",K.name,`(${K.rarity})`)},[r]),p.useEffect(()=>{if(!m)return;const K=e.current;if(!K)return;const Y=K.getContext("2d");if(!Y)return;(()=>{const Qt=K.getBoundingClientRect();K.width=Qt.width*window.devicePixelRatio,K.height=Qt.height*window.devicePixelRatio,Y.scale(window.devicePixelRatio,window.devicePixelRatio)})();const pe=K.getBoundingClientRect(),he=pe.width,se=pe.height;a.current=kL(he,se,m),o.current=jL(he,se,m),c.current=PL(he,se),d.current={x:he*.7,y:se*.25,phase:0},h.current=Pu();const de=d.current,fe=Cd(m);j(m,de,fe,he,se);const Ke=()=>{f.current={x:window.scrollX,y:window.scrollY}};window.addEventListener("scroll",Ke,{passive:!0});const ct=Qt=>{if(!i(Qt)){t.current=requestAnimationFrame(ct);return}Y.clearRect(0,0,he,se);const Ct={ctx:Y,width:he,height:se,phenomenon:m,parallaxOffset:s?{x:0,y:0}:n.current};SL(Ct),s||(T(Y,m,he,se,f.current),N(Y,m,he)),EL({...Ct,stars:a.current}),s||(F(Y,m,d.current),B(Y,m,he,se));const ir=s?.001:.005,Mr={...d.current};if(s&&(Mr.phase+=ir),d.current=ML({...Ct,moonPosition:s?Mr:d.current,moonPhase:h.current}),s||(R(Y,m,d.current),O(Y,m,d.current,fe,he,se),U(Y,m,d.current)),CL({...Ct,clouds:o.current}),!s){D(Y,m,he,se),q(Y,m,d.current);const ar=NL({...Ct,shootingStars:c.current,timer:u.current});c.current=ar.shootingStars,u.current=ar.timer}t.current=requestAnimationFrame(ct)};return t.current=requestAnimationFrame(ct),()=>{t.current&&cancelAnimationFrame(t.current),window.removeEventListener("scroll",Ke)}},[m,s,i,j,T,N,R,O,U,D,q,F,B]),l.jsxs("div",{ref:b,className:"relative w-full h-[60vh] min-h-[400px] overflow-hidden",style:{transform:`translateY(${x?20:g*.3}px)`,transition:y?"none":"transform 0.3s ease-out"},children:[l.jsx(VL,{pullDistance:g,progress:S,isRefreshing:x,isReady:k,isPulling:y}),l.jsx("canvas",{ref:e,onClick:X,onTouchStart:M,onTouchMove:I,onTouchEnd:$,className:"absolute inset-0 w-full h-full cursor-pointer",style:{width:"100%",height:"100%",touchAction:"pan-y"}}),l.jsx(zL,{phenomenon:m}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background via-background/50 to-transparent pointer-events-none"}),_&&l.jsx(BL,{type:_,moonPhase:P,phenomenon:m,onClose:ee})]})}function le({className:e,...t}){return l.jsx("div",{className:H("animate-pulse rounded-md bg-muted",e),...t})}function V5({compact:e}){return e?l.jsxs("div",{className:"card-minimal flex items-center gap-3",children:[l.jsx(le,{className:"w-10 h-10 rounded-full shrink-0"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-24"}),l.jsx(le,{className:"h-3 w-32"})]}),l.jsx(le,{className:"h-6 w-6 rounded-full"})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"h-4 w-20"}),l.jsx(le,{className:"h-5 w-5 rounded-full"})]}),l.jsx(le,{className:"h-4 w-16"})]}),l.jsx(le,{className:"h-5 w-32"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{className:"h-5 w-16 rounded-full"}),l.jsx(le,{className:"h-5 w-20 rounded-full"}),l.jsx(le,{className:"h-5 w-14 rounded-full"})]}),l.jsx(le,{className:"h-12 w-full"})]})}function WL(){return l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(le,{className:"h-8 w-32"}),l.jsx(le,{className:"h-4 w-48"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(le,{className:"h-[120px] w-full rounded-md"}),l.jsx(le,{className:"h-10 w-full rounded-md"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:[...Array(3)].map((e,t)=>l.jsx(le,{className:"h-12 w-full rounded-md"},t))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(le,{className:"h-5 w-24"}),l.jsx(le,{className:"h-4 w-16"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((e,t)=>l.jsx(V5,{compact:!0},t))})]})]})}function HL({onRefresh:e,threshold:t=80,resistance:n=2.5}){const r=p.useRef(null),[s,i]=p.useState(0),[a,o]=p.useState(!1),[c,u]=p.useState(!1),d=p.useRef(0),h=p.useRef(0),f=p.useCallback(v=>{if(a)return;const b=r.current;b&&b.scrollTop<=0&&(d.current=v.touches[0].clientY,u(!0))},[a]),m=p.useCallback(v=>{if(!c||a)return;h.current=v.touches[0].clientY;const b=Math.max(0,(h.current-d.current)/n);b>0&&(v.preventDefault(),i(b))},[c,a,n]),w=p.useCallback(async()=>{if(!(!c||a)){if(u(!1),s>=t){o(!0),i(t);try{await e()}catch(v){console.error("Refresh failed:",v)}finally{o(!1),i(0)}}else i(0);d.current=0,h.current=0}},[c,a,s,t,e]);return p.useEffect(()=>{const v=r.current;if(v)return v.addEventListener("touchstart",f,{passive:!0}),v.addEventListener("touchmove",m,{passive:!1}),v.addEventListener("touchend",w,{passive:!0}),()=>{v.removeEventListener("touchstart",f),v.removeEventListener("touchmove",m),v.removeEventListener("touchend",w)}},[f,m,w]),{containerRef:r,pullDistance:s,isRefreshing:a,isPulling:c}}function U5({children:e,onRefresh:t,className:n}){const{containerRef:r,pullDistance:s,isRefreshing:i,isPulling:a}=HL({onRefresh:t,threshold:80}),o=Math.min(s/80,1),c=s>10||i;return l.jsxs("div",{ref:r,className:H("relative overflow-auto",n),style:{touchAction:a?"none":"auto"},children:[l.jsx("div",{className:H("absolute left-0 right-0 flex justify-center transition-all duration-200 z-10",c?"opacity-100":"opacity-0"),style:{top:-40+s,transform:`translateY(${Math.min(s,60)}px)`},children:l.jsx("div",{className:H("flex items-center justify-center w-10 h-10 rounded-full","bg-primary/10 backdrop-blur-sm border border-primary/20","shadow-lg"),children:i?l.jsx(hd,{className:"w-5 h-5 text-primary animate-spin"}):l.jsx(B_,{className:H("w-5 h-5 text-primary transition-transform duration-200",o>=1&&"rotate-180"),style:{transform:`rotate(${o*180}deg)`,opacity:o}})})}),l.jsx("div",{style:{transform:`translateY(${i?60:s*.5}px)`,transition:a?"none":"transform 0.2s ease-out"},children:e})]})}const Om=(e,t)=>t.some(n=>e instanceof n);let px,gx;function GL(){return px||(px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KL(){return gx||(gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dm=new WeakMap,zh=new WeakMap,Td=new WeakMap;function qL(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(Nu(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return Td.set(t,e),t}function YL(e){if(Dm.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Dm.set(e,t)}let Im={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Dm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nu(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function W5(e){Im=e(Im)}function XL(e){return KL().includes(e)?function(...t){return e.apply(Lm(this),t),Nu(this.request)}:function(...t){return Nu(e.apply(Lm(this),t))}}function QL(e){return typeof e=="function"?XL(e):(e instanceof IDBTransaction&&YL(e),Om(e,GL())?new Proxy(e,Im):e)}function Nu(e){if(e instanceof IDBRequest)return qL(e);if(zh.has(e))return zh.get(e);const t=QL(e);return t!==e&&(zh.set(e,t),Td.set(t,e)),t}const Lm=e=>Td.get(e),JL=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],Vh=new Map;function yx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vh.get(t))return Vh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ZL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JL.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Vh.set(t,i),i}W5(e=>({...e,get:(t,n,r)=>yx(t,n)||e.get(t,n,r),has:(t,n)=>!!yx(t,n)||e.has(t,n)}));const e$=["continue","continuePrimaryKey","advance"],vx={},$m=new WeakMap,H5=new WeakMap,t$={get(e,t){if(!e$.includes(t))return e[t];let n=vx[t];return n||(n=vx[t]=function(...r){$m.set(this,H5.get(this)[t](...r))}),n}};async function*n$(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,t$);for(H5.set(n,t),Td.set(n,Lm(t));t;)yield n,t=await($m.get(n)||t.continue()),$m.delete(n)}function xx(e,t){return t===Symbol.asyncIterator&&Om(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Om(e,[IDBIndex,IDBObjectStore])}W5(e=>({...e,get(t,n,r){return xx(t,n)?n$:e.get(t,n,r)},has(t,n){return xx(t,n)||e.has(t,n)}}));function r$(){return navigator.onLine}function s$(e){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}function i$(){const[e,t]=p.useState(r$());return p.useEffect(()=>s$(t),[]),e}function G5(){const e=i$(),[t,n]=p.useState(!1),[r,s]=p.useState(!1);return p.useEffect(()=>{if(!e)s(!0);else if(r){n(!0);const i=setTimeout(()=>{n(!1),s(!1)},3e3);return()=>clearTimeout(i)}},[e,r]),e&&!t?null:l.jsx("div",{className:H("fixed top-16 left-1/2 -translate-x-1/2 z-50","flex items-center gap-2 px-4 py-2 rounded-full","text-sm font-medium shadow-lg","animate-in slide-in-from-top duration-300",e?"bg-green-500/90 text-white":"bg-yellow-500/90 text-yellow-950"),children:e?l.jsxs(l.Fragment,{children:[l.jsx(lM,{className:"w-4 h-4"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(oM,{className:"w-4 h-4"}),l.jsx("span",{children:""})]})})}function ua({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>{i(!0)},t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0)":"translateY(20px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function a$(){return l.jsx(ua,{delay:0,duration:500,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl",children:""}),l.jsx("p",{className:"text-muted-foreground",children:""})]})})}const o$=ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?qN:"button";return l.jsx(a,{className:H(o$({variant:t,size:n,className:e})),ref:i,...s})});xe.displayName="Button";const Ol=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ol.displayName="Textarea";const dn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));dn.displayName="Input";const l$=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...n}){return l.jsx("div",{className:H(l$({variant:t}),e),...n})}function c$({suggestions:e,editing:t,analyzing:n,onToggleEdit:r,onConfirm:s,onCancel:i,onUpdate:a}){var o,c;return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ot,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"AI "})]}),l.jsx(xe,{variant:"ghost",size:"sm",onClick:r,children:t?l.jsx(yu,{className:"w-4 h-4"}):l.jsx(m0,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),t?l.jsx(dn,{value:e.world,onChange:u=>a("world",u.target.value),className:"mt-1 h-8"}):l.jsx(ye,{variant:"secondary",children:e.world})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsxs(ye,{variant:e.threatLevel>=3?"destructive":"secondary",children:["Level ",e.threatLevel]})]}),((o=e.entities)==null?void 0:o.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Entities: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.entities.map((u,d)=>l.jsx(ye,{variant:"outline",children:u},d))})]}),((c=e.environments)==null?void 0:c.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Environments: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.environments.map((u,d)=>l.jsx(ye,{variant:"outline",children:u},d))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{onClick:s,disabled:n,className:"flex-1 gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(h0,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yu,{className:"w-4 h-4"}),""]})}),l.jsx(xe,{variant:"outline",onClick:i,children:l.jsx(za,{className:"w-4 h-4"})})]})]})}function u$({existingWorlds:e,existingEntities:t,onDreamSaved:n}){const[r,s]=p.useState(""),[i,a]=p.useState(!1),[o,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=async()=>{if(!r.trim()){Nt.error("");return}a(!0);try{const g=await S3(r,e,t,["fog","sea","mountain","city","tunnel","rain","night","sunset","forest","building"]);c(g),d(!0),Nt.success("! ")}catch(g){console.error("Error analyzing:",g),Nt.error("")}finally{a(!1)}},w=async()=>{if(o){a(!0);try{const g=new Date;if(await L5({date:g.toISOString().split("T")[0],wakeTime:g.toTimeString().slice(0,5),world:o.world||"Unknown",timeSystem:o.timeSystem||"unknown",environments:o.environments||[],entities:o.entities||[],threatLevel:o.threatLevel||0,safetyOverride:o.safetyOverride||"unknown",exit:o.exit||"unknown",notes:r})){Nt.success("! ",{description:`: ${o.world} | Threat: ${o.threatLevel}`}),s(""),c(null),d(!1),f(!1);const y=await gi();n(y.slice(0,5))}else Nt.error("")}catch(g){console.error("Error saving:",g),Nt.error("")}finally{a(!1)}}},v=()=>{d(!1),c(null),f(!1)},b=(g,x)=>{c(y=>y?{...y,[g]:x}:null)};return l.jsx(ua,{delay:100,duration:450,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ol,{placeholder:"... ",value:r,onChange:g=>s(g.target.value),className:"min-h-[120px] resize-none",disabled:u}),u&&o&&l.jsx(c$,{suggestions:o,editing:h,analyzing:i,onToggleEdit:()=>f(!h),onConfirm:w,onCancel:v,onUpdate:b}),!u&&l.jsx(xe,{onClick:m,disabled:i||!r.trim(),className:"w-full gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx(h0,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ot,{className:"w-4 h-4"}),""]})})]})})}function d$(){const e=[{to:"/logs/new",icon:u2,label:" ()"},{to:"/library",icon:d0,label:""},{to:"/logs",icon:f0,label:""}];return l.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map((t,n)=>l.jsx(ua,{delay:200+n*80,duration:400,children:l.jsx(xe,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(Dt,{to:t.to,children:[l.jsx(t.icon,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:t.label})]})})},t.to))})}const wx={0:{border:"border-l-4 border-l-muted-foreground/30",bg:"bg-card",badge:"bg-muted text-muted-foreground"},1:{border:"border-l-4 border-l-emerald-500",bg:"bg-gradient-to-r from-emerald-500/5 to-transparent",badge:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"},2:{border:"border-l-4 border-l-yellow-500",bg:"bg-gradient-to-r from-yellow-500/5 to-transparent",badge:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400"},3:{border:"border-l-4 border-l-orange-500",bg:"bg-gradient-to-r from-orange-500/8 to-transparent",badge:"bg-orange-500/20 text-orange-700 dark:text-orange-400"},4:{border:"border-l-4 border-l-red-500",bg:"bg-gradient-to-r from-red-500/10 to-transparent",badge:"bg-red-500/20 text-red-700 dark:text-red-400"},5:{border:"border-l-4 border-l-rose-600",bg:"bg-gradient-to-r from-rose-600/15 to-transparent",badge:"bg-rose-600/25 text-rose-700 dark:text-rose-400 font-semibold"}},h$={0:"",1:"",2:"",3:"",4:"",5:""};function K5({dream:e,compact:t,showEdit:n=!1}){const r=new Date(e.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),s=wx[e.threatLevel]||wx[0];return l.jsxs("div",{className:"relative group",children:[l.jsxs(Dt,{to:`/logs/${e.id}`,className:H("block rounded-lg p-4 transition-all duration-200","border border-border hover:border-primary/30","hover:shadow-md hover:-translate-y-0.5",s.border,s.bg),children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e.id}),l.jsxs("span",{className:H("inline-flex items-center justify-center gap-1 px-2 py-0.5 text-xs rounded-full",s.badge),children:[l.jsx("span",{className:"text-[10px]",children:h$[e.threatLevel]}),e.threatLevel]})]}),l.jsx("p",{className:"font-medium truncate",children:e.world}),!t&&e.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.wakeTime})]})]}),!t&&e.environments.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.environments.slice(0,4).map(i=>l.jsx("span",{className:"tag",children:i},i)),e.environments.length>4&&l.jsxs("span",{className:"tag",children:["+",e.environments.length-4]})]})]}),n&&l.jsx(Dt,{to:`/logs/${e.id}`,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:i=>i.stopPropagation(),children:l.jsx(xe,{size:"icon",variant:"ghost",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",children:l.jsx(m0,{className:"w-3 h-3"})})})]})}function f$({dreams:e}){return e.length===0?l.jsx(ua,{delay:500,duration:400,children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(xe,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(Dt,{to:"/logs/new",children:""})})]})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx(ua,{delay:450,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsx(Dt,{to:"/logs",className:"text-sm text-primary hover:underline",children:""})]})}),l.jsx("div",{className:"space-y-2",children:e.map((t,n)=>l.jsx(ua,{delay:500+n*80,duration:400,children:l.jsx(K5,{dream:t,compact:!0})},t.id))})]})}function m$(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState([]),[a,o]=p.useState([]),c=p.useCallback(async()=>{try{const[d,h,f]=await Promise.all([gi(),Al(),jd()]);t(d.slice(0,5)),i(h.map(m=>m.name)),o(f.map(m=>m.name))}catch(d){console.error("Error loading data:",d)}finally{r(!1)}},[]);p.useEffect(()=>{c()},[c]);const u=p.useCallback(async()=>{await c(),Nt.success("")},[c]);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(G5,{}),l.jsx(UL,{}),l.jsx(U5,{onRefresh:u,className:"flex-1",children:l.jsxs("div",{className:"space-y-8 py-4 pb-28 container-app",children:[l.jsx(a$,{}),l.jsx(u$,{existingWorlds:s,existingEntities:a,onDreamSaved:t}),l.jsx(d$,{}),n?l.jsx(WL,{}):l.jsx(f$,{dreams:e})]})}),l.jsx(Sd,{})]})}function ml(e,[t,n]){return Math.min(n,Math.max(t,e))}var p$=p.createContext(void 0);function Dl(e){const t=p.useContext(p$);return e||t||"ltr"}var Uh=0;function q5(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bx()),document.body.insertAdjacentElement("beforeend",e[1]??bx()),Uh++,()=>{Uh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uh--}},[])}function bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",Sx={bubbles:!1,cancelable:!0},g$="FocusScope",L0=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,c]=p.useState(null),u=Xe(s),d=Xe(i),h=p.useRef(null),f=ce(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(y){if(m.paused||!o)return;const S=y.target;o.contains(S)?h.current=S:Br(h.current,{select:!0})},b=function(y){if(m.paused||!o)return;const S=y.relatedTarget;S!==null&&(o.contains(S)||Br(h.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&Br(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(g);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[r,o,m.paused]),p.useEffect(()=>{if(o){Ex.add(m);const v=document.activeElement;if(!o.contains(v)){const g=new CustomEvent(Wh,Sx);o.addEventListener(Wh,u),o.dispatchEvent(g),g.defaultPrevented||(y$(S$(Y5(o)),{select:!0}),document.activeElement===v&&Br(o))}return()=>{o.removeEventListener(Wh,u),setTimeout(()=>{const g=new CustomEvent(Hh,Sx);o.addEventListener(Hh,d),o.dispatchEvent(g),g.defaultPrevented||Br(v??document.body,{select:!0}),o.removeEventListener(Hh,d),Ex.remove(m)},0)}}},[o,u,d,m]);const w=p.useCallback(v=>{if(!n&&!r||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(b&&g){const x=v.currentTarget,[y,S]=v$(x);y&&S?!v.shiftKey&&g===S?(v.preventDefault(),n&&Br(y,{select:!0})):v.shiftKey&&g===y&&(v.preventDefault(),n&&Br(S,{select:!0})):g===x&&v.preventDefault()}},[n,r,m.paused]);return l.jsx(J.div,{tabIndex:-1,...a,ref:f,onKeyDown:w})});L0.displayName=g$;function y$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Br(r,{select:t}),document.activeElement!==n)return}function v$(e){const t=Y5(e),n=kx(t,e),r=kx(t.reverse(),e);return[n,r]}function Y5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kx(e,t){for(const n of e)if(!x$(n,{upTo:t}))return n}function x$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w$(e){return e instanceof HTMLInputElement&&"select"in e}function Br(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w$(e)&&t&&e.select()}}var Ex=b$();function b$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jx(e,t),e.unshift(t)},remove(t){var n;e=jx(e,t),(n=e[0])==null||n.resume()}}}function jx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function S$(e){return e.filter(t=>t.tagName!=="A")}function $0(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pi=new WeakMap,pc=new WeakMap,gc={},Gh=0,X5=function(e){return e&&(e.host||X5(e.parentNode))},E$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=X5(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},j$=function(e,t,n,r){var s=E$(t,Array.isArray(e)?e:[e]);gc[n]||(gc[n]=new WeakMap);var i=gc[n],a=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",v=(Pi.get(f)||0)+1,b=(i.get(f)||0)+1;Pi.set(f,v),i.set(f,b),a.push(f),v===1&&w&&pc.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(t),o.clear(),Gh++,function(){a.forEach(function(h){var f=Pi.get(h)-1,m=i.get(h)-1;Pi.set(h,f),i.set(h,m),f||(pc.has(h)||h.removeAttribute(r),pc.delete(h)),m||h.removeAttribute(n)}),Gh--,Gh||(Pi=new WeakMap,Pi=new WeakMap,pc=new WeakMap,gc={})}},Q5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=k$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),j$(r,s,n,"aria-hidden")):function(){return null}},zc="right-scroll-bar-position",Vc="width-before-scroll-bar",C$="with-scroll-bars-hidden",T$="--removed-body-scroll-bar-size";function Kh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var N$=typeof window<"u"?p.useLayoutEffect:p.useEffect,Cx=new WeakMap;function _$(e,t){var n=P$(null,function(r){return e.forEach(function(s){return Kh(s,r)})});return N$(function(){var r=Cx.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(o){i.has(o)||Kh(o,null)}),i.forEach(function(o){s.has(o)||Kh(o,a)})}Cx.set(n,e)},[e]),n}function M$(e){return e}function R$(e,t){t===void 0&&(t=M$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function A$(e){e===void 0&&(e={});var t=R$(null);return t.options=Gn({async:!0,ssr:!1},e),t}var J5=function(e){var t=e.sideCar,n=Ga(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Gn({},n))};J5.isSideCarExport=!0;function O$(e,t){return e.useMedium(t),J5}var Z5=A$(),qh=function(){},Pd=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:qh,onWheelCapture:qh,onTouchMoveCapture:qh}),s=r[0],i=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,y=e.gapMode,S=Ga(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=_$([n,t]),C=Gn(Gn({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:Z5,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:y}),a?p.cloneElement(p.Children.only(o),Gn(Gn({},C),{ref:E})):p.createElement(x,Gn({},C,{className:c,ref:E}),o))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Vc,zeroRight:zc};var D$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D$();return t&&e.setAttribute("nonce",t),e}function L$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=I$())&&(L$(t,n),$$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B$=function(){var e=F$();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ek=function(){var e=B$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},z$={left:0,top:0,right:0,gap:0},Yh=function(e){return parseInt(e||"",10)||0},V$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Yh(n),Yh(r),Yh(s)]},U$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return z$;var t=V$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},W$=ek(),da="data-scroll-locked",H$=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(C$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zc,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Vc,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(da,`] {
    `).concat(T$,": ").concat(o,`px;
  }
`)},Tx=function(){var e=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(e)?e:0},G$=function(){p.useEffect(function(){return document.body.setAttribute(da,(Tx()+1).toString()),function(){var e=Tx()-1;e<=0?document.body.removeAttribute(da):document.body.setAttribute(da,e.toString())}},[])},K$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;G$();var i=p.useMemo(function(){return U$(s)},[s]);return p.createElement(W$,{styles:H$(i,!t,s,n?"":"!important")})},Fm=!1;if(typeof window<"u")try{var yc=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{Fm=!1}var Ni=Fm?{passive:!1}:!1,q$=function(e){return e.tagName==="TEXTAREA"},tk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q$(e)&&n[t]==="visible")},Y$=function(e){return tk(e,"overflowY")},X$=function(e){return tk(e,"overflowX")},Px=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nk(e,r);if(s){var i=rk(e,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},J$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},nk=function(e,t){return e==="v"?Y$(t):X$(t)},rk=function(e,t){return e==="v"?Q$(t):J$(t)},Z$=function(e,t){return e==="h"&&t==="rtl"?-1:1},e8=function(e,t,n,r,s){var i=Z$(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,c=t.contains(o),u=!1,d=a>0,h=0,f=0;do{if(!o)break;var m=rk(e,o),w=m[0],v=m[1],b=m[2],g=v-b-i*w;(w||g)&&nk(e,o)&&(h+=g,f+=w);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},vc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nx=function(e){return[e.deltaX,e.deltaY]},_x=function(e){return e&&"current"in e?e.current:e},t8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},n8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},r8=0,_i=[];function s8(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(r8++)[0],i=p.useState(ek)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=FD([e.lockRef.current],(e.shards||[]).map(_x),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var g=vc(v),x=n.current,y="deltaX"in v?v.deltaX:x[0]-g[0],S="deltaY"in v?v.deltaY:x[1]-g[1],k,E=v.target,C=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in v&&C==="h"&&E.type==="range")return!1;var j=Px(C,E);if(!j)return!0;if(j?k=C:(k=C==="v"?"h":"v",j=Px(C,E)),!j)return!1;if(!r.current&&"changedTouches"in v&&(y||S)&&(r.current=k),!k)return!0;var T=r.current||k;return e8(T,b,v,T==="h"?y:S)},[]),c=p.useCallback(function(v){var b=v;if(!(!_i.length||_i[_i.length-1]!==i)){var g="deltaY"in b?Nx(b):vc(b),x=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&t8(k.delta,g)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(a.current.shards||[]).map(_x).filter(Boolean).filter(function(k){return k.contains(b.target)}),S=y.length>0?o(b,y[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(v,b,g,x){var y={name:v,delta:b,target:g,should:x,shadowParent:i8(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=p.useCallback(function(v){n.current=vc(v),r.current=void 0},[]),h=p.useCallback(function(v){u(v.type,Nx(v),v.target,o(v,e.lockRef.current))},[]),f=p.useCallback(function(v){u(v.type,vc(v),v.target,o(v,e.lockRef.current))},[]);p.useEffect(function(){return _i.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ni),document.addEventListener("touchmove",c,Ni),document.addEventListener("touchstart",d,Ni),function(){_i=_i.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ni),document.removeEventListener("touchmove",c,Ni),document.removeEventListener("touchstart",d,Ni)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:n8(s)}):null,m?p.createElement(K$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function i8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const a8=O$(Z5,s8);var F0=p.forwardRef(function(e,t){return p.createElement(Pd,Gn({},e,{ref:t,sideCar:a8}))});F0.classNames=Pd.classNames;var o8=[" ","Enter","ArrowUp","ArrowDown"],l8=[" ","Enter"],li="Select",[Nd,_d,c8]=ad(li),[Ka]=hn(li,[c8,gd]),Md=gd(),[u8,js]=Ka(li),[d8,h8]=Ka(li),sk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:w}=e,v=Md(t),[b,g]=p.useState(null),[x,y]=p.useState(null),[S,k]=p.useState(!1),E=Dl(u),[C,j]=ps({prop:r,defaultProp:s??!1,onChange:i,caller:li}),[T,N]=ps({prop:a,defaultProp:o,onChange:c,caller:li}),R=p.useRef(null),O=b?w||!!b.closest("form"):!0,[U,D]=p.useState(new Set),q=Array.from(U).map(F=>F.props.value).join(";");return l.jsx(WA,{...v,children:l.jsxs(u8,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:us(),value:T,onValueChange:N,open:C,onOpenChange:j,dir:E,triggerPointerDownPosRef:R,disabled:f,children:[l.jsx(Nd.Provider,{scope:t,children:l.jsx(d8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(F=>{D(B=>new Set(B).add(F))},[]),onNativeOptionRemove:p.useCallback(F=>{D(B=>{const _=new Set(B);return _.delete(F),_})},[]),children:n})}),O?l.jsxs(Pk,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:F=>N(F.target.value),disabled:f,form:w,children:[T===void 0?l.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};sk.displayName=li;var ik="SelectTrigger",ak=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Md(n),a=js(ik,n),o=a.disabled||r,c=ce(t,a.onTriggerChange),u=_d(n),d=p.useRef("touch"),[h,f,m]=_k(v=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===a.value),x=Mk(b,v,g);x!==void 0&&a.onValueChange(x.value)}),w=v=>{o||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(W2,{asChild:!0,...i,children:l.jsx(J.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Nk(a.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:G(s.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:G(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(b&&v.key===" ")&&o8.includes(v.key)&&(w(),v.preventDefault())})})})});ak.displayName=ik;var ok="SelectValue",lk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=e,c=js(ok,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ce(t,c.onValueNodeChange);return et(()=>{u(d)},[u,d]),l.jsx(J.span,{...o,ref:h,style:{pointerEvents:"none"},children:Nk(c.value)?l.jsx(l.Fragment,{children:a}):i})});lk.displayName=ok;var f8="SelectIcon",ck=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(J.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});ck.displayName=f8;var m8="SelectPortal",uk=e=>l.jsx(od,{asChild:!0,...e});uk.displayName=m8;var ci="SelectContent",dk=p.forwardRef((e,t)=>{const n=js(ci,e.__scopeSelect),[r,s]=p.useState();if(et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?fi.createPortal(l.jsx(hk,{scope:e.__scopeSelect,children:l.jsx(Nd.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(fk,{...e,ref:t})});dk.displayName=ci;var Sn=10,[hk,Cs]=Ka(ci),p8="SelectContentImpl",g8=_a("SelectContent.RemoveScroll"),fk=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:b,...g}=e,x=js(ci,n),[y,S]=p.useState(null),[k,E]=p.useState(null),C=ce(t,V=>S(V)),[j,T]=p.useState(null),[N,R]=p.useState(null),O=_d(n),[U,D]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(y)return Q5(y)},[y]),q5();const F=p.useCallback(V=>{const[pe,...he]=O().map(fe=>fe.ref.current),[se]=he.slice(-1),de=document.activeElement;for(const fe of V)if(fe===de||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===pe&&k&&(k.scrollTop=0),fe===se&&k&&(k.scrollTop=k.scrollHeight),fe==null||fe.focus(),document.activeElement!==de))return},[O,k]),B=p.useCallback(()=>F([j,y]),[F,j,y]);p.useEffect(()=>{U&&B()},[U,B]);const{onOpenChange:_,triggerPointerDownPosRef:P}=x;p.useEffect(()=>{if(y){let V={x:0,y:0};const pe=se=>{var de,fe;V={x:Math.abs(Math.round(se.pageX)-(((de=P.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(se.pageY)-(((fe=P.current)==null?void 0:fe.y)??0))}},he=se=>{V.x<=10&&V.y<=10?se.preventDefault():y.contains(se.target)||_(!1),document.removeEventListener("pointermove",pe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",he,{capture:!0})}}},[y,_,P]),p.useEffect(()=>{const V=()=>_(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[_]);const[M,I]=_k(V=>{const pe=O().filter(de=>!de.disabled),he=pe.find(de=>de.ref.current===document.activeElement),se=Mk(pe,V,he);se&&setTimeout(()=>se.ref.current.focus())}),$=p.useCallback((V,pe,he)=>{const se=!q.current&&!he;(x.value!==void 0&&x.value===pe||se)&&(T(V),se&&(q.current=!0))},[x.value]),X=p.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=p.useCallback((V,pe,he)=>{const se=!q.current&&!he;(x.value!==void 0&&x.value===pe||se)&&R(V)},[x.value]),K=r==="popper"?Bm:mk,Y=K===Bm?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return l.jsx(hk,{scope:n,content:y,viewport:k,onViewportChange:E,itemRefCallback:$,selectedItem:j,onItemLeave:X,itemTextRefCallback:ee,focusSelectedItem:B,selectedItemText:N,position:r,isPositioned:U,searchRef:M,children:l.jsx(F0,{as:g8,allowPinchZoom:!0,children:l.jsx(L0,{asChild:!0,trapped:x.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:G(s,V=>{var pe;(pe=x.trigger)==null||pe.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(K,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:V=>V.preventDefault(),...g,...Y,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:G(g.onKeyDown,V=>{const pe=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!pe&&V.key.length===1&&I(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let se=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(V.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const de=V.target,fe=se.indexOf(de);se=se.slice(fe+1)}setTimeout(()=>F(se)),V.preventDefault()}})})})})})})});fk.displayName=p8;var y8="SelectItemAlignedPosition",mk=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=js(ci,n),a=Cs(ci,n),[o,c]=p.useState(null),[u,d]=p.useState(null),h=ce(t,C=>d(C)),f=_d(n),m=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:g,focusSelectedItem:x}=a,y=p.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&v&&b&&g){const C=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),N=g.getBoundingClientRect();if(i.dir!=="rtl"){const de=N.left-j.left,fe=T.left-de,Ke=C.left-fe,ct=C.width+Ke,Qt=Math.max(ct,j.width),Ct=window.innerWidth-Sn,ir=ml(fe,[Sn,Math.max(Sn,Ct-Qt)]);o.style.minWidth=ct+"px",o.style.left=ir+"px"}else{const de=j.right-N.right,fe=window.innerWidth-T.right-de,Ke=window.innerWidth-C.right-fe,ct=C.width+Ke,Qt=Math.max(ct,j.width),Ct=window.innerWidth-Sn,ir=ml(fe,[Sn,Math.max(Sn,Ct-Qt)]);o.style.minWidth=ct+"px",o.style.right=ir+"px"}const R=f(),O=window.innerHeight-Sn*2,U=v.scrollHeight,D=window.getComputedStyle(u),q=parseInt(D.borderTopWidth,10),F=parseInt(D.paddingTop,10),B=parseInt(D.borderBottomWidth,10),_=parseInt(D.paddingBottom,10),P=q+F+U+_+B,M=Math.min(b.offsetHeight*5,P),I=window.getComputedStyle(v),$=parseInt(I.paddingTop,10),X=parseInt(I.paddingBottom,10),ee=C.top+C.height/2-Sn,K=O-ee,Y=b.offsetHeight/2,V=b.offsetTop+Y,pe=q+F+V,he=P-pe;if(pe<=ee){const de=R.length>0&&b===R[R.length-1].ref.current;o.style.bottom="0px";const fe=u.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(K,Y+(de?X:0)+fe+B),ct=pe+Ke;o.style.height=ct+"px"}else{const de=R.length>0&&b===R[0].ref.current;o.style.top="0px";const Ke=Math.max(ee,q+v.offsetTop+(de?$:0)+Y)+he;o.style.height=Ke+"px",v.scrollTop=pe-ee+v.offsetTop}o.style.margin=`${Sn}px 0`,o.style.minHeight=M+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,o,u,v,b,g,i.dir,r]);et(()=>y(),[y]);const[S,k]=p.useState();et(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(C=>{C&&w.current===!0&&(y(),x==null||x(),w.current=!1)},[y,x]);return l.jsx(x8,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(J.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mk.displayName=y8;var v8="SelectPopperPosition",Bm=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Sn,...i}=e,a=Md(n);return l.jsx(H2,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bm.displayName=v8;var[x8,B0]=Ka(ci,{}),zm="SelectViewport",pk=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Cs(zm,n),a=B0(zm,n),o=ce(t,i.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Nd.Slot,{scope:n,children:l.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-Sn*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(v,b);if(g<w){const x=g+m,y=Math.min(w,x),S=x-y;h.style.height=y+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});pk.displayName=zm;var gk="SelectGroup",[w8,b8]=Ka(gk),S8=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=us();return l.jsx(w8,{scope:n,id:s,children:l.jsx(J.div,{role:"group","aria-labelledby":s,...r,ref:t})})});S8.displayName=gk;var yk="SelectLabel",vk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=b8(yk,n);return l.jsx(J.div,{id:s.id,...r,ref:t})});vk.displayName=yk;var _u="SelectItem",[k8,xk]=Ka(_u),wk=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,o=js(_u,n),c=Cs(_u,n),u=o.value===r,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),w=ce(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,r,s)}),v=us(),b=p.useRef("touch"),g=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(k8,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(x=>{h(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Nd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(J.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:G(a.onFocus,()=>m(!0)),onBlur:G(a.onBlur,()=>m(!1)),onClick:G(a.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:G(a.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:G(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:G(a.onPointerMove,x=>{var y;b.current=x.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(a.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:G(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(l8.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});wk.displayName=_u;var po="SelectItemText",bk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=js(po,n),o=Cs(po,n),c=xk(po,n),u=h8(po,n),[d,h]=p.useState(null),f=ce(t,g=>h(g),c.onItemTextChange,g=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,g,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return et(()=>(v(w),()=>b(w)),[v,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(J.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?fi.createPortal(i.children,a.valueNode):null]})});bk.displayName=po;var Sk="SelectItemIndicator",kk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return xk(Sk,n).isSelected?l.jsx(J.span,{"aria-hidden":!0,...r,ref:t}):null});kk.displayName=Sk;var Vm="SelectScrollUpButton",Ek=p.forwardRef((e,t)=>{const n=Cs(Vm,e.__scopeSelect),r=B0(Vm,e.__scopeSelect),[s,i]=p.useState(!1),a=ce(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Ck,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Ek.displayName=Vm;var Um="SelectScrollDownButton",jk=p.forwardRef((e,t)=>{const n=Cs(Um,e.__scopeSelect),r=B0(Um,e.__scopeSelect),[s,i]=p.useState(!1),a=ce(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Ck,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});jk.displayName=Um;var Ck=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Cs("SelectScrollButton",n),a=p.useRef(null),o=_d(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),et(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(J.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),E8="SelectSeparator",Tk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(J.div,{"aria-hidden":!0,...r,ref:t})});Tk.displayName=E8;var Wm="SelectArrow",j8=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Md(n),i=js(Wm,n),a=Cs(Wm,n);return i.open&&a.position==="popper"?l.jsx(G2,{...s,...r,ref:t}):null});j8.displayName=Wm;var C8="SelectBubbleInput",Pk=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=ce(r,s),a=$0(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(J.select,{...n,style:{...LS,...n.style},ref:i,defaultValue:t})});Pk.displayName=C8;function Nk(e){return e===""||e===void 0}function _k(e){const t=Xe(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Mk(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=T8(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function T8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P8=sk,Rk=ak,N8=lk,_8=ck,M8=uk,Ak=dk,R8=pk,Ok=vk,Dk=wk,A8=bk,O8=kk,Ik=Ek,Lk=jk,$k=Tk;const an=P8,on=N8,Vt=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Rk,{ref:r,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(_8,{asChild:!0,children:l.jsx(ai,{className:"h-4 w-4 opacity-50"})})]}));Vt.displayName=Rk.displayName;const Fk=p.forwardRef(({className:e,...t},n)=>l.jsx(Ik,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Zo,{className:"h-4 w-4"})}));Fk.displayName=Ik.displayName;const Bk=p.forwardRef(({className:e,...t},n)=>l.jsx(Lk,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ai,{className:"h-4 w-4"})}));Bk.displayName=Lk.displayName;const Ut=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(M8,{children:l.jsxs(Ak,{ref:s,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(Fk,{}),l.jsx(R8,{className:H("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Bk,{})]})}));Ut.displayName=Ak.displayName;const D8=p.forwardRef(({className:e,...t},n)=>l.jsx(Ok,{ref:n,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));D8.displayName=Ok.displayName;const at=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Dk,{ref:r,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(O8,{children:l.jsx(yu,{className:"h-4 w-4"})})}),l.jsx(A8,{children:t})]}));at.displayName=Dk.displayName;const I8=p.forwardRef(({className:e,...t},n)=>l.jsx($k,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));I8.displayName=$k.displayName;const Mx=["fog","sea","mountain","city","tunnel","rain","night","sunset"],z0=["inactive","activated","unknown"],V0=["none","helper","separation","wake","unknown"],zk=["wake","separation","collapse","unknown"];p.createContext({hasAnimated:!1,setHasAnimated:()=>{}});function Rn({children:e,delay:t=0,duration:n=400,className:r="",animation:s="fade-up"}){const[i,a]=p.useState(!1);p.useEffect(()=>{const c=setTimeout(()=>a(!0),t);return()=>clearTimeout(c)},[t]);const o=()=>{if(i)return"translateY(0) translateX(0) scale(1)";switch(s){case"fade":return"translateY(0) scale(1)";case"scale":return"scale(0.95)";case"slide-left":return"translateX(-20px)";case"slide-right":return"translateX(20px)";case"fade-up":default:return"translateY(16px)"}};return l.jsx("div",{className:`transition-all ${r}`,style:{opacity:i?1:0,transform:o(),transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function L8({children:e,baseDelay:t=0,staggerDelay:n=60,duration:r=400,className:s="",animation:i="fade-up"}){return l.jsx("div",{className:s,children:e.map((a,o)=>l.jsx(Rn,{delay:t+o*n,duration:r,animation:i,children:a},o))})}function $8(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,o]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState("all"),[f,m]=p.useState("all"),[w,v]=p.useState("all"),[b,g]=p.useState("all"),x=p.useCallback(async()=>{try{const[k,E]=await Promise.all([gi(),Al()]);t(k),r(E)}catch(k){console.error("Error loading data:",k)}finally{i(!1)}},[]);p.useEffect(()=>{x()},[x]);const y=p.useCallback(async()=>{await x(),Nt.success("")},[x]),S=e.filter(k=>{var E;if(c){const C=c.toLowerCase();if(!(k.world.toLowerCase().includes(C)||((E=k.notes)==null?void 0:E.toLowerCase().includes(C))||k.entities.some(T=>T.toLowerCase().includes(C))||k.environments.some(T=>T.toLowerCase().includes(C))))return!1}return!(d!=="all"&&k.world!==d||f!=="all"&&k.threatLevel!==Number(f)||w!=="all"&&k.timeSystem!==w||b!=="all"&&k.safetyOverride!==b)});return s?l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{children:"Dream Logs"})}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,E)=>l.jsx(V5,{},E))})]}):l.jsxs(U5,{onRefresh:y,className:"h-full",children:[l.jsx(G5,{}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx(Rn,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{children:"Dream Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>o(!a),children:l.jsx(K_,{className:"w-4 h-4"})}),l.jsx(xe,{asChild:!0,size:"sm",children:l.jsxs(Dt,{to:"/logs/new",children:[l.jsx(u2,{className:"w-4 h-4 mr-1"}),"New"]})})]})]})}),l.jsx(Rn,{delay:60,duration:400,children:l.jsxs("div",{className:"relative",children:[l.jsx(d2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(dn,{type:"text",placeholder:" dreams... (world, notes, entities, environments)",value:c,onChange:k=>u(k.target.value),className:"pl-9 pr-9"}),c&&l.jsx(xe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>u(""),children:l.jsx(za,{className:"w-3 h-3"})})]})}),a&&l.jsx(Rn,{delay:0,duration:300,animation:"fade",children:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(an,{value:d,onValueChange:h,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"World"})}),l.jsxs(Ut,{children:[l.jsx(at,{value:"all",children:"All Worlds"}),n.map(k=>l.jsx(at,{value:k.name,children:k.name},k.id))]})]}),l.jsxs(an,{value:f,onValueChange:m,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Threat"})}),l.jsxs(Ut,{children:[l.jsx(at,{value:"all",children:"All Threats"}),[0,1,2,3,4,5].map(k=>l.jsxs(at,{value:String(k),children:["Level ",k]},k))]})]}),l.jsxs(an,{value:w,onValueChange:v,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Time System"})}),l.jsxs(Ut,{children:[l.jsx(at,{value:"all",children:"All"}),z0.map(k=>l.jsx(at,{value:k,children:k},k))]})]}),l.jsxs(an,{value:b,onValueChange:g,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Safety"})}),l.jsxs(Ut,{children:[l.jsx(at,{value:"all",children:"All"}),V0.map(k=>l.jsx(at,{value:k,children:k},k))]})]})]})]})}),l.jsx("div",{className:"space-y-2",children:S.length===0?l.jsx(Rn,{delay:120,duration:400,children:l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(xe,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(Dt,{to:"/logs/new",children:""})})]})}):l.jsx(L8,{baseDelay:120,staggerDelay:50,duration:400,className:"space-y-2",children:S.map(k=>l.jsx(K5,{dream:k,showEdit:!0},k.id))})})]})]})}var F8="Label",Vk=p.forwardRef((e,t)=>l.jsx(J.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Vk.displayName=F8;var Uk=Vk;const B8=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=p.forwardRef(({className:e,...t},n)=>l.jsx(Uk,{ref:n,className:H(B8(),e),...t}));St.displayName=Uk.displayName;function z8({date:e,wakeTime:t,onDateChange:n,onWakeTimeChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"date",children:"Date"}),l.jsx(dn,{id:"date",type:"date",value:e,onChange:s=>n(s.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"wakeTime",children:"Wake Time"}),l.jsx(dn,{id:"wakeTime",type:"time",value:t,onChange:s=>r(s.target.value),required:!0})]})]})}function V8({worlds:e,selectedWorld:t,newWorld:n,onWorldChange:r,onNewWorldChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"World"}),l.jsxs(an,{value:t,onValueChange:r,children:[l.jsx(Vt,{children:l.jsx(on,{placeholder:"Select or create new"})}),l.jsx(Ut,{children:e.map(i=>l.jsx(at,{value:i.name,children:i.name},i.id))})]}),l.jsx(dn,{placeholder:"...",value:n,onChange:i=>s(i.target.value)})]})}function U8({selectedEnvironments:e,newEnvironment:t,onToggleEnvironment:n,onNewEnvironmentChange:r,onAddEnvironment:s}){const i=e.filter(a=>!Mx.includes(a));return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Environments"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Mx.map(a=>l.jsx("button",{type:"button",onClick:()=>n(a),className:`tag transition-colors ${e.includes(a)?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,children:a},a))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(dn,{type:"text",placeholder:" environment ...",value:t,onChange:a=>r(a.target.value),className:"flex-1"}),l.jsx(xe,{type:"button",variant:"outline",size:"sm",disabled:!t,onClick:s,children:""})]}),i.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:i.map(a=>l.jsx("button",{type:"button",onClick:()=>n(a),className:"tag bg-primary text-primary-foreground",children:a},a))})]})}var Rd="Checkbox",[W8]=hn(Rd),[H8,U0]=W8(Rd);function G8(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=ps({prop:n,defaultProp:s??!1,onChange:c,caller:Rd}),[w,v]=p.useState(null),[b,g]=p.useState(null),x=p.useRef(!1),y=w?!!a||!!w.closest("form"):!0,S={checked:f,disabled:i,setChecked:m,control:w,setControl:v,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:hs(s)?!1:s,isFormControl:y,bubbleInput:b,setBubbleInput:g};return l.jsx(H8,{scope:t,...S,children:K8(h)?h(S):r})}var Wk="CheckboxTrigger",Hk=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:w}=U0(Wk,e),v=ce(s,d),b=p.useRef(c);return p.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const x=()=>h(b.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[i,h]),l.jsx(J.button,{type:"button",role:"checkbox","aria-checked":hs(c)?"mixed":c,"aria-required":u,"data-state":Xk(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:v,onKeyDown:G(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:G(n,g=>{h(x=>hs(x)?!0:!x),w&&m&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})})});Hk.displayName=Wk;var W0=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(G8,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(Hk,{...h,ref:t,__scopeCheckbox:n}),f&&l.jsx(Yk,{__scopeCheckbox:n})]})})});W0.displayName=Rd;var Gk="CheckboxIndicator",Kk=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=U0(Gk,n);return l.jsx(fn,{present:r||hs(i.checked)||i.checked===!0,children:l.jsx(J.span,{"data-state":Xk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Kk.displayName=Gk;var qk="CheckboxBubbleInput",Yk=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=U0(qk,e),w=ce(n,m),v=$0(i),b=k0(r);p.useEffect(()=>{const x=f;if(!x)return;const y=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(y,"checked").set,E=!s.current;if(v!==i&&k){const C=new Event("click",{bubbles:E});x.indeterminate=hs(i),k.call(x,hs(i)?!1:i),x.dispatchEvent(C)}},[f,v,i,s]);const g=p.useRef(hs(i)?!1:i);return l.jsx(J.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??g.current,required:o,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Yk.displayName=qk;function K8(e){return typeof e=="function"}function hs(e){return e==="indeterminate"}function Xk(e){return hs(e)?"indeterminate":e?"checked":"unchecked"}const Qk=p.forwardRef(({className:e,...t},n)=>l.jsx(W0,{ref:n,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Kk,{className:H("flex items-center justify-center text-current"),children:l.jsx(yu,{className:"h-4 w-4"})})}));Qk.displayName=W0.displayName;function q8({entities:e,selectedEntities:t,newEntity:n,onToggleEntity:r,onNewEntityChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Entities"}),l.jsx("div",{className:"space-y-2",children:e.map(i=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qk,{id:i.id,checked:t.includes(i.name),onCheckedChange:()=>r(i.name)}),l.jsx("label",{htmlFor:i.id,className:"text-sm",children:i.name})]},i.id))}),l.jsx(dn,{placeholder:" entity ...",value:n,onChange:i=>s(i.target.value)})]})}function Y8({timeSystem:e,threatLevel:t,safetyOverride:n,exit:r,onTimeSystemChange:s,onThreatLevelChange:i,onSafetyOverrideChange:a,onExitChange:o}){return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Time System"}),l.jsxs(an,{value:e,onValueChange:c=>s(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:z0.map(c=>l.jsx(at,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(St,{children:["Threat Level: ",t]}),l.jsx("input",{type:"range",min:"0",max:"5",value:t,onChange:c=>i(Number(c.target.value)),className:"w-full accent-primary"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Safety Override"}),l.jsxs(an,{value:n,onValueChange:c=>a(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:V0.map(c=>l.jsx(at,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Exit"}),l.jsxs(an,{value:r,onValueChange:c=>o(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:zk.map(c=>l.jsx(at,{value:c,children:c},c))})]})]})]})}var Jk=["PageUp","PageDown"],Zk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qa="Slider",[Hm,X8,Q8]=ad(qa),[tE]=hn(qa,[Q8]),[J8,Ad]=tE(qa),nE=p.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:w,...v}=e,b=p.useRef(new Set),g=p.useRef(0),y=a==="horizontal"?Z8:eF,[S=[],k]=ps({prop:d,defaultProp:u,onChange:R=>{var U;(U=[...b.current][g.current])==null||U.focus(),h(R)}}),E=p.useRef(S);function C(R){const O=iF(S,R);N(R,O)}function j(R){N(R,g.current)}function T(){const R=E.current[g.current];S[g.current]!==R&&f(S)}function N(R,O,{commit:U}={commit:!1}){const D=cF(i),q=uF(Math.round((R-r)/i)*i+r,D),F=ml(q,[r,s]);k((B=[])=>{const _=rF(B,F,O);if(lF(_,c*i)){g.current=_.indexOf(F);const P=String(_)!==String(B);return P&&U&&f(_),P?_:B}else return B})}return l.jsx(J8,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:S,orientation:a,form:w,children:l.jsx(Hm.Provider,{scope:e.__scopeSlider,children:l.jsx(Hm.Slot,{scope:e.__scopeSlider,children:l.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:t,onPointerDown:G(v.onPointerDown,()=>{o||(E.current=S)}),min:r,max:s,inverted:m,onSlideStart:o?void 0:C,onSlideMove:o?void 0:j,onSlideEnd:o?void 0:T,onHomeKeyDown:()=>!o&&N(r,0,{commit:!0}),onEndKeyDown:()=>!o&&N(s,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:O})=>{if(!o){const q=Jk.includes(R.key)||R.shiftKey&&Zk.includes(R.key)?10:1,F=g.current,B=S[F],_=i*q*O;N(B+_,F,{commit:!0})}}})})})})});nE.displayName=qa;var[rE,sE]=tE(qa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z8=p.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=p.useState(null),m=ce(t,y=>f(y)),w=p.useRef(void 0),v=Dl(s),b=v==="ltr",g=b&&!i||!b&&i;function x(y){const S=w.current||h.getBoundingClientRect(),k=[0,S.width],C=H0(k,g?[n,r]:[r,n]);return w.current=S,C(y-S.left)}return l.jsx(rE,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:l.jsx(iE,{dir:v,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=x(y.clientX);a==null||a(S)},onSlideMove:y=>{const S=x(y.clientX);o==null||o(S)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const k=eE[g?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:k?-1:1})}})})}),eF=p.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=e,d=p.useRef(null),h=ce(t,d),f=p.useRef(void 0),m=!s;function w(v){const b=f.current||d.current.getBoundingClientRect(),g=[0,b.height],y=H0(g,m?[r,n]:[n,r]);return f.current=b,y(v-b.top)}return l.jsx(rE,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(iE,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);a==null||a(b)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:v=>{const g=eE[m?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:g?-1:1})}})})}),iE=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=e,d=Ad(qa,n);return l.jsx(J.span,{...u,ref:t,onKeyDown:G(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):Jk.concat(Zk).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:G(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:G(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:G(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),aE="SliderTrack",oE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ad(aE,n);return l.jsx(J.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});oE.displayName=aE;var Gm="SliderRange",lE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ad(Gm,n),i=sE(Gm,n),a=p.useRef(null),o=ce(t,a),c=s.values.length,u=s.values.map(f=>dE(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(J.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:o,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});lE.displayName=Gm;var Km="SliderThumb",cE=p.forwardRef((e,t)=>{const n=X8(e.__scopeSlider),[r,s]=p.useState(null),i=ce(t,o=>s(o)),a=p.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(tF,{...e,ref:i,index:a})}),tF=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,a=Ad(Km,n),o=sE(Km,n),[c,u]=p.useState(null),d=ce(t,x=>u(x)),h=c?a.form||!!c.closest("form"):!0,f=k0(c),m=a.values[r],w=m===void 0?0:dE(m,a.min,a.max),v=sF(r,a.values.length),b=f==null?void 0:f[o.size],g=b?aF(b,w,o.direction):0;return p.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${w}% + ${g}px)`},children:[l.jsx(Hm.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(J.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:G(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&l.jsx(uE,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});cE.displayName=Km;var nF="RadioBubbleInput",uE=p.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=p.useRef(null),i=ce(s,r),a=$0(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("input",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(J.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});uE.displayName=nF;function rF(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function dE(e,t,n){const i=100/(n-t)*(e-t);return ml(i,[0,100])}function sF(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function iF(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function aF(e,t,n){const r=e/2,i=H0([0,50],[0,r]);return(r-i(t)*n)*n}function oF(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function lF(e,t){if(t>0){const n=oF(e);return Math.min(...n)>=t}return!0}function H0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cF(e){return(String(e).split(".")[1]||"").length}function uF(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var hE=nE,dF=oE,hF=lE,fF=cE;const fE=p.forwardRef(({className:e,...t},n)=>l.jsxs(hE,{ref:n,className:H("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(dF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(hF,{className:"absolute h-full bg-primary"})}),l.jsx(fF,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fE.displayName=hE.displayName;const mF=[{id:"fear",label:"",emoji:"",color:"bg-red-500/20 border-red-500/50 text-red-400"},{id:"joy",label:"",emoji:"",color:"bg-yellow-500/20 border-yellow-500/50 text-yellow-400"},{id:"sadness",label:"",emoji:"",color:"bg-blue-500/20 border-blue-500/50 text-blue-400"},{id:"anxiety",label:"",emoji:"",color:"bg-orange-500/20 border-orange-500/50 text-orange-400"},{id:"peace",label:"",emoji:"",color:"bg-green-500/20 border-green-500/50 text-green-400"},{id:"excitement",label:"",emoji:"",color:"bg-pink-500/20 border-pink-500/50 text-pink-400"},{id:"confusion",label:"",emoji:"",color:"bg-purple-500/20 border-purple-500/50 text-purple-400"},{id:"wonder",label:"",emoji:"",color:"bg-cyan-500/20 border-cyan-500/50 text-cyan-400"}],pF=[{id:"dark",label:"",gradient:"from-gray-900 to-gray-700"},{id:"golden",label:"",gradient:"from-amber-500 to-orange-600"},{id:"blue",label:"",gradient:"from-blue-400 to-indigo-600"},{id:"purple",label:"",gradient:"from-purple-500 to-pink-600"},{id:"green",label:"",gradient:"from-emerald-400 to-teal-600"},{id:"red",label:"",gradient:"from-red-500 to-rose-700"},{id:"white",label:"",gradient:"from-gray-100 to-gray-300"},{id:"rainbow",label:"",gradient:"from-red-400 via-yellow-400 to-blue-500"}];function gF({storySummary:e,onStorySummaryChange:t,emotions:n,onEmotionsChange:r,atmosphereColors:s,onAtmosphereColorsChange:i,lucidityLevel:a,onLucidityLevelChange:o}){const c=h=>{n.includes(h)?r(n.filter(f=>f!==h)):r([...n,h])},u=h=>{s.includes(h)?i(s.filter(f=>f!==h)):i([...s,h])},d=h=>h<=1?"":h<=3?"":h<=5?"":h<=7?"":h<=9?"":"";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"storySummary",className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx(Ol,{id:"storySummary",placeholder:"... ? ? ?",value:e,onChange:h=>t(h.target.value),className:"min-h-[120px] resize-none"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:mF.map(h=>l.jsxs("button",{type:"button",onClick:()=>c(h.id),className:H("px-3 py-1.5 rounded-full border text-sm font-medium transition-all",n.includes(h.id)?h.color+" border-2 scale-105":"bg-muted/50 border-border text-muted-foreground hover:bg-muted"),children:[l.jsx("span",{className:"mr-1",children:h.emoji}),h.label]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:pF.map(h=>l.jsxs("button",{type:"button",onClick:()=>u(h.id),className:H("relative overflow-hidden px-4 py-2 rounded-lg text-sm font-medium transition-all",s.includes(h.id)?"ring-2 ring-primary ring-offset-2 ring-offset-background scale-105":"opacity-70 hover:opacity-100"),children:[l.jsx("div",{className:H("absolute inset-0 bg-gradient-to-br",h.gradient)}),l.jsx("span",{className:"relative text-white drop-shadow-md",children:h.label})]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:"  (Lucidity)"}),l.jsxs(ye,{variant:"secondary",className:"text-sm",children:[a,"/10 - ",d(a)]})]}),l.jsx(fE,{value:[a],onValueChange:([h])=>o(h),min:0,max:10,step:1,className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]})]})}const G0=p.createContext({});function K0(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Od=p.createContext(null),q0=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class yF extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vF({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(q0);return p.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(yF,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const xF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=K0(wF),c=p.useId(),u=p.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),d=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),p.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(e=l.jsx(vF,{isPresent:n,children:e})),l.jsx(Od.Provider,{value:d,children:e})};function wF(){return new Map}function mE(e=!0){const t=p.useContext(Od);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{e&&s(i)},[e]);const a=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const xc=e=>e.key||"";function Rx(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Y0=typeof window<"u",pE=Y0?p.useLayoutEffect:p.useEffect,Uc=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=mE(a),u=p.useMemo(()=>Rx(e),[e]),d=a&&!o?[]:u.map(xc),h=p.useRef(!0),f=p.useRef(u),m=K0(()=>new Map),[w,v]=p.useState(u),[b,g]=p.useState(u);pE(()=>{h.current=!1,f.current=u;for(let S=0;S<b.length;S++){const k=xc(b[S]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[b,d.length,d.join("-")]);const x=[];if(u!==w){let S=[...u];for(let k=0;k<b.length;k++){const E=b[k],C=xc(E);d.includes(C)||(S.splice(k,0,E),x.push(E))}i==="wait"&&x.length&&(S=x),g(Rx(S)),v(u);return}const{forceRender:y}=p.useContext(G0);return l.jsx(l.Fragment,{children:b.map(S=>{const k=xc(S),E=a&&!o?!1:u===b||d.includes(k),C=()=>{if(m.has(k))m.set(k,!0);else return;let j=!0;m.forEach(T=>{T||(j=!1)}),j&&(y==null||y(),g(f.current),a&&(c==null||c()),r&&r())};return l.jsx(xF,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:C,children:S},k)})})},Gt=e=>e;let gE=Gt;function X0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oa=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},vr=e=>e*1e3,xr=e=>e/1e3,bF={useManualTiming:!1};function SF(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&r?t:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const wc=["read","resolveKeyframes","update","preRender","render","postRender"],kF=40;function yE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=wc.reduce((g,x)=>(g[x]=SF(i),g),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,kF),1),s.timestamp=g,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},w=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:wc.reduce((g,x)=>{const y=a[x];return g[x]=(S,k=!1,E=!1)=>(n||w(),y.schedule(S,k,E)),g},{}),cancel:g=>{for(let x=0;x<wc.length;x++)a[wc[x]].cancel(g)},state:s,steps:a}}const{schedule:Te,cancel:vs,state:st,steps:Xh}=yE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),vE=p.createContext({strict:!1}),Ax={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const e in Ax)Da[e]={isEnabled:t=>Ax[e].some(n=>!!t[n])};function EF(e){for(const t in e)Da[t]={...Da[t],...e[t]}}const jF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jF.has(e)}let xE=e=>!Mu(e);function CF(e){e&&(xE=t=>t.startsWith("on")?!Mu(t):e(t))}try{CF(require("@emotion/is-prop-valid").default)}catch{}function TF(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(xE(s)||n===!0&&Mu(s)||!t&&!Mu(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function PF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Dd=p.createContext({});function pl(e){return typeof e=="string"||Array.isArray(e)}function Id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Q0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J0=["initial",...Q0];function Ld(e){return Id(e.animate)||J0.some(t=>pl(e[t]))}function wE(e){return!!(Ld(e)||e.variants)}function NF(e,t){if(Ld(e)){const{initial:n,animate:r}=e;return{initial:n===!1||pl(n)?n:void 0,animate:pl(r)?r:void 0}}return e.inherit!==!1?t:{}}function _F(e){const{initial:t,animate:n}=NF(e,p.useContext(Dd));return p.useMemo(()=>({initial:t,animate:n}),[Ox(t),Ox(n)])}function Ox(e){return Array.isArray(e)?e.join(" "):e}const MF=Symbol.for("motionComponentSymbol");function Xi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RF(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xi(n)&&(n.current=r))},[t])}const Z0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AF="framerAppearId",bE="data-"+Z0(AF),{schedule:eg}=yE(queueMicrotask,!1),SE=p.createContext({});function OF(e,t,n,r,s){var i,a;const{visualElement:o}=p.useContext(Dd),c=p.useContext(vE),u=p.useContext(Od),d=p.useContext(q0).reducedMotion,h=p.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=p.useContext(SE);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&DF(h.current,n,s,m);const w=p.useRef(!1);p.useInsertionEffect(()=>{f&&w.current&&f.update(n,u)});const v=n[bE],b=p.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return pE(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),eg.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),b.current=!1))}),f}function DF(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kE(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Xi(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function kE(e){if(e)return e.options.allowProjection!==!1?e.projection:kE(e.parent)}function IF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,a;e&&EF(e);function o(u,d){let h;const f={...p.useContext(q0),...u,layoutId:LF(u)},{isStatic:m}=f,w=_F(u),v=r(u,m);if(!m&&Y0){$F();const b=FF(f);h=b.MeasureLayout,w.visualElement=OF(s,v,f,t,b.ProjectionNode)}return l.jsxs(Dd.Provider,{value:w,children:[h&&w.visualElement?l.jsx(h,{visualElement:w.visualElement,...f}):null,n(s,u,RF(v,w.visualElement,d),v,m,w.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=p.forwardRef(o);return c[MF]=s,c}function LF({layoutId:e}){const t=p.useContext(G0).id;return t&&e!==void 0?t+"-"+e:e}function $F(e,t){p.useContext(vE).strict}function FF(e){const{drag:t,layout:n}=Da;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const BF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tg(e){return typeof e!="string"||e.includes("-")?!1:!!(BF.indexOf(e)>-1||/[A-Z]/u.test(e))}function Dx(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ng(e,t,n,r){if(typeof t=="function"){const[s,i]=Dx(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Dx(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const qm=e=>Array.isArray(e),zF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),VF=e=>qm(e)?e[e.length-1]||0:e,yt=e=>!!(e&&e.getVelocity);function Wc(e){const t=yt(e)?e.get():e;return zF(t)?t.toValue():t}function UF({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const a={latestValues:WF(r,s,i,e),renderState:t()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const EE=e=>(t,n)=>{const r=p.useContext(Dd),s=p.useContext(Od),i=()=>UF(e,t,r,s);return n?i():K0(i)};function WF(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Wc(i[f]);let{initial:a,animate:o}=e;const c=Ld(e),u=wE(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Id(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=ng(e,f[m]);if(w){const{transitionEnd:v,transition:b,...g}=w;for(const x in g){let y=g[x];if(Array.isArray(y)){const S=d?y.length-1:0;y=y[S]}y!==null&&(s[x]=y)}for(const x in v)s[x]=v[x]}}}return s}const Ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yi=new Set(Ya),jE=e=>t=>typeof t=="string"&&t.startsWith(e),CE=jE("--"),HF=jE("var(--"),rg=e=>HF(e)?GF.test(e.split("/*")[0].trim()):!1,GF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,TE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tr=(e,t,n)=>n>t?t:n<e?e:n,Xa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gl={...Xa,transform:e=>Tr(0,1,e)},bc={...Xa,default:1},Il=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zr=Il("deg"),er=Il("%"),ne=Il("px"),KF=Il("vh"),qF=Il("vw"),Ix={...er,parse:e=>er.parse(e)/100,transform:e=>er.transform(e*100)},YF={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},XF={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:zr,skewX:zr,skewY:zr,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:gl,originX:Ix,originY:Ix,originZ:ne},Lx={...Xa,transform:Math.round},sg={...YF,...XF,zIndex:Lx,size:ne,fillOpacity:gl,strokeOpacity:gl,numOctaves:Lx},QF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JF=Ya.length;function ZF(e,t,n){let r="",s=!0;for(let i=0;i<JF;i++){const a=Ya[i],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=TE(o,sg[a]);if(!c){s=!1;const d=QF[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ig(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(yi.has(c)){a=!0;continue}else if(CE(c)){s[c]=u;continue}else{const d=TE(u,sg[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=ZF(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const e6={offset:"stroke-dashoffset",array:"stroke-dasharray"},t6={offset:"strokeDashoffset",array:"strokeDasharray"};function n6(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?e6:t6;e[i.offset]=ne.transform(-r);const a=ne.transform(t),o=ne.transform(n);e[i.array]=`${a} ${o}`}function $x(e,t,n){return typeof e=="string"?e:ne.transform(t+n*e)}function r6(e,t,n){const r=$x(t,e.x,e.width),s=$x(n,e.y,e.height);return`${r} ${s}`}function ag(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(ig(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:w}=e;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=r6(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&n6(f,a,o,c,!1)}const og=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PE=()=>({...og(),attrs:{}}),lg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NE(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const _E=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ME(e,t,n,r){NE(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_E.has(s)?s:Z0(s),t.attrs[s])}const Ru={};function s6(e){Object.assign(Ru,e)}function RE(e,{layout:t,layoutId:n}){return yi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ru[e]||e==="opacity")}function cg(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(yt(s[a])||t.style&&yt(t.style[a])||RE(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function AE(e,t,n){const r=cg(e,t,n);for(const s in e)if(yt(e[s])||yt(t[s])){const i=Ya.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function i6(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Fx=["x","y","width","height","cx","cy","r"],a6={useVisualState:EE({scrapeMotionValuesFromProps:AE,createRenderState:PE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const o in s)if(yi.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<Fx.length;o++){const c=Fx[o];e[c]!==t[c]&&(a=!0)}a&&Te.read(()=>{i6(n,r),Te.render(()=>{ag(r,s,lg(n.tagName),e.transformTemplate),ME(n,r)})})}})},o6={useVisualState:EE({scrapeMotionValuesFromProps:cg,createRenderState:og})};function OE(e,t,n){for(const r in t)!yt(t[r])&&!RE(r,n)&&(e[r]=t[r])}function l6({transformTemplate:e},t){return p.useMemo(()=>{const n=og();return ig(n,t,e),Object.assign({},n.vars,n.style)},[t])}function c6(e,t){const n=e.style||{},r={};return OE(r,n,e),Object.assign(r,l6(e,t)),r}function u6(e,t){const n={},r=c6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function d6(e,t,n,r){const s=p.useMemo(()=>{const i=PE();return ag(i,t,lg(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};OE(i,e.style,e),s.style={...i,...s.style}}return s}function h6(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(tg(n)?d6:u6)(r,i,a,n),u=TF(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=p.useMemo(()=>yt(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function f6(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...tg(r)?a6:o6,preloadedFeatures:e,useRender:h6(s),createVisualElement:t,Component:r};return IF(a)}}function DE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $d(e,t,n){const r=e.getProps();return ng(r,t,n!==void 0?n:r.custom,e)}const m6=X0(()=>window.ScrollTimeline!==void 0);class p6{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(m6()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class g6 extends p6{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ug(e,t){return e?e[t]||e.default||e:void 0}const Ym=2e4;function IE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ym;)t+=n,r=e.next(t);return t>=Ym?1/0:t}function dg(e){return typeof e=="function"}function Bx(e,t){e.timeline=t,e.onfinish=null}const hg=e=>Array.isArray(e)&&typeof e[0]=="number",y6={linearEasing:void 0};function v6(e,t){const n=X0(e);return()=>{var r;return(r=y6[t])!==null&&r!==void 0?r:n()}}const Au=v6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),LE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Oa(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function $E(e){return!!(typeof e=="function"&&Au()||!e||typeof e=="string"&&(e in Xm||Au())||hg(e)||Array.isArray(e)&&e.every($E))}const go=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:go([0,.65,.55,1]),circOut:go([.55,0,1,.45]),backIn:go([.31,.01,.66,-.59]),backOut:go([.33,1.53,.69,.99])};function FE(e,t){if(e)return typeof e=="function"&&Au()?LE(e,t):hg(e)?go(e):Array.isArray(e)?e.map(n=>FE(n,t)||Xm.easeOut):Xm[e]}const kn={x:!1,y:!1};function BE(){return kn.x||kn.y}function x6(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function zE(e,t){const n=x6(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function zx(e){return t=>{t.pointerType==="touch"||BE()||e(t)}}function w6(e,t,n={}){const[r,s,i]=zE(e,n),a=zx(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=zx(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const VE=(e,t)=>t?e===t?!0:VE(e,t.parentElement):!1,fg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,b6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S6(e){return b6.has(e.tagName)||e.tabIndex!==-1}const yo=new WeakSet;function Vx(e){return t=>{t.key==="Enter"&&e(t)}}function Qh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const k6=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Vx(()=>{if(yo.has(n))return;Qh(n,"down");const s=Vx(()=>{Qh(n,"up")}),i=()=>Qh(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ux(e){return fg(e)&&!BE()}function E6(e,t,n={}){const[r,s,i]=zE(e,n),a=o=>{const c=o.currentTarget;if(!Ux(o)||yo.has(c))return;yo.add(c);const u=t(o),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Ux(m)||!yo.has(c))&&(yo.delete(c),typeof u=="function"&&u(m,{success:w}))},h=m=>{d(m,n.useGlobalTarget||VE(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{!S6(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>k6(u,s),s)}),i}function j6(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}const UE=new Set(["width","height","top","left","right","bottom",...Ya]);let Hc;function C6(){Hc=void 0}const tr={now:()=>(Hc===void 0&&tr.set(st.isProcessing||bF.useManualTiming?st.timestamp:performance.now()),Hc),set:e=>{Hc=e,queueMicrotask(C6)}};function mg(e,t){e.indexOf(t)===-1&&e.push(t)}function pg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class gg{constructor(){this.subscriptions=[]}add(t){return mg(this.subscriptions,t),()=>pg(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function WE(e,t){return t?e*(1e3/t):0}const Wx=30,T6=e=>!isNaN(parseFloat(e));class P6{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=tr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=T6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Wx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wx);return WE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(e,t){return new P6(e,t)}function N6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yl(n))}function _6(e,t){const n=$d(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=VF(i[a]);N6(e,a,o)}}function M6(e){return!!(yt(e)&&e.add)}function Qm(e,t){const n=e.getValue("willChange");if(M6(n))return n.add(t)}function HE(e){return e.props[bE]}const GE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,R6=1e-7,A6=12;function O6(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=GE(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>R6&&++o<A6);return a}function Ll(e,t,n,r){if(e===t&&n===r)return Gt;const s=i=>O6(i,0,1,e,n);return i=>i===0||i===1?i:GE(s(i),t,r)}const KE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qE=e=>t=>1-e(1-t),YE=Ll(.33,1.53,.69,.99),yg=qE(YE),XE=KE(yg),QE=e=>(e*=2)<1?.5*yg(e):.5*(2-Math.pow(2,-10*(e-1))),vg=e=>1-Math.sin(Math.acos(e)),JE=qE(vg),ZE=KE(vg),ej=e=>/^0[^.\s]+$/u.test(e);function D6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ej(e):!0}const Ro=e=>Math.round(e*1e5)/1e5,xg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I6(e){return e==null}const L6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wg=(e,t)=>n=>!!(typeof n=="string"&&L6.test(n)&&n.startsWith(e)||t&&!I6(n)&&Object.prototype.hasOwnProperty.call(n,t)),tj=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(xg);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},$6=e=>Tr(0,255,e),Jh={...Xa,transform:e=>Math.round($6(e))},Hs={test:wg("rgb","red"),parse:tj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Jh.transform(e)+", "+Jh.transform(t)+", "+Jh.transform(n)+", "+Ro(gl.transform(r))+")"};function F6(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Jm={test:wg("#"),parse:F6,transform:Hs.transform},Qi={test:wg("hsl","hue"),parse:tj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+er.transform(Ro(t))+", "+er.transform(Ro(n))+", "+Ro(gl.transform(r))+")"},mt={test:e=>Hs.test(e)||Jm.test(e)||Qi.test(e),parse:e=>Hs.test(e)?Hs.parse(e):Qi.test(e)?Qi.parse(e):Jm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hs.transform(e):Qi.transform(e)},B6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(B6))===null||n===void 0?void 0:n.length)||0)>0}const nj="number",rj="color",V6="var",U6="var(",Hx="${}",W6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(W6,c=>(mt.test(c)?(r.color.push(i),s.push(rj),n.push(mt.parse(c))):c.startsWith(U6)?(r.var.push(i),s.push(V6),n.push(c)):(r.number.push(i),s.push(nj),n.push(parseFloat(c))),++i,Hx)).split(Hx);return{values:n,split:o,indexes:r,types:s}}function sj(e){return vl(e).values}function ij(e){const{split:t,types:n}=vl(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===nj?i+=Ro(s[a]):o===rj?i+=mt.transform(s[a]):i+=s[a]}return i}}const H6=e=>typeof e=="number"?0:e;function G6(e){const t=sj(e);return ij(e)(t.map(H6))}const xs={test:z6,parse:sj,createTransformer:ij,getAnimatableNone:G6},K6=new Set(["brightness","contrast","saturate","opacity"]);function q6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xg)||[];if(!r)return e;const s=n.replace(r,"");let i=K6.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Y6=/\b([a-z-]*)\(.*?\)/gu,Zm={...xs,getAnimatableNone:e=>{const t=e.match(Y6);return t?t.map(q6).join(" "):e}},X6={...sg,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Zm,WebkitFilter:Zm},bg=e=>X6[e];function aj(e,t){let n=bg(e);return n!==Zm&&(n=xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Q6=new Set(["auto","none","0"]);function J6(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Q6.has(i)&&vl(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=aj(n,s)}const Gx=e=>e===Xa||e===ne,Kx=(e,t)=>parseFloat(e.split(", ")[t]),qx=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Kx(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Kx(i[1],e):0}},Z6=new Set(["x","y","z"]),eB=Ya.filter(e=>!Z6.has(e));function tB(e){const t=[];return eB.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ia={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:qx(4,13),y:qx(5,14)};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const ei=new Set;let ep=!1,tp=!1;function oj(){if(tp){const e=Array.from(ei).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=tB(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tp=!1,ep=!1,ei.forEach(e=>e.complete()),ei.clear()}function lj(){ei.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tp=!0)})}function nB(){lj(),oj()}class Sg{constructor(t,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ei.add(this),ep||(ep=!0,Te.read(lj),Te.resolveKeyframes(oj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ei.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ei.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),rB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sB(e){const t=rB.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function uj(e,t,n=1){const[r,s]=sB(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return cj(a)?parseFloat(a):a}return rg(s)?uj(s,t,n+1):s}const dj=e=>t=>t.test(e),iB={test:e=>e==="auto",parse:e=>e},hj=[Xa,ne,er,zr,qF,KF,iB],Yx=e=>hj.find(dj(e));class fj extends Sg{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),rg(u))){const d=uj(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!UE.has(r)||t.length!==2)return;const[s,i]=t,a=Yx(s),o=Yx(i);if(a!==o)if(Gx(a)&&Gx(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)D6(t[s])&&r.push(s);r.length&&J6(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Ia[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Xx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xs.test(e)||e==="0")&&!e.startsWith("url("));function aB(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function oB(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Xx(s,t),o=Xx(i,t);return!a||!o?!1:aB(e)||(n==="spring"||dg(n))&&r}const lB=e=>e!==null;function Fd(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(lB),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const cB=40;class mj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nB(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!oB(t,r,s,i))if(a)this.options.duration=0;else{c&&c(Fd(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Re=(e,t,n)=>e+(t-e)*n;function Zh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;s=Zh(c,o,e+1/3),i=Zh(c,o,e),a=Zh(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Ou(e,t){return n=>n>0?t:e}const ef=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},dB=[Jm,Hs,Qi],hB=e=>dB.find(t=>t.test(e));function Qx(e){const t=hB(e);if(!t)return!1;let n=t.parse(e);return t===Qi&&(n=uB(n)),n}const Jx=(e,t)=>{const n=Qx(e),r=Qx(t);if(!n||!r)return Ou(e,t);const s={...n};return i=>(s.red=ef(n.red,r.red,i),s.green=ef(n.green,r.green,i),s.blue=ef(n.blue,r.blue,i),s.alpha=Re(n.alpha,r.alpha,i),Hs.transform(s))},fB=(e,t)=>n=>t(e(n)),$l=(...e)=>e.reduce(fB),np=new Set(["none","hidden"]);function mB(e,t){return np.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pB(e,t){return n=>Re(e,t,n)}function kg(e){return typeof e=="number"?pB:typeof e=="string"?rg(e)?Ou:mt.test(e)?Jx:vB:Array.isArray(e)?pj:typeof e=="object"?mt.test(e)?Jx:gB:Ou}function pj(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>kg(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function gB(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=kg(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function yB(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=(n=e.values[o])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const vB=(e,t)=>{const n=xs.createTransformer(t),r=vl(e),s=vl(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?np.has(e)&&!s.values.length||np.has(t)&&!r.values.length?mB(e,t):$l(pj(yB(r,s),s.values),n):Ou(e,t)};function gj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Re(e,t,n):kg(e)(e,t)}const xB=5;function yj(e,t,n){const r=Math.max(t-xB,0);return WE(n-e(r),t-r)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tf=.001;function wB({duration:e=$e.duration,bounce:t=$e.bounce,velocity:n=$e.velocity,mass:r=$e.mass}){let s,i,a=1-t;a=Tr($e.minDamping,$e.maxDamping,a),e=Tr($e.minDuration,$e.maxDuration,xr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=rp(u,a),w=Math.exp(-h);return tf-f/m*w},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,w=Math.exp(-h),v=rp(Math.pow(u,2),a);return(-s(u)+tf>0?-1:1)*((f-m)*w)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-tf+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const o=5/e,c=SB(s,i,o);if(e=vr(e),isNaN(c))return{stiffness:$e.stiffness,damping:$e.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const bB=12;function SB(e,t,n){let r=n;for(let s=1;s<bB;s++)r=r-e(r)/t(r);return r}function rp(e,t){return e*Math.sqrt(1-t*t)}const kB=["duration","bounce"],EB=["stiffness","damping","mass"];function Zx(e,t){return t.some(n=>e[n]!==void 0)}function jB(e){let t={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...e};if(!Zx(e,EB)&&Zx(e,kB))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Tr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:$e.mass,stiffness:s,damping:i}}else{const n=wB(e);t={...t,...n,mass:$e.mass},t.isResolvedFromDuration=!0}return t}function vj(e=$e.visualDuration,t=$e.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=jB({...n,velocity:-xr(n.velocity||0)}),w=f||0,v=u/(2*Math.sqrt(c*d)),b=a-i,g=xr(Math.sqrt(c/d)),x=Math.abs(b)<5;r||(r=x?$e.restSpeed.granular:$e.restSpeed.default),s||(s=x?$e.restDelta.granular:$e.restDelta.default);let y;if(v<1){const k=rp(g,v);y=E=>{const C=Math.exp(-v*g*E);return a-C*((w+v*g*b)/k*Math.sin(k*E)+b*Math.cos(k*E))}}else if(v===1)y=k=>a-Math.exp(-g*k)*(b+(w+g*b)*k);else{const k=g*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*g*E),j=Math.min(k*E,300);return a-C*((w+v*g*b)*Math.sinh(j)+k*b*Math.cosh(j))/k}}const S={calculatedDuration:m&&h||null,next:k=>{const E=y(k);if(m)o.done=k>=h;else{let C=0;v<1&&(C=k===0?vr(w):yj(y,k,E));const j=Math.abs(C)<=r,T=Math.abs(a-E)<=s;o.done=j&&T}return o.value=o.done?a:E,o},toString:()=>{const k=Math.min(IE(S),Ym),E=LE(C=>S.next(k*C).value,k,30);return k+"ms "+E}};return S}function ew({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>o!==void 0&&j<o||c!==void 0&&j>c,w=j=>o===void 0?c:c===void 0||Math.abs(o-j)<Math.abs(c-j)?o:c;let v=n*t;const b=h+v,g=a===void 0?b:a(b);g!==b&&(v=g-h);const x=j=>-v*Math.exp(-j/r),y=j=>g+x(j),S=j=>{const T=x(j),N=y(j);f.done=Math.abs(T)<=u,f.value=f.done?g:N};let k,E;const C=j=>{m(f.value)&&(k=j,E=vj({keyframes:[f.value,w(f.value)],velocity:yj(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let T=!1;return!E&&k===void 0&&(T=!0,S(j),C(j)),k!==void 0&&j>=k?E.next(j-k):(!T&&S(j),f)}}}const CB=Ll(.42,0,1,1),TB=Ll(0,0,.58,1),xj=Ll(.42,0,.58,1),PB=e=>Array.isArray(e)&&typeof e[0]!="number",NB={linear:Gt,easeIn:CB,easeInOut:xj,easeOut:TB,circIn:vg,circInOut:ZE,circOut:JE,backIn:yg,backInOut:XE,backOut:YE,anticipate:QE},tw=e=>{if(hg(e)){gE(e.length===4);const[t,n,r,s]=e;return Ll(t,n,r,s)}else if(typeof e=="string")return NB[e];return e};function _B(e,t,n){const r=[],s=n||gj,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Gt:t;o=$l(c,o)}r.push(o)}return r}function MB(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(gE(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_B(t,r,s),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Oa(e[h],e[h+1],d);return o[h](f)};return n?d=>u(Tr(e[0],e[i-1],d)):u}function RB(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Oa(0,t,r);e.push(Re(n,1,s))}}function AB(e){const t=[0];return RB(t,e.length-1),t}function OB(e,t){return e.map(n=>n*t)}function DB(e,t){return e.map(()=>t||xj).splice(0,e.length-1)}function Du({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=PB(r)?r.map(tw):tw(r),i={done:!1,value:t[0]},a=OB(n&&n.length===t.length?n:AB(t),e),o=MB(a,t,{ease:Array.isArray(s)?s:DB(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const IB=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Te.update(t,!0),stop:()=>vs(t),now:()=>st.isProcessing?st.timestamp:tr.now()}},LB={decay:ew,inertia:ew,tween:Du,keyframes:Du,spring:vj},$B=e=>e/100;class Eg extends mj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Sg,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=dg(n)?n:LB[n]||Du;let c,u;o!==Du&&typeof t[0]!="number"&&(c=$l($B,gj(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=IE(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,S=i;if(m){const j=Math.min(this.currentTime,d)/h;let T=Math.floor(j),N=j%1;!N&&j>=1&&(N=1),N===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(w==="reverse"?(N=1-N,v&&(N-=v/h)):w==="mirror"&&(S=a)),y=Tr(0,1,N)*h}const k=x?{done:!1,value:c[0]}:S.next(y);o&&(k.value=o(k.value));let{done:E}=k;!x&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&s!==void 0&&(k.value=Fd(c,this.options,s)),b&&b(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?xr(t.calculatedDuration):0}get time(){return xr(this.currentTime)}set time(t){t=vr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=IB,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const FB=new Set(["opacity","clipPath","filter","transform"]);function BB(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=FE(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const zB=X0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Iu=10,VB=2e4;function UB(e){return dg(e.type)||e.type==="spring"||!$E(e.ease)}function WB(e,t){const n=new Eg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<VB;)r=n.sample(i),s.push(r.value),i+=Iu;return{times:void 0,keyframes:s,duration:i-Iu,ease:"linear"}}const wj={anticipate:QE,backInOut:XE,circInOut:ZE};function HB(e){return e in wj}class nw extends mj{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new fj(i,(a,o)=>this.onKeyframesResolved(a,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Au()&&HB(i)&&(i=wj[i]),UB(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:w,...v}=this.options,b=WB(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,s=b.times,i=b.ease,a="keyframes"}const d=BB(o.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Bx(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Fd(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return xr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return xr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;Bx(r,t)}return Gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,w=new Eg({...m,keyframes:r,duration:s,type:i,ease:a,times:o,isGenerator:!0}),v=vr(this.time);u.setWithVelocity(w.sample(v-Iu).value,w.sample(v).value,Iu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return zB()&&r&&FB.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const GB={type:"spring",stiffness:500,damping:25,restSpeed:10},KB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qB={type:"keyframes",duration:.8},YB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XB=(e,{keyframes:t})=>t.length>2?qB:yi.has(e)?e.startsWith("scale")?KB(t[1]):GB:YB;function QB({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jg=(e,t,n,r={},s,i)=>a=>{const o=ug(r,e)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vr(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};QB(o)||(d={...d,...XB(e,d)}),d.duration&&(d.duration=vr(d.duration)),d.repeatDelay&&(d.repeatDelay=vr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Fd(d.keyframes,o);if(f!==void 0)return Te.update(()=>{d.onUpdate(f),d.onComplete()}),new g6([])}return!i&&nw.supports(d)?new nw(d):new Eg(d)};function JB({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&JB(d,h))continue;const w={delay:n,...ug(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=HE(e);if(g){const x=window.MotionHandoffAnimation(g,h,Te);x!==null&&(w.startTime=x,v=!0)}}Qm(e,h),f.start(jg(h,f,m,e.shouldReduceMotion&&UE.has(h)?{type:!1}:w,e,v));const b=f.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Te.update(()=>{o&&_6(e,o)})}),u}function sp(e,t,n={}){var r;const s=$d(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(bj(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return ZB(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function ZB(e,t,n=0,r=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(ez).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(sp(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function ez(e,t){return e.sortNodePosition(t)}function tz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>sp(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=sp(e,t,n);else{const s=typeof t=="function"?$d(e,t,n.custom):t;r=Promise.all(bj(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const nz=J0.length;function Sj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Sj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nz;n++){const r=J0[n],s=e.props[r];(pl(s)||s===!1)&&(t[r]=s)}return t}const rz=[...Q0].reverse(),sz=Q0.length;function iz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tz(e,n,r)))}function az(e){let t=iz(e),n=rw(),r=!0;const s=c=>(u,d)=>{var h;const f=$d(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:w,...v}=f;u={...u,...v,...w}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=Sj(e.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let b=0;b<sz;b++){const g=rz[b],x=n[g],y=u[g]!==void 0?u[g]:d[g],S=pl(y),k=g===c?x.isActive:null;k===!1&&(w=b);let E=y===d[g]&&y!==u[g]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...m},!x.isActive&&k===null||!y&&!x.prevProp||Id(y)||typeof y=="boolean")continue;const C=oz(x.prevProp,y);let j=C||g===c&&x.isActive&&!E&&S||b>w&&S,T=!1;const N=Array.isArray(y)?y:[y];let R=N.reduce(s(g),{});k===!1&&(R={});const{prevResolvedValues:O={}}=x,U={...O,...R},D=B=>{j=!0,f.has(B)&&(T=!0,f.delete(B)),x.needsAnimating[B]=!0;const _=e.getValue(B);_&&(_.liveStyle=!1)};for(const B in U){const _=R[B],P=O[B];if(m.hasOwnProperty(B))continue;let M=!1;qm(_)&&qm(P)?M=!DE(_,P):M=_!==P,M?_!=null?D(B):f.add(B):_!==void 0&&f.has(B)?D(B):x.protectedKeys[B]=!0}x.prevProp=y,x.prevResolvedValues=R,x.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&C)||T)&&h.push(...N.map(B=>({animation:B,options:{type:g}})))}if(f.size){const b={};f.forEach(g=>{const x=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),b[g]=x??null}),h.push({animation:b})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=rw(),r=!0}}}function oz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DE(t,e):!1}function Rs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rw(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class Ts{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lz extends Ts{constructor(t){super(t),t.animationState||(t.animationState=az(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Id(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let cz=0;class uz extends Ts{constructor(){super(...arguments),this.id=cz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const dz={animation:{Feature:lz},exit:{Feature:uz}};function xl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fl(e){return{point:{x:e.pageX,y:e.pageY}}}const hz=e=>t=>fg(t)&&e(t,Fl(t));function Ao(e,t,n,r){return xl(e,t,hz(n),r)}const sw=(e,t)=>Math.abs(e-t);function fz(e,t){const n=sw(e.x,t.x),r=sw(e.y,t.y);return Math.sqrt(n**2+r**2)}class kj{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=fz(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=h,{timestamp:v}=st;this.history.push({...w,timestamp:v});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nf(f,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rf(h.type==="pointercancel"?this.lastMoveEventInfo:nf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),w&&w(h,b)},!fg(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Fl(t),o=nf(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=st;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,rf(o,this.history)),this.removeListeners=$l(Ao(this.contextWindow,"pointermove",this.handlePointerMove),Ao(this.contextWindow,"pointerup",this.handlePointerUp),Ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function nf(e,t){return t?{point:t(e.point)}:e}function iw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rf({point:e},t){return{point:e,delta:iw(e,Ej(t)),offset:iw(e,mz(t)),velocity:pz(t,.1)}}function mz(e){return e[0]}function Ej(e){return e[e.length-1]}function pz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ej(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>vr(t)));)n--;if(!r)return{x:0,y:0};const i=xr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const jj=1e-4,gz=1-jj,yz=1+jj,Cj=.01,vz=0-Cj,xz=0+Cj;function qt(e){return e.max-e.min}function wz(e,t,n){return Math.abs(e-t)<=n}function aw(e,t,n,r=.5){e.origin=r,e.originPoint=Re(t.min,t.max,e.origin),e.scale=qt(n)/qt(t),e.translate=Re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=gz&&e.scale<=yz||isNaN(e.scale))&&(e.scale=1),(e.translate>=vz&&e.translate<=xz||isNaN(e.translate))&&(e.translate=0)}function Oo(e,t,n,r){aw(e.x,t.x,n.x,r?r.originX:void 0),aw(e.y,t.y,n.y,r?r.originY:void 0)}function ow(e,t,n){e.min=n.min+t.min,e.max=e.min+qt(t)}function bz(e,t,n){ow(e.x,t.x,n.x),ow(e.y,t.y,n.y)}function lw(e,t,n){e.min=t.min-n.min,e.max=e.min+qt(t)}function Do(e,t,n){lw(e.x,t.x,n.x),lw(e.y,t.y,n.y)}function Sz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Re(n,e,r.max):Math.min(e,n)),e}function cw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kz(e,{top:t,left:n,bottom:r,right:s}){return{x:cw(e.x,n,s),y:cw(e.y,t,r)}}function uw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ez(e,t){return{x:uw(e.x,t.x),y:uw(e.y,t.y)}}function jz(e,t){let n=.5;const r=qt(e),s=qt(t);return s>r?n=Oa(t.min,t.max-r,e.min):r>s&&(n=Oa(e.min,e.max-s,t.min)),Tr(0,1,n)}function Cz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ip=.35;function Tz(e=ip){return e===!1?e=0:e===!0&&(e=ip),{x:dw(e,"left","right"),y:dw(e,"top","bottom")}}function dw(e,t,n){return{min:hw(e,t),max:hw(e,n)}}function hw(e,t){return typeof e=="number"?e:e[t]||0}const fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ji=()=>({x:fw(),y:fw()}),mw=()=>({min:0,max:0}),ze=()=>({x:mw(),y:mw()});function en(e){return[e("x"),e("y")]}function Tj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Nz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sf(e){return e===void 0||e===1}function ap({scale:e,scaleX:t,scaleY:n}){return!sf(e)||!sf(t)||!sf(n)}function Is(e){return ap(e)||Pj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Pj(e){return pw(e.x)||pw(e.y)}function pw(e){return e&&e!=="0%"}function Lu(e,t,n){const r=e-n,s=t*r;return n+s}function gw(e,t,n,r,s){return s!==void 0&&(e=Lu(e,s,r)),Lu(e,n,r)+t}function op(e,t=0,n=1,r,s){e.min=gw(e.min,t,n,r,s),e.max=gw(e.max,t,n,r,s)}function Nj(e,{x:t,y:n}){op(e.x,t.translate,t.scale,t.originPoint),op(e.y,n.translate,n.scale,n.originPoint)}const yw=.999999999999,vw=1.0000000000001;function _z(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ea(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Nj(e,a)),r&&Is(i.latestValues)&&ea(e,i.latestValues))}t.x<vw&&t.x>yw&&(t.x=1),t.y<vw&&t.y>yw&&(t.y=1)}function Zi(e,t){e.min=e.min+t,e.max=e.max+t}function xw(e,t,n,r,s=.5){const i=Re(e.min,e.max,s);op(e,t,n,i,r)}function ea(e,t){xw(e.x,t.x,t.scaleX,t.scale,t.originX),xw(e.y,t.y,t.scaleY,t.scale,t.originY)}function _j(e,t){return Tj(Nz(e.getBoundingClientRect(),t))}function Mz(e,t,n){const r=_j(e,n),{scroll:s}=t;return s&&(Zi(r.x,s.offset.x),Zi(r.y,s.offset.y)),r}const Mj=({current:e})=>e?e.ownerDocument.defaultView:null,Rz=new WeakMap;class Az{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fl(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:w}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j6(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(b=>{let g=this.getAxisMotionValue(b).get()||0;if(er.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[b];y&&(g=qt(y)*(parseFloat(g)/100))}}this.originPoint[b]=g}),w&&Te.postRender(()=>w(d,h)),Qm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=Oz(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),c=()=>en(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kj(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Mj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Te.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Sc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Sz(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Xi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=kz(s.layoutBox,n):this.constraints=!1,this.elastic=Tz(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Cz(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Mz(r,s.root,this.visualElement.getTransformPagePoint());let a=Ez(s.layout.layoutBox,i);if(n){const o=n(Pz(a));this.hasMutatedConstraints=!!o,o&&(a=Tj(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=en(d=>{if(!Sc(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qm(this.visualElement,t),r.start(jg(t,r,0,n,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){en(n=>{const{drag:r}=this.getProps();if(!Sc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(t[n]-Re(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};en(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=jz({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(a=>{if(!Sc(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Re(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Rz.set(this.visualElement,this);const t=this.visualElement.current,n=Ao(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Xi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Te.read(r);const a=xl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(en(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=ip,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Sc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Oz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Dz extends Ts{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new Az(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ww=e=>(t,n)=>{e&&Te.postRender(()=>e(t,n))};class Iz extends Ts{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new kj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ww(t),onStart:ww(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Te.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ao(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=bw(e,t.target.x),r=bw(e,t.target.y);return`${n}% ${r}%`}},Lz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=xs.parse(e);if(s.length>5)return r;const i=xs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=Re(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class $z extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;s6(Fz),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Te.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),eg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Rj(e){const[t,n]=mE(),r=p.useContext(G0);return l.jsx($z,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(SE),isPresent:t,safeToRemove:n})}const Fz={borderRadius:{...lo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lo,borderTopRightRadius:lo,borderBottomLeftRadius:lo,borderBottomRightRadius:lo,boxShadow:Lz};function Bz(e,t,n){const r=yt(e)?e:yl(e);return r.start(jg("",r,t,n)),r.animation}function zz(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Vz=(e,t)=>e.depth-t.depth;class Uz{constructor(){this.children=[],this.isDirty=!1}add(t){mg(this.children,t),this.isDirty=!0}remove(t){pg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Vz),this.isDirty=!1,this.children.forEach(t)}}function Wz(e,t){const n=tr.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(vs(r),e(i-t))};return Te.read(r,!0),()=>vs(r)}const Aj=["TopLeft","TopRight","BottomLeft","BottomRight"],Hz=Aj.length,Sw=e=>typeof e=="string"?parseFloat(e):e,kw=e=>typeof e=="number"||ne.test(e);function Gz(e,t,n,r,s,i){s?(e.opacity=Re(0,n.opacity!==void 0?n.opacity:1,Kz(r)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,qz(r))):i&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Hz;a++){const o=`border${Aj[a]}Radius`;let c=Ew(t,o),u=Ew(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||kw(c)===kw(u)?(e[o]=Math.max(Re(Sw(c),Sw(u),r),0),(er.test(u)||er.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Re(t.rotate||0,n.rotate||0,r))}function Ew(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Kz=Oj(0,.5,JE),qz=Oj(.5,.95,Gt);function Oj(e,t,n){return r=>r<e?0:r>t?1:n(Oa(e,t,r))}function jw(e,t){e.min=t.min,e.max=t.max}function Zt(e,t){jw(e.x,t.x),jw(e.y,t.y)}function Cw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tw(e,t,n,r,s){return e-=t,e=Lu(e,1/n,r),s!==void 0&&(e=Lu(e,1/s,r)),e}function Yz(e,t=0,n=1,r=.5,s,i=e,a=e){if(er.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Re(i.min,i.max,r);e===i&&(o-=t),e.min=Tw(e.min,t,n,o,s),e.max=Tw(e.max,t,n,o,s)}function Pw(e,t,[n,r,s],i,a){Yz(e,t[n],t[r],t[s],t.scale,i,a)}const Xz=["x","scaleX","originX"],Qz=["y","scaleY","originY"];function Nw(e,t,n,r){Pw(e.x,t,Xz,n?n.x:void 0,r?r.x:void 0),Pw(e.y,t,Qz,n?n.y:void 0,r?r.y:void 0)}function _w(e){return e.translate===0&&e.scale===1}function Dj(e){return _w(e.x)&&_w(e.y)}function Mw(e,t){return e.min===t.min&&e.max===t.max}function Jz(e,t){return Mw(e.x,t.x)&&Mw(e.y,t.y)}function Rw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ij(e,t){return Rw(e.x,t.x)&&Rw(e.y,t.y)}function Aw(e){return qt(e.x)/qt(e.y)}function Ow(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zz{constructor(){this.members=[]}add(t){mg(this.members,t),t.scheduleRender()}remove(t){if(pg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eV(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vo=typeof window<"u"&&window.MotionDebug!==void 0,af=["","X","Y","Z"],tV={visibility:"hidden"},Dw=1e3;let nV=0;function of(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Lj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=HE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Lj(r)}function $j({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=nV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vo&&(Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0),this.nodes.forEach(iV),this.nodes.forEach(uV),this.nodes.forEach(dV),this.nodes.forEach(aV),vo&&window.MotionDebug.record(Ls)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uz)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new gg),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zz(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Wz(f,250),Gc.hasAnimatedSinceResize&&(Gc.hasAnimatedSinceResize=!1,this.nodes.forEach(Lw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||gV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!Ij(this.targetLayout,w)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...ug(v,"layout"),onPlay:b,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||Lw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Iw);return}this.isUpdating||this.nodes.forEach(lV),this.isUpdating=!1,this.nodes.forEach(cV),this.nodes.forEach(rV),this.nodes.forEach(sV),this.clearAllSnapshots();const o=tr.now();st.delta=Tr(0,1e3/60,o-st.timestamp),st.timestamp=o,st.isProcessing=!0,Xh.update.process(st),Xh.preRender.process(st),Xh.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oV),this.sharedNodes.forEach(fV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Dj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||Is(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),yV(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return ze();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(vV))){const{scroll:d}=this.root;d&&(Zi(c.x,d.offset.x),Zi(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=ze();if(Zt(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Zt(c,a),Zi(c.x,h.offset.x),Zi(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=ze();Zt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ea(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Is(d.latestValues)&&ea(c,d.latestValues)}return Is(this.latestValues)&&ea(c,this.latestValues),c}removeTransform(a){const o=ze();Zt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Is(u.latestValues))continue;ap(u.latestValues)&&u.updateSnapshot();const d=ze(),h=u.measurePageBox();Zt(d,h),Nw(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Is(this.latestValues)&&Nw(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Do(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),Nj(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Do(this.relativeTargetOrigin,this.target,m.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vo&&Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ap(this.parent.latestValues)||Pj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===st.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Zt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;_z(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ze());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cw(this.prevProjectionDelta.x,this.projectionDelta.x),Cw(this.prevProjectionDelta.y,this.projectionDelta.y)),Oo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),vo&&Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ji(),this.projectionDelta=Ji(),this.projectionDeltaWithTransform=Ji()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ze(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=m!==w,b=this.getStack(),g=!b||b.members.length<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(pV));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const k=S/1e3;$w(h.x,a.x,k),$w(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Do(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mV(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&Jz(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ze()),Zt(y,this.relativeTarget)),v&&(this.animationValues=d,Gz(d,u,this.latestValues,k,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Gc.hasAnimatedSinceResize=!0,this.currentAnimation=Bz(0,Dw,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&Fj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ze();const h=qt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=qt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Zt(o,c),ea(o,d),Oo(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Zz),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&of("z",a,u,this.animationValues);for(let d=0;d<af.length;d++)of(`rotate${af[d]}`,a,u,this.animationValues),of(`skew${af[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tV;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Wc(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Wc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=eV(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:w}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Ru){if(f[v]===void 0)continue;const{correct:b,applyTo:g}=Ru[v],x=u.transform==="none"?f[v]:b(f[v],h);if(g){const y=g.length;for(let S=0;S<y;S++)u[g[S]]=x}else u[v]=x}return this.options.layoutId&&(u.pointerEvents=h===this?Wc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Iw),this.root.sharedNodes.clear()}}}function rV(e){e.updateLayout()}function sV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?en(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(f);f.min=r[h].min,f.max=f.min+m}):Fj(i,n.layoutBox,r)&&en(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Ji();Oo(o,r,n.layoutBox);const c=Ji();a?Oo(c,e.applyTransform(s,!0),n.measuredBox):Oo(c,r,n.layoutBox);const u=!Dj(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=ze();Do(w,n.layoutBox,f.layoutBox);const v=ze();Do(v,r,m.layoutBox),Ij(w,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function iV(e){vo&&Ls.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oV(e){e.clearSnapshot()}function Iw(e){e.clearMeasurements()}function lV(e){e.isLayoutDirty=!1}function cV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uV(e){e.resolveTargetDelta()}function dV(e){e.calcProjection()}function hV(e){e.resetSkewAndRotation()}function fV(e){e.removeLeadSnapshot()}function $w(e,t,n){e.translate=Re(t.translate,0,n),e.scale=Re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fw(e,t,n,r){e.min=Re(t.min,n.min,r),e.max=Re(t.max,n.max,r)}function mV(e,t,n,r){Fw(e.x,t.x,n.x,r),Fw(e.y,t.y,n.y,r)}function pV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gV={duration:.45,ease:[.4,0,.1,1]},Bw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:Gt;function Vw(e){e.min=zw(e.min),e.max=zw(e.max)}function yV(e){Vw(e.x),Vw(e.y)}function Fj(e,t,n){return e==="position"||e==="preserve-aspect"&&!wz(Aw(t),Aw(n),.2)}function vV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const xV=$j({attachResizeListener:(e,t)=>xl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lf={current:void 0},Bj=$j({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lf.current){const e=new xV({});e.mount(window),e.setOptions({layoutScroll:!0}),lf.current=e}return lf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wV={pan:{Feature:Iz},drag:{Feature:Dz,ProjectionNode:Bj,MeasureLayout:Rj}};function Uw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Te.postRender(()=>i(t,Fl(t)))}class bV extends Ts{mount(){const{current:t}=this.node;t&&(this.unmount=w6(t,n=>(Uw(this.node,n,"Start"),r=>Uw(this.node,r,"End"))))}unmount(){}}class SV extends Ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$l(xl(this.node.current,"focus",()=>this.onFocus()),xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ww(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Te.postRender(()=>i(t,Fl(t)))}class kV extends Ts{mount(){const{current:t}=this.node;t&&(this.unmount=E6(t,n=>(Ww(this.node,n,"Start"),(r,{success:s})=>Ww(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lp=new WeakMap,cf=new WeakMap,EV=e=>{const t=lp.get(e.target);t&&t(e)},jV=e=>{e.forEach(EV)};function CV({root:e,...t}){const n=e||document;cf.has(n)||cf.set(n,{});const r=cf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(jV,{root:e,...t})),r[s]}function TV(e,t,n){const r=CV(t);return lp.set(e,n),r.observe(e),()=>{lp.delete(e),r.unobserve(e)}}const PV={some:0,all:1};class NV extends Ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:PV[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return TV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_V(t,n))&&this.startObserver()}unmount(){}}function _V({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const MV={inView:{Feature:NV},tap:{Feature:kV},focus:{Feature:SV},hover:{Feature:bV}},RV={layout:{ProjectionNode:Bj,MeasureLayout:Rj}},cp={current:null},zj={current:!1};function AV(){if(zj.current=!0,!!Y0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cp.current=e.matches;e.addListener(t),t()}else cp.current=!1}const OV=[...hj,mt,xs],DV=e=>OV.find(dj(e)),Hw=new WeakMap;function IV(e,t,n){for(const r in t){const s=t[r],i=n[r];if(yt(s))e.addValue(r,s);else if(yt(i))e.addValue(r,yl(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,yl(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=tr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Te.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Ld(n),this.isVariantNode=wE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const w=f[m];c[m]!==void 0&&yt(w)&&w.set(c[m],!1)}}mount(t){this.current=t,Hw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zj.current||AV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Hw.delete(this.current),this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=yi.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Da){const n=Da[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gw.length;r++){const s=Gw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=IV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=yl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(cj(s)||ej(s))?s=parseFloat(s):!DV(s)&&xs.test(n)&&(s=aj(t,n)),this.setBaseTarget(t,yt(s)?s.get():s)),yt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=ng(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!yt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vj extends LV{constructor(){super(...arguments),this.KeyframeResolver=fj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $V(e){return window.getComputedStyle(e)}class FV extends Vj{constructor(){super(...arguments),this.type="html",this.renderInstance=NE}readValueFromInstance(t,n){if(yi.has(n)){const r=bg(n);return r&&r.default||0}else{const r=$V(t),s=(CE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _j(t,n)}build(t,n,r){ig(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return cg(t,n,r)}}class BV extends Vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yi.has(n)){const r=bg(n);return r&&r.default||0}return n=_E.has(n)?n:Z0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return AE(t,n,r)}build(t,n,r){ag(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){ME(t,n,r,s)}mount(t){this.isSVGTag=lg(t.tagName),super.mount(t)}}const zV=(e,t)=>tg(e)?new BV(t):new FV(t,{allowProjection:e!==p.Fragment}),VV=f6({...dz,...MV,...wV,...RV},zV),it=PF(VV);function UV({coverUrl:e,isGenerating:t,onRegenerate:n,dreamTitle:r}){const[s,i]=p.useState(!1),a=()=>{if(!e)return;const o=document.createElement("a");o.href=e,o.download=`dream-cover-${Date.now()}.png`,o.click()};return l.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Ot,{className:"h-5 w-5 text-primary"}),""]}),e&&!t&&l.jsxs("div",{className:"flex gap-2",children:[n&&l.jsxs(xe,{variant:"outline",size:"sm",onClick:n,children:[l.jsx(hd,{className:"h-4 w-4 mr-1"}),""]}),l.jsxs(xe,{variant:"outline",size:"sm",onClick:a,children:[l.jsx(H_,{className:"h-4 w-4 mr-1"}),""]})]})]}),l.jsx("div",{className:H("relative aspect-[2/3] max-w-[280px] mx-auto rounded-lg overflow-hidden","bg-gradient-to-br from-primary/20 via-background to-primary/10","border-2 border-primary/30 shadow-2xl shadow-primary/20"),children:l.jsx(Uc,{mode:"wait",children:t?l.jsxs(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 animate-ping",children:l.jsx(Ot,{className:"h-12 w-12 text-primary/30"})}),l.jsx(h0,{className:"h-12 w-12 text-primary animate-spin"})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"AI "})]}),l.jsx("div",{className:"flex gap-1",children:[0,1,2].map(o=>l.jsx(it.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:o*.2}},o))})]},"loading"):e?l.jsxs(it.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20},className:"relative w-full h-full",children:[l.jsx("img",{src:e,alt:"Dream Cover",className:H("w-full h-full object-cover transition-opacity duration-500",s?"opacity-100":"opacity-0"),onLoad:()=>i(!0)}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/30 to-transparent"}),r&&l.jsx("div",{className:"absolute bottom-0 inset-x-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:l.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:r})})]},"image"):l.jsxs(it.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center gap-3 p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:l.jsx(Ot,{className:"h-8 w-8 text-primary/60"})}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[' ""',l.jsx("br",{}),""]})]},"placeholder")})})]})}var Bd="Dialog",[Uj]=hn(Bd),[WV,Fn]=Uj(Bd),Wj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=p.useRef(null),c=p.useRef(null),[u,d]=ps({prop:r,defaultProp:s??!1,onChange:i,caller:Bd});return l.jsx(WV,{scope:t,triggerRef:o,contentRef:c,contentId:us(),titleId:us(),descriptionId:us(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};Wj.displayName=Bd;var Hj="DialogTrigger",HV=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fn(Hj,n),i=ce(t,s.triggerRef);return l.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Pg(s.open),...r,ref:i,onClick:G(e.onClick,s.onOpenToggle)})});HV.displayName=Hj;var Cg="DialogPortal",[GV,Gj]=Uj(Cg,{forceMount:void 0}),Kj=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Fn(Cg,t);return l.jsx(GV,{scope:t,forceMount:n,children:p.Children.map(r,a=>l.jsx(fn,{present:n||i.open,children:l.jsx(od,{asChild:!0,container:s,children:a})}))})};Kj.displayName=Cg;var $u="DialogOverlay",qj=p.forwardRef((e,t)=>{const n=Gj($u,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fn($u,e.__scopeDialog);return i.modal?l.jsx(fn,{present:r||i.open,children:l.jsx(qV,{...s,ref:t})}):null});qj.displayName=$u;var KV=_a("DialogOverlay.RemoveScroll"),qV=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fn($u,n);return l.jsx(F0,{as:KV,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(J.div,{"data-state":Pg(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ui="DialogContent",Yj=p.forwardRef((e,t)=>{const n=Gj(ui,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fn(ui,e.__scopeDialog);return l.jsx(fn,{present:r||i.open,children:i.modal?l.jsx(YV,{...s,ref:t}):l.jsx(XV,{...s,ref:t})})});Yj.displayName=ui;var YV=p.forwardRef((e,t)=>{const n=Fn(ui,e.__scopeDialog),r=p.useRef(null),s=ce(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Q5(i)},[]),l.jsx(Xj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault())})}),XV=p.forwardRef((e,t)=>{const n=Fn(ui,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(Xj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Xj=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=Fn(ui,n),c=p.useRef(null),u=ce(t,c);return q5(),l.jsxs(l.Fragment,{children:[l.jsx(L0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Tl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Pg(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(QV,{titleId:o.titleId}),l.jsx(ZV,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Tg="DialogTitle",Qj=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fn(Tg,n);return l.jsx(J.h2,{id:s.titleId,...r,ref:t})});Qj.displayName=Tg;var Jj="DialogDescription",Zj=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fn(Jj,n);return l.jsx(J.p,{id:s.descriptionId,...r,ref:t})});Zj.displayName=Jj;var eC="DialogClose",tC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fn(eC,n);return l.jsx(J.button,{type:"button",...r,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});tC.displayName=eC;function Pg(e){return e?"open":"closed"}var nC="DialogTitleWarning",[I7,rC]=GN(nC,{contentName:ui,titleName:Tg,docsSlug:"dialog"}),QV=({titleId:e})=>{const t=rC(nC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},JV="DialogDescriptionWarning",ZV=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rC(JV).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},eU=Wj,tU=Kj,sC=qj,iC=Yj,aC=Qj,oC=Zj,nU=tC;const rU=eU,sU=tU,lC=p.forwardRef(({className:e,...t},n)=>l.jsx(sC,{ref:n,className:H("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lC.displayName=sC.displayName;const cC=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(sU,{children:[l.jsx(lC,{}),l.jsxs(iC,{ref:r,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(nU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(za,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cC.displayName=iC.displayName;const uC=({className:e,...t})=>l.jsx("div",{className:H("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uC.displayName="DialogHeader";const dC=p.forwardRef(({className:e,...t},n)=>l.jsx(aC,{ref:n,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));dC.displayName=aC.displayName;const iU=p.forwardRef(({className:e,...t},n)=>l.jsx(oC,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));iU.displayName=oC.displayName;function lr({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function aU(){var k;const e=M0(),[t,n]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState(!1),[o,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(!1),[m,w]=p.useState({date:new Date().toISOString().split("T")[0],wakeTime:"",world:"",newWorld:"",timeSystem:"unknown",environments:[],newEnvironment:"",selectedEntities:[],newEntity:"",threatLevel:0,safetyOverride:"none",exit:"unknown",notes:"",storySummary:"",emotions:[],atmosphereColors:[],lucidityLevel:5});p.useEffect(()=>{(async()=>{const[C,j]=await Promise.all([Al(),jd()]);n(C.map(T=>({id:T.id,name:T.name}))),s(j.map(T=>({id:T.id,name:T.name})))})()},[]);const v=async()=>{c(!0);try{const{data:E,error:C}=await Be.functions.invoke("generate-cover",{body:{storySummary:m.storySummary||m.notes,emotions:m.emotions,atmosphereColors:m.atmosphereColors,environments:m.environments,world:m.newWorld||m.world,threatLevel:m.threatLevel,lucidityLevel:m.lucidityLevel}});return C?(console.error("Cover generation error:",C),Ai({title:"",description:C.message,variant:"destructive"}),null):E!=null&&E.coverUrl?(d(E.coverUrl),E.coverUrl):null}catch(E){return console.error("Cover generation failed:",E),Ai({title:"",description:"",variant:"destructive"}),null}finally{c(!1)}},b=async E=>{E.preventDefault(),a(!0);try{const C=m.newWorld||m.world,j=[...m.selectedEntities];m.newEntity&&j.push(m.newEntity);const T=[...m.environments];m.newEnvironment&&T.push(m.newEnvironment);const N=[m.storySummary,m.notes].filter(Boolean).join(`

---

`);await L5({date:m.date,wakeTime:m.wakeTime,world:C,timeSystem:m.timeSystem,environments:T,entities:j,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,notes:N||void 0})?(Ai({title:""}),m.storySummary||m.notes?(f(!0),await v()):e("/logs")):Ai({title:"",variant:"destructive"})}catch(C){console.error("Error saving dream:",C),Ai({title:"",variant:"destructive"})}finally{a(!1)}},g=E=>{w(C=>({...C,environments:C.environments.includes(E)?C.environments.filter(j=>j!==E):[...C.environments,E]}))},x=E=>{w(C=>({...C,selectedEntities:C.selectedEntities.includes(E)?C.selectedEntities.filter(j=>j!==E):[...C.selectedEntities,E]}))},y=()=>{m.newEnvironment&&!m.environments.includes(m.newEnvironment)&&w(E=>({...E,environments:[...E.environments,E.newEnvironment],newEnvironment:""}))},S=()=>{f(!1),e("/logs")};return l.jsxs("div",{className:"py-4 pb-28",children:[l.jsx(lr,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(a2,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"flex items-center gap-2",children:[l.jsx(dd,{className:"w-5 h-5"}),""]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsx(lr,{delay:60,duration:400,children:l.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/10 via-background to-primary/5 border border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Ot,{className:"w-5 h-5 text-primary"}),l.jsx("h2",{className:"font-semibold",children:""})]}),l.jsx(gF,{storySummary:m.storySummary,onStorySummaryChange:E=>w(C=>({...C,storySummary:E})),emotions:m.emotions,onEmotionsChange:E=>w(C=>({...C,emotions:E})),atmosphereColors:m.atmosphereColors,onAtmosphereColorsChange:E=>w(C=>({...C,atmosphereColors:E})),lucidityLevel:m.lucidityLevel,onLucidityLevelChange:E=>w(C=>({...C,lucidityLevel:E}))})]})}),l.jsx(lr,{delay:120,duration:400,children:l.jsx(z8,{date:m.date,wakeTime:m.wakeTime,onDateChange:E=>w(C=>({...C,date:E})),onWakeTimeChange:E=>w(C=>({...C,wakeTime:E}))})}),l.jsx(lr,{delay:180,duration:400,children:l.jsx(V8,{worlds:t,selectedWorld:m.world,newWorld:m.newWorld,onWorldChange:E=>w(C=>({...C,world:E})),onNewWorldChange:E=>w(C=>({...C,newWorld:E}))})}),l.jsx(lr,{delay:240,duration:400,children:l.jsx(Y8,{timeSystem:m.timeSystem,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,onTimeSystemChange:E=>w(C=>({...C,timeSystem:E})),onThreatLevelChange:E=>w(C=>({...C,threatLevel:E})),onSafetyOverrideChange:E=>w(C=>({...C,safetyOverride:E})),onExitChange:E=>w(C=>({...C,exit:E}))})}),l.jsx(lr,{delay:300,duration:400,children:l.jsx(U8,{selectedEnvironments:m.environments,newEnvironment:m.newEnvironment,onToggleEnvironment:g,onNewEnvironmentChange:E=>w(C=>({...C,newEnvironment:E})),onAddEnvironment:y})}),l.jsx(lr,{delay:360,duration:400,children:l.jsx(q8,{entities:r,selectedEntities:m.selectedEntities,newEntity:m.newEntity,onToggleEntity:x,onNewEntityChange:E=>w(C=>({...C,newEntity:E}))})}),l.jsx(lr,{delay:420,duration:400,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"notes",children:"Notes  (optional)"}),l.jsx(Ol,{id:"notes",placeholder:"  , ...",value:m.notes,onChange:E=>w(C=>({...C,notes:E.target.value})),className:"min-h-[80px]"})]})}),l.jsx(lr,{delay:480,duration:400,children:l.jsx(xe,{type:"submit",className:"w-full gap-2",disabled:i||o,children:i?"...":l.jsxs(l.Fragment,{children:[l.jsx(Ot,{className:"w-4 h-4"}),""]})})})]}),l.jsx(rU,{open:h,onOpenChange:f,children:l.jsxs(cC,{className:"sm:max-w-md",children:[l.jsx(uC,{children:l.jsxs(dC,{className:"flex items-center gap-2",children:[l.jsx(Ot,{className:"w-5 h-5 text-primary"}),""]})}),l.jsx(UV,{coverUrl:u,isGenerating:o,onRegenerate:v,dreamTitle:((k=m.storySummary)==null?void 0:k.slice(0,50))||m.world}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsx(xe,{variant:"outline",onClick:S,children:""})})]})})]})}function oU({dreamId:e,isEditing:t,saving:n,onBack:r,onEdit:s,onCancel:i,onSave:a,onDelete:o}){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:r,children:l.jsx(a2,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:e})]}),l.jsx("div",{className:"flex gap-1",children:t?l.jsxs(l.Fragment,{children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:i,disabled:n,children:l.jsx(za,{className:"w-4 h-4"})}),l.jsx(xe,{size:"icon",onClick:a,disabled:n,children:l.jsx(tM,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:s,children:l.jsx(m0,{className:"w-4 h-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:o,children:l.jsx(sM,{className:"w-4 h-4"})})]})})]})}function lU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.world,onChange:n=>t({world:n.target.value}),className:"text-xl font-semibold mb-2",placeholder:""})}function cU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:String(e.threatLevel),onValueChange:n=>t({threatLevel:Number(n)}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:[0,1,2,3,4,5].map(n=>l.jsxs(at,{value:String(n),children:["Level ",n]},n))})]})}function uU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.timeSystem,onValueChange:n=>t({timeSystem:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:z0.map(n=>l.jsx(at,{value:n,children:n},n))})]})}function dU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.safetyOverride,onValueChange:n=>t({safetyOverride:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:V0.map(n=>l.jsx(at,{value:n,children:n},n))})]})}function hU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.exit,onValueChange:n=>t({exit:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:zk.map(n=>l.jsx(at,{value:n,children:n},n))})]})}function fU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.environments.join(", "),onChange:n=>t({environments:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"fog, sea, mountain ()"})}function mU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.entities.join(", "),onChange:n=>t({entities:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"Entity1, Entity2 ()"})}function pU({editForm:e,onFormChange:t}){return l.jsx(Ol,{value:e.notes,onChange:n=>t({notes:n.target.value}),className:"min-h-[120px]",placeholder:"..."})}const gU={0:"bg-muted text-muted-foreground",1:"bg-yellow-100 text-yellow-800",2:"bg-orange-100 text-orange-800",3:"bg-orange-200 text-orange-900",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};function yU({dream:e,isEditing:t,editForm:n,onFormChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Threat Level"}),t?l.jsx(cU,{editForm:n,onFormChange:r}):l.jsx("span",{className:`threat-badge text-lg ${gU[e.threatLevel]}`,children:e.threatLevel})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Time System"}),t?l.jsx(uU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.timeSystem})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Safety Override"}),t?l.jsx(dU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.safetyOverride})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Exit"}),t?l.jsx(hU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.exit})]})]})}function Mi({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function vU(){const{id:e}=uD(),t=M0(),[n,r]=p.useState(null),[s,i]=p.useState(!0),[a,o]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState({world:"",threatLevel:0,timeSystem:"unknown",safetyOverride:"unknown",exit:"unknown",environments:[],entities:[],notes:""});p.useEffect(()=>{(async()=>{try{const S=(await gi()).find(k=>k.id===e);r(S||null),S&&h({world:S.world,threatLevel:S.threatLevel,timeSystem:S.timeSystem,safetyOverride:S.safetyOverride,exit:S.exit,environments:S.environments,entities:S.entities,notes:S.notes||""})}catch(y){console.error("Error loading dream:",y)}finally{i(!1)}})()},[e]);const f=x=>{h(y=>({...y,...x}))},m=()=>o(!0),w=()=>{n&&h({world:n.world,threatLevel:n.threatLevel,timeSystem:n.timeSystem,safetyOverride:n.safetyOverride,exit:n.exit,environments:n.environments,entities:n.entities,notes:n.notes||""}),o(!1)},v=async()=>{if(n){u(!0);try{const x=await x3(n.id,d);x?(r(x),o(!1),Nt.success("")):Nt.error("")}catch(x){console.error("Error saving:",x),Nt.error("")}finally{u(!1)}}},b=async()=>{n&&confirm("?")&&(await w3(n.id)?(Nt.success(""),t("/logs")):Nt.error(""))};if(s)return l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."});if(!n)return l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-muted-foreground",children:""}),l.jsx(xe,{asChild:!0,variant:"link",className:"mt-2 p-0",children:l.jsx(Dt,{to:"/logs",children:""})})]});const g=new Date(n.date).toLocaleDateString("th-TH",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(Mi,{delay:0,duration:400,children:l.jsx(oU,{dreamId:n.id,isEditing:a,saving:c,onBack:()=>t(-1),onEdit:m,onCancel:w,onSave:v,onDelete:b})}),l.jsx(Mi,{delay:80,duration:400,children:l.jsxs("div",{children:[a?l.jsx(lU,{editForm:d,onFormChange:f}):l.jsx("h1",{className:"text-xl mb-1",children:n.world}),l.jsxs("p",{className:"text-muted-foreground",children:[g,"  ",n.wakeTime]})]})}),l.jsx(Mi,{delay:160,duration:400,children:l.jsx(yU,{dream:n,isEditing:a,editForm:d,onFormChange:f})}),l.jsx(Mi,{delay:240,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Environments"}),a?l.jsx(fU,{editForm:d,onFormChange:f}):n.environments.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.environments.map(x=>l.jsx("span",{className:"tag",children:x},x))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Mi,{delay:320,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Entities"}),a?l.jsx(mU,{editForm:d,onFormChange:f}):n.entities.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.entities.map(x=>l.jsx("span",{className:"tag-accent",children:x},x))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Mi,{delay:400,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),a?l.jsx(pU,{editForm:d,onFormChange:f}):n.notes?l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.notes}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})})]})}function Oe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hC(e,t){const n=Oe(e);return isNaN(t)?Pr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const fC=6048e5,xU=864e5;let wU={};function zd(){return wU}function An(e,t){var o,c,u,d;const n=zd(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Oe(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Fu(e){return An(e,{weekStartsOn:1})}function mC(e){const t=Oe(e),n=t.getFullYear(),r=Pr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Fu(r),i=Pr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Fu(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Bu(e){const t=Oe(e);return t.setHours(0,0,0,0),t}function Kw(e){const t=Oe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bU(e,t){const n=Bu(e),r=Bu(t),s=+n-Kw(n),i=+r-Kw(r);return Math.round((s-i)/xU)}function SU(e){const t=mC(e),n=Pr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Fu(n)}function kU(e,t){const n=t*7;return hC(e,n)}function Ng(e){return Pr(e,Date.now())}function EU(e,t){const n=Bu(e),r=Bu(t);return+n==+r}function jU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function CU(e){if(!jU(e)&&typeof e!="number")return!1;const t=Oe(e);return!isNaN(Number(t))}function TU(e,t){const n=Oe(e.start),r=Oe(e.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let o=1;const c=[];for(;+a<=i;)c.push(Oe(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return s?c.reverse():c}function PU(e,t){const n=Oe(e.start),r=Oe(e.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setDate(1);let o=1;const c=[];for(;+a<=i;)c.push(Oe(a)),a.setMonth(a.getMonth()+o);return s?c.reverse():c}function NU(e,t){const n=Oe(e.start),r=Oe(e.end);let s=+n>+r;const i=An(s?r:n,t),a=An(s?n:r,t);i.setHours(15),a.setHours(15);const o=+a.getTime();let c=i,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,s=!s);const d=[];for(;+c<=o;)c.setHours(0),d.push(Oe(c)),c=kU(c,u),c.setHours(15);return s?d.reverse():d}function _U(e){const t=Oe(e),n=Pr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const MU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RU=(e,t,n)=>{let r;const s=MU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ha(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const AU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IU={date:ha({formats:AU,defaultWidth:"full"}),time:ha({formats:OU,defaultWidth:"full"}),dateTime:ha({formats:DU,defaultWidth:"full"})},LU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$U=(e,t,n,r)=>LU[e];function Kn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const FU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GU={ordinalNumber:HU,era:Kn({values:FU,defaultWidth:"wide"}),quarter:Kn({values:BU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kn({values:zU,defaultWidth:"wide"}),day:Kn({values:VU,defaultWidth:"wide"}),dayPeriod:Kn({values:UU,defaultWidth:"wide",formattingValues:WU,defaultFormattingWidth:"wide"})};function qn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?qU(o,h=>h.test(a)):KU(o,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function KU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function qU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function pC(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const YU=/^(\d+)(th|st|nd|rd)?/i,XU=/\d+/i,QU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JU={any:[/^b/i,/^(a|c)/i]},ZU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e9={any:[/1/i,/2/i,/3/i,/4/i]},t9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o9={ordinalNumber:pC({matchPattern:YU,parsePattern:XU,valueCallback:e=>parseInt(e,10)}),era:qn({matchPatterns:QU,defaultMatchWidth:"wide",parsePatterns:JU,defaultParseWidth:"any"}),quarter:qn({matchPatterns:ZU,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qn({matchPatterns:t9,defaultMatchWidth:"wide",parsePatterns:n9,defaultParseWidth:"any"}),day:qn({matchPatterns:r9,defaultMatchWidth:"wide",parsePatterns:s9,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:i9,defaultMatchWidth:"any",parsePatterns:a9,defaultParseWidth:"any"})},l9={code:"en-US",formatDistance:RU,formatLong:IU,formatRelative:$U,localize:GU,match:o9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c9(e){const t=Oe(e);return bU(t,_U(t))+1}function u9(e){const t=Oe(e),n=+Fu(t)-+SU(t);return Math.round(n/fC)+1}function gC(e,t){var d,h,f,m;const n=Oe(e),r=n.getFullYear(),s=zd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Pr(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=An(a,t),c=Pr(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=An(c,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function d9(e,t){var o,c,u,d;const n=zd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=gC(e,t),i=Pr(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),An(i,t)}function h9(e,t){const n=Oe(e),r=+An(n,t)-+d9(n,t);return Math.round(r/fC)+1}function ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $r={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ve(s,t.length)}},Ri={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return $r.y(e,t)},Y:function(e,t,n,r){const s=gC(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ve(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ve(i,t.length)},R:function(e,t){const n=mC(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $r.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=h9(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ve(s,t.length)},I:function(e,t,n){const r=u9(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$r.d(e,t)},D:function(e,t,n){const r=c9(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ve(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ve(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ri.noon:r===0?s=Ri.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ri.evening:r>=12?s=Ri.afternoon:r>=4?s=Ri.morning:s=Ri.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $r.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$r.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$r.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$r.s(e,t)},S:function(e,t){return $r.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Xw(r);case"XXXX":case"XX":return $s(r);case"XXXXX":case"XXX":default:return $s(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Xw(r);case"xxxx":case"xx":return $s(r);case"xxxxx":case"xxx":default:return $s(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yw(r,":");case"OOOO":default:return"GMT"+$s(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yw(r,":");case"zzzz":default:return"GMT"+$s(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return ve(r,t.length)}};function Yw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+ve(i,2)}function Xw(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):$s(e,t)}function $s(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ve(Math.trunc(r/60),2),i=ve(r%60,2);return n+s+t+i}const Qw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},f9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Qw(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Qw(r,t)).replace("{{time}}",yC(s,t))},m9={p:yC,P:f9},p9=/^D+$/,g9=/^Y+$/,y9=["D","DD","YY","YYYY"];function v9(e){return p9.test(e)}function x9(e){return g9.test(e)}function w9(e,t,n){const r=b9(e,t,n);if(console.warn(r),y9.includes(e))throw new RangeError(r)}function b9(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E9=/^'([^]*?)'?$/,j9=/''/g,C9=/[a-zA-Z]/;function pt(e,t,n){var d,h,f,m,w,v,b,g;const r=zd(),s=(n==null?void 0:n.locale)??r.locale??l9,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,o=Oe(e);if(!CU(o))throw new RangeError("Invalid time value");let c=t.match(k9).map(x=>{const y=x[0];if(y==="p"||y==="P"){const S=m9[y];return S(x,s.formatLong)}return x}).join("").match(S9).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:T9(x)};if(qw[y])return{isToken:!0,value:x};if(y.match(C9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const y=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&x9(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&v9(y))&&w9(y,t,String(e));const S=qw[y[0]];return S(o,y,s.localize,u)}).join("")}function T9(e){const t=e.match(E9);return t?t[1].replace(j9,"'"):e}function P9(e,t,n){const r=An(e,n),s=An(t,n);return+r==+s}function N9(e,t){const n=Oe(e),r=Oe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _9(e){return N9(e,Ng(e))}function M9(e,t){return P9(e,Ng(e),t)}function R9(e){return EU(e,Ng(e))}function A9(e,t){return hC(e,-t)}function O9(){return l.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden",children:l.jsx(le,{className:"w-full h-full"})})}function D9(){return l.jsxs("div",{className:"bg-card rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(le,{className:"w-1 h-8 rounded-full"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(le,{className:"h-4 w-20"}),l.jsx(le,{className:"h-3 w-16"})]})]}),l.jsx(le,{className:"w-5 h-5 rounded"})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>l.jsx(O9,{},t))})})]})}function I9(){return l.jsx("div",{className:"space-y-4 p-4",children:[...Array(3)].map((e,t)=>l.jsx(D9,{},t))})}const L9={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},$9=(e,t,n)=>{let r;const s=L9[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e==="halfAMinute"?""+r:" "+r:r+"":r},F9={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},B9={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},z9={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V9={date:ha({formats:F9,defaultWidth:"full"}),time:ha({formats:B9,defaultWidth:"medium"}),dateTime:ha({formats:z9,defaultWidth:"full"})},U9={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},W9=(e,t,n,r)=>U9[e],H9={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},G9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},K9={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},q9={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},Y9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},X9={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Q9=(e,t)=>String(e),J9={ordinalNumber:Q9,era:Kn({values:H9,defaultWidth:"wide"}),quarter:Kn({values:G9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kn({values:q9,defaultWidth:"wide"}),day:Kn({values:K9,defaultWidth:"wide"}),dayPeriod:Kn({values:Y9,defaultWidth:"wide",formattingValues:X9,defaultFormattingWidth:"wide"})},Z9=/^\d+/i,eW=/\d+/i,tW={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},nW={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},rW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},sW={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},iW={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},aW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},oW={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},lW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},cW={any:/^(||||(.*?)?.*(||||))/i},uW={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},dW={ordinalNumber:pC({matchPattern:Z9,parsePattern:eW,valueCallback:e=>parseInt(e,10)}),era:qn({matchPatterns:tW,defaultMatchWidth:"wide",parsePatterns:nW,defaultParseWidth:"any"}),quarter:qn({matchPatterns:rW,defaultMatchWidth:"wide",parsePatterns:sW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qn({matchPatterns:iW,defaultMatchWidth:"wide",parsePatterns:aW,defaultParseWidth:"any"}),day:qn({matchPatterns:oW,defaultMatchWidth:"wide",parsePatterns:lW,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:cW,defaultMatchWidth:"any",parsePatterns:uW,defaultParseWidth:"any"})},ws={code:"th",formatDistance:$9,formatLong:V9,formatRelative:W9,localize:J9,match:dW,options:{weekStartsOn:0,firstWeekContainsDate:1}},uf=new Map;function hW(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[i,a]=p.useState(null);return p.useEffect(()=>{var u;if(!e.notes||e.notes.trim().length<10){n(null);return}const o=`${e.id}-${(u=e.notes)==null?void 0:u.slice(0,50)}`;if(uf.has(o)){n(uf.get(o));return}(async()=>{s(!0),a(null);try{const{data:d,error:h}=await Be.functions.invoke("analyze-cover",{body:{notes:e.notes,world:e.world,environments:e.environments,threatLevel:e.threatLevel,entities:e.entities}});if(h)throw h;d&&!d.error?(uf.set(o,d),n(d)):d!=null&&d.error&&a(d.error)}catch(d){console.error("Failed to fetch cover style:",d),a(d instanceof Error?d.message:"Unknown error")}finally{s(!1)}})()},[e.id,e.notes,e.world,e.environments,e.threatLevel,e.entities]),{style:t,loading:r,error:i}}const fW={fog:{hue:200,saturation:20},sea:{hue:200,saturation:70},mountain:{hue:30,saturation:40},city:{hue:45,saturation:60},tunnel:{hue:280,saturation:30},rain:{hue:220,saturation:50},night:{hue:260,saturation:80},sunset:{hue:15,saturation:90}},kc={inactive:{brightness:.7,animSpeed:.3},activated:{brightness:1.2,animSpeed:.8},unknown:{brightness:.9,animSpeed:.5}},Jw={none:"diagonal",helper:"circular",separation:"grid",wake:"radial",unknown:"noise"},Ec={wake:{glow:"#60a5fa",symbol:""},separation:{glow:"#a78bfa",symbol:""},collapse:{glow:"#f87171",symbol:""},unknown:{glow:"#9ca3af",symbol:""}},Zw={0:{base:"#064e3b",accent:"#34d399"},1:{base:"#1e3a5f",accent:"#60a5fa"},2:{base:"#312e81",accent:"#818cf8"},3:{base:"#581c87",accent:"#c084fc"},4:{base:"#7c2d12",accent:"#fb923c"},5:{base:"#7f1d1d",accent:"#f87171"}};function df(e){return e.split("").reduce((t,n,r)=>t+n.charCodeAt(0)*(r+1),0)}function mW(e,t){var y;if(t){const k={dim:.6,normal:1,bright:1.2,glowing:1.5}[t.brightness]||1,E={waves:"diagonal",circles:"circular",stars:"radial",lines:"diagonal",dots:"grid",crystals:"radial",smoke:"noise",spiral:"circular"},C=`hsl(${t.primaryHue}, ${t.saturation}%, 25%)`,j=`hsl(${t.secondaryHue}, ${t.saturation-10}%, 35%)`,T=`hsl(${t.accentHue}, ${Math.min(90,t.saturation+20)}%, 60%)`;return{primary:C,secondary:j,accent:T,gradientAngle:t.gradientAngle,particleCount:20+e.threatLevel*4,patternType:E[t.pattern]||"grid",patternSeed:df(t.mood+t.symbolEmoji),timeEffect:kc[e.timeSystem]||kc.unknown,exitStyle:Ec[e.exit]||Ec.unknown,brightness:k,animSpeed:t.particleStyle==="pulsing"?.8:t.particleStyle==="orbiting"?.6:.4,aiEnhanced:!0,aiMood:t.mood,aiSymbol:t.symbolEmoji,aiKeywords:t.keywords,particleStyle:t.particleStyle}}let n=240,r=50;if(e.environments&&e.environments.length>0){const S=e.environments.map(k=>fW[k]||{hue:200,saturation:50});n=S.reduce((k,E)=>k+E.hue,0)/S.length,r=S.reduce((k,E)=>k+E.saturation,0)/S.length}const s=Zw[e.threatLevel]||Zw[2],i=kc[e.timeSystem]||kc.unknown,a=Jw[e.safetyOverride]||Jw.unknown,o=Ec[e.exit]||Ec.unknown,c=((y=e.entities)==null?void 0:y.length)||0,u=10+c*3+e.threatLevel*4,d=df(e.world||"unknown"),h=df(e.id),f=(d+h)%360,m=(n+e.threatLevel*15)%360,w=(m+30+c*10)%360,v=`hsl(${m}, ${Math.min(90,r+20)}%, ${25+e.threatLevel*3}%)`,b=`hsl(${w}, ${Math.min(85,r+10)}%, ${35+e.threatLevel*2}%)`,g=s.accent,x=d*h+e.threatLevel*100+c*50;return{primary:v,secondary:b,accent:g,gradientAngle:f,particleCount:u,patternType:a,patternSeed:x,timeEffect:i,exitStyle:o,brightness:i.brightness,animSpeed:i.animSpeed*(1+e.threatLevel*.15),aiEnhanced:!1,aiMood:null,aiSymbol:null,aiKeywords:[],particleStyle:"floating"}}function pW(e){var n,r,s,i;const t=["dot"];return((n=e.environments)!=null&&n.includes("night")||(r=e.environments)!=null&&r.includes("sunset"))&&t.push("star"),((s=e.environments)!=null&&s.includes("fog")||(i=e.environments)!=null&&i.includes("sea"))&&t.push("ring"),e.threatLevel>=3&&t.push("triangle"),e.threatLevel>=4&&t.push("diamond"),e.entities&&e.entities.length>0&&t.push("star","ring"),t}function vC({dream:e}){const t=p.useRef(null),n=p.useRef([]),r=p.useRef(),s=p.useRef(0),{style:i}=hW(e),a=p.useMemo(()=>mW(e,i),[e,i]),o=p.useMemo(()=>pW(e),[e]);p.useEffect(()=>{const d=t.current;if(!d)return;const h=d.getContext("2d");if(!h)return;(()=>{const g=d.getBoundingClientRect();d.width=g.width*window.devicePixelRatio,d.height=g.height*window.devicePixelRatio,h.scale(window.devicePixelRatio,window.devicePixelRatio)})(),(()=>{const g=[],x=d.getBoundingClientRect();for(let y=0;y<a.particleCount;y++){const S=(y+a.patternSeed)%o.length;g.push({x:Math.random()*x.width,y:Math.random()*x.height,vx:(Math.random()-.5)*a.animSpeed,vy:(Math.random()-.5)*a.animSpeed,size:Math.random()*2.5+.5+e.threatLevel*.2,opacity:Math.random()*.4+.2+(a.brightness-1)*.2,type:o[S],color:y%3===0?a.accent:y%3===1?a.secondary:"#ffffff"})}n.current=g})();const w=(g,x,y,S)=>{g.save(),g.globalAlpha=.08*a.brightness,g.strokeStyle=a.accent,g.fillStyle=a.accent,g.lineWidth=.5;const k=a.patternSeed;switch(a.patternType){case"diagonal":for(let j=0;j<12;j++){const T=(k+j*20)%100-50+Math.sin(S*.001+j)*5;g.beginPath(),g.moveTo(T,0),g.lineTo(T+x,y),g.stroke()}break;case"circular":for(let j=1;j<=5;j++){const T=(j*30+Math.sin(S*.002+j)*10)*(k%3+1)/2;g.beginPath(),g.arc(x/2,y/2,T,0,Math.PI*2),g.stroke()}break;case"grid":const E=20+k%20;for(let j=0;j<x;j+=E)for(let T=0;T<y;T+=E){const N=Math.sin(S*.002+j*.01+T*.01+k*.01)*3;g.beginPath(),g.arc(j+N,T+N,1.5,0,Math.PI*2),g.fill()}break;case"radial":const C=8+k%8;for(let j=0;j<C;j++){const T=j/C*Math.PI*2+S*.001,N=80+Math.sin(S*.003+j)*20;g.beginPath(),g.moveTo(x/2,y/2),g.lineTo(x/2+Math.cos(T)*N,y/2+Math.sin(T)*N),g.stroke()}break;case"noise":for(let j=0;j<40;j++){const T=k*j*7%x,N=k*j*11%y+Math.sin(S*.003+j)*2,R=(k+j)%3+1;g.globalAlpha=(.05+(k+j)%10*.01)*a.brightness,g.beginPath(),g.arc(T,N,R,0,Math.PI*2),g.fill()}break}g.restore()},v=(g,x)=>{g.save(),g.globalAlpha=x.opacity,g.fillStyle=x.color,g.strokeStyle=x.color,g.shadowBlur=x.size*4,g.shadowColor=x.color;const{x:y,y:S,size:k,type:E}=x;switch(E){case"dot":g.beginPath(),g.arc(y,S,k,0,Math.PI*2),g.fill();break;case"star":const C=k*1.8;g.beginPath(),g.moveTo(y,S-C),g.lineTo(y+C*.3,S),g.lineTo(y,S+C),g.lineTo(y-C*.3,S),g.closePath(),g.fill(),g.beginPath(),g.moveTo(y-C,S),g.lineTo(y+C,S),g.moveTo(y,S-C),g.lineTo(y,S+C),g.lineWidth=.3,g.stroke();break;case"ring":g.beginPath(),g.arc(y,S,k*1.5,0,Math.PI*2),g.lineWidth=.8,g.stroke();break;case"triangle":const j=k*2;g.beginPath(),g.moveTo(y,S-j),g.lineTo(y+j*.866,S+j*.5),g.lineTo(y-j*.866,S+j*.5),g.closePath(),g.fill();break;case"diamond":const T=k*1.5;g.beginPath(),g.moveTo(y,S-T),g.lineTo(y+T,S),g.lineTo(y,S+T),g.lineTo(y-T,S),g.closePath(),g.fill();break}g.restore()},b=()=>{s.current+=16;const g=d.getBoundingClientRect();h.clearRect(0,0,g.width,g.height);const x=a.gradientAngle*Math.PI/180,y=g.width/2-Math.cos(x)*g.width,S=g.height/2-Math.sin(x)*g.height,k=g.width/2+Math.cos(x)*g.width,E=g.height/2+Math.sin(x)*g.height,C=h.createLinearGradient(y,S,k,E);C.addColorStop(0,a.primary),C.addColorStop(.5,a.secondary),C.addColorStop(1,a.primary),h.fillStyle=C,h.fillRect(0,0,g.width,g.height),w(h,g.width,g.height,s.current),n.current.forEach(T=>{T.x+=T.vx,T.y+=T.vy,T.x<0&&(T.x=g.width),T.x>g.width&&(T.x=0),T.y<0&&(T.y=g.height),T.y>g.height&&(T.y=0),v(h,T)});const j=h.createRadialGradient(g.width/2,g.height,0,g.width/2,g.height,g.width*.6);j.addColorStop(0,a.exitStyle.glow+"20"),j.addColorStop(1,"transparent"),h.fillStyle=j,h.fillRect(0,0,g.width,g.height),r.current=requestAnimationFrame(b)};return b(),()=>{r.current&&cancelAnimationFrame(r.current)}},[a,o,e.threatLevel]);const c=e.environments&&e.environments.length>0,u=e.entities&&e.entities.length>0;return l.jsx(Dt,{to:`/logs/${e.id}`,className:"group block",children:l.jsxs("div",{className:"aspect-[2/3] rounded-xl overflow-hidden relative shadow-lg hover:shadow-2xl transition-all duration-500 group-hover:scale-[1.02] border border-white/10",style:{boxShadow:`0 4px 24px ${a.accent}30, 0 0 40px ${a.exitStyle.glow}15`},children:[l.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full",style:{width:"100%",height:"100%"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-black/10"}),l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[8px] text-white/50 font-mono bg-black/30 px-1.5 py-0.5 rounded backdrop-blur-sm",children:e.id}),a.aiEnhanced&&l.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded backdrop-blur-sm bg-primary/30 text-primary-foreground",children:[l.jsx(Ot,{className:"w-2 h-2"}),"AI"]})]}),l.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${a.accent}30`},children:[l.jsx("span",{className:"text-[10px]",style:{color:a.accent},children:a.exitStyle.symbol}),l.jsxs("span",{className:"text-[9px] text-white/80 font-medium",children:["Lv.",e.threatLevel]})]})]}),e.timeSystem!=="unknown"&&l.jsx("div",{className:"absolute top-9 right-2",children:l.jsxs("div",{className:"flex items-center gap-0.5 px-1 py-0.5 rounded backdrop-blur-sm text-[8px]",style:{backgroundColor:e.timeSystem==="activated"?"rgba(96, 165, 250, 0.3)":"rgba(156, 163, 175, 0.2)",color:e.timeSystem==="activated"?"#60a5fa":"#9ca3af"},children:[l.jsx(yr,{className:"w-2 h-2"}),e.timeSystem==="activated"?"ON":"OFF"]})}),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-3",children:[a.aiEnhanced&&a.aiSymbol&&l.jsx("div",{className:"absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 text-4xl opacity-30 animate-pulse",children:a.aiSymbol}),l.jsx("h3",{className:"font-bold text-base sm:text-lg text-center leading-snug text-white drop-shadow-lg line-clamp-2 mb-2",children:e.world||"Unknown"}),l.jsxs("div",{className:"flex flex-wrap gap-1 justify-center mb-2",children:[c&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${a.accent}20`,color:a.accent},children:[l.jsx(Er,{className:"w-2 h-2"}),e.environments.length]}),u&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${a.accent}20`,color:a.accent},children:[l.jsx(Jn,{className:"w-2 h-2"}),e.entities.length]}),e.safetyOverride!=="none"&&e.safetyOverride!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:"rgba(167, 139, 250, 0.2)",color:"#a78bfa"},children:[l.jsx(Nl,{className:"w-2 h-2"}),e.safetyOverride]}),e.exit!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${a.exitStyle.glow}20`,color:a.exitStyle.glow},children:[l.jsx(Q_,{className:"w-2 h-2"}),e.exit]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[l.jsx("div",{className:"h-px w-4 bg-gradient-to-r from-transparent to-white/40"}),l.jsx("div",{className:"w-1 h-1 rounded-full",style:{backgroundColor:a.accent}}),l.jsx("div",{className:"h-px w-4 bg-gradient-to-l from-transparent to-white/40"})]}),l.jsxs("div",{className:"text-center space-y-0.5",children:[l.jsx("p",{className:"text-[10px] text-white/60 font-light tracking-wider",children:pt(new Date(e.date),"d MMM yyyy",{locale:ws})}),e.wakeTime&&l.jsx("p",{className:"text-[9px] text-white/40",children:e.wakeTime})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/0 to-transparent group-hover:via-white/10 transition-all duration-700 transform translate-x-full group-hover:translate-x-0"}),l.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{boxShadow:`inset 0 0 30px ${a.accent}40`}})]})})}function xC({children:e,className:t="",staggerDelay:n=80,animationDuration:r=400}){const[s,i]=p.useState(new Set),[a,o]=p.useState(!1);return p.useEffect(()=>{if(a){i(new Set(e.map((u,d)=>d)));return}i(new Set);const c=[];return e.forEach((u,d)=>{const h=setTimeout(()=>{i(f=>new Set([...f,d])),d===e.length-1&&setTimeout(()=>o(!0),r)},d*n);c.push(h)}),()=>{c.forEach(clearTimeout)}},[e.length,n,r,a]),l.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 ${t}`,children:e.map((c,u)=>l.jsx("div",{className:"transition-all",style:{opacity:s.has(u)?1:0,transform:s.has(u)?"translateY(0) scale(1)":"translateY(20px) scale(0.95)",transitionDuration:`${r}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:c},u))})}function jc({title:e,dreams:t,colorClass:n,isExpanded:r,onToggle:s}){return t.length===0?null:l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-1 h-8 ${n} rounded-full`}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),r?l.jsx(Zo,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ai,{className:"w-5 h-5 text-muted-foreground"})]}),r&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx(xC,{staggerDelay:60,animationDuration:350,children:t.map(i=>l.jsx(vC,{dream:i},i.id))})})]})}function gW({worldName:e,dreams:t,isExpanded:n,onToggle:r}){return l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(l2,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),n?l.jsx(Zo,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ai,{className:"w-5 h-5 text-muted-foreground"})]}),n&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx(xC,{staggerDelay:60,animationDuration:350,children:t.map(s=>l.jsx(vC,{dream:s},s.id))})})]})}function yW({searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:s,currentPhenomenon:i,onChangePhenomenon:a,showDreamFilters:o=!0}){return l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Dream Library"}),i&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i.uiAccent}}),i.name]}),l.jsxs("span",{className:"opacity-60",children:["(",i.rarity,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:a,className:"h-8 px-2",title:"",children:l.jsx(nM,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[s," "]})]})]}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(d2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(dn,{placeholder:"...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r("date"),className:H("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="date"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(o2,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>r("world"),className:H("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="world"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(l2,{className:"w-4 h-4"}),""]})]})]})]})})}const eb={stars:{gradient:"linear-gradient(90deg, #1e3a5f, #3b82f6, #60a5fa, #93c5fd)",glowColor:"#3b82f6",innerPattern:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.3) 1px, transparent 1px), radial-gradient(circle at 60% 30%, rgba(255,255,255,0.2) 1px, transparent 1px), radial-gradient(circle at 80% 70%, rgba(255,255,255,0.25) 1px, transparent 1px)"},fire:{gradient:"linear-gradient(90deg, #7f1d1d, #dc2626, #f97316, #fbbf24)",glowColor:"#f97316",innerPattern:"repeating-linear-gradient(90deg, transparent, transparent 4px, rgba(255,200,100,0.1) 4px, rgba(255,200,100,0.1) 8px)"},snow:{gradient:"linear-gradient(90deg, #e0f2fe, #bae6fd, #7dd3fc, #38bdf8)",glowColor:"#38bdf8",innerPattern:"radial-gradient(circle at 30% 40%, rgba(255,255,255,0.5) 1px, transparent 1px), radial-gradient(circle at 70% 60%, rgba(255,255,255,0.4) 1px, transparent 1px)"},crystals:{gradient:"linear-gradient(90deg, #312e81, #4f46e5, #818cf8, #c4b5fd)",glowColor:"#818cf8",innerPattern:"linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 45%, rgba(255,255,255,0.1) 55%, transparent 60%)"},void:{gradient:"linear-gradient(90deg, #0f0f0f, #1f1f3a, #2d1b4e, #4c1d95)",glowColor:"#7c3aed",innerPattern:"radial-gradient(ellipse at 50% 50%, rgba(139,92,246,0.2) 0%, transparent 70%)"},blood:{gradient:"linear-gradient(90deg, #450a0a, #7f1d1d, #b91c1c, #dc2626)",glowColor:"#dc2626",innerPattern:"repeating-linear-gradient(180deg, transparent, transparent 2px, rgba(0,0,0,0.2) 2px, rgba(0,0,0,0.2) 4px)"},aurora:{gradient:"linear-gradient(90deg, #22c55e, #14b8a6, #06b6d4, #8b5cf6, #ec4899)",glowColor:"#14b8a6",innerPattern:"linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(255,255,255,0.05) 100%)"},lightning:{gradient:"linear-gradient(90deg, #0c4a6e, #0284c7, #38bdf8, #fef08a)",glowColor:"#fef08a",innerPattern:"linear-gradient(135deg, transparent 40%, rgba(254,240,138,0.3) 45%, transparent 50%)"},mythic:{gradient:"linear-gradient(90deg, #581c87, #9333ea, #c026d3, #f472b6)",glowColor:"#c026d3",borderStyle:"2px solid rgba(192,38,211,0.5)",innerPattern:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"},legendary:{gradient:"linear-gradient(90deg, #78350f, #d97706, #f59e0b, #fcd34d)",glowColor:"#f59e0b",borderStyle:"2px solid rgba(245,158,11,0.5)",innerPattern:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%)"},very_rare:{gradient:"linear-gradient(90deg, #1e3a8a, #3b82f6, #60a5fa, #a78bfa)",glowColor:"#60a5fa",borderStyle:"1px solid rgba(96,165,250,0.4)",innerPattern:"radial-gradient(circle at 80% 50%, rgba(167,139,250,0.3) 0%, transparent 50%)"},rare:{gradient:"linear-gradient(90deg, #065f46, #059669, #10b981, #6ee7b7)",glowColor:"#10b981",borderStyle:"1px solid rgba(16,185,129,0.4)"},normal:{gradient:"linear-gradient(90deg, #374151, #4b5563, #6b7280, #9ca3af)",glowColor:"#6b7280"}},tb={stars:{shimmerDuration:3,sparkleAnimation:!0},fire:{shimmerDuration:.8,waveAnimation:!0},snow:{shimmerDuration:4,sparkleAnimation:!0},crystals:{shimmerDuration:2.5,pulseAnimation:!0},void:{shimmerDuration:5,pulseAnimation:!0},blood:{shimmerDuration:1.5,waveAnimation:!0},aurora:{shimmerDuration:6,waveAnimation:!0},lightning:{shimmerDuration:.3,sparkleAnimation:!0},mythic:{shimmerDuration:2,pulseAnimation:!0,sparkleAnimation:!0},legendary:{shimmerDuration:1.5,waveAnimation:!0,sparkleAnimation:!0},very_rare:{shimmerDuration:2.5,sparkleAnimation:!0},rare:{shimmerDuration:3},normal:{shimmerDuration:4}};function nb({value:e,max:t=100,particleConfig:n,className:r,height:s=12,showGlow:i=!0,animated:a=!0,label:o,variant:c}){const u=p.useRef(null),d=p.useRef([]),h=p.useRef(),f=Math.min(100,Math.max(0,e/t*100)),m=c||(n==null?void 0:n.type)||"normal",w=eb[m]||eb.normal,v=tb[m]||tb.normal,b=p.useMemo(()=>n?(x,y,S,k)=>{const E=n,j=Math.random()>.6&&E.secondaryColor?E.secondaryColor:E.color;let T=0,N=0,R=2,O=0,U=0;switch(E.type){case"stars":T=(Math.random()-.5)*E.speed*.5,N=(Math.random()-.3)*E.speed*.3,R=Math.random()*3+1,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.1;break;case"fire":T=(Math.random()-.5)*E.speed*.3,N=-Math.random()*E.speed*2,R=Math.random()*4+2;break;case"snow":T=(Math.random()-.5)*E.speed*.2,N=Math.random()*E.speed*.5,R=Math.random()*3+1,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.05;break;case"crystals":T=(Math.random()-.5)*E.speed*.4,N=(Math.random()-.5)*E.speed*.4,R=Math.random()*4+2,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.08;break;case"void":T=(Math.random()-.5)*E.speed*2,N=(Math.random()-.5)*E.speed*2,R=Math.random()*2+1;break;case"blood":T=(Math.random()-.5)*E.speed*.3,N=Math.random()*E.speed*.8,R=Math.random()*3+2;break;case"aurora":T=E.speed*.5,N=Math.sin(x*.1)*E.speed*.3,R=Math.random()*5+3;break;case"lightning":T=(Math.random()-.5)*E.speed*4,N=(Math.random()-.5)*E.speed*4,R=Math.random()*2+1;break}return{x:x+S*f/100,y:y+k/2+(Math.random()-.5)*k*.8,vx:T,vy:N,size:R,opacity:Math.random()*.8+.2,color:j,life:0,maxLife:30+Math.random()*30,rotation:O,rotationSpeed:U}}:null,[n,f]);p.useEffect(()=>{if(!a||!u.current||!n)return;const x=u.current,y=x.getContext("2d");if(!y)return;const S=x.getBoundingClientRect();x.width=S.width*window.devicePixelRatio,x.height=S.height*window.devicePixelRatio,y.scale(window.devicePixelRatio,window.devicePixelRatio);const k=S.width,E=S.height,C=()=>{y.clearRect(0,0,k,E),b&&Math.random()<n.density*.3&&d.current.push(b(0,0,k,E)),d.current=d.current.filter(j=>{j.x+=j.vx,j.y+=j.vy,j.life++,j.rotation!==void 0&&j.rotationSpeed!==void 0&&(j.rotation+=j.rotationSpeed);const T=j.life/j.maxLife,N=j.opacity*(1-T);if(N<=0)return!1;switch(y.save(),y.translate(j.x,j.y),j.rotation!==void 0&&y.rotate(j.rotation),n.glow&&(y.shadowColor=j.color,y.shadowBlur=j.size*3),y.fillStyle=j.color,y.globalAlpha=N,n.type){case"crystals":y.beginPath(),y.moveTo(0,-j.size),y.lineTo(j.size*.7,0),y.lineTo(0,j.size),y.lineTo(-j.size*.7,0),y.closePath(),y.fill(),y.fillStyle="rgba(255,255,255,0.5)",y.beginPath(),y.moveTo(0,-j.size*.5),y.lineTo(j.size*.3,0),y.lineTo(0,j.size*.3),y.closePath(),y.fill();break;case"stars":vW(y,0,0,5,j.size,j.size*.4);break;case"lightning":y.beginPath(),y.moveTo(0,0),y.lineTo(j.vx*3,j.vy*3),y.strokeStyle=j.color,y.lineWidth=j.size*.5,y.lineCap="round",y.stroke(),Math.random()>.7&&(y.beginPath(),y.moveTo(j.vx*1.5,j.vy*1.5),y.lineTo(j.vx*2+(Math.random()-.5)*4,j.vy*2+(Math.random()-.5)*4),y.lineWidth=j.size*.3,y.stroke());break;case"fire":y.beginPath(),y.moveTo(0,-j.size),y.bezierCurveTo(j.size,-j.size*.5,j.size,j.size*.5,0,j.size),y.bezierCurveTo(-j.size,j.size*.5,-j.size,-j.size*.5,0,-j.size),y.fill();break;case"snow":for(let R=0;R<6;R++)y.save(),y.rotate(Math.PI/3*R),y.beginPath(),y.moveTo(0,0),y.lineTo(0,-j.size),y.strokeStyle=j.color,y.lineWidth=j.size*.2,y.stroke(),y.restore();break;case"void":y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill(),y.beginPath(),y.arc(0,0,j.size*.5,0,Math.PI*2),y.fillStyle="rgba(0,0,0,0.5)",y.fill();break;case"aurora":y.beginPath(),y.ellipse(0,0,j.size*2,j.size*.5,0,0,Math.PI*2),y.fill();break;case"blood":y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill(),y.beginPath(),y.arc(j.size*.3,-j.size*.3,j.size*.3,0,Math.PI*2),y.fillStyle="rgba(255,100,100,0.5)",y.fill();break;default:y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill()}return y.restore(),!0}),d.current.length>60&&(d.current=d.current.slice(-60)),h.current=requestAnimationFrame(C)};return C(),()=>{h.current&&cancelAnimationFrame(h.current)}},[a,n,b]),n!=null&&n.color;const g=n?w.gradient:"hsl(var(--primary))";return l.jsxs("div",{className:H("relative w-full",r),children:[o&&l.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-xs",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:o}),l.jsxs("span",{className:"text-foreground font-semibold",children:[Math.round(f),"%"]})]}),l.jsxs("div",{className:"relative overflow-hidden rounded-full bg-secondary/50 backdrop-blur-sm",style:{height:s,border:w.borderStyle,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.2)"},children:[l.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)"}}),l.jsxs(it.div,{className:"h-full rounded-full relative overflow-hidden",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.8,ease:"easeOut"},style:{background:g,boxShadow:i&&(n!=null&&n.glow)?`0 0 12px ${w.glowColor}, 0 0 24px ${w.glowColor}50, inset 0 1px 0 rgba(255,255,255,0.3)`:"inset 0 1px 0 rgba(255,255,255,0.3)"},children:[w.innerPattern&&l.jsx("div",{className:"absolute inset-0",style:{background:w.innerPattern}}),a&&v.pulseAnimation&&f>0&&l.jsx(it.div,{className:"absolute inset-0 rounded-full",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{background:`radial-gradient(ellipse at 70% 50%, ${w.glowColor}40, transparent 70%)`}}),a&&v.waveAnimation&&f>0&&l.jsx(it.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:v.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",width:"50%"}}),a&&v.sparkleAnimation&&f>0&&l.jsxs(l.Fragment,{children:[l.jsx(it.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:1.5,repeat:1/0,delay:0},style:{left:"20%",top:"30%"}}),l.jsx(it.div,{className:"absolute w-0.5 h-0.5 rounded-full bg-white",animate:{opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2,repeat:1/0,delay:.5},style:{left:"50%",top:"60%"}}),l.jsx(it.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:1.8,repeat:1/0,delay:1},style:{left:"75%",top:"40%"}})]}),a&&f>0&&l.jsx(it.div,{className:"absolute inset-0",animate:{x:["-200%","200%"]},transition:{duration:v.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.15) 25%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0.15) 75%, transparent 100%)",width:"100%"}}),i&&f>5&&l.jsx(it.div,{className:"absolute right-0 top-0 bottom-0 w-4",animate:{opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},style:{background:`linear-gradient(90deg, transparent, ${w.glowColor})`}})]}),a&&n&&l.jsx("canvas",{ref:u,className:"absolute inset-0 w-full h-full pointer-events-none",style:{height:s*4,top:-s*1.5}}),f>0&&f<100&&l.jsx(it.div,{className:"absolute top-0 bottom-0 w-0.5",initial:{opacity:0},animate:{opacity:[.5,1,.5],left:`${f}%`},transition:{opacity:{duration:1,repeat:1/0},left:{duration:.8,ease:"easeOut"}},style:{background:"rgba(255,255,255,0.8)",boxShadow:`0 0 4px ${w.glowColor}`}})]})]})}function vW(e,t,n,r,s,i){let a=Math.PI/2*3;const o=Math.PI/r;e.beginPath(),e.moveTo(t,n-s);for(let c=0;c<r;c++){let u=t+Math.cos(a)*s,d=n+Math.sin(a)*s;e.lineTo(u,d),a+=o,u=t+Math.cos(a)*i,d=n+Math.sin(a)*i,e.lineTo(u,d),a+=o}e.lineTo(t,n-s),e.closePath(),e.fill()}var _g="Progress",Mg=100,[xW]=hn(_g),[wW,bW]=xW(_g),wC=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=SW,...a}=e;(s||s===0)&&!rb(s)&&console.error(kW(`${s}`,"Progress"));const o=rb(s)?s:Mg;r!==null&&!sb(r,o)&&console.error(EW(`${r}`,"Progress"));const c=sb(r,o)?r:null,u=zu(c)?i(c,o):void 0;return l.jsx(wW,{scope:n,value:c,max:o,children:l.jsx(J.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":zu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":kC(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});wC.displayName=_g;var bC="ProgressIndicator",SC=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=bW(bC,n);return l.jsx(J.div,{"data-state":kC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});SC.displayName=bC;function SW(e,t){return`${Math.round(e/t*100)}%`}function kC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function zu(e){return typeof e=="number"}function rb(e){return zu(e)&&!isNaN(e)&&e>0}function sb(e,t){return zu(e)&&!isNaN(e)&&e<=t&&e>=0}function kW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Mg}\`.`}function EW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Mg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EC=wC,jW=SC;const jC=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(EC,{ref:r,className:H("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(jW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));jC.displayName=EC.displayName;const ib={mythic:"from-purple-500 via-pink-500 to-rose-500",legendary:"from-amber-400 via-orange-500 to-red-500",very_rare:"from-blue-400 via-indigo-500 to-purple-500",rare:"from-cyan-400 via-teal-500 to-emerald-500",normal:"from-slate-400 via-gray-500 to-zinc-500"},CW={mythic:"Mythic",legendary:"Legendary",very_rare:"Very Rare",rare:"Rare",normal:"Normal"};function TW({className:e,compact:t=!1}){const{collection:n,getMythicMoons:r,getStats:s,toggleFavorite:i,addDurationBoost:a,getParticleConfig:o}=z5(),[c,u]=p.useState(null),[d,h]=p.useState(!1),f=r(),m=s(),w=f.filter(b=>b.discovered),v=f.filter(b=>!b.discovered);return t?l.jsxs("div",{className:H("space-y-3",e),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ot,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Mythic Collection"})]}),l.jsxs(ye,{variant:"secondary",children:[m.mythicCount," / ",f.length]})]}),l.jsx(nb,{value:m.mythicCount,max:f.length,particleConfig:w[0]?o(w[0].id):null,height:8}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.slice(0,6).map(b=>l.jsx("div",{className:H("w-8 h-8 rounded-full flex items-center justify-center text-xs",b.discovered?"bg-gradient-to-br "+ib.mythic:"bg-muted"),title:b.discovered?b.name:"???",children:b.discovered?l.jsx("span",{className:"text-white",children:""}):l.jsx(lv,{className:"h-3 w-3 text-muted-foreground"})},b.id)),f.length>6&&l.jsxs("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",f.length-6]})]})]}):l.jsxs("div",{className:H("space-y-6",e),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20",children:l.jsx(aM,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Mythic Codex"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.totalEncounters," total encounters"]})]})]}),l.jsxs(ye,{variant:"outline",className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:[m.completionPercent,"% Complete"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Collection Progress"}),l.jsxs("span",{children:[m.totalDiscovered," / ",Object.keys(Mo).length]})]}),l.jsx(jC,{value:m.completionPercent,className:"h-2"})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 text-center text-xs",children:["mythic","legendary","very_rare","rare","normal"].map(b=>{const g=b==="mythic"?m.mythicCount:b==="legendary"?m.legendaryCount:b==="very_rare"?m.veryRareCount:b==="rare"?m.rareCount:m.normalCount;return l.jsxs("div",{className:H("p-2 rounded-lg bg-gradient-to-br",ib[b]),style:{opacity:g>0?1:.4},children:[l.jsx("div",{className:"font-bold text-primary-foreground",children:g}),l.jsx("div",{className:"text-[10px] text-primary-foreground/80",children:CW[b]})]},b)})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(h2,{className:"h-4 w-4 text-amber-500"}),"Discovered Mythic Moons (",w.length,")"]}),l.jsx(Uc,{children:w.map(b=>{const g=n[b.id],x=c===b.id,y=o(b.id);return l.jsxs(it.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:H("rounded-xl border overflow-hidden","bg-gradient-to-br from-card via-card to-background"),style:{borderColor:(y==null?void 0:y.color)+"40",boxShadow:y!=null&&y.glow?`0 0 20px ${y.color}20`:void 0},children:[l.jsxs("button",{onClick:()=>u(x?null:b.id),className:"w-full p-4 flex items-center gap-3 hover:bg-accent/50 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:y?`linear-gradient(135deg, ${y.color}, ${y.secondaryColor||y.color})`:"hsl(var(--primary))"},children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-medium",children:b.name}),l.jsx("div",{className:"text-xs text-muted-foreground",children:b.nameEn})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ye,{variant:"secondary",className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:["",(g==null?void 0:g.encounterCount)||0]}),x?l.jsx(Zo,{className:"h-4 w-4"}):l.jsx(ai,{className:"h-4 w-4"})]})]}),l.jsx(Uc,{children:x&&l.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("p",{className:"text-sm italic text-muted-foreground",children:['"',b.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cm,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:"First seen:"}),l.jsx("span",{className:"text-muted-foreground",children:g!=null&&g.firstEncountered?new Date(g.firstEncountered).toLocaleDateString("th-TH"):"-"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:"Last seen:"}),l.jsx("span",{className:"text-muted-foreground",children:g!=null&&g.lastEncountered?new Date(g.lastEncountered).toLocaleDateString("th-TH"):"-"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Theme Duration Boost"}),l.jsxs("span",{className:"text-muted-foreground",children:["+",(g==null?void 0:g.themeDurationBoost)||0,"s (max 300s)"]})]}),l.jsx(nb,{value:(g==null?void 0:g.themeDurationBoost)||0,max:300,particleConfig:y,height:10}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>a(b.id,30),disabled:((g==null?void 0:g.themeDurationBoost)||0)>=300,className:"flex-1",children:[l.jsx(yr,{className:"h-3 w-3 mr-1"}),"+30s"]}),l.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>a(b.id,60),disabled:((g==null?void 0:g.themeDurationBoost)||0)>=300,className:"flex-1",children:[l.jsx(yr,{className:"h-3 w-3 mr-1"}),"+60s"]})]})]}),l.jsxs(xe,{size:"sm",variant:g!=null&&g.isFavorite?"default":"outline",onClick:()=>i(b.id),className:"w-full",children:[l.jsx(Y_,{className:H("h-4 w-4 mr-2",(g==null?void 0:g.isFavorite)&&"fill-current")}),g!=null&&g.isFavorite?"Remove from Favorites":"Add to Favorites"]})]})})})]},b.id)})}),w.length===0&&l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ot,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No Mythic moons discovered yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Keep exploring to find rare phenomena!"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>h(!d),className:"w-full flex items-center justify-between text-sm font-medium hover:text-primary transition-colors",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[d?l.jsx(G_,{className:"h-4 w-4"}):l.jsx(cm,{className:"h-4 w-4"}),"Undiscovered Mythic Moons (",v.length,")"]}),d?l.jsx(Zo,{className:"h-4 w-4"}):l.jsx(ai,{className:"h-4 w-4"})]}),l.jsx(Uc,{children:d&&l.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-2",children:v.map(b=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 opacity-60",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:l.jsx(lv,{className:"h-4 w-4 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-medium",children:"???"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:b.emotionTag})]}),l.jsx(ye,{variant:"outline",className:"opacity-50",children:"Mythic"})]},b.id))})})]})]})}var hf="rovingFocusGroup.onEntryFocus",PW={bubbles:!1,cancelable:!0},Bl="RovingFocusGroup",[up,CC,NW]=ad(Bl),[_W,TC]=hn(Bl,[NW]),[MW,RW]=_W(Bl),PC=p.forwardRef((e,t)=>l.jsx(up.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(up.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(AW,{...e,ref:t})})}));PC.displayName=Bl;var AW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=ce(t,f),w=Dl(i),[v,b]=ps({prop:a,defaultProp:o??null,onChange:c,caller:Bl}),[g,x]=p.useState(!1),y=Xe(u),S=CC(n),k=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(hf,y),()=>j.removeEventListener(hf,y)},[y]),l.jsx(MW,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(j=>b(j),[b]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>C(j=>j-1),[]),children:l.jsx(J.div,{tabIndex:g||E===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{k.current=!0}),onFocus:G(e.onFocus,j=>{const T=!k.current;if(j.target===j.currentTarget&&T&&!g){const N=new CustomEvent(hf,PW);if(j.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=S().filter(F=>F.focusable),O=R.find(F=>F.active),U=R.find(F=>F.id===v),q=[O,U,...R].filter(Boolean).map(F=>F.ref.current);MC(q,d)}}k.current=!1}),onBlur:G(e.onBlur,()=>x(!1))})})}),NC="RovingFocusGroupItem",_C=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...o}=e,c=us(),u=i||c,d=RW(NC,n),h=d.currentTabStopId===u,f=CC(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),l.jsx(up.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(J.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:G(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:G(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:G(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=IW(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=f().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const S=y.indexOf(b.currentTarget);y=d.loop?LW(y,S+1):y.slice(S+1)}setTimeout(()=>MC(y))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});_C.displayName=NC;var OW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IW(e,t,n){const r=DW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return OW[r]}function MC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $W=PC,FW=_C,Vd="Tabs",[BW]=hn(Vd,[TC]),RC=TC(),[zW,Rg]=BW(Vd),AC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Dl(o),[h,f]=ps({prop:r,onChange:s,defaultProp:i??"",caller:Vd});return l.jsx(zW,{scope:n,baseId:us(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:l.jsx(J.div,{dir:d,"data-orientation":a,...u,ref:t})})});AC.displayName=Vd;var OC="TabsList",DC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Rg(OC,n),a=RC(n);return l.jsx($W,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(J.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});DC.displayName=OC;var IC="TabsTrigger",LC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Rg(IC,n),o=RC(n),c=BC(a.baseId,r),u=zC(a.baseId,r),d=r===a.value;return l.jsx(FW,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(J.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:G(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:G(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:G(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});LC.displayName=IC;var $C="TabsContent",FC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,o=Rg($C,n),c=BC(o.baseId,r),u=zC(o.baseId,r),d=r===o.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(fn,{present:s||d,children:({present:f})=>l.jsx(J.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});FC.displayName=$C;function BC(e,t){return`${e}-trigger-${t}`}function zC(e,t){return`${e}-content-${t}`}var VW=AC,VC=DC,UC=LC,WC=FC;const HC=VW,Ag=p.forwardRef(({className:e,...t},n)=>l.jsx(VC,{ref:n,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ag.displayName=VC.displayName;const fa=p.forwardRef(({className:e,...t},n)=>l.jsx(UC,{ref:n,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));fa.displayName=UC.displayName;const ma=p.forwardRef(({className:e,...t},n)=>l.jsx(WC,{ref:n,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ma.displayName=WC.displayName;function UW(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Og="ScrollArea",[GC]=hn(Og),[WW,mn]=GC(Og),KC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[o,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,w]=p.useState(null),[v,b]=p.useState(null),[g,x]=p.useState(0),[y,S]=p.useState(0),[k,E]=p.useState(!1),[C,j]=p.useState(!1),T=ce(t,R=>c(R)),N=Dl(s);return l.jsx(WW,{scope:n,type:r,dir:N,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:j,onCornerWidthChange:x,onCornerHeightChange:S,children:l.jsx(J.div,{dir:N,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});KC.displayName=Og;var qC="ScrollAreaViewport",YC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=mn(qC,n),o=p.useRef(null),c=ce(t,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(J.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});YC.displayName=qC;var sr="ScrollAreaScrollbar",Dg=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(sr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=e.orientation==="horizontal";return p.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?l.jsx(HW,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(GW,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(XC,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Ig,{...r,ref:t}):null});Dg.displayName=sr;var HW=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(sr,e.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(fn,{present:n||i,children:l.jsx(XC,{"data-state":i?"visible":"hidden",...r,ref:t})})}),GW=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(sr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Wd(()=>c("SCROLL_END"),100),[o,c]=UW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),l.jsx(fn,{present:n||o!=="hidden",children:l.jsx(Ig,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),XC=p.forwardRef((e,t)=>{const n=mn(sr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=p.useState(!1),o=e.orientation==="horizontal",c=Wd(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?u:d)}},10);return La(n.viewport,c),La(n.content,c),l.jsx(fn,{present:r||i,children:l.jsx(Ig,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Ig=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=mn(sr,e.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[o,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=tT(o.viewport,o.content),d={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,m){return JW(f,a.current,o,m)}return n==="horizontal"?l.jsx(KW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=ab(f,o,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(qW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=ab(f,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),KW=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mn(sr,e.__scopeScrollArea),[a,o]=p.useState(),c=p.useRef(null),u=ce(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(JC,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ud(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),rT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Uu(a.paddingLeft),paddingEnd:Uu(a.paddingRight)}})}})}),qW=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mn(sr,e.__scopeScrollArea),[a,o]=p.useState(),c=p.useRef(null),u=ce(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(JC,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ud(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),rT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Uu(a.paddingTop),paddingEnd:Uu(a.paddingBottom)}})}})}),[YW,QC]=GC(sr),JC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=mn(sr,n),[w,v]=p.useState(null),b=ce(t,T=>v(T)),g=p.useRef(null),x=p.useRef(""),y=m.viewport,S=r.content-r.viewport,k=Xe(d),E=Xe(c),C=Wd(h,10);function j(T){if(g.current){const N=T.clientX-g.current.left,R=T.clientY-g.current.top;u({x:N,y:R})}}return p.useEffect(()=>{const T=N=>{const R=N.target;(w==null?void 0:w.contains(R))&&k(N,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,w,S,k]),p.useEffect(E,[r,E]),La(w,C),La(m.content,C),l.jsx(YW,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Xe(i),onThumbPointerUp:Xe(a),onThumbPositionChange:E,onThumbPointerDown:Xe(o),children:l.jsx(J.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:G(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),g.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(T))}),onPointerMove:G(e.onPointerMove,j),onPointerUp:G(e.onPointerUp,T=>{const N=T.target;N.hasPointerCapture(T.pointerId)&&N.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Vu="ScrollAreaThumb",ZC=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=QC(Vu,e.__scopeScrollArea);return l.jsx(fn,{present:n||s.hasThumb,children:l.jsx(XW,{ref:t,...r})})}),XW=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=mn(Vu,n),a=QC(Vu,n),{onThumbPositionChange:o}=a,c=ce(t,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=Wd(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=ZW(h,o);u.current=m,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,o]),l.jsx(J.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:G(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,v=h.clientY-m.top;a.onThumbPointerDown({x:w,y:v})}),onPointerUp:G(e.onPointerUp,a.onThumbPointerUp)})});ZC.displayName=Vu;var Lg="ScrollAreaCorner",eT=p.forwardRef((e,t)=>{const n=mn(Lg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(QW,{...e,ref:t}):null});eT.displayName=Lg;var QW=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=mn(Lg,n),[i,a]=p.useState(0),[o,c]=p.useState(0),u=!!(i&&o);return La(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),La(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?l.jsx(J.div,{...r,ref:t,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Uu(e){return e?parseInt(e,10):0}function tT(e,t){const n=e/t;return isNaN(n)?0:n}function Ud(e){const t=tT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function JW(e,t,n,r="ltr"){const s=Ud(n),i=s/2,a=t||i,o=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return nT([c,u],h)(e)}function ab(e,t,n="ltr"){const r=Ud(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,o=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=ml(e,c);return nT([0,a],[0,o])(u)}function nT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rT(e,t){return e>0&&e<t}var ZW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,o=n.top!==i.top;(a||o)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Wd(e,t){const n=Xe(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function La(e,t){const n=Xe(t);et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var sT=KC,e7=YC,t7=eT;const dp=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(sT,{ref:r,className:H("relative overflow-hidden",e),...n,children:[l.jsx(e7,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(iT,{}),l.jsx(t7,{})]}));dp.displayName=sT.displayName;const iT=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Dg,{ref:r,orientation:t,className:H("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(ZC,{className:"relative flex-1 rounded-full bg-border"})}));iT.displayName=Dg.displayName;function n7(){const[e,t]=p.useState(""),[n,r]=p.useState("date"),[s,i]=p.useState("dreams"),[a,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState({today:!0,thisWeek:!0,thisMonth:!0,older:!1}),[f,m]=p.useState(null);p.useEffect(()=>{const y=fl();m(y)},[]);const w=()=>{j3();const y=fl();m(y),Tu(y)};p.useEffect(()=>{(async()=>{try{const S=await gi();o(S)}catch(S){console.error("Error loading data:",S)}finally{u(!1)}})()},[]);const v=p.useMemo(()=>e?a.filter(y=>{var S;return y.world.toLowerCase().includes(e.toLowerCase())||y.entities.some(k=>k.toLowerCase().includes(e.toLowerCase()))||((S=y.notes)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}):a,[a,e]),b=p.useMemo(()=>{const y=[],S=[],k=[],E=[];return v.forEach(C=>{const j=new Date(C.date);R9(j)?y.push(C):M9(j,{weekStartsOn:1})?S.push(C):_9(j)?k.push(C):E.push(C)}),{today:y,thisWeek:S,thisMonth:k,older:E}},[v]),g=p.useMemo(()=>{const y={};return v.forEach(S=>{const k=S.world||"Unknown World";y[k]||(y[k]=[]),y[k].push(S)}),Object.entries(y).sort((S,k)=>k[1].length-S[1].length)},[v]),x=y=>{h(S=>({...S,[y]:!S[y]}))};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx(yW,{searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:v.length,currentPhenomenon:f,onChangePhenomenon:w,showDreamFilters:s==="dreams"}),l.jsxs(HC,{value:s,onValueChange:y=>i(y),className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"px-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs(Ag,{className:"w-full h-12 bg-transparent gap-2",children:[l.jsxs(fa,{value:"dreams",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(dd,{className:"h-4 w-4"}),l.jsx("span",{children:"Dream Logs"})]}),l.jsxs(fa,{value:"codex",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(f0,{className:"h-4 w-4"}),l.jsx("span",{children:"Mythic Codex"})]})]})}),l.jsx(ma,{value:"dreams",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(dp,{className:"h-full pb-28",children:c?l.jsx(I9,{}):v.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground px-4",children:[l.jsx(d0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):n==="date"?l.jsxs("div",{className:"space-y-4 p-4",children:[l.jsx(jc,{title:"",dreams:b.today,colorClass:"bg-primary",isExpanded:d.today,onToggle:()=>x("today")}),l.jsx(jc,{title:"",dreams:b.thisWeek,colorClass:"bg-blue-500",isExpanded:d.thisWeek,onToggle:()=>x("thisWeek")}),l.jsx(jc,{title:"",dreams:b.thisMonth,colorClass:"bg-emerald-500",isExpanded:d.thisMonth,onToggle:()=>x("thisMonth")}),l.jsx(jc,{title:"",dreams:b.older,colorClass:"bg-muted-foreground/50",isExpanded:d.older,onToggle:()=>x("older")})]}):l.jsx("div",{className:"space-y-4 p-4",children:g.map(([y,S])=>l.jsx(gW,{worldName:y,dreams:S,isExpanded:d[y]??!0,onToggle:()=>x(y)},y))})})}),l.jsx(ma,{value:"codex",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(dp,{className:"h-full pb-28",children:l.jsx("div",{className:"p-4",children:l.jsx(TW,{})})})})]}),l.jsx(Sd,{})]})}function ob({dreams:e,mode:t}){const n=p.useMemo(()=>{if(e.length===0)return[];const s=[...e].sort((o,c)=>new Date(o.date).getTime()-new Date(c.date).getTime()),i=new Date(s[0].date),a=new Date(s[s.length-1].date);return t==="week"?NU({start:i,end:a},{weekStartsOn:1}).map(c=>{const u=new Date(c);u.setDate(u.getDate()+6);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:pt(c,"d MMM",{locale:ws}),count:d,period:c}}).slice(-12):PU({start:i,end:a}).map(c=>{const u=new Date(c);u.setMonth(u.getMonth()+1),u.setDate(0);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:pt(c,"MMM yy",{locale:ws}),count:d,period:c}}).slice(-12)},[e,t]),r=Math.max(...n.map(s=>s.count),1);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(u0,{className:"w-4 h-4 text-primary"}),l.jsxs("h2",{className:"text-sm font-semibold",children:[" (",t==="week"?"":"",")"]})]}),l.jsxs("div",{className:"space-y-2",children:[n.map((s,i)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:s.label}),l.jsxs("span",{className:"font-semibold",children:[s.count," "]})]}),l.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s.count/r*100}%`}})})]},i)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})]})}function r7({dreams:e}){const t=p.useMemo(()=>{const n=new Set(["","","","","","","","","","","","","","","","","","","","","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","is","was","were"]),r=new Map;e.forEach(c=>{[c.notes||"",...c.environments,...c.entities,c.world].join(" ").split(/[\s,.:;!?()[\]{}]+/).filter(h=>h.length>2&&!n.has(h.toLowerCase())).map(h=>h.toLowerCase()).forEach(h=>{r.set(h,(r.get(h)||0)+1)})});const s=Array.from(r.entries()).map(([c,u])=>({word:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,30);if(s.length===0)return[];const i=Math.max(...s.map(c=>c.count)),a=Math.min(...s.map(c=>c.count)),o=i-a||1;return s.map(({word:c,count:u})=>({word:c,count:u,size:12+(u-a)/o*24}))},[e]);return t.length===0?l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(ov,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:""})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ov,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center items-center py-4 min-h-[200px]",children:t.map(({word:n,count:r,size:s})=>l.jsx("span",{className:"cursor-default hover:text-primary transition-colors",style:{fontSize:`${s}px`,fontWeight:Math.round(300+s/36*400),opacity:.6+s/36*.4},title:`${r} `,children:n},n))})]})}function s7({dreams:e}){const t=p.useMemo(()=>{const n=new Map;return e.forEach(r=>{[...r.environments,...r.entities,r.world,r.timeSystem,r.safetyOverride].forEach(i=>{i&&i!=="unknown"&&i!=="none"&&n.set(i,(n.get(i)||0)+1)})}),Array.from(n.entries()).map(([r,s])=>({tag:r,count:s})).sort((r,s)=>s.count-r.count).slice(0,20)},[e]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:""})]}),t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(({tag:n,count:r})=>l.jsxs(ye,{variant:"secondary",className:"text-xs px-3 py-1 gap-2",children:[l.jsx("span",{children:n}),l.jsx("span",{className:"text-primary font-semibold",children:r})]},n))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function i7({dreams:e}){const t=p.useMemo(()=>{const r=[...e].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime()),s=Array.from({length:14},(c,u)=>{const d=A9(new Date,u),h=r.filter(m=>pt(new Date(m.date),"yyyy-MM-dd")===pt(d,"yyyy-MM-dd")),f=h.length>0?h.reduce((m,w)=>m+w.threatLevel,0)/h.length:0;return{date:d,label:pt(d,"d MMM",{locale:ws}),avgThreat:f,count:h.length}}).reverse(),i=s.slice(-7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),a=s.slice(0,7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),o=i-a;return{data:s,trend:o,recentAvg:i,previousAvg:a}},[e]),n=Math.max(...t.data.map(r=>r.avgThreat),5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(el,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Trends"})]}),t.trend!==0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t.trend>0?"text-red-500":t.trend<0?"text-green-500":"text-muted-foreground"}`,children:[t.trend>0?l.jsx(el,{className:"w-3 h-3"}):t.trend<0?l.jsx(iM,{className:"w-3 h-3"}):l.jsx(J_,{className:"w-3 h-3"}),l.jsx("span",{children:Math.abs(t.trend).toFixed(2)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.recentAvg.toFixed(2)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.previousAvg.toFixed(2)})]})]}),l.jsx("div",{className:"space-y-2",children:t.data.map((r,s)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:r.label}),l.jsx("span",{className:`font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.count>0?r.avgThreat.toFixed(1):"-"})]}),r.count>0&&l.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${r.avgThreat>=4?"bg-red-500":r.avgThreat>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${r.avgThreat/n*100}%`}})})]},s))})]})}function a7({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;e.forEach(o=>{o.environments.forEach(c=>{s.set(c,(s.get(c)||0)+1)})});const i=new Map;e.forEach(o=>{if(o.entities.length>=2){const c=o.entities.sort().join(" + ");i.set(c,(i.get(c)||0)+1)}});const a=new Map;for(let o=0;o<e.length-1;o++){const c=`${e[o].world}  ${e[o+1].world}`;a.set(c,(a.get(c)||0)+1)}return{recurringEnvs:Array.from(s.entries()).filter(([o,c])=>c>=3).map(([o,c])=>({env:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,5),recurringCombos:Array.from(i.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({combo:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3),worldPatterns:Array.from(a.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({seq:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3)}},[e]),r=n.recurringEnvs.length>0||n.recurringCombos.length>0||n.worldPatterns.length>0;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Recurring Patterns"})]}),r?l.jsxs("div",{className:"space-y-4",children:[n.recurringEnvs.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringEnvs.map(({env:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:s}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]}),n.recurringCombos.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringCombos.map(({combo:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]}),n.worldPatterns.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.worldPatterns.map(({seq:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function o7({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;return t.forEach(i=>{const a=i.dreamIds.length;if(a>=2){const o=e.filter(c=>i.dreamIds.includes(c.id)).sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime())[0];s.set(i.name,{count:a,role:i.role,lastSeen:(o==null?void 0:o.date)||""})}}),Array.from(s.entries()).map(([i,a])=>({name:i,...a})).sort((i,a)=>a.count-i.count).slice(0,10)},[e,t]),r=p.useMemo(()=>n.filter(s=>s.count>=3).map(s=>` "${s.name}"  ${s.count} !`),[n]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Entities "})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((s,i)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50/50 dark:bg-blue-950/20 border border-blue-500/50 rounded-lg",children:[l.jsx(U_,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:s})]},i))}),n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(({name:s,count:i,role:a})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a})]}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" entities "})]})}function l7({dreams:e}){const t=p.useMemo(()=>{if(e.length===0)return{currentStreak:0,longestStreak:0,totalDays:0,streakDays:[]};const r=[...e].sort((w,v)=>new Date(v.date).getTime()-new Date(w.date).getTime()),s=new Set(r.map(w=>pt(new Date(w.date),"yyyy-MM-dd")));let i=0,a=new Date;for(a.setHours(0,0,0,0);s.has(pt(a,"yyyy-MM-dd"));)i++,a.setDate(a.getDate()-1);if(i===0&&(a=new Date,a.setDate(a.getDate()-1),a.setHours(0,0,0,0),s.has(pt(a,"yyyy-MM-dd"))))for(i=1,a.setDate(a.getDate()-1);s.has(pt(a,"yyyy-MM-dd"));)i++,a.setDate(a.getDate()-1);const o=new Date(r[r.length-1].date),c=new Date(r[0].date),u=TU({start:o,end:c});let d=0,h=0;u.forEach(w=>{s.has(pt(w,"yyyy-MM-dd"))?(h++,d=Math.max(d,h)):h=0});const f=[],m=new Date;m.setHours(0,0,0,0);for(let w=0;w<i&&w<7;w++)f.push(new Date(m)),m.setDate(m.getDate()-1);return{currentStreak:i,longestStreak:d,totalDays:s.size,streakDays:f.reverse()}},[e]),n=r=>r>=30?"":r>=14?"":r>=7?"":r>=3?"":"";return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kh,{className:"w-4 h-4 text-orange-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Dream Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("div",{className:"text-4xl mb-2",children:n(t.currentStreak)}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:t.currentStreak}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(z_,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.longestStreak}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(kh,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.totalDays}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),t.streakDays.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex gap-1 justify-center",children:t.streakDays.map((r,s)=>l.jsxs("div",{className:"flex flex-col items-center",title:pt(r,"d MMM yyyy",{locale:ws}),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:l.jsx(kh,{className:"w-4 h-4 text-orange-500"})}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:pt(r,"d")})]},s))})]}),t.currentStreak===0&&l.jsx("div",{className:"text-center p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" streak ! "})}),t.currentStreak>=7&&l.jsx("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["!  ",t.currentStreak," ","! "]})})]})}function c7(){return l.jsxs("div",{className:"card-minimal space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-3 w-20"})]}),l.jsx(le,{className:"h-8 w-12"})]})}function u7(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-5 h-5 rounded"}),l.jsx(le,{className:"h-6 w-40"})]}),l.jsx(le,{className:"h-8 w-8 rounded"})]}),l.jsx(le,{className:"h-10 w-full rounded-lg"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>l.jsx(c7,{},t))}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-4 w-32"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-16 h-3"}),l.jsx(le,{className:"flex-1 h-2 rounded-full"}),l.jsx(le,{className:"w-8 h-3"})]},t))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-4 w-24"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-8 h-8 rounded-full"}),l.jsx(le,{className:"h-4 w-24"})]}),l.jsx(le,{className:"h-5 w-12 rounded-full"})]},t))})]})]})}function d7({totalDreams:e,worldsCount:t,entitiesCount:n,threatsCount:r}){const s={dreams:e*3,worlds:t*.5,entities:n*.5,threats:r*.3,relations:e*.5},a=Object.values(s).reduce((h,f)=>h+f,0)/1024,o=500,c=a/o*100,u=o-a,d=Math.floor(u/(a/e||3))+e;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(W_,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Database Usage"})]}),l.jsxs(ye,{variant:"outline",className:"text-xs",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),l.jsxs("span",{className:"font-semibold",children:[a.toFixed(2)," MB / ",o," MB"]})]}),l.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all rounded-full ${c>80?"bg-red-500":c>60?"bg-orange-500":c>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.toFixed(2),"%    ",u.toFixed(2)," MB"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(q_,{className:"w-3 h-3"}),"Dream Logs"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.dreams.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Er,{className:"w-3 h-3"}),"Worlds"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.worlds.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Jn,{className:"w-3 h-3"}),"Entities"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.entities.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Ma,{className:"w-3 h-3"}),"Threats"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.threats.toFixed(1)," KB"]})]})]}),l.jsxs("div",{className:"pt-2 border-t space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-semibold text-primary",children:["~",d.toLocaleString()," logs"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(d-e).toLocaleString()," logs"]})]})]})}function h7({totalDreams:e,avgThreatLevel:t,threatTrend:n,worldsCount:r,entitiesCount:s}){return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(o2,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Dreams"})]}),l.jsx("p",{className:"text-2xl font-bold",children:e})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(el,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"})]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-2xl font-bold",children:t}),n!==0&&e>7&&l.jsxs(ye,{variant:n>0?"destructive":"secondary",className:"text-xs",children:[n>0?"":""," ",Math.abs(n).toFixed(1)]})]})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Er,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Worlds"})]}),l.jsx("p",{className:"text-2xl font-bold",children:r})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Jn,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Entities"})]}),l.jsx("p",{className:"text-2xl font-bold",children:s})]})]})}function f7({dreams:e,worldCounts:t,timeSystemCounts:n}){const r=e.length,s=e.slice(0,7),i=e.slice(7,14),a=s.length>0?s.reduce((f,m)=>f+m.threatLevel,0)/s.length:0,o=i.length>0?i.reduce((f,m)=>f+m.threatLevel,0)/i.length:0,c=a-o,u=[];c>.5?u.push({type:"warning",text:` ${c.toFixed(1)} `,icon:Ma}):c<-.5&&u.push({type:"success",text:` ${Math.abs(c).toFixed(1)} `,icon:Nl}),n.activated>n.inactive&&u.push({type:"info",text:"Time System ",icon:yr});const d=s.filter(f=>f.threatLevel>=4).length;d>=3&&u.push({type:"danger",text:` ${d} `,icon:Ma});const h=t[0];return h&&h.count>r*.3&&u.push({type:"info",text:` "${h.name}"  (${h.count} )`,icon:Er}),u.length===0?null:l.jsx("div",{className:"space-y-2",children:u.map((f,m)=>l.jsxs("div",{className:`card-minimal flex items-start gap-3 ${f.type==="danger"?"border-red-500/50 bg-red-50/50 dark:bg-red-950/20":f.type==="warning"?"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20":f.type==="success"?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-blue-500/50 bg-blue-50/50 dark:bg-blue-950/20"}`,children:[l.jsx(f.icon,{className:`w-4 h-4 mt-0.5 ${f.type==="danger"?"text-red-500":f.type==="warning"?"text-orange-500":f.type==="success"?"text-green-500":"text-blue-500"}`}),l.jsx("p",{className:"text-sm flex-1",children:f.text})]},m))})}function m7({dreams:e}){const t=e.length,n=[0,1,2,3,4,5].map(r=>({level:r,count:e.filter(s=>s.threatLevel===r).length}));return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(el,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Distribution"})]}),l.jsx("div",{className:"space-y-2",children:n.map(({level:r,count:s})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs w-16",children:["Level ",r]}),l.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${r>=4?"bg-red-500":r>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:s})]},r))})]})}function Ue({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>{i(!0)},t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0) scale(1)":"translateY(16px) scale(0.98)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function p7({worlds:e}){const t=e.map(n=>({name:n.name,count:n.dreamIds.length,stability:n.stability})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Er,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Worlds"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(stability ",n.stability,"/5)"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function g7({entities:e}){const t=e.map(n=>({name:n.name,role:n.role,count:n.dreamIds.length})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Entities"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.role,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function y7({threats:e}){const t=e.filter(r=>r.level>=4),n=e.map(r=>({name:r.name,level:r.level,count:r.dreamIds.length})).sort((r,s)=>s.count-r.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ma,{className:"w-4 h-4 text-red-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Analysis"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"High Threats (Level 4-5)"}),l.jsx("span",{className:"font-semibold text-red-500",children:t.length})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Most Common Threats:"}),n.map((r,s)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",s+1]}),l.jsx("span",{children:r.name}),l.jsxs("span",{className:`text-xs ${r.level>=4?"text-red-500":"text-muted-foreground"}`,children:["(level ",r.level,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.count," times"]})]},r.name)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]})}function v7({dreams:e}){const t=e.length,n={inactive:e.filter(r=>r.timeSystem==="inactive").length,activated:e.filter(r=>r.timeSystem==="activated").length,unknown:e.filter(r=>r.timeSystem==="unknown").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Time System Usage"})]}),l.jsx("div",{className:"space-y-2",children:[{label:"Inactive",value:n.inactive,color:"bg-slate-500"},{label:"Activated",value:n.activated,color:"bg-blue-500"},{label:"Unknown",value:n.unknown,color:"bg-muted-foreground"}].map(({label:r,value:s,color:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:r}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:`h-full ${i} rounded-full transition-all`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:s})]})]},r))})]})}function x7({dreams:e}){const t={};e.forEach(r=>{r.environments.forEach(s=>{t[s]=(t[s]||0)+1})});const n=Object.entries(t).sort((r,s)=>s[1]-r[1]).slice(0,10);return n.length===0?null:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top Environments"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(([r,s])=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-secondary rounded-full",children:[l.jsx("span",{className:"text-sm",children:r}),l.jsx(ye,{variant:"outline",className:"text-xs ml-1",children:s})]},r))})]})}function w7({dreams:e}){const t={none:e.filter(n=>n.safetyOverride==="none").length,helper:e.filter(n=>n.safetyOverride==="helper").length,separation:e.filter(n=>n.safetyOverride==="separation").length,wake:e.filter(n=>n.safetyOverride==="wake").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nl,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Safety Override Usage"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(t).map(([n,r])=>l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1 capitalize",children:n}),l.jsx("p",{className:"text-xl font-bold",children:r})]},n))})]})}function b7(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState(!1),[f,m]=p.useState(new Date),w=p.useCallback(async(j=!1)=>{j?h(!0):u(!0);try{const[T,N,R,O]=await Promise.all([gi(),Al(),jd(),b3()]);t(T),r(N),i(R),o(O),m(new Date)}catch(T){console.error("Error loading data:",T)}finally{u(!1),h(!1)}},[]);p.useEffect(()=>{w()},[w]);const v=e.length,b=e.length>0?(e.reduce((j,T)=>j+T.threatLevel,0)/e.length).toFixed(1):"0",g=e.slice(0,7),x=e.slice(7,14),y=g.length>0?g.reduce((j,T)=>j+T.threatLevel,0)/g.length:0,S=x.length>0?x.reduce((j,T)=>j+T.threatLevel,0)/x.length:0,k=y-S,E=n.map(j=>({name:j.name,count:j.dreamIds.length})).sort((j,T)=>T.count-j.count),C={inactive:e.filter(j=>j.timeSystem==="inactive").length,activated:e.filter(j=>j.timeSystem==="activated").length,unknown:e.filter(j=>j.timeSystem==="unknown").length};return c?l.jsx("div",{className:"py-4",children:l.jsx(u7,{})}):l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(Ue,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(u0,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{children:"Statistics & Insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:f.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),l.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(!0),disabled:d,children:l.jsx(hd,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]})]})}),l.jsx(Ue,{delay:80,duration:400,children:l.jsxs(HC,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(Ag,{className:"grid w-full grid-cols-3",children:[l.jsx(fa,{value:"overview",children:"Overview"}),l.jsx(fa,{value:"analytics",children:"Analytics"}),l.jsx(fa,{value:"patterns",children:"Patterns"})]}),l.jsxs(ma,{value:"overview",className:"space-y-6",children:[l.jsx(Ue,{delay:160,duration:400,children:l.jsx(f7,{dreams:e,worldCounts:E,timeSystemCounts:C})}),l.jsx(Ue,{delay:240,duration:400,children:l.jsx(d7,{totalDreams:v,worldsCount:n.length,entitiesCount:s.length,threatsCount:a.length})}),l.jsx(Ue,{delay:320,duration:400,children:l.jsx(h7,{totalDreams:v,avgThreatLevel:b,threatTrend:k,worldsCount:n.length,entitiesCount:s.length})}),l.jsx(Ue,{delay:400,duration:400,children:l.jsx(m7,{dreams:e})}),l.jsx(Ue,{delay:480,duration:400,children:l.jsx(p7,{worlds:n})}),l.jsx(Ue,{delay:560,duration:400,children:l.jsx(g7,{entities:s})}),l.jsx(Ue,{delay:640,duration:400,children:l.jsx(y7,{threats:a})}),l.jsx(Ue,{delay:720,duration:400,children:l.jsx(v7,{dreams:e})}),l.jsx(Ue,{delay:800,duration:400,children:l.jsx(x7,{dreams:e})}),l.jsx(Ue,{delay:880,duration:400,children:l.jsx(w7,{dreams:e})})]}),l.jsxs(ma,{value:"analytics",className:"space-y-6",children:[l.jsx(Ue,{delay:100,duration:400,children:l.jsx(ob,{dreams:e,mode:"week"})}),l.jsx(Ue,{delay:180,duration:400,children:l.jsx(ob,{dreams:e,mode:"month"})}),l.jsx(Ue,{delay:260,duration:400,children:l.jsx(i7,{dreams:e})}),l.jsx(Ue,{delay:340,duration:400,children:l.jsx(r7,{dreams:e})}),l.jsx(Ue,{delay:420,duration:400,children:l.jsx(s7,{dreams:e})}),l.jsx(Ue,{delay:500,duration:400,children:l.jsx(l7,{dreams:e})})]}),l.jsxs(ma,{value:"patterns",className:"space-y-6",children:[l.jsx(Ue,{delay:100,duration:400,children:l.jsx(a7,{dreams:e,entities:s})}),l.jsx(Ue,{delay:180,duration:400,children:l.jsx(o7,{dreams:e,entities:s})})]})]})})]})}function S7({dreams:e}){const t=p.useMemo(()=>[...e].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()),[e]),n=r=>r>=4?"text-red-500 bg-red-100 dark:bg-red-950":r>=3?"text-orange-500 bg-orange-100 dark:bg-orange-950":"text-primary bg-primary/10";return e.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(yr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),t.map((r,s)=>l.jsxs("div",{className:"relative pl-16 pb-8 last:pb-0",children:[l.jsx("div",{className:H("absolute left-6 w-5 h-5 rounded-full border-4 border-background",n(r.threatLevel))}),l.jsx(Dt,{to:`/logs/${r.id}`,children:l.jsxs("div",{className:"card-minimal hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:pt(new Date(r.date),"d MMMM yyyy",{locale:ws})})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:r.wakeTime})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Er,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-semibold",children:r.world})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ma,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Threat Level:"}),l.jsx(ye,{variant:"outline",className:n(r.threatLevel),children:r.threatLevel})]}),r.entities.length>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Jn,{className:"w-3 h-3 text-muted-foreground mt-0.5"}),l.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:r.entities.map(i=>l.jsx(ye,{variant:"secondary",className:"text-xs",children:i},i))})]}),r.environments.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.environments.map(i=>l.jsx(ye,{variant:"outline",className:"text-xs",children:i},i))}),r.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes}),r.safetyOverride!=="none"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(Nl,{className:"w-3 h-3 text-orange-500"}),l.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Safety Override: ",r.safetyOverride]})]})]})]})})]},r.id))]})})}function k7({dreams:e,worlds:t}){const n=p.useMemo(()=>{const r=[];for(let s=0;s<e.length;s++)for(let i=s+1;i<e.length;i++){const a=e[s],o=e[i],c=[];a.world===o.world&&c.push(`: ${a.world}`);const u=a.entities.filter(h=>o.entities.includes(h));u.length>0&&c.push(`: ${u.join(", ")}`);const d=a.environments.filter(h=>o.environments.includes(h));d.length>0&&c.push(`: ${d.join(", ")}`),Math.abs(a.threatLevel-o.threatLevel)<=1&&c.push(` (${a.threatLevel}-${o.threatLevel})`),a.timeSystem===o.timeSystem&&a.timeSystem!=="unknown"&&c.push(`Time System: ${a.timeSystem}`),c.length>=2&&r.push({dream1:a,dream2:o,connections:c,strength:c.length})}return r.sort((s,i)=>i.strength-s.strength).slice(0,15)},[e]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(dm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(dm,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length," "]})]}),n.map((r,s)=>l.jsxs("div",{className:"card-minimal",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[": ",r.strength," "]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(Dt,{to:`/logs/${r.dream1.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Er,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream1.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream1.date).toLocaleDateString("th-TH")}),r.dream1.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream1.entities.slice(0,3).map(i=>l.jsx(ye,{variant:"outline",className:"text-xs",children:i},i))})]})}),l.jsx(Dt,{to:`/logs/${r.dream2.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Er,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream2.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream2.date).toLocaleDateString("th-TH")}),r.dream2.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream2.entities.slice(0,3).map(i=>l.jsx(ye,{variant:"outline",className:"text-xs",children:i},i))})]})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:r.connections.map((i,a)=>l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-primary"}),i]},a))})]},s))]})}function E7({dreams:e,worlds:t}){const n=p.useMemo(()=>{const r={};t.forEach(i=>{const a=e.filter(d=>d.world===i.name),o=a.length>0?a.reduce((d,h)=>d+h.threatLevel,0)/a.length:0,c={};a.forEach(d=>{d.entities.forEach(h=>{c[h]=(c[h]||0)+1})});const u=Object.entries(c).filter(([d,h])=>h>=2).sort((d,h)=>h[1]-d[1]).map(([d])=>d).slice(0,5);r[i.name]={world:i,dreamCount:a.length,connections:{},avgThreat:o,commonEntities:u}});const s=[...e].sort((i,a)=>new Date(i.date).getTime()-new Date(a.date).getTime());for(let i=0;i<s.length-1;i++){const a=s[i].world,o=s[i+1].world;if(a!==o){const c=r[a];c&&(c.connections[o]=(c.connections[o]||0)+1)}}return Object.values(r).sort((i,a)=>a.dreamCount-i.dreamCount)},[e,t]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(um,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(um,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Er,{className:"w-4 h-4 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:r.world.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(ye,{variant:"outline",className:"text-xs",children:r.world.type}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:["Stability: ",r.world.stability,"/5"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:r.dreamCount}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.avgThreat.toFixed(1)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"}),l.jsx("p",{className:"text-sm font-semibold",children:Object.keys(r.connections).length})]})]}),r.commonEntities.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.commonEntities.map(s=>l.jsx(ye,{variant:"secondary",className:"text-xs",children:s},s))})]}),Object.keys(r.connections).length>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(el,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:":"})]}),l.jsx("div",{className:"space-y-1",children:Object.entries(r.connections).sort((s,i)=>i[1]-s[1]).slice(0,3).map(([s,i])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[" ",s]}),l.jsxs(ye,{variant:"outline",className:"text-xs",children:[i,"x"]})]},s))})]}),r.world.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:r.world.description})]},r.world.id))})]})}function j7({dreams:e,entities:t}){const n=p.useMemo(()=>{const i=[];return t.forEach(a=>{const o=e.filter(f=>a.dreamIds.includes(f.id));if(o.length===0)return;const c=new Set(o.map(f=>f.world)),u=o.reduce((f,m)=>f+m.threatLevel,0)/o.length,d=[...o].sort((f,m)=>new Date(f.date).getTime()-new Date(m.date).getTime()),h=new Map;o.forEach(f=>{f.entities.filter(m=>m!==a.name).forEach(m=>{h.set(m,(h.get(m)||0)+1)})}),i.push({entity:a,appearances:o.length,worlds:c,avgThreat:u,firstSeen:d[0].date,lastSeen:d[d.length-1].date,coAppearances:h})}),i.sort((a,o)=>o.appearances-a.appearances)},[e,t]),r=i=>{switch(i){case"observer":return cm;case"protector":return Nl;case"guide":return Z_;case"intruder":return Ma;default:return Jn}},s=i=>{switch(i){case"observer":return"text-blue-500 bg-blue-100 dark:bg-blue-950";case"protector":return"text-green-500 bg-green-100 dark:bg-green-950";case"guide":return"text-purple-500 bg-purple-100 dark:bg-purple-950";case"intruder":return"text-red-500 bg-red-100 dark:bg-red-950";default:return"text-muted-foreground bg-secondary"}};return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Jn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Jn,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(i=>{const a=r(i.entity.role);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.entity.name}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ye,{className:s(i.entity.role),children:[l.jsx(a,{className:"w-3 h-3 mr-1"}),i.entity.role]})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:i.appearances}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Worlds"}),l.jsx("p",{className:"text-sm font-semibold",children:i.worlds.size})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${i.avgThreat>=4?"text-red-500":i.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:i.avgThreat.toFixed(1)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-appear"}),l.jsx("p",{className:"text-sm font-semibold",children:i.coAppearances.size})]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:pt(new Date(i.firstSeen),"d MMM yyyy",{locale:ws})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:pt(new Date(i.lastSeen),"d MMM yyyy",{locale:ws})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(i.worlds).map(o=>l.jsx(ye,{variant:"outline",className:"text-xs",children:o},o))})]}),i.coAppearances.size>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"space-y-1",children:Array.from(i.coAppearances.entries()).sort((o,c)=>c[1]-o[1]).slice(0,3).map(([o,c])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:o}),l.jsxs(ye,{variant:"secondary",className:"text-xs",children:[c,"x"]})]},o))})]}),i.entity.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:i.entity.description})]},i.entity.id)})})]})}function C7({dreams:e,worlds:t,entities:n}){const[r,s]=p.useState("timeline"),i=[{id:"timeline",label:"Timeline",icon:yr},{id:"connected",label:"Connected Dreams",icon:dm},{id:"map",label:"Universe Map",icon:um},{id:"characters",label:"Characters",icon:Jn}];return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsx(Rn,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dd,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{className:"text-xl font-semibold",children:"Story Mode"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," "]})]})}),l.jsx(Rn,{delay:80,duration:400,children:l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map((a,o)=>l.jsxs("button",{onClick:()=>s(a.id),className:H("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap",r===a.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(a.icon,{className:"w-4 h-4"}),a.label]},a.id))})})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:l.jsx("div",{className:"p-4",children:l.jsxs(Rn,{delay:160,duration:400,children:[r==="timeline"&&l.jsx(S7,{dreams:e}),r==="connected"&&l.jsx(k7,{dreams:e,worlds:t}),r==="map"&&l.jsx(E7,{dreams:e,worlds:t}),r==="characters"&&l.jsx(j7,{dreams:e,entities:n})]})})}),l.jsx(Sd,{})]})}function T7(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[u,d,h]=await Promise.all([gi(),Al(),jd()]);t(u),r(d),i(h)}catch(u){console.error("Error loading data:",u)}finally{o(!1)}})()},[]),a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"..."})}):l.jsx(C7,{dreams:e,worlds:n,entities:s})}function P7(){return l.jsxs("div",{className:"py-4 space-y-8 pb-20",children:[l.jsx(Rn,{delay:0,duration:400,children:l.jsx("h1",{children:"About / Safety"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Rn,{delay:80,duration:400,children:l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c2,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-lg font-medium",children:" Dream book"})]}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Dream book by Bon     structured log    "})]})}),l.jsx(Rn,{delay:160,duration:400,children:l.jsxs("section",{className:"card-minimal text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dream book by Bon  ",new Date().getFullYear()]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Personal Dream Logging System"})]})})]})]})}const N7=()=>(pi(),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})),_7=new RO,M7=()=>(p.useEffect(()=>{const e=fl();Tu(e),console.log(" Global Moon Theme Applied:",e.name)},[]),l.jsx(OO,{client:_7,children:l.jsxs(lO,{children:[l.jsx(HM,{}),l.jsx(kR,{}),l.jsx(RD,{basename:"/dream-weaver-log",children:l.jsxs(Iv,{children:[l.jsx(wn,{path:"/",element:l.jsx(m$,{})}),l.jsx(wn,{path:"/library",element:l.jsx(n7,{})}),l.jsx(wn,{path:"/story",element:l.jsx(T7,{})}),l.jsx(wn,{path:"/*",element:l.jsx(LD,{children:l.jsxs(Iv,{children:[l.jsx(wn,{path:"/logs",element:l.jsx($8,{})}),l.jsx(wn,{path:"/logs/new",element:l.jsx(aU,{})}),l.jsx(wn,{path:"/logs/:id",element:l.jsx(vU,{})}),l.jsx(wn,{path:"/statistics",element:l.jsx(b7,{})}),l.jsx(wn,{path:"/about",element:l.jsx(P7,{})}),l.jsx(wn,{path:"*",element:l.jsx(N7,{})})]})})})]})})]})}));_S(document.getElementById("root")).render(l.jsx(M7,{}));
