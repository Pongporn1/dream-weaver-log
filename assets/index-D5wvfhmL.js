var Ty=e=>{throw TypeError(e)};var Ph=(e,t,n)=>t.has(e)||Ty("Cannot "+n);var O=(e,t,n)=>(Ph(e,t,"read from private field"),n?n.call(e):t.get(e)),Te=(e,t,n)=>t.has(e)?Ty("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ce=(e,t,n,r)=>(Ph(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Dt=(e,t,n)=>(Ph(e,t,"access private method"),n);var xc=(e,t,n,r)=>({set _(s){ce(e,t,s,n)},get _(){return O(e,t,r)}});function dN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function i1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o1={exports:{}},Pd={},l1={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),hN=Symbol.for("react.portal"),fN=Symbol.for("react.fragment"),mN=Symbol.for("react.strict_mode"),pN=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),yN=Symbol.for("react.context"),vN=Symbol.for("react.forward_ref"),xN=Symbol.for("react.suspense"),bN=Symbol.for("react.memo"),wN=Symbol.for("react.lazy"),Ny=Symbol.iterator;function SN(e){return e===null||typeof e!="object"?null:(e=Ny&&e[Ny]||e["@@iterator"],typeof e=="function"?e:null)}var c1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u1=Object.assign,d1={};function co(e,t,n){this.props=e,this.context=t,this.refs=d1,this.updater=n||c1}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h1(){}h1.prototype=co.prototype;function Zp(e,t,n){this.props=e,this.context=t,this.refs=d1,this.updater=n||c1}var e0=Zp.prototype=new h1;e0.constructor=Zp;u1(e0,co.prototype);e0.isPureReactComponent=!0;var Py=Array.isArray,f1=Object.prototype.hasOwnProperty,t0={current:null},m1={key:!0,ref:!0,__self:!0,__source:!0};function p1(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)f1.call(t,r)&&!m1.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Jl,type:e,key:a,ref:i,props:s,_owner:t0.current}}function kN(e,t){return{$$typeof:Jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function n0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jl}function jN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var My=/\/+/g;function Mh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jN(""+e.key):t.toString(36)}function lu(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Jl:case hN:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Mh(i,0):r,Py(s)?(n="",e!=null&&(n=e.replace(My,"$&/")+"/"),lu(s,t,n,"",function(u){return u})):s!=null&&(n0(s)&&(s=kN(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(My,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Py(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Mh(a,o);i+=lu(a,t,n,c,s)}else if(c=SN(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Mh(a,o++),i+=lu(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function bc(e,t,n){if(e==null)return e;var r=[],s=0;return lu(e,r,"","",function(a){return t.call(n,a,s++)}),r}function EN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},cu={transition:null},CN={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:cu,ReactCurrentOwner:t0};function g1(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:bc,forEach:function(e,t,n){bc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bc(e,function(){t++}),t},toArray:function(e){return bc(e,function(t){return t})||[]},only:function(e){if(!n0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=co;be.Fragment=fN;be.Profiler=pN;be.PureComponent=Zp;be.StrictMode=mN;be.Suspense=xN;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CN;be.act=g1;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=u1({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=t0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)f1.call(t,c)&&!m1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Jl,type:e.type,key:s,ref:a,props:r,_owner:i}};be.createContext=function(e){return e={$$typeof:yN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gN,_context:e},e.Consumer=e};be.createElement=p1;be.createFactory=function(e){var t=p1.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:vN,render:e}};be.isValidElement=n0;be.lazy=function(e){return{$$typeof:wN,_payload:{_status:-1,_result:e},_init:EN}};be.memo=function(e,t){return{$$typeof:bN,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=cu.transition;cu.transition={};try{e()}finally{cu.transition=t}};be.unstable_act=g1;be.useCallback=function(e,t){return Qt.current.useCallback(e,t)};be.useContext=function(e){return Qt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Qt.current.useEffect(e,t)};be.useId=function(){return Qt.current.useId()};be.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Qt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};be.useRef=function(e){return Qt.current.useRef(e)};be.useState=function(e){return Qt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Qt.current.useTransition()};be.version="18.3.1";l1.exports=be;var p=l1.exports;const G=i1(p),r0=dN({__proto__:null,default:G},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN=p,NN=Symbol.for("react.element"),PN=Symbol.for("react.fragment"),MN=Object.prototype.hasOwnProperty,_N=TN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RN={key:!0,ref:!0,__self:!0,__source:!0};function y1(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)MN.call(t,r)&&!RN.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:NN,type:e,key:a,ref:i,props:s,_owner:_N.current}}Pd.Fragment=PN;Pd.jsx=y1;Pd.jsxs=y1;o1.exports=Pd;var l=o1.exports,v1={exports:{}},Cn={},x1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,M){var D=_.length;_.push(M);e:for(;0<D;){var L=D-1>>>1,V=_[L];if(0<s(V,M))_[L]=M,_[D]=V,D=L;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var M=_[0],D=_.pop();if(D!==M){_[0]=D;e:for(var L=0,V=_.length,F=V>>>1;L<F;){var J=2*(L+1)-1,K=_[J],ee=J+1,U=_[ee];if(0>s(K,D))ee<V&&0>s(U,K)?(_[L]=U,_[ee]=D,L=ee):(_[L]=K,_[J]=D,L=J);else if(ee<V&&0>s(U,D))_[L]=U,_[ee]=D,L=ee;else break e}}return M}function s(_,M){var D=_.sortIndex-M.sortIndex;return D!==0?D:_.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=_)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function S(_){if(g=!1,w(_),!y)if(n(c)!==null)y=!0,z(k);else{var M=n(u);M!==null&&B(S,M.startTime-_)}}function k(_,M){y=!1,g&&(g=!1,v(C),C=-1),m=!0;var D=f;try{for(w(M),h=n(c);h!==null&&(!(h.expirationTime>M)||_&&!R());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var V=L(h.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),w(M)}else r(c);h=n(c)}if(h!==null)var F=!0;else{var J=n(u);J!==null&&B(S,J.startTime-M),F=!1}return F}finally{h=null,f=D,m=!1}}var E=!1,j=null,C=-1,P=5,T=-1;function R(){return!(e.unstable_now()-T<P)}function N(){if(j!==null){var _=e.unstable_now();T=_;var M=!0;try{M=j(!0,_)}finally{M?I():(E=!1,j=null)}}else E=!1}var I;if(typeof b=="function")I=function(){b(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,H=A.port2;A.port1.onmessage=N,I=function(){H.postMessage(null)}}else I=function(){x(N,0)};function z(_){j=_,E||(E=!0,I())}function B(_,M){C=x(function(){_(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,z(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var D=f;f=M;try{return _()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,M){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var D=f;f=_;try{return M()}finally{f=D}},e.unstable_scheduleCallback=function(_,M,D){var L=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,_={id:d++,callback:M,priorityLevel:_,startTime:D,expirationTime:V,sortIndex:-1},D>L?(_.sortIndex=D,t(u,_),n(c)===null&&_===n(u)&&(g?(v(C),C=-1):g=!0,B(S,D-L))):(_.sortIndex=V,t(c,_),y||m||(y=!0,z(k))),_},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(_){var M=f;return function(){var D=f;f=M;try{return _.apply(this,arguments)}finally{f=D}}}})(b1);x1.exports=b1;var AN=x1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=p,jn=AN;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w1=new Set,dl={};function Ia(e,t){Gi(e,t),Gi(e+"Capture",t)}function Gi(e,t){for(dl[e]=t,e=0;e<t.length;e++)w1.add(t[e])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=Object.prototype.hasOwnProperty,ON=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},Ry={};function IN(e){return Jf.call(Ry,e)?!0:Jf.call(_y,e)?!1:ON.test(e)?Ry[e]=!0:(_y[e]=!0,!1)}function LN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $N(e,t,n,r){if(t===null||typeof t>"u"||LN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function a0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(s0,a0);Mt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(s0,a0);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(s0,a0);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function i0(e,t,n,r){var s=Mt.hasOwnProperty(t)?Mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($N(t,n,s,r)&&(n=null),r||s===null?IN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ns=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),S1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),j1=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function ko(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,_h;function Lo(e){if(_h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_h=t&&t[1]||""}return`
`+_h+e}var Rh=!1;function Ah(e,t){if(!e||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lo(e):""}function FN(e){switch(e.tag){case 5:return Lo(e.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return e=Ah(e.type,!1),e;case 11:return e=Ah(e.type.render,!1),e;case 1:return e=Ah(e.type,!0),e;default:return""}}function nm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ai:return"Portal";case Zf:return"Profiler";case o0:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k1:return(e.displayName||"Context")+".Consumer";case S1:return(e._context.displayName||"Context")+".Provider";case l0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c0:return t=e.displayName||null,t!==null?t:nm(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return nm(e(t))}catch{}}return null}function zN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nm(t);case 8:return t===o0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BN(e){var t=E1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){e._valueTracker||(e._valueTracker=BN(e))}function C1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rm(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$s(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T1(e,t){t=t.checked,t!=null&&i0(e,"checked",t,!1)}function sm(e,t){T1(e,t);var n=$s(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?am(e,t.type,n):t.hasOwnProperty("defaultValue")&&am(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function am(e,t,n){(t!=="number"||_u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $o=Array.isArray;function ji(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$s(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function im(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if($o(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$s(n)}}function N1(e,t){var n=$s(t.value),r=$s(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kc,M1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VN=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(e){VN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ko[t]=Ko[e]})});function _1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ko.hasOwnProperty(e)&&Ko[e]?(""+t).trim():t+"px"}function R1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var UN=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(e,t){if(t){if(UN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function cm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function u0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dm=null,Ei=null,Ci=null;function $y(e){if(e=tc(e)){if(typeof dm!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Dd(t),dm(e.stateNode,e.type,t))}}function A1(e){Ei?Ci?Ci.push(e):Ci=[e]:Ei=e}function D1(){if(Ei){var e=Ei,t=Ci;if(Ci=Ei=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function O1(e,t){return e(t)}function I1(){}var Dh=!1;function L1(e,t,n){if(Dh)return e(t,n);Dh=!0;try{return O1(e,t,n)}finally{Dh=!1,(Ei!==null||Ci!==null)&&(I1(),D1())}}function fl(e,t){var n=e.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var hm=!1;if(Kr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){hm=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{hm=!1}function WN(e,t,n,r,s,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var qo=!1,Ru=null,Au=!1,fm=null,HN={onError:function(e){qo=!0,Ru=e}};function GN(e,t,n,r,s,a,i,o,c){qo=!1,Ru=null,WN.apply(HN,arguments)}function KN(e,t,n,r,s,a,i,o,c){if(GN.apply(this,arguments),qo){if(qo){var u=Ru;qo=!1,Ru=null}else throw Error(W(198));Au||(Au=!0,fm=u)}}function La(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fy(e){if(La(e)!==e)throw Error(W(188))}function qN(e){var t=e.alternate;if(!t){if(t=La(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Fy(s),e;if(a===r)return Fy(s),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function F1(e){return e=qN(e),e!==null?z1(e):null}function z1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z1(e);if(t!==null)return t;e=e.sibling}return null}var B1=jn.unstable_scheduleCallback,zy=jn.unstable_cancelCallback,YN=jn.unstable_shouldYield,XN=jn.unstable_requestPaint,ot=jn.unstable_now,QN=jn.unstable_getCurrentPriorityLevel,d0=jn.unstable_ImmediatePriority,V1=jn.unstable_UserBlockingPriority,Du=jn.unstable_NormalPriority,JN=jn.unstable_LowPriority,U1=jn.unstable_IdlePriority,Md=null,jr=null;function ZN(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Md,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:nP,eP=Math.log,tP=Math.LN2;function nP(e){return e>>>=0,e===0?32:31-(eP(e)/tP|0)|0}var jc=64,Ec=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ou(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~s;o!==0?r=Fo(o):(a&=i,a!==0&&(r=Fo(a)))}else i=n&~s,i!==0?r=Fo(i):a!==0&&(r=Fo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-or(t),s=1<<n,r|=e[n],t&=~s;return r}function rP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-or(a),o=1<<i,c=s[i];c===-1?(!(o&n)||o&r)&&(s[i]=rP(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W1(){var e=jc;return jc<<=1,!(jc&4194240)&&(jc=64),e}function Oh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=n}function aP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-or(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function h0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-or(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ae=0;function H1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G1,f0,K1,q1,Y1,pm=!1,Cc=[],Ts=null,Ns=null,Ps=null,ml=new Map,pl=new Map,ps=[],iP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function By(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function Eo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=tc(t),t!==null&&f0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oP(e,t,n,r,s){switch(t){case"focusin":return Ts=Eo(Ts,e,t,n,r,s),!0;case"dragenter":return Ns=Eo(Ns,e,t,n,r,s),!0;case"mouseover":return Ps=Eo(Ps,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ml.set(a,Eo(ml.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,pl.set(a,Eo(pl.get(a)||null,e,t,n,r,s)),!0}return!1}function X1(e){var t=fa(e.target);if(t!==null){var n=La(t);if(n!==null){if(t=n.tag,t===13){if(t=$1(n),t!==null){e.blockedOn=t,Y1(e.priority,function(){K1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return t=tc(n),t!==null&&f0(t),e.blockedOn=n,!1;t.shift()}return!0}function Vy(e,t,n){uu(e)&&n.delete(t)}function lP(){pm=!1,Ts!==null&&uu(Ts)&&(Ts=null),Ns!==null&&uu(Ns)&&(Ns=null),Ps!==null&&uu(Ps)&&(Ps=null),ml.forEach(Vy),pl.forEach(Vy)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,pm||(pm=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,lP)))}function gl(e){function t(s){return Co(s,e)}if(0<Cc.length){Co(Cc[0],e);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&Co(Ts,e),Ns!==null&&Co(Ns,e),Ps!==null&&Co(Ps,e),ml.forEach(t),pl.forEach(t),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)X1(n),n.blockedOn===null&&ps.shift()}var Ti=ns.ReactCurrentBatchConfig,Iu=!0;function cP(e,t,n,r){var s=Ae,a=Ti.transition;Ti.transition=null;try{Ae=1,m0(e,t,n,r)}finally{Ae=s,Ti.transition=a}}function uP(e,t,n,r){var s=Ae,a=Ti.transition;Ti.transition=null;try{Ae=4,m0(e,t,n,r)}finally{Ae=s,Ti.transition=a}}function m0(e,t,n,r){if(Iu){var s=gm(e,t,n,r);if(s===null)Hh(e,t,r,Lu,n),By(e,r);else if(oP(s,e,t,n,r))r.stopPropagation();else if(By(e,r),t&4&&-1<iP.indexOf(e)){for(;s!==null;){var a=tc(s);if(a!==null&&G1(a),a=gm(e,t,n,r),a===null&&Hh(e,t,r,Lu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Hh(e,t,r,null,n)}}var Lu=null;function gm(e,t,n,r){if(Lu=null,e=u0(r),e=fa(e),e!==null)if(t=La(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lu=e,null}function Q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QN()){case d0:return 1;case V1:return 4;case Du:case JN:return 16;case U1:return 536870912;default:return 16}default:return 16}}var ks=null,p0=null,du=null;function J1(){if(du)return du;var e,t=p0,n=t.length,r,s="value"in ks?ks.value:ks.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return du=s.slice(e,1<r?1-r:void 0)}function hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tc(){return!0}function Uy(){return!1}function Tn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tc:Uy,this.isPropagationStopped=Uy,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=Tn(uo),ec=Je({},uo,{view:0,detail:0}),dP=Tn(ec),Ih,Lh,To,_d=Je({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(Ih=e.screenX-To.screenX,Lh=e.screenY-To.screenY):Lh=Ih=0,To=e),Ih)},movementY:function(e){return"movementY"in e?e.movementY:Lh}}),Wy=Tn(_d),hP=Je({},_d,{dataTransfer:0}),fP=Tn(hP),mP=Je({},ec,{relatedTarget:0}),$h=Tn(mP),pP=Je({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),gP=Tn(pP),yP=Je({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vP=Tn(yP),xP=Je({},uo,{data:0}),Hy=Tn(xP),bP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SP[e])?!!t[e]:!1}function y0(){return kP}var jP=Je({},ec,{key:function(e){if(e.key){var t=bP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EP=Tn(jP),CP=Je({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gy=Tn(CP),TP=Je({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),NP=Tn(TP),PP=Je({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),MP=Tn(PP),_P=Je({},_d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RP=Tn(_P),AP=[9,13,27,32],v0=Kr&&"CompositionEvent"in window,Yo=null;Kr&&"documentMode"in document&&(Yo=document.documentMode);var DP=Kr&&"TextEvent"in window&&!Yo,Z1=Kr&&(!v0||Yo&&8<Yo&&11>=Yo),Ky=" ",qy=!1;function e2(e,t){switch(e){case"keyup":return AP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function OP(e,t){switch(e){case"compositionend":return t2(t);case"keypress":return t.which!==32?null:(qy=!0,Ky);case"textInput":return e=t.data,e===Ky&&qy?null:e;default:return null}}function IP(e,t){if(oi)return e==="compositionend"||!v0&&e2(e,t)?(e=J1(),du=p0=ks=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z1&&t.locale!=="ko"?null:t.data;default:return null}}var LP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LP[e.type]:t==="textarea"}function n2(e,t,n,r){A1(r),t=$u(t,"onChange"),0<t.length&&(n=new g0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xo=null,yl=null;function $P(e){f2(e,0)}function Rd(e){var t=ui(e);if(C1(t))return e}function FP(e,t){if(e==="change")return t}var r2=!1;if(Kr){var Fh;if(Kr){var zh="oninput"in document;if(!zh){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),zh=typeof Xy.oninput=="function"}Fh=zh}else Fh=!1;r2=Fh&&(!document.documentMode||9<document.documentMode)}function Qy(){Xo&&(Xo.detachEvent("onpropertychange",s2),yl=Xo=null)}function s2(e){if(e.propertyName==="value"&&Rd(yl)){var t=[];n2(t,yl,e,u0(e)),L1($P,t)}}function zP(e,t,n){e==="focusin"?(Qy(),Xo=t,yl=n,Xo.attachEvent("onpropertychange",s2)):e==="focusout"&&Qy()}function BP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rd(yl)}function VP(e,t){if(e==="click")return Rd(t)}function UP(e,t){if(e==="input"||e==="change")return Rd(t)}function WP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cr=typeof Object.is=="function"?Object.is:WP;function vl(e,t){if(cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jf.call(t,s)||!cr(e[s],t[s]))return!1}return!0}function Jy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zy(e,t){var n=Jy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function a2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i2(){for(var e=window,t=_u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_u(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HP(e){var t=i2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a2(n.ownerDocument.documentElement,n)){if(r!==null&&x0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Zy(n,a);var i=Zy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GP=Kr&&"documentMode"in document&&11>=document.documentMode,li=null,ym=null,Qo=null,vm=!1;function ev(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||li==null||li!==_u(r)||(r=li,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&vl(Qo,r)||(Qo=r,r=$u(ym,"onSelect"),0<r.length&&(t=new g0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=li)))}function Nc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Bh={},o2={};Kr&&(o2=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Ad(e){if(Bh[e])return Bh[e];if(!ci[e])return e;var t=ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in o2)return Bh[e]=t[n];return e}var l2=Ad("animationend"),c2=Ad("animationiteration"),u2=Ad("animationstart"),d2=Ad("transitionend"),h2=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){h2.set(e,t),Ia(t,[e])}for(var Vh=0;Vh<tv.length;Vh++){var Uh=tv[Vh],KP=Uh.toLowerCase(),qP=Uh[0].toUpperCase()+Uh.slice(1);Ks(KP,"on"+qP)}Ks(l2,"onAnimationEnd");Ks(c2,"onAnimationIteration");Ks(u2,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(d2,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function nv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KN(r,t,void 0,e),e.currentTarget=null}function f2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;nv(s,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;nv(s,o,u),a=c}}}if(Au)throw e=fm,Au=!1,fm=null,e}function ze(e,t){var n=t[km];n===void 0&&(n=t[km]=new Set);var r=e+"__bubble";n.has(r)||(m2(t,e,2,!1),n.add(r))}function Wh(e,t,n){var r=0;t&&(r|=4),m2(n,e,r,t)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function xl(e){if(!e[Pc]){e[Pc]=!0,w1.forEach(function(n){n!=="selectionchange"&&(YP.has(n)||Wh(n,!1,e),Wh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pc]||(t[Pc]=!0,Wh("selectionchange",!1,t))}}function m2(e,t,n,r){switch(Q1(t)){case 1:var s=cP;break;case 4:s=uP;break;default:s=m0}n=s.bind(null,t,n,e),s=void 0,!hm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hh(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=fa(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}L1(function(){var u=a,d=u0(n),h=[];e:{var f=h2.get(e);if(f!==void 0){var m=g0,y=e;switch(e){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":m=EP;break;case"focusin":y="focus",m=$h;break;case"focusout":y="blur",m=$h;break;case"beforeblur":case"afterblur":m=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NP;break;case l2:case c2:case u2:m=gP;break;case d2:m=MP;break;case"scroll":m=dP;break;case"wheel":m=RP;break;case"copy":case"cut":case"paste":m=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gy}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=fl(b,v),S!=null&&g.push(bl(b,S,w)))),x)break;b=b.return}0<g.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==um&&(y=n.relatedTarget||n.fromElement)&&(fa(y)||y[qr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?fa(y):null,y!==null&&(x=La(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=Wy,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Gy,S="onPointerLeave",v="onPointerEnter",b="pointer"),x=m==null?f:ui(m),w=y==null?f:ui(y),f=new g(S,b+"leave",m,n,d),f.target=x,f.relatedTarget=w,S=null,fa(d)===u&&(g=new g(v,b+"enter",y,n,d),g.target=w,g.relatedTarget=x,S=g),x=S,m&&y)t:{for(g=m,v=y,b=0,w=g;w;w=Ua(w))b++;for(w=0,S=v;S;S=Ua(S))w++;for(;0<b-w;)g=Ua(g),b--;for(;0<w-b;)v=Ua(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ua(g),v=Ua(v)}g=null}else g=null;m!==null&&rv(h,f,m,g,!1),y!==null&&x!==null&&rv(h,x,y,g,!0)}}e:{if(f=u?ui(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=FP;else if(Yy(f))if(r2)k=UP;else{k=BP;var E=zP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=VP);if(k&&(k=k(e,u))){n2(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&am(f,"number",f.value)}switch(E=u?ui(u):window,e){case"focusin":(Yy(E)||E.contentEditable==="true")&&(li=E,ym=u,Qo=null);break;case"focusout":Qo=ym=li=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,ev(h,n,d);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":ev(h,n,d)}var j;if(v0)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oi?e2(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Z1&&n.locale!=="ko"&&(oi||C!=="onCompositionStart"?C==="onCompositionEnd"&&oi&&(j=J1()):(ks=d,p0="value"in ks?ks.value:ks.textContent,oi=!0)),E=$u(u,C),0<E.length&&(C=new Hy(C,e,null,n,d),h.push({event:C,listeners:E}),j?C.data=j:(j=t2(n),j!==null&&(C.data=j)))),(j=DP?OP(e,n):IP(e,n))&&(u=$u(u,"onBeforeInput"),0<u.length&&(d=new Hy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}f2(h,t)})}function bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=fl(e,n),a!=null&&r.unshift(bl(e,a,s)),a=fl(e,t),a!=null&&r.push(bl(e,a,s))),e=e.return}return r}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rv(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=fl(n,a),c!=null&&i.unshift(bl(n,c,o))):s||(c=fl(n,a),c!=null&&i.push(bl(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var XP=/\r\n?/g,QP=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(XP,`
`).replace(QP,"")}function Mc(e,t,n){if(t=sv(t),sv(e)!==t&&n)throw Error(W(425))}function Fu(){}var xm=null,bm=null;function wm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sm=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(e){return av.resolve(null).then(e).catch(eM)}:Sm;function eM(e){setTimeout(function(){throw e})}function Gh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gl(t)}function Ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),xr="__reactFiber$"+ho,wl="__reactProps$"+ho,qr="__reactContainer$"+ho,km="__reactEvents$"+ho,tM="__reactListeners$"+ho,nM="__reactHandles$"+ho;function fa(e){var t=e[xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qr]||n[xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iv(e);e!==null;){if(n=e[xr])return n;e=iv(e)}return t}e=n,n=e.parentNode}return null}function tc(e){return e=e[xr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Dd(e){return e[wl]||null}var jm=[],di=-1;function qs(e){return{current:e}}function Be(e){0>di||(e.current=jm[di],jm[di]=null,di--)}function $e(e,t){di++,jm[di]=e.current,e.current=t}var Fs={},Ut=qs(Fs),an=qs(!1),Ta=Fs;function Ki(e,t){var n=e.type.contextTypes;if(!n)return Fs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function on(e){return e=e.childContextTypes,e!=null}function zu(){Be(an),Be(Ut)}function ov(e,t,n){if(Ut.current!==Fs)throw Error(W(168));$e(Ut,t),$e(an,n)}function p2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,zN(e)||"Unknown",s));return Je({},n,r)}function Bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fs,Ta=Ut.current,$e(Ut,e),$e(an,an.current),!0}function lv(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=p2(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Be(an),Be(Ut),$e(Ut,e)):Be(an),$e(an,n)}var Fr=null,Od=!1,Kh=!1;function g2(e){Fr===null?Fr=[e]:Fr.push(e)}function rM(e){Od=!0,g2(e)}function Ys(){if(!Kh&&Fr!==null){Kh=!0;var e=0,t=Ae;try{var n=Fr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fr=null,Od=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(e+1)),B1(d0,Ys),s}finally{Ae=t,Kh=!1}}return null}var hi=[],fi=0,Vu=null,Uu=0,Rn=[],An=0,Na=null,Br=1,Vr="";function aa(e,t){hi[fi++]=Uu,hi[fi++]=Vu,Vu=e,Uu=t}function y2(e,t,n){Rn[An++]=Br,Rn[An++]=Vr,Rn[An++]=Na,Na=e;var r=Br;e=Vr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var a=32-or(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Br=1<<32-or(t)+s|n<<s|r,Vr=a+e}else Br=1<<a|n<<s|r,Vr=e}function b0(e){e.return!==null&&(aa(e,1),y2(e,1,0))}function w0(e){for(;e===Vu;)Vu=hi[--fi],hi[fi]=null,Uu=hi[--fi],hi[fi]=null;for(;e===Na;)Na=Rn[--An],Rn[An]=null,Vr=Rn[--An],Rn[An]=null,Br=Rn[--An],Rn[An]=null}var wn=null,vn=null,He=!1,ar=null;function v2(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=Ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Na!==null?{id:Br,overflow:Vr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,vn=null,!0):!1;default:return!1}}function Em(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cm(e){if(He){var t=vn;if(t){var n=t;if(!cv(e,t)){if(Em(e))throw Error(W(418));t=Ms(n.nextSibling);var r=wn;t&&cv(e,t)?v2(r,n):(e.flags=e.flags&-4097|2,He=!1,wn=e)}}else{if(Em(e))throw Error(W(418));e.flags=e.flags&-4097|2,He=!1,wn=e}}}function uv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function _c(e){if(e!==wn)return!1;if(!He)return uv(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wm(e.type,e.memoizedProps)),t&&(t=vn)){if(Em(e))throw x2(),Error(W(418));for(;t;)v2(e,t),t=Ms(t.nextSibling)}if(uv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=Ms(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?Ms(e.stateNode.nextSibling):null;return!0}function x2(){for(var e=vn;e;)e=Ms(e.nextSibling)}function qi(){vn=wn=null,He=!1}function S0(e){ar===null?ar=[e]:ar.push(e)}var sM=ns.ReactCurrentBatchConfig;function No(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Rc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dv(e){var t=e._init;return t(e._payload)}function b2(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=Ds(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=ef(w,v.mode,S),b.return=v,b):(b=s(b,w),b.return=v,b)}function c(v,b,w,S){var k=w.type;return k===ii?d(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&dv(k)===b.type)?(S=s(b,w.props),S.ref=No(v,b,w),S.return=v,S):(S=xu(w.type,w.key,w.props,null,v.mode,S),S.ref=No(v,b,w),S.return=v,S)}function u(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=tf(w,v.mode,S),b.return=v,b):(b=s(b,w.children||[]),b.return=v,b)}function d(v,b,w,S,k){return b===null||b.tag!==7?(b=Ea(w,v.mode,S,k),b.return=v,b):(b=s(b,w),b.return=v,b)}function h(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ef(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:return w=xu(b.type,b.key,b.props,null,v.mode,w),w.ref=No(v,null,b),w.return=v,w;case ai:return b=tf(b,v.mode,w),b.return=v,b;case hs:var S=b._init;return h(v,S(b._payload),w)}if($o(b)||ko(b))return b=Ea(b,v.mode,w,null),b.return=v,b;Rc(v,b)}return null}function f(v,b,w,S){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wc:return w.key===k?c(v,b,w,S):null;case ai:return w.key===k?u(v,b,w,S):null;case hs:return k=w._init,f(v,b,k(w._payload),S)}if($o(w)||ko(w))return k!==null?null:d(v,b,w,S,null);Rc(v,w)}return null}function m(v,b,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wc:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,k);case ai:return v=v.get(S.key===null?w:S.key)||null,u(b,v,S,k);case hs:var E=S._init;return m(v,b,w,E(S._payload),k)}if($o(S)||ko(S))return v=v.get(w)||null,d(b,v,S,k,null);Rc(b,S)}return null}function y(v,b,w,S){for(var k=null,E=null,j=b,C=b=0,P=null;j!==null&&C<w.length;C++){j.index>C?(P=j,j=null):P=j.sibling;var T=f(v,j,w[C],S);if(T===null){j===null&&(j=P);break}e&&j&&T.alternate===null&&t(v,j),b=a(T,b,C),E===null?k=T:E.sibling=T,E=T,j=P}if(C===w.length)return n(v,j),He&&aa(v,C),k;if(j===null){for(;C<w.length;C++)j=h(v,w[C],S),j!==null&&(b=a(j,b,C),E===null?k=j:E.sibling=j,E=j);return He&&aa(v,C),k}for(j=r(v,j);C<w.length;C++)P=m(j,v,C,w[C],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?C:P.key),b=a(P,b,C),E===null?k=P:E.sibling=P,E=P);return e&&j.forEach(function(R){return t(v,R)}),He&&aa(v,C),k}function g(v,b,w,S){var k=ko(w);if(typeof k!="function")throw Error(W(150));if(w=k.call(w),w==null)throw Error(W(151));for(var E=k=null,j=b,C=b=0,P=null,T=w.next();j!==null&&!T.done;C++,T=w.next()){j.index>C?(P=j,j=null):P=j.sibling;var R=f(v,j,T.value,S);if(R===null){j===null&&(j=P);break}e&&j&&R.alternate===null&&t(v,j),b=a(R,b,C),E===null?k=R:E.sibling=R,E=R,j=P}if(T.done)return n(v,j),He&&aa(v,C),k;if(j===null){for(;!T.done;C++,T=w.next())T=h(v,T.value,S),T!==null&&(b=a(T,b,C),E===null?k=T:E.sibling=T,E=T);return He&&aa(v,C),k}for(j=r(v,j);!T.done;C++,T=w.next())T=m(j,v,C,T.value,S),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?C:T.key),b=a(T,b,C),E===null?k=T:E.sibling=T,E=T);return e&&j.forEach(function(N){return t(v,N)}),He&&aa(v,C),k}function x(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===ii&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wc:e:{for(var k=w.key,E=b;E!==null;){if(E.key===k){if(k=w.type,k===ii){if(E.tag===7){n(v,E.sibling),b=s(E,w.props.children),b.return=v,v=b;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&dv(k)===E.type){n(v,E.sibling),b=s(E,w.props),b.ref=No(v,E,w),b.return=v,v=b;break e}n(v,E);break}else t(v,E);E=E.sibling}w.type===ii?(b=Ea(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=xu(w.type,w.key,w.props,null,v.mode,S),S.ref=No(v,b,w),S.return=v,v=S)}return i(v);case ai:e:{for(E=w.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=s(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=tf(w,v.mode,S),b.return=v,v=b}return i(v);case hs:return E=w._init,x(v,b,E(w._payload),S)}if($o(w))return y(v,b,w,S);if(ko(w))return g(v,b,w,S);Rc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=s(b,w),b.return=v,v=b):(n(v,b),b=ef(w,v.mode,S),b.return=v,v=b),i(v)):n(v,b)}return x}var Yi=b2(!0),w2=b2(!1),Wu=qs(null),Hu=null,mi=null,k0=null;function j0(){k0=mi=Hu=null}function E0(e){var t=Wu.current;Be(Wu),e._currentValue=t}function Tm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Hu=e,k0=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(k0!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(Hu===null)throw Error(W(308));mi=e,Hu.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var ma=null;function C0(e){ma===null?ma=[e]:ma.push(e)}function S2(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,C0(t)):(n.next=s.next,s.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fs=!1;function T0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Yr(e,n)}return s=r.interleaved,s===null?(t.next=t,C0(r)):(t.next=s.next,s.next=t),r.interleaved=t,Yr(e,n)}function fu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h0(e,n)}}function hv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gu(e,t,n,r){var s=e.updateQueue;fs=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,o=a;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(f=t,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Je({},h,f);break e;case 2:fs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ma|=i,e.lanes=i,e.memoizedState=h}}function fv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var nc={},Er=qs(nc),Sl=qs(nc),kl=qs(nc);function pa(e){if(e===nc)throw Error(W(174));return e}function N0(e,t){switch($e(kl,t),$e(Sl,e),$e(Er,nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=om(t,e)}Be(Er),$e(Er,t)}function Xi(){Be(Er),Be(Sl),Be(kl)}function j2(e){pa(kl.current);var t=pa(Er.current),n=om(t,e.type);t!==n&&($e(Sl,e),$e(Er,n))}function P0(e){Sl.current===e&&(Be(Er),Be(Sl))}var qe=qs(0);function Ku(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qh=[];function M0(){for(var e=0;e<qh.length;e++)qh[e]._workInProgressVersionPrimary=null;qh.length=0}var mu=ns.ReactCurrentDispatcher,Yh=ns.ReactCurrentBatchConfig,Pa=0,Xe=null,yt=null,wt=null,qu=!1,Jo=!1,jl=0,aM=0;function Ot(){throw Error(W(321))}function _0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function R0(e,t,n,r,s,a){if(Pa=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mu.current=e===null||e.memoizedState===null?cM:uM,e=n(r,s),Jo){a=0;do{if(Jo=!1,jl=0,25<=a)throw Error(W(301));a+=1,wt=yt=null,t.updateQueue=null,mu.current=dM,e=n(r,s)}while(Jo)}if(mu.current=Yu,t=yt!==null&&yt.next!==null,Pa=0,wt=yt=Xe=null,qu=!1,t)throw Error(W(300));return e}function A0(){var e=jl!==0;return jl=0,e}function pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=e:wt=wt.next=e,wt}function Bn(){if(yt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=wt===null?Xe.memoizedState:wt.next;if(t!==null)wt=t,yt=e;else{if(e===null)throw Error(W(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?Xe.memoizedState=wt=e:wt=wt.next=e}return wt}function El(e,t){return typeof t=="function"?t(e):t}function Xh(e){var t=Bn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=yt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=i=null,c=null,u=a;do{var d=u.lane;if((Pa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=r):c=c.next=h,Xe.lanes|=d,Ma|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,cr(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Xe.lanes|=a,Ma|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qh(e){var t=Bn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);cr(a,t.memoizedState)||(sn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function E2(){}function C2(e,t){var n=Xe,r=Bn(),s=t(),a=!cr(r.memoizedState,s);if(a&&(r.memoizedState=s,sn=!0),r=r.queue,D0(P2.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,N2.bind(null,n,r,s,t),void 0,null),St===null)throw Error(W(349));Pa&30||T2(n,t,s)}return s}function T2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N2(e,t,n,r){t.value=n,t.getSnapshot=r,M2(t)&&_2(e)}function P2(e,t,n){return n(function(){M2(t)&&_2(e)})}function M2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch{return!0}}function _2(e){var t=Yr(e,1);t!==null&&lr(t,e,1,-1)}function mv(e){var t=pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=lM.bind(null,Xe,e),[t.memoizedState,e]}function Cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function R2(){return Bn().memoizedState}function pu(e,t,n,r){var s=pr();Xe.flags|=e,s.memoizedState=Cl(1|t,n,void 0,r===void 0?null:r)}function Id(e,t,n,r){var s=Bn();r=r===void 0?null:r;var a=void 0;if(yt!==null){var i=yt.memoizedState;if(a=i.destroy,r!==null&&_0(r,i.deps)){s.memoizedState=Cl(t,n,a,r);return}}Xe.flags|=e,s.memoizedState=Cl(1|t,n,a,r)}function pv(e,t){return pu(8390656,8,e,t)}function D0(e,t){return Id(2048,8,e,t)}function A2(e,t){return Id(4,2,e,t)}function D2(e,t){return Id(4,4,e,t)}function O2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I2(e,t,n){return n=n!=null?n.concat([e]):null,Id(4,4,O2.bind(null,t,e),n)}function O0(){}function L2(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $2(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F2(e,t,n){return Pa&21?(cr(n,t)||(n=W1(),Xe.lanes|=n,Ma|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function iM(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=Yh.transition;Yh.transition={};try{e(!1),t()}finally{Ae=n,Yh.transition=r}}function z2(){return Bn().memoizedState}function oM(e,t,n){var r=As(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B2(e))V2(t,n);else if(n=S2(e,t,n,r),n!==null){var s=Xt();lr(n,e,r,s),U2(n,t,r)}}function lM(e,t,n){var r=As(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B2(e))V2(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,cr(o,i)){var c=t.interleaved;c===null?(s.next=s,C0(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=S2(e,t,s,r),n!==null&&(s=Xt(),lr(n,e,r,s),U2(n,t,r))}}function B2(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function V2(e,t){Jo=qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function U2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h0(e,n)}}var Yu={readContext:zn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},cM={readContext:zn,useCallback:function(e,t){return pr().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:pv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pu(4194308,4,O2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pu(4194308,4,e,t)},useInsertionEffect:function(e,t){return pu(4,2,e,t)},useMemo:function(e,t){var n=pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oM.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=pr();return e={current:e},t.memoizedState=e},useState:mv,useDebugValue:O0,useDeferredValue:function(e){return pr().memoizedState=e},useTransition:function(){var e=mv(!1),t=e[0];return e=iM.bind(null,e[1]),pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,s=pr();if(He){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),St===null)throw Error(W(349));Pa&30||T2(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,pv(P2.bind(null,r,a,e),[e]),r.flags|=2048,Cl(9,N2.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=pr(),t=St.identifierPrefix;if(He){var n=Vr,r=Br;n=(r&~(1<<32-or(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uM={readContext:zn,useCallback:L2,useContext:zn,useEffect:D0,useImperativeHandle:I2,useInsertionEffect:A2,useLayoutEffect:D2,useMemo:$2,useReducer:Xh,useRef:R2,useState:function(){return Xh(El)},useDebugValue:O0,useDeferredValue:function(e){var t=Bn();return F2(t,yt.memoizedState,e)},useTransition:function(){var e=Xh(El)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:E2,useSyncExternalStore:C2,useId:z2,unstable_isNewReconciler:!1},dM={readContext:zn,useCallback:L2,useContext:zn,useEffect:D0,useImperativeHandle:I2,useInsertionEffect:A2,useLayoutEffect:D2,useMemo:$2,useReducer:Qh,useRef:R2,useState:function(){return Qh(El)},useDebugValue:O0,useDeferredValue:function(e){var t=Bn();return yt===null?t.memoizedState=e:F2(t,yt.memoizedState,e)},useTransition:function(){var e=Qh(El)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:E2,useSyncExternalStore:C2,useId:z2,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ld={isMounted:function(e){return(e=e._reactInternals)?La(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=As(e),a=Ur(r,s);a.payload=t,n!=null&&(a.callback=n),t=_s(e,a,s),t!==null&&(lr(t,e,s,r),fu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=As(e),a=Ur(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_s(e,a,s),t!==null&&(lr(t,e,s,r),fu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),r=As(e),s=Ur(n,r);s.tag=2,t!=null&&(s.callback=t),t=_s(e,s,r),t!==null&&(lr(t,e,r,n),fu(t,e,r))}};function gv(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!vl(n,r)||!vl(s,a):!0}function W2(e,t,n){var r=!1,s=Fs,a=t.contextType;return typeof a=="object"&&a!==null?a=zn(a):(s=on(t)?Ta:Ut.current,r=t.contextTypes,a=(r=r!=null)?Ki(e,s):Fs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ld,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function yv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ld.enqueueReplaceState(t,t.state,null)}function Pm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},T0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=zn(a):(a=on(t)?Ta:Ut.current,s.context=Ki(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nm(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ld.enqueueReplaceState(s,s.state,null),Gu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qi(e,t){try{var n="",r=t;do n+=FN(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Jh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hM=typeof WeakMap=="function"?WeakMap:Map;function H2(e,t,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,zm=r),Mm(e,t)},n}function G2(e,t,n){n=Ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Mm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Mm(e,t),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function vv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hM;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=CM.bind(null,e,t,n),t.then(e,e))}function xv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ur(-1,1),t.tag=2,_s(n,t,1))),n.lanes|=1),e)}var fM=ns.ReactCurrentOwner,sn=!1;function Kt(e,t,n,r){t.child=e===null?w2(t,null,n,r):Yi(t,e.child,n,r)}function wv(e,t,n,r,s){n=n.render;var a=t.ref;return Ni(t,s),r=R0(e,t,n,r,a,s),n=A0(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(He&&n&&b0(t),t.flags|=1,Kt(e,t,r,s),t.child)}function Sv(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!U0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,K2(e,t,a,r,s)):(e=xu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(i,r)&&e.ref===t.ref)return Xr(e,t,s)}return t.flags|=1,e=Ds(a,r),e.ref=t.ref,e.return=t,t.child=e}function K2(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(vl(a,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Xr(e,t,s)}return _m(e,t,n,r,s)}function q2(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(gi,mn),mn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(gi,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,$e(gi,mn),mn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,$e(gi,mn),mn|=r;return Kt(e,t,s,n),t.child}function Y2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _m(e,t,n,r,s){var a=on(n)?Ta:Ut.current;return a=Ki(t,a),Ni(t,s),n=R0(e,t,n,r,a,s),r=A0(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(He&&r&&b0(t),t.flags|=1,Kt(e,t,n,s),t.child)}function kv(e,t,n,r,s){if(on(n)){var a=!0;Bu(t)}else a=!1;if(Ni(t,s),t.stateNode===null)gu(e,t),W2(t,n,r),Pm(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=on(n)?Ta:Ut.current,u=Ki(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&yv(t,i,r,u),fs=!1;var f=t.memoizedState;i.state=f,Gu(t,r,i,s),c=t.memoizedState,o!==r||f!==c||an.current||fs?(typeof d=="function"&&(Nm(t,n,d,r),c=t.memoizedState),(o=fs||gv(t,n,o,r,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,k2(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Jn(t.type,o),i.props=u,h=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=on(n)?Ta:Ut.current,c=Ki(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==c)&&yv(t,i,r,c),fs=!1,f=t.memoizedState,i.state=f,Gu(t,r,i,s);var y=t.memoizedState;o!==h||f!==y||an.current||fs?(typeof m=="function"&&(Nm(t,n,m,r),y=t.memoizedState),(u=fs||gv(t,n,u,r,f,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rm(e,t,n,r,a,s)}function Rm(e,t,n,r,s,a){Y2(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&lv(t,n,!1),Xr(e,t,a);r=t.stateNode,fM.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Yi(t,e.child,null,a),t.child=Yi(t,null,o,a)):Kt(e,t,o,a),t.memoizedState=r.state,s&&lv(t,n,!0),t.child}function X2(e){var t=e.stateNode;t.pendingContext?ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ov(e,t.context,!1),N0(e,t.containerInfo)}function jv(e,t,n,r,s){return qi(),S0(s),t.flags|=256,Kt(e,t,n,r),t.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q2(e,t,n){var r=t.pendingProps,s=qe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(qe,s&1),e===null)return Cm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=zd(i,r,0,null),e=Ea(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Dm(n),t.memoizedState=Am,e):I0(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return mM(e,t,i,r,o,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ds(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Ds(o,a):(a=Ea(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Dm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Am,r}return a=e.child,e=a.sibling,r=Ds(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function I0(e,t){return t=zd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ac(e,t,n,r){return r!==null&&S0(r),Yi(t,e.child,null,n),e=I0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mM(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Jh(Error(W(422))),Ac(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=zd({mode:"visible",children:r.children},s,0,null),a=Ea(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Yi(t,e.child,null,i),t.child.memoizedState=Dm(i),t.memoizedState=Am,a);if(!(t.mode&1))return Ac(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(W(419)),r=Jh(a,r,void 0),Ac(e,t,i,r)}if(o=(i&e.childLanes)!==0,sn||o){if(r=St,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Yr(e,s),lr(r,e,s,-1))}return V0(),r=Jh(Error(W(421))),Ac(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=TM.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,vn=Ms(s.nextSibling),wn=t,He=!0,ar=null,e!==null&&(Rn[An++]=Br,Rn[An++]=Vr,Rn[An++]=Na,Br=e.id,Vr=e.overflow,Na=t),t=I0(t,r.children),t.flags|=4096,t)}function Ev(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tm(e.return,t,n)}function Zh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function J2(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Kt(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ev(e,n,t);else if(e.tag===19)Ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(qe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ku(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Zh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ku(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Zh(t,!0,n,null,a);break;case"together":Zh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pM(e,t,n){switch(t.tag){case 3:X2(t),qi();break;case 5:j2(t);break;case 1:on(t.type)&&Bu(t);break;case 4:N0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(Wu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?Q2(e,t,n):($e(qe,qe.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);$e(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return J2(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,q2(e,t,n)}return Xr(e,t,n)}var Z2,Om,eS,tS;Z2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};eS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pa(Er.current);var a=null;switch(n){case"input":s=rm(e,s),r=rm(e,r),a=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),a=[];break;case"textarea":s=im(e,s),r=im(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fu)}lm(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};tS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Po(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gM(e,t,n){var r=t.pendingProps;switch(w0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return on(t.type)&&zu(),It(t),null;case 3:return r=t.stateNode,Xi(),Be(an),Be(Ut),M0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_c(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(Um(ar),ar=null))),Om(e,t),It(t),null;case 5:P0(t);var s=pa(kl.current);if(n=t.type,e!==null&&t.stateNode!=null)eS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return It(t),null}if(e=pa(Er.current),_c(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xr]=t,r[wl]=a,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<zo.length;s++)ze(zo[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Dy(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":Iy(r,a),ze("invalid",r)}lm(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Mc(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Mc(r.textContent,o,e),s=["children",""+o]):dl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":Sc(r),Oy(r,a,!0);break;case"textarea":Sc(r),Ly(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Fu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[xr]=t,e[wl]=r,Z2(e,t,!1,!1),t.stateNode=e;e:{switch(i=cm(n,r),n){case"dialog":ze("cancel",e),ze("close",e),s=r;break;case"iframe":case"object":case"embed":ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<zo.length;s++)ze(zo[s],e);s=r;break;case"source":ze("error",e),s=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=r;break;case"details":ze("toggle",e),s=r;break;case"input":Dy(e,r),s=rm(e,r),ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),ze("invalid",e);break;case"textarea":Iy(e,r),s=im(e,r),ze("invalid",e);break;default:s=r}lm(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?R1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M1(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hl(e,c):typeof c=="number"&&hl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ze("scroll",e):c!=null&&i0(e,a,c,i))}switch(n){case"input":Sc(e),Oy(e,r,!1);break;case"textarea":Sc(e),Ly(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$s(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ji(e,!!r.multiple,a,!1):r.defaultValue!=null&&ji(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)tS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=pa(kl.current),pa(Er.current),_c(t)){if(r=t.stateNode,n=t.memoizedProps,r[xr]=t,(a=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Mc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=t,t.stateNode=r}return It(t),null;case 13:if(Be(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&vn!==null&&t.mode&1&&!(t.flags&128))x2(),qi(),t.flags|=98560,a=!1;else if(a=_c(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[xr]=t}else qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),a=!1}else ar!==null&&(Um(ar),ar=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?xt===0&&(xt=3):V0())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return Xi(),Om(e,t),e===null&&xl(t.stateNode.containerInfo),It(t),null;case 10:return E0(t.type._context),It(t),null;case 17:return on(t.type)&&zu(),It(t),null;case 19:if(Be(qe),a=t.memoizedState,a===null)return It(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Po(a,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ku(e),i!==null){for(t.flags|=128,Po(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(qe,qe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ot()>Ji&&(t.flags|=128,r=!0,Po(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ku(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Po(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!He)return It(t),null}else 2*ot()-a.renderingStartTime>Ji&&n!==1073741824&&(t.flags|=128,r=!0,Po(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ot(),t.sibling=null,n=qe.current,$e(qe,r?n&1|2:n&1),t):(It(t),null);case 22:case 23:return B0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function yM(e,t){switch(w0(t),t.tag){case 1:return on(t.type)&&zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(),Be(an),Be(Ut),M0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P0(t),null;case 13:if(Be(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(qe),null;case 4:return Xi(),null;case 10:return E0(t.type._context),null;case 22:case 23:return B0(),null;case 24:return null;default:return null}}var Dc=!1,zt=!1,vM=typeof WeakSet=="function"?WeakSet:Set,X=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function Im(e,t,n){try{n()}catch(r){st(e,t,r)}}var Cv=!1;function xM(e,t){if(xm=Iu,e=i2(),x0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(o=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(o=i),f===a&&++d===r&&(c=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bm={focusedElem:e,selectionRange:n},Iu=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Jn(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(S){st(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return y=Cv,Cv=!1,y}function Zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Im(t,n,a)}s=s.next}while(s!==r)}}function $d(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nS(e){var t=e.alternate;t!==null&&(e.alternate=null,nS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[wl],delete t[km],delete t[tM],delete t[nM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rS(e){return e.tag===5||e.tag===3||e.tag===4}function Tv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fu));else if(r!==4&&(e=e.child,e!==null))for($m(e,t,n),e=e.sibling;e!==null;)$m(e,t,n),e=e.sibling}function Fm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fm(e,t,n),e=e.sibling;e!==null;)Fm(e,t,n),e=e.sibling}var Ct=null,rr=!1;function as(e,t,n){for(n=n.child;n!==null;)sS(e,t,n),n=n.sibling}function sS(e,t,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:zt||pi(n,t);case 6:var r=Ct,s=rr;Ct=null,as(e,t,n),Ct=r,rr=s,Ct!==null&&(rr?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(rr?(e=Ct,n=n.stateNode,e.nodeType===8?Gh(e.parentNode,n):e.nodeType===1&&Gh(e,n),gl(e)):Gh(Ct,n.stateNode));break;case 4:r=Ct,s=rr,Ct=n.stateNode.containerInfo,rr=!0,as(e,t,n),Ct=r,rr=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Im(n,t,i),s=s.next}while(s!==r)}as(e,t,n);break;case 1:if(!zt&&(pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){st(n,t,o)}as(e,t,n);break;case 21:as(e,t,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,as(e,t,n),zt=r):as(e,t,n);break;default:as(e,t,n)}}function Nv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vM),t.forEach(function(r){var s=NM.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ct=o.stateNode,rr=!1;break e;case 3:Ct=o.stateNode.containerInfo,rr=!0;break e;case 4:Ct=o.stateNode.containerInfo,rr=!0;break e}o=o.return}if(Ct===null)throw Error(W(160));sS(a,i,s),Ct=null,rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aS(t,e),t=t.sibling}function aS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),mr(e),r&4){try{Zo(3,e,e.return),$d(3,e)}catch(g){st(e,e.return,g)}try{Zo(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:Gn(t,e),mr(e),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Gn(t,e),mr(e),r&512&&n!==null&&pi(n,n.return),e.flags&32){var s=e.stateNode;try{hl(s,"")}catch(g){st(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&T1(s,a),cm(o,i);var u=cm(o,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?R1(s,h):d==="dangerouslySetInnerHTML"?M1(s,h):d==="children"?hl(s,h):i0(s,d,h,u)}switch(o){case"input":sm(s,a);break;case"textarea":N1(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ji(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?ji(s,!!a.multiple,a.defaultValue,!0):ji(s,!!a.multiple,a.multiple?[]:"",!1))}s[wl]=a}catch(g){st(e,e.return,g)}}break;case 6:if(Gn(t,e),mr(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){st(e,e.return,g)}}break;case 3:if(Gn(t,e),mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:Gn(t,e),mr(e);break;case 13:Gn(t,e),mr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(F0=ot())),r&4&&Nv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(zt=(u=zt)||d,Gn(t,e),zt=u):Gn(t,e),mr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Zo(4,f,f.return);break;case 1:pi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){st(r,n,g)}}break;case 5:pi(f,f.return);break;case 22:if(f.memoizedState!==null){Mv(h);continue}}m!==null?(m.return=f,X=m):Mv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=_1("display",i))}catch(g){st(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){st(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(t,e),mr(e),r&4&&Nv(e);break;case 21:break;default:Gn(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var a=Tv(e);Fm(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Tv(e);$m(e,o,i);break;default:throw Error(W(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bM(e,t,n){X=e,iS(e)}function iS(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Dc;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||zt;o=Dc;var u=zt;if(Dc=i,(zt=c)&&!u)for(X=s;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?_v(s):c!==null?(c.return=i,X=c):_v(s);for(;a!==null;)X=a,iS(a),a=a.sibling;X=s,Dc=o,zt=u}Pv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,X=a):Pv(e)}}function Pv(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||$d(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&fv(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fv(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}zt||t.flags&512&&Lm(t)}catch(f){st(t,t.return,f)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Mv(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function _v(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$d(4,t)}catch(c){st(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){st(t,s,c)}}var a=t.return;try{Lm(t)}catch(c){st(t,a,c)}break;case 5:var i=t.return;try{Lm(t)}catch(c){st(t,i,c)}}}catch(c){st(t,t.return,c)}if(t===e){X=null;break}var o=t.sibling;if(o!==null){o.return=t.return,X=o;break}X=t.return}}var wM=Math.ceil,Xu=ns.ReactCurrentDispatcher,L0=ns.ReactCurrentOwner,Fn=ns.ReactCurrentBatchConfig,Ce=0,St=null,ft=null,Pt=0,mn=0,gi=qs(0),xt=0,Tl=null,Ma=0,Fd=0,$0=0,el=null,nn=null,F0=0,Ji=1/0,Lr=null,Qu=!1,zm=null,Rs=null,Oc=!1,js=null,Ju=0,tl=0,Bm=null,yu=-1,vu=0;function Xt(){return Ce&6?ot():yu!==-1?yu:yu=ot()}function As(e){return e.mode&1?Ce&2&&Pt!==0?Pt&-Pt:sM.transition!==null?(vu===0&&(vu=W1()),vu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Q1(e.type)),e):1}function lr(e,t,n,r){if(50<tl)throw tl=0,Bm=null,Error(W(185));Zl(e,n,r),(!(Ce&2)||e!==St)&&(e===St&&(!(Ce&2)&&(Fd|=n),xt===4&&gs(e,Pt)),ln(e,r),n===1&&Ce===0&&!(t.mode&1)&&(Ji=ot()+500,Od&&Ys()))}function ln(e,t){var n=e.callbackNode;sP(e,t);var r=Ou(e,e===St?Pt:0);if(r===0)n!==null&&zy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zy(n),t===1)e.tag===0?rM(Rv.bind(null,e)):g2(Rv.bind(null,e)),ZP(function(){!(Ce&6)&&Ys()}),n=null;else{switch(H1(r)){case 1:n=d0;break;case 4:n=V1;break;case 16:n=Du;break;case 536870912:n=U1;break;default:n=Du}n=mS(n,oS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oS(e,t){if(yu=-1,vu=0,Ce&6)throw Error(W(327));var n=e.callbackNode;if(Pi()&&e.callbackNode!==n)return null;var r=Ou(e,e===St?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zu(e,r);else{t=r;var s=Ce;Ce|=2;var a=cS();(St!==e||Pt!==t)&&(Lr=null,Ji=ot()+500,ja(e,t));do try{jM();break}catch(o){lS(e,o)}while(!0);j0(),Xu.current=a,Ce=s,ft!==null?t=0:(St=null,Pt=0,t=xt)}if(t!==0){if(t===2&&(s=mm(e),s!==0&&(r=s,t=Vm(e,s))),t===1)throw n=Tl,ja(e,0),gs(e,r),ln(e,ot()),n;if(t===6)gs(e,r);else{if(s=e.current.alternate,!(r&30)&&!SM(s)&&(t=Zu(e,r),t===2&&(a=mm(e),a!==0&&(r=a,t=Vm(e,a))),t===1))throw n=Tl,ja(e,0),gs(e,r),ln(e,ot()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:ia(e,nn,Lr);break;case 3:if(gs(e,r),(r&130023424)===r&&(t=F0+500-ot(),10<t)){if(Ou(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sm(ia.bind(null,e,nn,Lr),t);break}ia(e,nn,Lr);break;case 4:if(gs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-or(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wM(r/1960))-r,10<r){e.timeoutHandle=Sm(ia.bind(null,e,nn,Lr),r);break}ia(e,nn,Lr);break;case 5:ia(e,nn,Lr);break;default:throw Error(W(329))}}}return ln(e,ot()),e.callbackNode===n?oS.bind(null,e):null}function Vm(e,t){var n=el;return e.current.memoizedState.isDehydrated&&(ja(e,t).flags|=256),e=Zu(e,t),e!==2&&(t=nn,nn=n,t!==null&&Um(t)),e}function Um(e){nn===null?nn=e:nn.push.apply(nn,e)}function SM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!cr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~$0,t&=~Fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-or(t),r=1<<n;e[n]=-1,t&=~r}}function Rv(e){if(Ce&6)throw Error(W(327));Pi();var t=Ou(e,0);if(!(t&1))return ln(e,ot()),null;var n=Zu(e,t);if(e.tag!==0&&n===2){var r=mm(e);r!==0&&(t=r,n=Vm(e,r))}if(n===1)throw n=Tl,ja(e,0),gs(e,t),ln(e,ot()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ia(e,nn,Lr),ln(e,ot()),null}function z0(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Ji=ot()+500,Od&&Ys())}}function _a(e){js!==null&&js.tag===0&&!(Ce&6)&&Pi();var t=Ce;Ce|=1;var n=Fn.transition,r=Ae;try{if(Fn.transition=null,Ae=1,e)return e()}finally{Ae=r,Fn.transition=n,Ce=t,!(Ce&6)&&Ys()}}function B0(){mn=gi.current,Be(gi)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JP(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(w0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:Xi(),Be(an),Be(Ut),M0();break;case 5:P0(r);break;case 4:Xi();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:E0(r.type._context);break;case 22:case 23:B0()}n=n.return}if(St=e,ft=e=Ds(e.current,null),Pt=mn=t,xt=0,Tl=null,$0=Fd=Ma=0,nn=el=null,ma!==null){for(t=0;t<ma.length;t++)if(n=ma[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}ma=null}return e}function lS(e,t){do{var n=ft;try{if(j0(),mu.current=Yu,qu){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qu=!1}if(Pa=0,wt=yt=Xe=null,Jo=!1,jl=0,L0.current=null,n===null||n.return===null){xt=1,Tl=t,ft=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Pt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=xv(i);if(m!==null){m.flags&=-257,bv(m,i,o,a,t),m.mode&1&&vv(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){vv(a,u,t),V0();break e}c=Error(W(426))}}else if(He&&o.mode&1){var x=xv(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),bv(x,i,o,a,t),S0(Qi(c,o));break e}}a=c=Qi(c,o),xt!==4&&(xt=2),el===null?el=[a]:el.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=H2(a,c,t);hv(a,v);break e;case 1:o=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rs===null||!Rs.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=G2(a,o,t);hv(a,S);break e}}a=a.return}while(a!==null)}dS(n)}catch(k){t=k,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function cS(){var e=Xu.current;return Xu.current=Yu,e===null?Yu:e}function V0(){(xt===0||xt===3||xt===2)&&(xt=4),St===null||!(Ma&268435455)&&!(Fd&268435455)||gs(St,Pt)}function Zu(e,t){var n=Ce;Ce|=2;var r=cS();(St!==e||Pt!==t)&&(Lr=null,ja(e,t));do try{kM();break}catch(s){lS(e,s)}while(!0);if(j0(),Ce=n,Xu.current=r,ft!==null)throw Error(W(261));return St=null,Pt=0,xt}function kM(){for(;ft!==null;)uS(ft)}function jM(){for(;ft!==null&&!YN();)uS(ft)}function uS(e){var t=fS(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?dS(e):ft=t,L0.current=null}function dS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yM(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(n=gM(n,t,mn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);xt===0&&(xt=5)}function ia(e,t,n){var r=Ae,s=Fn.transition;try{Fn.transition=null,Ae=1,EM(e,t,n,r)}finally{Fn.transition=s,Ae=r}return null}function EM(e,t,n,r){do Pi();while(js!==null);if(Ce&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(aP(e,a),e===St&&(ft=St=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oc||(Oc=!0,mS(Du,function(){return Pi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Fn.transition,Fn.transition=null;var i=Ae;Ae=1;var o=Ce;Ce|=4,L0.current=null,xM(e,n),aS(n,e),HP(bm),Iu=!!xm,bm=xm=null,e.current=n,bM(n),XN(),Ce=o,Ae=i,Fn.transition=a}else e.current=n;if(Oc&&(Oc=!1,js=e,Ju=s),a=e.pendingLanes,a===0&&(Rs=null),ZN(n.stateNode),ln(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,e=zm,zm=null,e;return Ju&1&&e.tag!==0&&Pi(),a=e.pendingLanes,a&1?e===Bm?tl++:(tl=0,Bm=e):tl=0,Ys(),null}function Pi(){if(js!==null){var e=H1(Ju),t=Fn.transition,n=Ae;try{if(Fn.transition=null,Ae=16>e?16:e,js===null)var r=!1;else{if(e=js,js=null,Ju=0,Ce&6)throw Error(W(331));var s=Ce;for(Ce|=4,X=e.current;X!==null;){var a=X,i=a.child;if(X.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Zo(8,d,a)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(nS(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}X=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,X=i;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,X=v;break e}X=a.return}}var b=e.current;for(X=b;X!==null;){i=X;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,X=w;else e:for(i=b;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$d(9,o)}}catch(k){st(o,o.return,k)}if(o===i){X=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,X=S;break e}X=o.return}}if(Ce=s,Ys(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Md,e)}catch{}r=!0}return r}finally{Ae=n,Fn.transition=t}}return!1}function Av(e,t,n){t=Qi(n,t),t=H2(e,t,1),e=_s(e,t,1),t=Xt(),e!==null&&(Zl(e,1,t),ln(e,t))}function st(e,t,n){if(e.tag===3)Av(e,e,n);else for(;t!==null;){if(t.tag===3){Av(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){e=Qi(n,e),e=G2(t,e,1),t=_s(t,e,1),e=Xt(),t!==null&&(Zl(t,1,e),ln(t,e));break}}t=t.return}}function CM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Pt&n)===n&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>ot()-F0?ja(e,0):$0|=n),ln(e,t)}function hS(e,t){t===0&&(e.mode&1?(t=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):t=1);var n=Xt();e=Yr(e,t),e!==null&&(Zl(e,t,n),ln(e,n))}function TM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hS(e,n)}function NM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),hS(e,n)}var fS;fS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,pM(e,t,n);sn=!!(e.flags&131072)}else sn=!1,He&&t.flags&1048576&&y2(t,Uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gu(e,t),e=t.pendingProps;var s=Ki(t,Ut.current);Ni(t,n),s=R0(null,t,r,e,s,n);var a=A0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(a=!0,Bu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,T0(t),s.updater=Ld,t.stateNode=s,s._reactInternals=t,Pm(t,r,e,n),t=Rm(null,t,r,!0,a,n)):(t.tag=0,He&&a&&b0(t),Kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=MM(r),e=Jn(r,e),s){case 0:t=_m(null,t,r,e,n);break e;case 1:t=kv(null,t,r,e,n);break e;case 11:t=wv(null,t,r,e,n);break e;case 14:t=Sv(null,t,r,Jn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),_m(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),kv(e,t,r,s,n);case 3:e:{if(X2(t),e===null)throw Error(W(387));r=t.pendingProps,a=t.memoizedState,s=a.element,k2(e,t),Gu(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Qi(Error(W(423)),t),t=jv(e,t,r,n,s);break e}else if(r!==s){s=Qi(Error(W(424)),t),t=jv(e,t,r,n,s);break e}else for(vn=Ms(t.stateNode.containerInfo.firstChild),wn=t,He=!0,ar=null,n=w2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),r===s){t=Xr(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return j2(t),e===null&&Cm(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,wm(r,s)?i=null:a!==null&&wm(r,a)&&(t.flags|=32),Y2(e,t),Kt(e,t,i,n),t.child;case 6:return e===null&&Cm(t),null;case 13:return Q2(e,t,n);case 4:return N0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yi(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),wv(e,t,r,s,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,$e(Wu,r._currentValue),r._currentValue=i,a!==null)if(cr(a.value,i)){if(a.children===s.children&&!an.current){t=Xr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ur(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Tm(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(W(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Tm(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ni(t,n),s=zn(s),r=r(s),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,s=Jn(r,t.pendingProps),s=Jn(r.type,s),Sv(e,t,r,s,n);case 15:return K2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),gu(e,t),t.tag=1,on(r)?(e=!0,Bu(t)):e=!1,Ni(t,n),W2(t,r,s),Pm(t,r,s,n),Rm(null,t,r,!0,e,n);case 19:return J2(e,t,n);case 22:return q2(e,t,n)}throw Error(W(156,t.tag))};function mS(e,t){return B1(e,t)}function PM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new PM(e,t,n,r)}function U0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MM(e){if(typeof e=="function")return U0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===l0)return 11;if(e===c0)return 14}return 2}function Ds(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")U0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ii:return Ea(n.children,s,a,t);case o0:i=8,s|=8;break;case Zf:return e=On(12,n,t,s|2),e.elementType=Zf,e.lanes=a,e;case em:return e=On(13,n,t,s),e.elementType=em,e.lanes=a,e;case tm:return e=On(19,n,t,s),e.elementType=tm,e.lanes=a,e;case j1:return zd(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S1:i=10;break e;case k1:i=9;break e;case l0:i=11;break e;case c0:i=14;break e;case hs:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=On(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ea(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function zd(e,t,n,r){return e=On(22,e,r,t),e.elementType=j1,e.lanes=n,e.stateNode={isHidden:!1},e}function ef(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function tf(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _M(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function W0(e,t,n,r,s,a,i,o,c){return e=new _M(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=On(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(a),e}function RM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pS(e){if(!e)return Fs;e=e._reactInternals;e:{if(La(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(on(n))return p2(e,n,t)}return t}function gS(e,t,n,r,s,a,i,o,c){return e=W0(n,r,!0,e,s,a,i,o,c),e.context=pS(null),n=e.current,r=Xt(),s=As(n),a=Ur(r,s),a.callback=t??null,_s(n,a,s),e.current.lanes=s,Zl(e,s,r),ln(e,r),e}function Bd(e,t,n,r){var s=t.current,a=Xt(),i=As(s);return n=pS(n),t.context===null?t.context=n:t.pendingContext=n,t=Ur(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_s(s,t,i),e!==null&&(lr(e,s,i,a),fu(e,s,i)),i}function ed(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function H0(e,t){Dv(e,t),(e=e.alternate)&&Dv(e,t)}function AM(){return null}var yS=typeof reportError=="function"?reportError:function(e){console.error(e)};function G0(e){this._internalRoot=e}Vd.prototype.render=G0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Bd(e,t,null,null)};Vd.prototype.unmount=G0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_a(function(){Bd(null,e,null,null)}),t[qr]=null}};function Vd(e){this._internalRoot=e}Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=q1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ps.length&&t!==0&&t<ps[n].priority;n++);ps.splice(n,0,e),n===0&&X1(e)}};function K0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function DM(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=ed(i);a.call(u)}}var i=gS(t,r,e,0,null,!1,!1,"",Ov);return e._reactRootContainer=i,e[qr]=i.current,xl(e.nodeType===8?e.parentNode:e),_a(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ed(c);o.call(u)}}var c=W0(e,0,!1,null,null,!1,!1,"",Ov);return e._reactRootContainer=c,e[qr]=c.current,xl(e.nodeType===8?e.parentNode:e),_a(function(){Bd(t,c,n,r)}),c}function Wd(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var c=ed(i);o.call(c)}}Bd(t,i,e,s)}else i=DM(n,t,e,s,r);return ed(i)}G1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fo(t.pendingLanes);n!==0&&(h0(t,n|1),ln(t,ot()),!(Ce&6)&&(Ji=ot()+500,Ys()))}break;case 13:_a(function(){var r=Yr(e,1);if(r!==null){var s=Xt();lr(r,e,1,s)}}),H0(e,1)}};f0=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var n=Xt();lr(t,e,134217728,n)}H0(e,134217728)}};K1=function(e){if(e.tag===13){var t=As(e),n=Yr(e,t);if(n!==null){var r=Xt();lr(n,e,t,r)}H0(e,t)}};q1=function(){return Ae};Y1=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};dm=function(e,t,n){switch(t){case"input":if(sm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Dd(r);if(!s)throw Error(W(90));C1(r),sm(r,s)}}}break;case"textarea":N1(e,n);break;case"select":t=n.value,t!=null&&ji(e,!!n.multiple,t,!1)}};O1=z0;I1=_a;var OM={usingClientEntryPoint:!1,Events:[tc,ui,Dd,A1,D1,z0]},Mo={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IM={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F1(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||AM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Md=Ic.inject(IM),jr=Ic}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OM;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(t))throw Error(W(200));return RM(e,t,null,n)};Cn.createRoot=function(e,t){if(!K0(e))throw Error(W(299));var n=!1,r="",s=yS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=W0(e,1,!1,null,null,n,!1,r,s),e[qr]=t.current,xl(e.nodeType===8?e.parentNode:e),new G0(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=F1(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return _a(e)};Cn.hydrate=function(e,t,n){if(!Ud(t))throw Error(W(200));return Wd(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!K0(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=yS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=gS(t,null,e,1,n??null,s,!1,a,i),e[qr]=t.current,xl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Vd(t)};Cn.render=function(e,t,n){if(!Ud(t))throw Error(W(200));return Wd(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Ud(e))throw Error(W(40));return e._reactRootContainer?(_a(function(){Wd(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Cn.unstable_batchedUpdates=z0;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ud(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Wd(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function vS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vS)}catch(e){console.error(e)}}vS(),v1.exports=Cn;var Xs=v1.exports;const xS=i1(Xs);var bS,Iv=Xs;bS=Iv.createRoot,Iv.hydrateRoot;const LM=1,$M=1e6;let nf=0;function FM(){return nf=(nf+1)%Number.MAX_SAFE_INTEGER,nf.toString()}const rf=new Map,Lv=e=>{if(rf.has(e))return;const t=setTimeout(()=>{rf.delete(e),nl({type:"REMOVE_TOAST",toastId:e})},$M);rf.set(e,t)},zM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,LM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Lv(n):e.toasts.forEach(r=>{Lv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},bu=[];let wu={toasts:[]};function nl(e){wu=zM(wu,e),bu.forEach(t=>{t(wu)})}function ti({...e}){const t=FM(),n=s=>nl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>nl({type:"DISMISS_TOAST",toastId:t});return nl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function BM(){const[e,t]=p.useState(wu);return p.useEffect(()=>(bu.push(t),()=>{const n=bu.indexOf(t);n>-1&&bu.splice(n,1)}),[e]),{...e,toast:ti,dismiss:n=>nl({type:"DISMISS_TOAST",toastId:n})}}function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $v(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wS(...e){return t=>{let n=!1;const r=e.map(s=>{const a=$v(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():$v(e[s],null)}}}}function ye(...e){return p.useCallback(wS(...e),e)}function VM(e,t){const n=p.createContext(t),r=a=>{const{children:i,...o}=a,c=p.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Un(e,t=[]){let n=[];function r(a,i){const o=p.createContext(i),c=n.length;n=[...n,i];const u=h=>{var v;const{scope:f,children:m,...y}=h,g=((v=f==null?void 0:f[e])==null?void 0:v[c])||o,x=p.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,y=p.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>p.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,UM(s,...t)]}function UM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Zi(e){const t=HM(e),n=p.forwardRef((r,s)=>{const{children:a,...i}=r,o=p.Children.toArray(a),c=o.find(KM);if(c){const u=c.props.children,d=o.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var WM=Zi("Slot");function HM(e){const t=p.forwardRef((n,r)=>{const{children:s,...a}=n;if(p.isValidElement(s)){const i=YM(s),o=qM(a,s.props);return s.type!==p.Fragment&&(o.ref=r?wS(r,i):i),p.cloneElement(s,o)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SS=Symbol("radix.slottable");function GM(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=SS,t}function KM(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SS}function qM(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...o)=>{const c=a(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function YM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Hd(e){const t=e+"CollectionProvider",[n,r]=Un(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:v}=g,b=G.useRef(null),w=G.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:w,collectionRef:b,children:v})};i.displayName=t;const o=e+"CollectionSlot",c=Zi(o),u=G.forwardRef((g,x)=>{const{scope:v,children:b}=g,w=a(o,v),S=ye(x,w.collectionRef);return l.jsx(c,{ref:S,children:b})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Zi(d),m=G.forwardRef((g,x)=>{const{scope:v,children:b,...w}=g,S=G.useRef(null),k=ye(x,S),E=a(d,v);return G.useEffect(()=>(E.itemMap.set(S,{ref:S,...w}),()=>void E.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:k,children:b})});m.displayName=d;function y(g){const x=a(e+"CollectionConsumer",g);return G.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((E,j)=>w.indexOf(E.ref.current)-w.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,r]}var XM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ne=XM.reduce((e,t)=>{const n=Zi(`Primitive.${t}`),r=p.forwardRef((s,a)=>{const{asChild:i,...o}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kS(e,t){e&&Xs.flushSync(()=>e.dispatchEvent(t))}function vt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function QM(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var JM="DismissableLayer",Wm="dismissableLayer.update",ZM="dismissableLayer.pointerDownOutside",e_="dismissableLayer.focusOutside",Fv,jS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=p.useContext(jS),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=ye(t,j=>h(j)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,k=n_(j=>{const C=j.target,P=[...u.branches].some(T=>T.contains(C));!S||P||(s==null||s(j),i==null||i(j),j.defaultPrevented||o==null||o())},f),E=r_(j=>{const C=j.target;[...u.branches].some(T=>T.contains(C))||(a==null||a(j),i==null||i(j),j.defaultPrevented||o==null||o())},f);return QM(j=>{b===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fv=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Fv)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zv())},[d,u]),p.useEffect(()=>{const j=()=>m({});return document.addEventListener(Wm,j),()=>document.removeEventListener(Wm,j)},[]),l.jsx(ne.div,{...c,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,k.onPointerDownCapture)})});rc.displayName=JM;var t_="DismissableLayerBranch",ES=p.forwardRef((e,t)=>{const n=p.useContext(jS),r=p.useRef(null),s=ye(t,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(ne.div,{...e,ref:s})});ES.displayName=t_;function n_(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let c=function(){CS(ZM,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function r_(e,t=globalThis==null?void 0:globalThis.document){const n=vt(e),r=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!r.current&&CS(e_,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zv(){const e=new CustomEvent(Wm);document.dispatchEvent(e)}function CS(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kS(s,a):s.dispatchEvent(a)}var s_=rc,a_=ES,kt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},i_="Portal",Gd=p.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,a]=p.useState(!1);kt(()=>a(!0),[]);const i=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?xS.createPortal(l.jsx(ne.div,{...r,ref:t}),i):null});Gd.displayName=i_;function o_(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Wn=e=>{const{present:t,children:n}=e,r=l_(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=ye(r.ref,c_(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:a}):null};Wn.displayName="Presence";function l_(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[o,c]=o_(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Lc(r.current);a.current=o==="mounted"?u:"none"},[o]),kt(()=>{const u=r.current,d=s.current;if(d!==e){const f=a.current,m=Lc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=Lc(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(a.current=Lc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Lc(e){return(e==null?void 0:e.animationName)||"none"}function c_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var u_=r0[" useInsertionEffect ".trim().toString()]||kt;function zs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=d_({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=p.useCallback(d=>{var h;if(o){const f=h_(d)?d(e):d;f!==e&&((h=i.current)==null||h.call(i,f))}else a(d)},[o,e,a,i]);return[c,u]}function d_({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),a=p.useRef(t);return u_(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function h_(e){return typeof e=="function"}var TS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f_="VisuallyHidden",Kd=p.forwardRef((e,t)=>l.jsx(ne.span,{...e,ref:t,style:{...TS,...e.style}}));Kd.displayName=f_;var m_=Kd,q0="ToastProvider",[Y0,p_,g_]=Hd("Toast"),[NS]=Un("Toast",[g_]),[y_,qd]=NS(q0),PS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[o,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${q0}\`. Expected non-empty \`string\`.`),l.jsx(Y0.Provider,{scope:t,children:l.jsx(y_,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};PS.displayName=q0;var MS="ToastViewport",v_=["F8"],Hm="toast.viewportPause",Gm="toast.viewportResume",_S=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v_,label:s="Notifications ({hotkey})",...a}=e,i=qd(MS,n),o=p_(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=ye(t,h,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;p.useEffect(()=>{const x=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,v=h.current;if(y&&x&&v){const b=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Hm);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Gm);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},S=E=>{!x.contains(E.relatedTarget)&&w()},k=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",S),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",k),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[y,i.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:x})=>{const b=o().map(w=>{const S=w.ref.current,k=[S,...__(S)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?b.reverse():b).flat()},[o]);return p.useEffect(()=>{const x=h.current;if(x){const v=b=>{var k,E,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const C=document.activeElement,P=b.shiftKey;if(b.target===x&&P){(k=u.current)==null||k.focus();return}const N=g({tabbingDirection:P?"backwards":"forwards"}),I=N.findIndex(A=>A===C);sf(N.slice(I+1))?b.preventDefault():P?(E=u.current)==null||E.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[o,g]),l.jsxs(a_,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(Km,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});sf(x)}}),l.jsx(Y0.Slot,{scope:n,children:l.jsx(ne.ol,{tabIndex:-1,...a,ref:f})}),y&&l.jsx(Km,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});sf(x)}})]})});_S.displayName=MS;var RS="ToastFocusProxy",Km=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=qd(RS,n);return l.jsx(Kd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&r()}})});Km.displayName=RS;var sc="Toast",x_="toast.swipeStart",b_="toast.swipeMove",w_="toast.swipeCancel",S_="toast.swipeEnd",AS=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[o,c]=zs({prop:r,defaultProp:s??!0,onChange:a,caller:sc});return l.jsx(Wn,{present:n||o,children:l.jsx(E_,{open:o,...i,ref:t,onClose:()=>c(!1),onPause:vt(e.onPause),onResume:vt(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});AS.displayName=sc;var[k_,j_]=NS(sc,{onClose(){}}),E_=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...y}=e,g=qd(sc,n),[x,v]=p.useState(null),b=ye(t,A=>v(A)),w=p.useRef(null),S=p.useRef(null),k=s||g.duration,E=p.useRef(0),j=p.useRef(k),C=p.useRef(0),{onToastAdd:P,onToastRemove:T}=g,R=vt(()=>{var H;(x==null?void 0:x.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),i()}),N=p.useCallback(A=>{!A||A===1/0||(window.clearTimeout(C.current),E.current=new Date().getTime(),C.current=window.setTimeout(R,A))},[R]);p.useEffect(()=>{const A=g.viewport;if(A){const H=()=>{N(j.current),u==null||u()},z=()=>{const B=new Date().getTime()-E.current;j.current=j.current-B,window.clearTimeout(C.current),c==null||c()};return A.addEventListener(Hm,z),A.addEventListener(Gm,H),()=>{A.removeEventListener(Hm,z),A.removeEventListener(Gm,H)}}},[g.viewport,k,c,u,N]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&N(k)},[a,k,g.isClosePausedRef,N]),p.useEffect(()=>(P(),()=>T()),[P,T]);const I=p.useMemo(()=>x?zS(x):null,[x]);return g.viewport?l.jsxs(l.Fragment,{children:[I&&l.jsx(C_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),l.jsx(k_,{scope:n,onClose:R,children:Xs.createPortal(l.jsx(Y0.ItemSlot,{scope:n,children:l.jsx(s_,{asChild:!0,onEscapeKeyDown:Q(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,A=>{A.key==="Escape"&&(o==null||o(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Q(e.onPointerDown,A=>{A.button===0&&(w.current={x:A.clientX,y:A.clientY})}),onPointerMove:Q(e.onPointerMove,A=>{if(!w.current)return;const H=A.clientX-w.current.x,z=A.clientY-w.current.y,B=!!S.current,_=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=_?M(0,H):0,L=_?0:M(0,z),V=A.pointerType==="touch"?10:2,F={x:D,y:L},J={originalEvent:A,delta:F};B?(S.current=F,$c(b_,h,J,{discrete:!1})):Bv(F,g.swipeDirection,V)?(S.current=F,$c(x_,d,J,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(H)>V||Math.abs(z)>V)&&(w.current=null)}),onPointerUp:Q(e.onPointerUp,A=>{const H=S.current,z=A.target;if(z.hasPointerCapture(A.pointerId)&&z.releasePointerCapture(A.pointerId),S.current=null,w.current=null,H){const B=A.currentTarget,_={originalEvent:A,delta:H};Bv(H,g.swipeDirection,g.swipeThreshold)?$c(S_,m,_,{discrete:!0}):$c(w_,f,_,{discrete:!0}),B.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),C_=e=>{const{__scopeToast:t,children:n,...r}=e,s=qd(sc,t),[a,i]=p.useState(!1),[o,c]=p.useState(!1);return P_(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Gd,{asChild:!0,children:l.jsx(Kd,{...r,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},T_="ToastTitle",DS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ne.div,{...r,ref:t})});DS.displayName=T_;var N_="ToastDescription",OS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ne.div,{...r,ref:t})});OS.displayName=N_;var IS="ToastAction",LS=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(FS,{altText:n,asChild:!0,children:l.jsx(X0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${IS}\`. Expected non-empty \`string\`.`),null)});LS.displayName=IS;var $S="ToastClose",X0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=j_($S,n);return l.jsx(FS,{asChild:!0,children:l.jsx(ne.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,s.onClose)})})});X0.displayName=$S;var FS=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function zS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),M_(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...zS(r))}}),t}function $c(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kS(s,a):s.dispatchEvent(a)}var Bv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function P_(e=()=>{}){const t=vt(e);kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function M_(e){return e.nodeType===e.ELEMENT_NODE}function __(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var R_=PS,BS=_S,VS=AS,US=DS,WS=OS,HS=LS,GS=X0;function KS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=KS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qS(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=KS(e))&&(r&&(r+=" "),r+=t);return r}const Vv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uv=qS,Yd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Uv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Vv(d)||Vv(h);return s[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(y=>{let[g,x]=y;return Array.isArray(x)?x.includes({...a,...o}[g]):{...a,...o}[g]===x})?[...u,h,f]:u},[]);return Uv(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},c)=>p.createElement("svg",{ref:c,...D_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YS("lucide",s),...o},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=p.forwardRef(({className:r,...s},a)=>p.createElement(O_,{ref:a,iconNode:t,className:YS(`lucide-${A_(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=re("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=re("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=re("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=re("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=re("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=re("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=re("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tg="-",rR=e=>{const t=aR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const o=i.split(tg);return o[0]===""&&o.length!==1&&o.shift(),s5(o,t)||sR(i)},getConflictingClassGroupIds:(i,o)=>{const c=n[i]||[];return o&&r[i]?[...c,...r[i]]:c}}},s5=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?s5(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(tg);return(i=t.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},Hv=/^\[(.+)\]$/,sR=e=>{if(Hv.test(e)){const t=Hv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},aR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return oR(Object.entries(e.classGroups),n).forEach(([a,i])=>{Qm(i,r,a,t)}),r},Qm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Gv(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(iR(s)){Qm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{Qm(i,Gv(t,a),n,r)})})},Gv=(e,t)=>{let n=e;return t.split(tg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iR=e=>e.isThemeGetter,oR=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,o])=>[t+i,o])):a);return[n,s]}):e,lR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},a5="!",cR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,i=o=>{const c=[];let u=0,d=0,h;for(let x=0;x<o.length;x++){let v=o[x];if(u===0){if(v===s&&(r||o.slice(x,x+a)===t)){c.push(o.slice(d,x)),d=x+a;continue}if(v==="/"){h=x;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(a5),y=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:i}):i},uR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dR=e=>({cache:lR(e.cacheSize),parseClassName:cR(e),...rR(e)}),hR=/\s+/,fR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(hR);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?f.substring(0,m):f);if(!g){if(!y){o=u+(o.length>0?" "+o:o);continue}if(g=r(f),!g){o=u+(o.length>0?" "+o:o);continue}y=!1}const x=uR(d).join(":"),v=h?x+a5:x,b=v+g;if(a.includes(b))continue;a.push(b);const w=s(g,y);for(let S=0;S<w.length;++S){const k=w[S];a.push(v+k)}o=u+(o.length>0?" "+o:o)}return o};function mR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i5(t))&&(r&&(r+=" "),r+=n);return r}const i5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=i5(e[r]))&&(n&&(n+=" "),n+=t);return n};function pR(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return n=dR(u),r=n.cache.get,s=n.cache.set,a=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=fR(c,n);return s(c,d),d}return function(){return a(mR.apply(null,arguments))}}const Fe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},o5=/^\[(?:([a-z-]+):)?(.+)\]$/i,gR=/^\d+\/\d+$/,yR=new Set(["px","full","screen"]),vR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=e=>Mi(e)||yR.has(e)||gR.test(e),is=e=>mo(e,"length",MR),Mi=e=>!!e&&!Number.isNaN(Number(e)),of=e=>mo(e,"number",Mi),_o=e=>!!e&&Number.isInteger(Number(e)),kR=e=>e.endsWith("%")&&Mi(e.slice(0,-1)),fe=e=>o5.test(e),os=e=>vR.test(e),jR=new Set(["length","size","percentage"]),ER=e=>mo(e,jR,l5),CR=e=>mo(e,"position",l5),TR=new Set(["image","url"]),NR=e=>mo(e,TR,RR),PR=e=>mo(e,"",_R),Ro=()=>!0,mo=(e,t,n)=>{const r=o5.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},MR=e=>xR.test(e)&&!bR.test(e),l5=()=>!1,_R=e=>wR.test(e),RR=e=>SR.test(e),AR=()=>{const e=Fe("colors"),t=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),a=Fe("borderRadius"),i=Fe("borderSpacing"),o=Fe("borderWidth"),c=Fe("contrast"),u=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),y=Fe("gradientColorStopPositions"),g=Fe("inset"),x=Fe("margin"),v=Fe("opacity"),b=Fe("padding"),w=Fe("saturate"),S=Fe("scale"),k=Fe("sepia"),E=Fe("skew"),j=Fe("space"),C=Fe("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",fe,t],N=()=>[fe,t],I=()=>["",Dr,is],A=()=>["auto",Mi,fe],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",fe],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Mi,fe];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[Dr,is],blur:["none","",os,fe],brightness:L(),borderColor:[e],borderRadius:["none","","full",os,fe],borderSpacing:N(),borderWidth:I(),contrast:L(),grayscale:M(),hueRotate:L(),invert:M(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[kR,is],inset:R(),margin:R(),opacity:L(),padding:N(),saturate:L(),scale:L(),sepia:M(),skew:L(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[os]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),fe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_o,fe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",_o,fe]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",_o,fe]},fe]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[_o,fe]},fe]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[os]},os]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",os,is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",of]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Mi,of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,is]}],"underline-offset":[{"underline-offset":["auto",Dr,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),CR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ER]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Dr,fe]}],"outline-w":[{outline:[Dr,is]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Dr,is]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",os,PR]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",os,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[_o,fe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dr,is,of]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DR=pR(AR);function q(...e){return DR(qS(e))}const OR=R_,c5=p.forwardRef(({className:e,...t},n)=>l.jsx(BS,{ref:n,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c5.displayName=BS.displayName;const IR=Yd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),u5=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(VS,{ref:r,className:q(IR({variant:t}),e),...n}));u5.displayName=VS.displayName;const LR=p.forwardRef(({className:e,...t},n)=>l.jsx(HS,{ref:n,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));LR.displayName=HS.displayName;const d5=p.forwardRef(({className:e,...t},n)=>l.jsx(GS,{ref:n,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(fo,{className:"h-4 w-4"})}));d5.displayName=GS.displayName;const h5=p.forwardRef(({className:e,...t},n)=>l.jsx(US,{ref:n,className:q("text-sm font-semibold",e),...t}));h5.displayName=US.displayName;const f5=p.forwardRef(({className:e,...t},n)=>l.jsx(WS,{ref:n,className:q("text-sm opacity-90",e),...t}));f5.displayName=WS.displayName;function $R(){const{toasts:e}=BM();return l.jsxs(OR,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return l.jsxs(u5,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(h5,{children:n}),r&&l.jsx(f5,{children:r})]}),s,l.jsx(d5,{})]},t)}),l.jsx(c5,{})]})}var Kv=["light","dark"],FR="(prefers-color-scheme: dark)",zR=p.createContext(void 0),BR={setTheme:e=>{},themes:[]},VR=()=>{var e;return(e=p.useContext(zR))!=null?e:BR};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:i,attrs:o,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Kv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,g=!1,x=!0)=>{let v=i?i[y]:y,b=g?y+"|| ''":`'${v}'`,w="";return s&&x&&!g&&Kv.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),n==="class"?g||v?w+=`c.add(${b})`:w+="null":v&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${FR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var UR=e=>{switch(e){case"success":return GR;case"info":return qR;case"warning":return KR;case"error":return YR;default:return null}},WR=Array(12).fill(0),HR=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},WR.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GR=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KR=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qR=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YR=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XR=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QR=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Jm=1,JR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Jm++,a=this.toasts.find(o=>o.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:n}),{...o,...e,id:s,dismissible:i,title:n}):o):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],G.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(eA(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Jm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},tn=new JR,ZR=(e,t)=>{let n=(t==null?void 0:t.id)||Jm++;return tn.addToast({title:e,...t,id:n}),n},eA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tA=ZR,nA=()=>tn.toasts,rA=()=>tn.getActiveToasts(),rn=Object.assign(tA,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:nA,getToasts:rA});function sA(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}sA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fc(e){return e.label!==void 0}var aA=3,iA="32px",oA="16px",qv=4e3,lA=356,cA=14,uA=20,dA=200;function Kn(...e){return e.filter(Boolean).join(" ")}function hA(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var fA=e=>{var t,n,r,s,a,i,o,c,u,d,h;let{invert:f,toast:m,unstyled:y,interacting:g,setHeights:x,visibleToasts:v,heights:b,index:w,toasts:S,expanded:k,removeToast:E,defaultRichColors:j,closeButton:C,style:P,cancelButtonStyle:T,actionButtonStyle:R,className:N="",descriptionClassName:I="",duration:A,position:H,gap:z,loadingIcon:B,expandByDefault:_,classNames:M,icons:D,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:V}=e,[F,J]=G.useState(null),[K,ee]=G.useState(null),[U,we]=G.useState(!1),[Ie,ke]=G.useState(!1),[ve,xe]=G.useState(!1),[pe,Z]=G.useState(!1),[ue,je]=G.useState(!1),[pt,_t]=G.useState(0),[Nn,un]=G.useState(0),Me=G.useRef(m.duration||A||qv),bt=G.useRef(null),lt=G.useRef(null),Zt=w===0,fr=w+1<=v,ct=m.type,Rt=m.dismissible!==!1,Ar=m.className||"",Va=m.descriptionClassName||"",$=G.useMemo(()=>b.findIndex(le=>le.toastId===m.id)||0,[b,m.id]),ge=G.useMemo(()=>{var le;return(le=m.closeButton)!=null?le:C},[m.closeButton,C]),Y=G.useMemo(()=>m.duration||A||qv,[m.duration,A]),oe=G.useRef(0),de=G.useRef(0),Se=G.useRef(0),Ee=G.useRef(null),[Ze,Ue]=H.split("-"),ss=G.useMemo(()=>b.reduce((le,Ne,Oe)=>Oe>=$?le:le+Ne.height,0),[b,$]),et=QR(),We=m.invert||f,De=ct==="loading";de.current=G.useMemo(()=>$*z+ss,[$,ss]),G.useEffect(()=>{Me.current=Y},[Y]),G.useEffect(()=>{we(!0)},[]),G.useEffect(()=>{let le=lt.current;if(le){let Ne=le.getBoundingClientRect().height;return un(Ne),x(Oe=>[{toastId:m.id,height:Ne,position:m.position},...Oe]),()=>x(Oe=>Oe.filter(At=>At.toastId!==m.id))}},[x,m.id]),G.useLayoutEffect(()=>{if(!U)return;let le=lt.current,Ne=le.style.height;le.style.height="auto";let Oe=le.getBoundingClientRect().height;le.style.height=Ne,un(Oe),x(At=>At.find(he=>he.toastId===m.id)?At.map(he=>he.toastId===m.id?{...he,height:Oe}:he):[{toastId:m.id,height:Oe,position:m.position},...At])},[U,m.title,m.description,x,m.id]);let dn=G.useCallback(()=>{ke(!0),_t(de.current),x(le=>le.filter(Ne=>Ne.toastId!==m.id)),setTimeout(()=>{E(m)},dA)},[m,E,x,de]);G.useEffect(()=>{if(m.promise&&ct==="loading"||m.duration===1/0||m.type==="loading")return;let le;return k||g||V&&et?(()=>{if(Se.current<oe.current){let Ne=new Date().getTime()-oe.current;Me.current=Me.current-Ne}Se.current=new Date().getTime()})():Me.current!==1/0&&(oe.current=new Date().getTime(),le=setTimeout(()=>{var Ne;(Ne=m.onAutoClose)==null||Ne.call(m,m),dn()},Me.current)),()=>clearTimeout(le)},[k,g,m,ct,V,et,dn]),G.useEffect(()=>{m.delete&&dn()},[dn,m.delete]);function ta(){var le,Ne,Oe;return D!=null&&D.loading?G.createElement("div",{className:Kn(M==null?void 0:M.loader,(le=m==null?void 0:m.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":ct==="loading"},D.loading):B?G.createElement("div",{className:Kn(M==null?void 0:M.loader,(Ne=m==null?void 0:m.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":ct==="loading"},B):G.createElement(HR,{className:Kn(M==null?void 0:M.loader,(Oe=m==null?void 0:m.classNames)==null?void 0:Oe.loader),visible:ct==="loading"})}return G.createElement("li",{tabIndex:0,ref:lt,className:Kn(N,Ar,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[ct],(n=m==null?void 0:m.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":U,"data-promise":!!m.promise,"data-swiped":ue,"data-removed":Ie,"data-visible":fr,"data-y-position":Ze,"data-x-position":Ue,"data-index":w,"data-front":Zt,"data-swiping":ve,"data-dismissible":Rt,"data-type":ct,"data-invert":We,"data-swipe-out":pe,"data-swipe-direction":K,"data-expanded":!!(k||_&&U),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Ie?pt:de.current}px`,"--initial-height":_?"auto":`${Nn}px`,...P,...m.style},onDragEnd:()=>{xe(!1),J(null),Ee.current=null},onPointerDown:le=>{De||!Rt||(bt.current=new Date,_t(de.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(xe(!0),Ee.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ne,Oe,At;if(pe||!Rt)return;Ee.current=null;let he=Number(((le=lt.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((Ne=lt.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((Oe=bt.current)==null?void 0:Oe.getTime()),ut=F==="x"?he:en,Ht=Math.abs(ut)/Wt;if(Math.abs(ut)>=uA||Ht>.11){_t(de.current),(At=m.onDismiss)==null||At.call(m,m),ee(F==="x"?he>0?"right":"left":en>0?"down":"up"),dn(),Z(!0),je(!1);return}xe(!1),J(null)},onPointerMove:le=>{var Ne,Oe,At,he;if(!Ee.current||!Rt||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let en=le.clientY-Ee.current.y,Wt=le.clientX-Ee.current.x,ut=(Oe=e.swipeDirections)!=null?Oe:hA(H);!F&&(Math.abs(Wt)>1||Math.abs(en)>1)&&J(Math.abs(Wt)>Math.abs(en)?"x":"y");let Ht={x:0,y:0};F==="y"?(ut.includes("top")||ut.includes("bottom"))&&(ut.includes("top")&&en<0||ut.includes("bottom")&&en>0)&&(Ht.y=en):F==="x"&&(ut.includes("left")||ut.includes("right"))&&(ut.includes("left")&&Wt<0||ut.includes("right")&&Wt>0)&&(Ht.x=Wt),(Math.abs(Ht.x)>0||Math.abs(Ht.y)>0)&&je(!0),(At=lt.current)==null||At.style.setProperty("--swipe-amount-x",`${Ht.x}px`),(he=lt.current)==null||he.style.setProperty("--swipe-amount-y",`${Ht.y}px`)}},ge&&!m.jsx?G.createElement("button",{"aria-label":L,"data-disabled":De,"data-close-button":!0,onClick:De||!Rt?()=>{}:()=>{var le;dn(),(le=m.onDismiss)==null||le.call(m,m)},className:Kn(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=D==null?void 0:D.close)!=null?a:XR):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,ct||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:Kn(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ta():null,m.type!=="loading"?m.icon||(D==null?void 0:D[ct])||UR(ct):null):null,G.createElement("div",{"data-content":"",className:Kn(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:Kn(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:Kn(I,Va,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Fc(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:le=>{var Ne,Oe;Fc(m.cancel)&&Rt&&((Oe=(Ne=m.cancel).onClick)==null||Oe.call(Ne,le),dn())},className:Kn(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Fc(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:le=>{var Ne,Oe;Fc(m.action)&&((Oe=(Ne=m.action).onClick)==null||Oe.call(Ne,le),!le.defaultPrevented&&dn())},className:Kn(M==null?void 0:M.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Yv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mA(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",o=a?oA:iA;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=o:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var pA=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:y=aA,toastOptions:g,dir:x=Yv(),gap:v=cA,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=e,[E,j]=G.useState([]),C=G.useMemo(()=>Array.from(new Set([r].concat(E.filter(V=>V.position).map(V=>V.position)))),[E,r]),[P,T]=G.useState([]),[R,N]=G.useState(!1),[I,A]=G.useState(!1),[H,z]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=G.useRef(null),_=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=G.useRef(null),D=G.useRef(!1),L=G.useCallback(V=>{j(F=>{var J;return(J=F.find(K=>K.id===V.id))!=null&&J.delete||tn.dismiss(V.id),F.filter(({id:K})=>K!==V.id)})},[]);return G.useEffect(()=>tn.subscribe(V=>{if(V.dismiss){j(F=>F.map(J=>J.id===V.id?{...J,delete:!0}:J));return}setTimeout(()=>{xS.flushSync(()=>{j(F=>{let J=F.findIndex(K=>K.id===V.id);return J!==-1?[...F.slice(0,J),{...F[J],...V},...F.slice(J+1)]:[V,...F]})})})}),[]),G.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:F})=>{z(F?"dark":"light")})}catch{V.addListener(({matches:J})=>{try{z(J?"dark":"light")}catch(K){console.error(K)}})}},[d]),G.useEffect(()=>{E.length<=1&&N(!1)},[E]),G.useEffect(()=>{let V=F=>{var J,K;s.every(ee=>F[ee]||F.code===ee)&&(N(!0),(J=B.current)==null||J.focus()),F.code==="Escape"&&(document.activeElement===B.current||(K=B.current)!=null&&K.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),G.useEffect(()=>{if(B.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,D.current=!1)}},[B.current]),G.createElement("section",{ref:t,"aria-label":`${S} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,F)=>{var J;let[K,ee]=V.split("-");return E.length?G.createElement("ol",{key:V,dir:x==="auto"?Yv():x,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":K,"data-lifted":R&&E.length>1&&!a,"data-x-position":ee,style:{"--front-toast-height":`${((J=P[0])==null?void 0:J.height)||0}px`,"--width":`${lA}px`,"--gap":`${v}px`,...m,...mA(c,u)},onBlur:U=>{D.current&&!U.currentTarget.contains(U.relatedTarget)&&(D.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||D.current||(D.current=!0,M.current=U.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{I||N(!1)},onDragEnd:()=>N(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},E.filter(U=>!U.position&&F===0||U.position===V).map((U,we)=>{var Ie,ke;return G.createElement(fA,{key:U.id,icons:w,index:we,toast:U,defaultRichColors:h,duration:(Ie=g==null?void 0:g.duration)!=null?Ie:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:y,closeButton:(ke=g==null?void 0:g.closeButton)!=null?ke:i,interacting:I,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:L,toasts:E.filter(ve=>ve.position==U.position),heights:P.filter(ve=>ve.position==U.position),setHeights:T,expandByDefault:a,gap:v,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const gA=({...e})=>{const{theme:t="system"}=VR();return l.jsx(pA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yA=r0[" useId ".trim().toString()]||(()=>{}),vA=0;function Os(e){const[t,n]=p.useState(yA());return kt(()=>{n(r=>r??String(vA++))},[e]),t?`radix-${t}`:""}const xA=["top","right","bottom","left"],Vs=Math.min,pn=Math.max,nd=Math.round,zc=Math.floor,Tr=e=>({x:e,y:e}),bA={left:"right",right:"left",bottom:"top",top:"bottom"},wA={start:"end",end:"start"};function Zm(e,t,n){return pn(e,Vs(t,n))}function Jr(e,t){return typeof e=="function"?e(t):e}function Zr(e){return e.split("-")[0]}function po(e){return e.split("-")[1]}function ng(e){return e==="x"?"y":"x"}function rg(e){return e==="y"?"height":"width"}const SA=new Set(["top","bottom"]);function kr(e){return SA.has(Zr(e))?"y":"x"}function sg(e){return ng(kr(e))}function kA(e,t,n){n===void 0&&(n=!1);const r=po(e),s=sg(e),a=rg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=rd(i)),[i,rd(i)]}function jA(e){const t=rd(e);return[ep(e),t,ep(t)]}function ep(e){return e.replace(/start|end/g,t=>wA[t])}const Xv=["left","right"],Qv=["right","left"],EA=["top","bottom"],CA=["bottom","top"];function TA(e,t,n){switch(e){case"top":case"bottom":return n?t?Qv:Xv:t?Xv:Qv;case"left":case"right":return t?EA:CA;default:return[]}}function NA(e,t,n,r){const s=po(e);let a=TA(Zr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(ep)))),a}function rd(e){return e.replace(/left|right|bottom|top/g,t=>bA[t])}function PA(e){return{top:0,right:0,bottom:0,left:0,...e}}function m5(e){return typeof e!="number"?PA(e):{top:e,right:e,bottom:e,left:e}}function sd(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Jv(e,t,n){let{reference:r,floating:s}=e;const a=kr(t),i=sg(t),o=rg(i),c=Zr(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(po(t)){case"start":m[i]-=f*(n&&u?-1:1);break;case"end":m[i]+=f*(n&&u?-1:1);break}return m}const MA=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Jv(u,r,c),f=r,m={},y=0;for(let g=0;g<o.length;g++){const{name:x,fn:v}=o[g],{x:b,y:w,data:S,reset:k}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,h=w??h,m={...m,[x]:{...m[x],...S}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=Jv(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Ml(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Jr(t,e),y=m5(m),x=o[f?h==="floating"?"reference":"floating":h],v=sd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},k=sd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:c}):b);return{top:(v.top-k.top+y.top)/S.y,bottom:(k.bottom-v.bottom+y.bottom)/S.y,left:(v.left-k.left+y.left)/S.x,right:(k.right-v.right+y.right)/S.x}}const _A=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Jr(e,t)||{};if(u==null)return{};const h=m5(d),f={x:n,y:r},m=sg(s),y=rg(m),g=await i.getDimensions(u),x=m==="y",v=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=a.reference[y]+a.reference[m]-f[m]-a.floating[y],k=f[m]-a.reference[m],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=E?E[w]:0;(!j||!await(i.isElement==null?void 0:i.isElement(E)))&&(j=o.floating[w]||a.floating[y]);const C=S/2-k/2,P=j/2-g[y]/2-1,T=Vs(h[v],P),R=Vs(h[b],P),N=T,I=j-g[y]-R,A=j/2-g[y]/2+C,H=Zm(N,A,I),z=!c.arrow&&po(s)!=null&&A!==H&&a.reference[y]/2-(A<N?T:R)-g[y]/2<0,B=z?A<N?A-N:A-I:0;return{[m]:f[m]+B,data:{[m]:H,centerOffset:A-H-B,...z&&{alignmentOffset:B}},reset:z}}}),RA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...x}=Jr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Zr(s),b=kr(o),w=Zr(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=f||(w||!g?[rd(o)]:jA(o)),E=y!=="none";!f&&E&&k.push(...NA(o,g,y,S));const j=[o,...k],C=await Ml(t,x),P=[];let T=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[v]),h){const A=kA(s,i,S);P.push(C[A[0]],C[A[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(A=>A<=0)){var R,N;const A=(((R=a.flip)==null?void 0:R.index)||0)+1,H=j[A];if(H&&(!(h==="alignment"?b!==kr(H):!1)||T.every(_=>_.overflows[0]>0&&kr(_.placement)===b)))return{data:{index:A,overflows:T},reset:{placement:H}};let z=(N=T.filter(B=>B.overflows[0]<=0).sort((B,_)=>B.overflows[1]-_.overflows[1])[0])==null?void 0:N.placement;if(!z)switch(m){case"bestFit":{var I;const B=(I=T.filter(_=>{if(E){const M=kr(_.placement);return M===b||M==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(M=>M>0).reduce((M,D)=>M+D,0)]).sort((_,M)=>_[1]-M[1])[0])==null?void 0:I[0];B&&(z=B);break}case"initialPlacement":z=o;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Zv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ex(e){return xA.some(t=>e[t]>=0)}const AA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Jr(e,t);switch(r){case"referenceHidden":{const a=await Ml(t,{...s,elementContext:"reference"}),i=Zv(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ex(i)}}}case"escaped":{const a=await Ml(t,{...s,altBoundary:!0}),i=Zv(a,n.floating);return{data:{escapedOffsets:i,escaped:ex(i)}}}default:return{}}}}},p5=new Set(["left","top"]);async function DA(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Zr(n),o=po(n),c=kr(n)==="y",u=p5.has(i)?-1:1,d=a&&c?-1:1,h=Jr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const OA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await DA(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},IA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...c}=Jr(e,t),u={x:n,y:r},d=await Ml(t,c),h=kr(Zr(s)),f=ng(h);let m=u[f],y=u[h];if(a){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=m+d[x],w=m-d[v];m=Zm(b,m,w)}if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=y+d[x],w=y-d[v];y=Zm(b,y,w)}const g=o.fn({...t,[f]:m,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:a,[h]:i}}}}}},LA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Jr(e,t),d={x:n,y:r},h=kr(s),f=ng(h);let m=d[f],y=d[h];const g=Jr(o,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",S=a.reference[f]-a.floating[w]+x.mainAxis,k=a.reference[f]+a.reference[w]-x.mainAxis;m<S?m=S:m>k&&(m=k)}if(u){var v,b;const w=f==="y"?"width":"height",S=p5.has(Zr(s)),k=a.reference[h]-a.floating[w]+(S&&((v=i.offset)==null?void 0:v[h])||0)+(S?0:x.crossAxis),E=a.reference[h]+a.reference[w]+(S?0:((b=i.offset)==null?void 0:b[h])||0)-(S?x.crossAxis:0);y<k?y=k:y>E&&(y=E)}return{[f]:m,[h]:y}}}},$A=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=Jr(e,t),d=await Ml(t,u),h=Zr(s),f=po(s),m=kr(s)==="y",{width:y,height:g}=a.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,x=f==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=y-d.left-d.right,S=Vs(g-d[x],b),k=Vs(y-d[v],w),E=!t.middlewareData.shift;let j=S,C=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=b),E&&!f){const T=pn(d.left,0),R=pn(d.right,0),N=pn(d.top,0),I=pn(d.bottom,0);m?C=y-2*(T!==0||R!==0?T+R:pn(d.left,d.right)):j=g-2*(N!==0||I!==0?N+I:pn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:j});const P=await i.getDimensions(o.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function go(e){return g5(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(g5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function g5(e){return Qd()?e instanceof Node||e instanceof Sn(e).Node:!1}function ur(e){return Qd()?e instanceof Element||e instanceof Sn(e).Element:!1}function Mr(e){return Qd()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function tx(e){return!Qd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}const FA=new Set(["inline","contents"]);function oc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FA.has(s)}const zA=new Set(["table","td","th"]);function BA(e){return zA.has(go(e))}const VA=[":popover-open",":modal"];function Jd(e){return VA.some(t=>{try{return e.matches(t)}catch{return!1}})}const UA=["transform","translate","scale","rotate","perspective"],WA=["transform","translate","scale","rotate","perspective","filter"],HA=["paint","layout","strict","content"];function ag(e){const t=ig(),n=ur(e)?dr(e):e;return UA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||WA.some(r=>(n.willChange||"").includes(r))||HA.some(r=>(n.contain||"").includes(r))}function GA(e){let t=Us(e);for(;Mr(t)&&!no(t);){if(ag(t))return t;if(Jd(t))return null;t=Us(t)}return null}function ig(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KA=new Set(["html","body","#document"]);function no(e){return KA.has(go(e))}function dr(e){return Sn(e).getComputedStyle(e)}function Zd(e){return ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Us(e){if(go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tx(e)&&e.host||_r(e);return tx(t)?t.host:t}function y5(e){const t=Us(e);return no(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mr(t)&&oc(t)?t:y5(t)}function _l(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=y5(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Sn(s);if(a){const o=tp(i);return t.concat(i,i.visualViewport||[],oc(s)?s:[],o&&n?_l(o):[])}return t.concat(s,_l(s,[],n))}function tp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v5(e){const t=dr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Mr(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=nd(n)!==a||nd(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function og(e){return ur(e)?e:e.contextElement}function _i(e){const t=og(e);if(!Mr(t))return Tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=v5(t);let i=(a?nd(n.width):n.width)/r,o=(a?nd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const qA=Tr(0);function x5(e){const t=Sn(e);return!ig()||!t.visualViewport?qA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sn(e)?!1:t}function Ra(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=og(e);let i=Tr(1);t&&(r?ur(r)&&(i=_i(r)):i=_i(e));const o=YA(a,n,r)?x5(a):Tr(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const f=Sn(a),m=r&&ur(r)?Sn(r):r;let y=f,g=tp(y);for(;g&&r&&m!==y;){const x=_i(g),v=g.getBoundingClientRect(),b=dr(g),w=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*x.x,S=v.top+(g.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=w,u+=S,y=Sn(g),g=tp(y)}}return sd({width:d,height:h,x:c,y:u})}function lg(e,t){const n=Zd(e).scrollLeft;return t?t.left+n:Ra(_r(e)).left+n}function b5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:lg(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function XA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=_r(r),o=t?Jd(t.floating):!1;if(r===i||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const d=Tr(0),h=Mr(r);if((h||!h&&!a)&&((go(r)!=="body"||oc(i))&&(c=Zd(r)),Mr(r))){const m=Ra(r);u=_i(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=i&&!h&&!a?b5(i,c,!0):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function QA(e){return Array.from(e.getClientRects())}function JA(e){const t=_r(e),n=Zd(e),r=e.ownerDocument.body,s=pn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=pn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+lg(e);const o=-n.scrollTop;return dr(r).direction==="rtl"&&(i+=pn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}function ZA(e,t){const n=Sn(e),r=_r(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=ig();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}const e4=new Set(["absolute","fixed"]);function t4(e,t){const n=Ra(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Mr(e)?_i(e):Tr(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:o,x:c,y:u}}function nx(e,t,n){let r;if(t==="viewport")r=ZA(e,n);else if(t==="document")r=JA(_r(e));else if(ur(t))r=t4(t,n);else{const s=x5(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return sd(r)}function w5(e,t){const n=Us(e);return n===t||!ur(n)||no(n)?!1:dr(n).position==="fixed"||w5(n,t)}function n4(e,t){const n=t.get(e);if(n)return n;let r=_l(e,[],!1).filter(o=>ur(o)&&go(o)!=="body"),s=null;const a=dr(e).position==="fixed";let i=a?Us(e):e;for(;ur(i)&&!no(i);){const o=dr(i),c=ag(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&!!s&&e4.has(s.position)||oc(i)&&!c&&w5(e,i))?r=r.filter(d=>d!==i):s=o,i=Us(i)}return t.set(e,r),r}function r4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Jd(t)?[]:n4(t,this._c):[].concat(n),r],o=i[0],c=i.reduce((u,d)=>{const h=nx(t,d,s);return u.top=pn(h.top,u.top),u.right=Vs(h.right,u.right),u.bottom=Vs(h.bottom,u.bottom),u.left=pn(h.left,u.left),u},nx(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s4(e){const{width:t,height:n}=v5(e);return{width:t,height:n}}function a4(e,t,n){const r=Mr(t),s=_r(t),a=n==="fixed",i=Ra(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=Tr(0);function u(){c.x=lg(s)}if(r||!r&&!a)if((go(t)!=="body"||oc(s))&&(o=Zd(t)),r){const m=Ra(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?b5(s,o):Tr(0),h=i.left+o.scrollLeft-c.x-d.x,f=i.top+o.scrollTop-c.y-d.y;return{x:h,y:f,width:i.width,height:i.height}}function lf(e){return dr(e).position==="static"}function rx(e,t){if(!Mr(e)||dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function S5(e,t){const n=Sn(e);if(Jd(e))return n;if(!Mr(e)){let s=Us(e);for(;s&&!no(s);){if(ur(s)&&!lf(s))return s;s=Us(s)}return n}let r=rx(e,t);for(;r&&BA(r)&&lf(r);)r=rx(r,t);return r&&no(r)&&lf(r)&&!ag(r)?n:r||GA(e)||n}const i4=async function(e){const t=this.getOffsetParent||S5,n=this.getDimensions,r=await n(e.floating);return{reference:a4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function o4(e){return dr(e).direction==="rtl"}const l4={convertOffsetParentRelativeRectToViewportRelativeRect:XA,getDocumentElement:_r,getClippingRect:r4,getOffsetParent:S5,getElementRects:i4,getClientRects:QA,getDimensions:s4,getScale:_i,isElement:ur,isRTL:o4};function k5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c4(e,t){let n=null,r;const s=_r(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(o||t(),!f||!m)return;const y=zc(h),g=zc(s.clientWidth-(d+f)),x=zc(s.clientHeight-(h+m)),v=zc(d),w={rootMargin:-y+"px "+-g+"px "+-x+"px "+-v+"px",threshold:pn(0,Vs(1,c))||1};let S=!0;function k(E){const j=E[0].intersectionRatio;if(j!==c){if(!S)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!k5(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(k,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(e)}return i(!0),a}function u4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=og(e),d=s||a?[...u?_l(u):[],..._l(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const h=u&&o?c4(u,n):null;let f=-1,m=null;i&&(m=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?Ra(e):null;c&&x();function x(){const v=Ra(e);g&&!k5(g,v)&&n(),g=v,y=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const d4=OA,h4=IA,f4=RA,m4=$A,p4=AA,sx=_A,g4=LA,y4=(e,t,n)=>{const r=new Map,s={platform:l4,...n},a={...s.platform,_c:r};return MA(e,t,{...s,platform:a})};var v4=typeof document<"u",x4=function(){},Su=v4?p.useLayoutEffect:x4;function ad(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ad(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!ad(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function j5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ax(e,t){const n=j5(e);return Math.round(t*n)/n}function cf(e){const t=p.useRef(e);return Su(()=>{t.current=e}),t}function b4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);ad(f,r)||m(r);const[y,g]=p.useState(null),[x,v]=p.useState(null),b=p.useCallback(_=>{_!==E.current&&(E.current=_,g(_))},[]),w=p.useCallback(_=>{_!==j.current&&(j.current=_,v(_))},[]),S=a||y,k=i||x,E=p.useRef(null),j=p.useRef(null),C=p.useRef(d),P=c!=null,T=cf(c),R=cf(s),N=cf(u),I=p.useCallback(()=>{if(!E.current||!j.current)return;const _={placement:t,strategy:n,middleware:f};R.current&&(_.platform=R.current),y4(E.current,j.current,_).then(M=>{const D={...M,isPositioned:N.current!==!1};A.current&&!ad(C.current,D)&&(C.current=D,Xs.flushSync(()=>{h(D)}))})},[f,t,n,R,N]);Su(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const A=p.useRef(!1);Su(()=>(A.current=!0,()=>{A.current=!1}),[]),Su(()=>{if(S&&(E.current=S),k&&(j.current=k),S&&k){if(T.current)return T.current(S,k,I);I()}},[S,k,I,T,P]);const H=p.useMemo(()=>({reference:E,floating:j,setReference:b,setFloating:w}),[b,w]),z=p.useMemo(()=>({reference:S,floating:k}),[S,k]),B=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!z.floating)return _;const M=ax(z.floating,d.x),D=ax(z.floating,d.y);return o?{..._,transform:"translate("+M+"px, "+D+"px)",...j5(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:D}},[n,o,z.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:I,refs:H,elements:z,floatingStyles:B}),[d,I,H,z,B])}const w4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?sx({element:r.current,padding:s}).fn(n):{}:r?sx({element:r,padding:s}).fn(n):{}}}},S4=(e,t)=>({...d4(e),options:[e,t]}),k4=(e,t)=>({...h4(e),options:[e,t]}),j4=(e,t)=>({...g4(e),options:[e,t]}),E4=(e,t)=>({...f4(e),options:[e,t]}),C4=(e,t)=>({...m4(e),options:[e,t]}),T4=(e,t)=>({...p4(e),options:[e,t]}),N4=(e,t)=>({...w4(e),options:[e,t]});var P4="Arrow",E5=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(ne.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});E5.displayName=P4;var M4=E5;function cg(e){const[t,n]=p.useState(void 0);return kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ug="Popper",[C5,eh]=Un(ug),[_4,T5]=C5(ug),N5=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx(_4,{scope:t,anchor:r,onAnchorChange:s,children:n})};N5.displayName=ug;var P5="PopperAnchor",M5=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=T5(P5,n),i=p.useRef(null),o=ye(t,i);return p.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(ne.div,{...s,ref:o})});M5.displayName=P5;var dg="PopperContent",[R4,A4]=C5(dg),_5=p.forwardRef((e,t)=>{var U,we,Ie,ke,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,x=T5(dg,n),[v,b]=p.useState(null),w=ye(t,pe=>b(pe)),[S,k]=p.useState(null),E=cg(S),j=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,P=r+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],N=R.length>0,I={padding:T,boundary:R.filter(O4),altBoundary:N},{refs:A,floatingStyles:H,placement:z,isPositioned:B,middlewareData:_}=b4({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>u4(...pe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[S4({mainAxis:s+C,alignmentAxis:i}),c&&k4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?j4():void 0,...I}),c&&E4({...I}),C4({...I,apply:({elements:pe,rects:Z,availableWidth:ue,availableHeight:je})=>{const{width:pt,height:_t}=Z.reference,Nn=pe.floating.style;Nn.setProperty("--radix-popper-available-width",`${ue}px`),Nn.setProperty("--radix-popper-available-height",`${je}px`),Nn.setProperty("--radix-popper-anchor-width",`${pt}px`),Nn.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),S&&N4({element:S,padding:o}),I4({arrowWidth:j,arrowHeight:C}),f&&T4({strategy:"referenceHidden",...I})]}),[M,D]=D5(z),L=vt(y);kt(()=>{B&&(L==null||L())},[B,L]);const V=(U=_.arrow)==null?void 0:U.x,F=(we=_.arrow)==null?void 0:we.y,J=((Ie=_.arrow)==null?void 0:Ie.centerOffset)!==0,[K,ee]=p.useState();return kt(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:B?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ke=_.transformOrigin)==null?void 0:ke.x,(ve=_.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=_.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(R4,{scope:n,placedSide:M,onArrowChange:k,arrowX:V,arrowY:F,shouldHideArrow:J,children:l.jsx(ne.div,{"data-side":M,"data-align":D,...g,ref:w,style:{...g.style,animation:B?void 0:"none"}})})})});_5.displayName=dg;var R5="PopperArrow",D4={top:"bottom",right:"left",bottom:"top",left:"right"},A5=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=A4(R5,r),i=D4[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(M4,{...s,ref:n,style:{...s.style,display:"block"}})})});A5.displayName=R5;function O4(e){return e!==null}var I4=e=>({name:"transformOrigin",options:e,fn(t){var x,v,b;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=D5(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?h:`${f}px`,g=`${-c}px`):u==="top"?(y=i?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?h:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=i?h:`${m}px`),{data:{x:y,y:g}}}});function D5(e){const[t,n="center"]=e.split("-");return[t,n]}var L4=N5,O5=M5,I5=_5,L5=A5,[th]=Un("Tooltip",[eh]),hg=eh(),$5="TooltipProvider",$4=700,ix="tooltip.open",[F4,F5]=th($5),z5=e=>{const{__scopeTooltip:t,delayDuration:n=$4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,i=p.useRef(!0),o=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(F4,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:p.useCallback(u=>{o.current=u},[]),disableHoverableContent:s,children:a})};z5.displayName=$5;var B5="Tooltip",[RG,nh]=th(B5),np="TooltipTrigger",z4=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=nh(np,n),a=F5(np,n),i=hg(n),o=p.useRef(null),c=ye(t,o,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(O5,{asChild:!0,...i,children:l.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Q(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Q(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});z4.displayName=np;var B4="TooltipPortal",[AG,V4]=th(B4,{forceMount:void 0}),ro="TooltipContent",V5=p.forwardRef((e,t)=>{const n=V4(ro,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=nh(ro,e.__scopeTooltip);return l.jsx(Wn,{present:r||i.open,children:i.disableHoverableContent?l.jsx(U5,{side:s,...a,ref:t}):l.jsx(U4,{side:s,...a,ref:t})})}),U4=p.forwardRef((e,t)=>{const n=nh(ro,e.__scopeTooltip),r=F5(ro,e.__scopeTooltip),s=p.useRef(null),a=ye(t,s),[i,o]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{o(null),h(!1)},[h]),m=p.useCallback((y,g)=>{const x=y.currentTarget,v={x:y.clientX,y:y.clientY},b=q4(v,x.getBoundingClientRect()),w=Y4(v,b),S=X4(g.getBoundingClientRect()),k=J4([...w,...S]);o(k),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const y=x=>m(x,d),g=x=>m(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),p.useEffect(()=>{if(i){const y=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!Q4(v,i);b?f():w&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,f]),l.jsx(U5,{...e,ref:a})}),[W4,H4]=th(B5,{isInside:!1}),G4=GM("TooltipContent"),U5=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,c=nh(ro,n),u=hg(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(ix,d),()=>document.removeEventListener(ix,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(I5,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(G4,{children:r}),l.jsx(W4,{scope:n,isInside:!0,children:l.jsx(m_,{id:c.contentId,role:"tooltip",children:s||r})})]})})});V5.displayName=ro;var W5="TooltipArrow",K4=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=hg(n);return H4(W5,n).isInside?null:l.jsx(L5,{...s,...r,ref:t})});K4.displayName=W5;function q4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Y4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function X4(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Q4(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a],c=t[i],u=o.x,d=o.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function J4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Z4(t)}function Z4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var e3=z5,H5=V5;const t3=e3,n3=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(H5,{ref:r,sideOffset:t,className:q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));n3.displayName=H5.displayName;var rh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sh=typeof window>"u"||"Deno"in globalThis;function Zn(){}function r3(e,t){return typeof e=="function"?e(t):e}function s3(e){return typeof e=="number"&&e>=0&&e!==1/0}function a3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rp(e,t){return typeof e=="function"?e(t):e}function i3(e,t){return typeof e=="function"?e(t):e}function ox(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==fg(i,t.options))return!1}else if(!Al(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function lx(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Rl(t.options.mutationKey)!==Rl(a))return!1}else if(!Al(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function fg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rl)(e)}function Rl(e){return JSON.stringify(e,(t,n)=>sp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Al(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Al(e[n],t[n])):!1}function G5(e,t){if(e===t)return e;const n=cx(e)&&cx(t);if(n||sp(e)&&sp(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<i;d++){const h=n?d:a[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=G5(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return s===i&&u===s?e:o}return t}function cx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sp(e){if(!ux(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ux(e){return Object.prototype.toString.call(e)==="[object Object]"}function o3(e){return new Promise(t=>{setTimeout(t,e)})}function l3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?G5(e,t):t}function c3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function u3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var mg=Symbol();function K5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var va,vs,$i,Jw,d3=(Jw=class extends rh{constructor(){super();Te(this,va);Te(this,vs);Te(this,$i);ce(this,$i,t=>{if(!sh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,vs)||this.setEventListener(O(this,$i))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,vs))==null||t.call(this),ce(this,vs,void 0))}setEventListener(t){var n;ce(this,$i,t),(n=O(this,vs))==null||n.call(this),ce(this,vs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){O(this,va)!==t&&(ce(this,va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof O(this,va)=="boolean"?O(this,va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},va=new WeakMap,vs=new WeakMap,$i=new WeakMap,Jw),q5=new d3,Fi,xs,zi,Zw,h3=(Zw=class extends rh{constructor(){super();Te(this,Fi,!0);Te(this,xs);Te(this,zi);ce(this,zi,t=>{if(!sh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,xs)||this.setEventListener(O(this,zi))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,xs))==null||t.call(this),ce(this,xs,void 0))}setEventListener(t){var n;ce(this,zi,t),(n=O(this,xs))==null||n.call(this),ce(this,xs,t(this.setOnline.bind(this)))}setOnline(t){O(this,Fi)!==t&&(ce(this,Fi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return O(this,Fi)}},Fi=new WeakMap,xs=new WeakMap,zi=new WeakMap,Zw),id=new h3;function f3(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function m3(e){return Math.min(1e3*2**e,3e4)}function Y5(e){return(e??"online")==="online"?id.isOnline():!0}var X5=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uf(e){return e instanceof X5}function Q5(e){let t=!1,n=0,r=!1,s;const a=f3(),i=g=>{var x;r||(f(new X5(g)),(x=e.abort)==null||x.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>q5.isFocused()&&(e.networkMode==="always"||id.isOnline())&&e.canRun(),d=()=>Y5(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),a.resolve(g))},f=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),a.reject(g))},m=()=>new Promise(g=>{var x;s=v=>{(r||u())&&g(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var E;if(r)return;const b=e.retry??(sh?0:3),w=e.retryDelay??m3,S=typeof w=="function"?w(n,v):w,k=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!k){f(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),o3(S).then(()=>u()?void 0:m()).then(()=>{t?f(v):y()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),a)}}var p3=e=>setTimeout(e,0);function g3(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=p3;const a=o=>{t?e.push(o):s(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var qt=g3(),xa,e1,J5=(e1=class{constructor(){Te(this,xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s3(this.gcTime)&&ce(this,xa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sh?1/0:5*60*1e3))}clearGcTimeout(){O(this,xa)&&(clearTimeout(O(this,xa)),ce(this,xa,void 0))}},xa=new WeakMap,e1),Bi,ba,_n,wa,Lt,Xl,Sa,tr,Ir,t1,y3=(t1=class extends J5{constructor(t){super();Te(this,tr);Te(this,Bi);Te(this,ba);Te(this,_n);Te(this,wa);Te(this,Lt);Te(this,Xl);Te(this,Sa);ce(this,Sa,!1),ce(this,Xl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,wa,t.client),ce(this,_n,O(this,wa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Bi,x3(this.options)),this.state=t.state??O(this,Bi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...O(this,Xl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,_n).remove(this)}setData(t,n){const r=l3(this.state.data,t,this.options);return Dt(this,tr,Ir).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Dt(this,tr,Ir).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=O(this,Lt))==null?void 0:r.promise;return(s=O(this,Lt))==null||s.cancel(t),n?n.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Bi))}isActive(){return this.observers.some(t=>i3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!a3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=O(this,Lt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=O(this,Lt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,_n).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(O(this,Lt)&&(O(this,Sa)?O(this,Lt).cancel({revert:!0}):O(this,Lt).cancelRetry()),this.scheduleGc()),O(this,_n).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,tr,Ir).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,Lt))return O(this,Lt).continueRetry(),O(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ce(this,Sa,!0),r.signal)})},a=()=>{const f=K5(this.options,n),y=(()=>{const g={client:O(this,wa),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ce(this,Sa,!1),this.options.persister?this.options.persister(f,y,this):f(y)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:O(this,wa),state:this.state,fetchFn:a};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),ce(this,ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Dt(this,tr,Ir).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,y,g,x;uf(f)&&f.silent||Dt(this,tr,Ir).call(this,{type:"error",error:f}),uf(f)||((y=(m=O(this,_n).config).onError)==null||y.call(m,f,this),(x=(g=O(this,_n).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return ce(this,Lt,Q5({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,y,g,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){c(v);return}(y=(m=O(this,_n).config).onSuccess)==null||y.call(m,f,this),(x=(g=O(this,_n).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{Dt(this,tr,Ir).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Dt(this,tr,Ir).call(this,{type:"pause"})},onContinue:()=>{Dt(this,tr,Ir).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),O(this,Lt).start()}},Bi=new WeakMap,ba=new WeakMap,_n=new WeakMap,wa=new WeakMap,Lt=new WeakMap,Xl=new WeakMap,Sa=new WeakMap,tr=new WeakSet,Ir=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...v3(r.data,this.options),fetchMeta:t.meta??null};case"success":return ce(this,ba,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return uf(s)&&s.revert&&O(this,ba)?{...O(this,ba),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),O(this,_n).notify({query:this,type:"updated",action:t})})},t1);function v3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function x3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,n1,b3=(n1=class extends rh{constructor(t={}){super();Te(this,gr);this.config=t,ce(this,gr,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??fg(s,n);let i=this.get(a);return i||(i=new y3({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){O(this,gr).has(t.queryHash)||(O(this,gr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=O(this,gr).get(t.queryHash);n&&(t.destroy(),n===t&&O(this,gr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,gr).get(t)}getAll(){return[...O(this,gr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ox(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ox(t,r)):n}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gr=new WeakMap,n1),yr,Gt,ka,vr,cs,r1,w3=(r1=class extends J5{constructor(t){super();Te(this,vr);Te(this,yr);Te(this,Gt);Te(this,ka);this.mutationId=t.mutationId,ce(this,Gt,t.mutationCache),ce(this,yr,[]),this.state=t.state||S3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,yr).includes(t)||(O(this,yr).push(t),this.clearGcTimeout(),O(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,yr,O(this,yr).filter(n=>n!==t)),this.scheduleGc(),O(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,yr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Gt).remove(this))}continue(){var t;return((t=O(this,ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,c,u,d,h,f,m,y,g,x,v,b,w,S,k,E,j,C;const n=()=>{Dt(this,vr,cs).call(this,{type:"continue"})};ce(this,ka,Q5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,T)=>{Dt(this,vr,cs).call(this,{type:"failed",failureCount:P,error:T})},onPause:()=>{Dt(this,vr,cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Gt).canRun(this)}));const r=this.state.status==="pending",s=!O(this,ka).canStart();try{if(r)n();else{Dt(this,vr,cs).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=O(this,Gt).config).onMutate)==null?void 0:i.call(a,t,this));const T=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));T!==this.state.context&&Dt(this,vr,cs).call(this,{type:"pending",context:T,variables:t,isPaused:s})}const P=await O(this,ka).start();return await((d=(u=O(this,Gt).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,P,t,this.state.context)),await((y=(m=O(this,Gt).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,P,null,t,this.state.context)),Dt(this,vr,cs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(v=O(this,Gt).config).onError)==null?void 0:b.call(v,P,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,P,t,this.state.context)),await((E=(k=O(this,Gt).config).onSettled)==null?void 0:E.call(k,void 0,P,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,P,t,this.state.context)),P}finally{Dt(this,vr,cs).call(this,{type:"error",error:P})}}finally{O(this,Gt).runNext(this)}}},yr=new WeakMap,Gt=new WeakMap,ka=new WeakMap,vr=new WeakSet,cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qt.batch(()=>{O(this,yr).forEach(r=>{r.onMutationUpdate(t)}),O(this,Gt).notify({mutation:this,type:"updated",action:t})})},r1);function S3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zr,nr,Ql,s1,k3=(s1=class extends rh{constructor(t={}){super();Te(this,zr);Te(this,nr);Te(this,Ql);this.config=t,ce(this,zr,new Set),ce(this,nr,new Map),ce(this,Ql,0)}build(t,n,r){const s=new w3({mutationCache:this,mutationId:++xc(this,Ql)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){O(this,zr).add(t);const n=Bc(t);if(typeof n=="string"){const r=O(this,nr).get(n);r?r.push(t):O(this,nr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,zr).delete(t)){const n=Bc(t);if(typeof n=="string"){const r=O(this,nr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&O(this,nr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Bc(t);if(typeof n=="string"){const r=O(this,nr).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Bc(t);if(typeof n=="string"){const s=(r=O(this,nr).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{O(this,zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,zr).clear(),O(this,nr).clear()})}getAll(){return Array.from(O(this,zr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lx(n,r))}findAll(t={}){return this.getAll().filter(n=>lx(t,n))}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Zn))))}},zr=new WeakMap,nr=new WeakMap,Ql=new WeakMap,s1);function Bc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function dx(e){return{onFetch:(t,n)=>{var d,h,f,m,y;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=K5(t.options,t.fetchOptions),b=async(w,S,k)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:S,direction:k?"backward":"forward",meta:t.options.meta};return x(R),R})(),C=await v(j),{maxPages:P}=t.options,T=k?u3:c3;return{pages:T(w.pages,C,P),pageParams:T(w.pageParams,S,P)}};if(s&&a.length){const w=s==="backward",S=w?j3:hx,k={pages:a,pageParams:i},E=S(r,k);o=await b(k,E,w)}else{const w=e??a.length;do{const S=c===0?i[0]??r.initialPageParam:hx(r,o);if(c>0&&S==null)break;o=await b(o,S),c++}while(c<w)}return o};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function hx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function j3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tt,bs,ws,Vi,Ui,Ss,Wi,Hi,a1,E3=(a1=class{constructor(e={}){Te(this,tt);Te(this,bs);Te(this,ws);Te(this,Vi);Te(this,Ui);Te(this,Ss);Te(this,Wi);Te(this,Hi);ce(this,tt,e.queryCache||new b3),ce(this,bs,e.mutationCache||new k3),ce(this,ws,e.defaultOptions||{}),ce(this,Vi,new Map),ce(this,Ui,new Map),ce(this,Ss,0)}mount(){xc(this,Ss)._++,O(this,Ss)===1&&(ce(this,Wi,q5.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,tt).onFocus())})),ce(this,Hi,id.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,tt).onOnline())})))}unmount(){var e,t;xc(this,Ss)._--,O(this,Ss)===0&&((e=O(this,Wi))==null||e.call(this),ce(this,Wi,void 0),(t=O(this,Hi))==null||t.call(this),ce(this,Hi,void 0))}isFetching(e){return O(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=O(this,tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=O(this,tt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(rp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return O(this,tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=O(this,tt).get(r.queryHash),a=s==null?void 0:s.state.data,i=r3(t,a);if(i!==void 0)return O(this,tt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return qt.batch(()=>O(this,tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=O(this,tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=O(this,tt);qt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=O(this,tt);return qt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qt.batch(()=>O(this,tt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(e,t={}){return qt.batch(()=>(O(this,tt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qt.batch(()=>O(this,tt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Zn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=O(this,tt).build(this,t);return n.isStaleByTime(rp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=dx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=dx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return id.isOnline()?O(this,bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,tt)}getMutationCache(){return O(this,bs)}getDefaultOptions(){return O(this,ws)}setDefaultOptions(e){ce(this,ws,e)}setQueryDefaults(e,t){O(this,Vi).set(Rl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,Vi).values()],n={};return t.forEach(r=>{Al(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){O(this,Ui).set(Rl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,Ui).values()],n={};return t.forEach(r=>{Al(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,ws).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,ws).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,tt).clear(),O(this,bs).clear()}},tt=new WeakMap,bs=new WeakMap,ws=new WeakMap,Vi=new WeakMap,Ui=new WeakMap,Ss=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,a1),C3=p.createContext(void 0),T3=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(C3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}var Es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Es||(Es={}));const fx="popstate";function N3(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:o}=r.location;return ap("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:od(s)}return M3(t,n,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P3(){return Math.random().toString(36).substr(2,8)}function mx(e,t){return{usr:e.state,key:e.key,idx:t}}function ap(e,t,n,r){return n===void 0&&(n=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yo(t):t,{state:n,key:t&&t.key||r||P3()})}function od(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M3(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=Es.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Dl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){o=Es.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:g.location,delta:v})}function f(x,v){o=Es.Push;let b=ap(g.location,x,v);u=d()+1;let w=mx(b,u),S=g.createHref(b);try{i.pushState(w,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}a&&c&&c({action:o,location:g.location,delta:1})}function m(x,v){o=Es.Replace;let b=ap(g.location,x,v);u=d();let w=mx(b,u),S=g.createHref(b);i.replaceState(w,"",S),a&&c&&c({action:o,location:g.location,delta:0})}function y(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:od(x);return b=b.replace(/ $/,"%20"),mt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fx,h),c=x,()=>{s.removeEventListener(fx,h),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(x){return i.go(x)}};return g}var px;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(px||(px={}));function _3(e,t,n){return n===void 0&&(n="/"),R3(e,t,n)}function R3(e,t,n,r){let s=typeof t=="string"?yo(t):t,a=pg(s.pathname||"/",n);if(a==null)return null;let i=ek(e);A3(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=H3(a);o=V3(i[c],u)}return o}function ek(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Is([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ek(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:z3(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of tk(a.path))s(a,i,c)}),t}function tk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=tk(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function A3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:B3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D3=/^:[\w-]+$/,O3=3,I3=2,L3=1,$3=10,F3=-2,gx=e=>e==="*";function z3(e,t){let n=e.split("/"),r=n.length;return n.some(gx)&&(r+=F3),t&&(r+=I3),n.filter(s=>!gx(s)).reduce((s,a)=>s+(D3.test(a)?O3:a===""?L3:$3),r)}function B3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function V3(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=U3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Is([a,h.pathname]),pathnameBase:Y3(Is([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Is([a,h.pathnameBase]))}return i}function U3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=o[h]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function W3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Z5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function H3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Z5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function G3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?yo(e):e;return{pathname:n?n.startsWith("/")?n:K3(n,t):t,search:X3(r),hash:Q3(s)}}function K3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function df(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nk(e,t){let n=q3(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rk(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=yo(e):(s=Dl({},e),mt(!s.pathname||!s.pathname.includes("?"),df("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),df("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),df("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=G3(s,o),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Is=e=>e.join("/").replace(/\/\/+/g,"/"),Y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sk=["post","put","patch","delete"];new Set(sk);const Z3=["get",...sk];new Set(Z3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}const gg=p.createContext(null),eD=p.createContext(null),$a=p.createContext(null),ah=p.createContext(null),Qs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ak=p.createContext(null);function tD(e,t){let{relative:n}=t===void 0?{}:t;lc()||mt(!1);let{basename:r,navigator:s}=p.useContext($a),{hash:a,pathname:i,search:o}=ok(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Is([r,i])),s.createHref({pathname:c,search:o,hash:a})}function lc(){return p.useContext(ah)!=null}function Fa(){return lc()||mt(!1),p.useContext(ah).location}function ik(e){p.useContext($a).static||p.useLayoutEffect(e)}function yg(){let{isDataRoute:e}=p.useContext(Qs);return e?pD():nD()}function nD(){lc()||mt(!1);let e=p.useContext(gg),{basename:t,future:n,navigator:r}=p.useContext($a),{matches:s}=p.useContext(Qs),{pathname:a}=Fa(),i=JSON.stringify(nk(s,n.v7_relativeSplatPath)),o=p.useRef(!1);return ik(()=>{o.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=rk(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Is([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}function rD(){let{matches:e}=p.useContext(Qs),t=e[e.length-1];return t?t.params:{}}function ok(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext($a),{matches:s}=p.useContext(Qs),{pathname:a}=Fa(),i=JSON.stringify(nk(s,r.v7_relativeSplatPath));return p.useMemo(()=>rk(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function sD(e,t){return aD(e,t)}function aD(e,t,n,r){lc()||mt(!1);let{navigator:s}=p.useContext($a),{matches:a}=p.useContext(Qs),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Fa(),d;if(t){var h;let x=typeof t=="string"?yo(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||mt(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=_3(e,{pathname:m}),g=uD(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Is([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Is([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return t&&g?p.createElement(ah.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Es.Pop}},g):g}function iD(){let e=mD(),t=J3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const oD=p.createElement(iD,null);class lD extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Qs.Provider,{value:this.props.routeContext},p.createElement(ak.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cD(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(gg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Qs.Provider,{value:t},r)}function uD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||mt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let m,y=!1,g=null,x=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||oD,c&&(u<0&&f===0?(gD("route-fallback"),y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),b=()=>{let w;return m?w=g:y?w=x:h.route.Component?w=p.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,p.createElement(cD,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(lD,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var lk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lk||{}),ck=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ck||{});function dD(e){let t=p.useContext(gg);return t||mt(!1),t}function hD(e){let t=p.useContext(eD);return t||mt(!1),t}function fD(e){let t=p.useContext(Qs);return t||mt(!1),t}function uk(e){let t=fD(),n=t.matches[t.matches.length-1];return n.route.id||mt(!1),n.route.id}function mD(){var e;let t=p.useContext(ak),n=hD(),r=uk();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function pD(){let{router:e}=dD(lk.UseNavigateStable),t=uk(ck.UseNavigateStable),n=p.useRef(!1);return ik(()=>{n.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ol({fromRouteId:t},a)))},[e,t])}const yx={};function gD(e,t,n){yx[e]||(yx[e]=!0)}function yD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qn(e){mt(!1)}function vD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Es.Pop,navigator:a,static:i=!1,future:o}=e;lc()&&mt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:i,future:Ol({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=yo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,g=p.useMemo(()=>{let x=pg(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:y},navigationType:s}},[c,d,h,f,m,y,s]);return g==null?null:p.createElement($a.Provider,{value:u},p.createElement(ah.Provider,{children:n,value:g}))}function vx(e){let{children:t,location:n}=e;return sD(ip(t),n)}new Promise(()=>{});function ip(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let a=[...t,s];if(r.type===p.Fragment){n.push.apply(n,ip(r.props.children,a));return}r.type!==qn&&mt(!1),!r.props.index||!r.props.children||mt(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ip(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(this,arguments)}function xD(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wD(e,t){return e.button===0&&(!t||t==="_self")&&!bD(e)}const SD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kD="6";try{window.__reactRouterVersion=kD}catch{}const jD="startTransition",xx=r0[jD];function ED(e){let{basename:t,children:n,future:r,window:s}=e,a=p.useRef();a.current==null&&(a.current=N3({window:s,v5Compat:!0}));let i=a.current,[o,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&xx?xx(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>yD(r),[r]),p.createElement(vD,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const CD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=xD(t,SD),{basename:m}=p.useContext($a),y,g=!1;if(typeof u=="string"&&TD.test(u)&&(y=u,CD))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=pg(S.pathname,m);S.origin===w.origin&&k!=null?u=k+S.search+S.hash:g=!0}catch{}let x=tD(u,{relative:s}),v=ND(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function b(w){r&&r(w),w.defaultPrevented||v(w)}return p.createElement("a",op({},f,{href:y||x,onClick:g||a?r:b,ref:n,target:c}))});var bx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bx||(bx={}));var wx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wx||(wx={}));function ND(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=yg(),u=Fa(),d=ok(e,{relative:i});return p.useCallback(h=>{if(wD(h,n)){h.preventDefault();let f=r!==void 0?r:od(u)===od(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,d,r,s,n,e,a,i,o])}const PD=[{path:"/",icon:W_,label:"Home"},{path:"/logs",icon:$_,label:"Logs"},{path:"/library",icon:J0,label:"Library"},{path:"/story",icon:Xd,label:"Story"},{path:"/statistics",icon:Q0,label:"Stats"},{path:"/about",icon:t5,label:"About"}],Sx={superBloodMoon:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.95), rgba(80, 10, 10, 0.9), rgba(100, 20, 20, 0.8))",borderTop:"1px solid rgba(255, 50, 50, 0.6)",boxShadow:"0 -10px 40px rgba(220, 20, 60, 0.6), 0 -2px 10px rgba(255, 0, 0, 0.4), inset 0 2px 20px rgba(255, 50, 50, 0.2)",animation:"bloodPulse 3s ease-in-out infinite",backdropFilter:"blur(20px) saturate(150%)"},superBlueBloodMoon:{background:"linear-gradient(135deg, rgba(20, 0, 40, 0.95), rgba(60, 20, 80, 0.9), rgba(100, 40, 120, 0.8))",borderTop:"1px solid rgba(200, 100, 255, 0.6)",borderImage:"linear-gradient(90deg, transparent, rgba(200, 100, 255, 1), rgba(100, 200, 255, 1), transparent) 1",boxShadow:"0 -10px 40px rgba(120, 20, 220, 0.6), 0 -2px 10px rgba(200, 100, 255, 0.4), inset 0 2px 20px rgba(200, 100, 255, 0.2)",animation:"royalShimmer 4s ease-in-out infinite",backdropFilter:"blur(20px) saturate(180%)"},lunarTransientPhenomena:{background:"linear-gradient(to top, rgba(10, 10, 20, 0.95), rgba(30, 30, 60, 0.9))",borderTop:"1px solid rgba(150, 255, 255, 0.8)",boxShadow:"0 -5px 30px rgba(100, 255, 255, 0.5), 0 0 15px rgba(100, 255, 255, 0.3), inset 0 0 20px rgba(100, 255, 255, 0.1)",animation:"electricGlitch 3s steps(5) infinite",backdropFilter:"blur(15px) brightness(1.2)"},hybridEclipse:{background:"linear-gradient(to top, rgba(20, 10, 0, 0.95), rgba(60, 40, 10, 0.9))",borderTop:"1px solid rgba(255, 200, 100, 0.8)",boxShadow:"0 -5px 35px rgba(255, 160, 50, 0.6), 0 0 15px rgba(255, 200, 100, 0.4), inset 0 2px 10px rgba(255, 200, 100, 0.2)",animation:"eclipsePulse 4s ease-in-out infinite",backdropFilter:"blur(18px) contrast(1.1)"},stillMoon:{background:"linear-gradient(to top, rgba(200, 220, 255, 0.15), rgba(255, 255, 255, 0.05))",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 -5px 30px rgba(200, 230, 255, 0.4), inset 0 0 30px rgba(200, 230, 255, 0.2)",backdropFilter:"blur(30px) brightness(1.1)",animation:"stillFreeze 10s linear infinite"},echoMoon:{background:"linear-gradient(to top, rgba(30, 15, 60, 0.98), rgba(15, 5, 30, 0.98))",backgroundSize:"200% 100%",borderTop:"2px solid rgba(180, 130, 255, 0.8)",borderImage:"repeating-linear-gradient(90deg, rgba(160, 100, 255, 0.5) 0, rgba(200, 150, 255, 1) 20px, rgba(160, 100, 255, 0.5) 40px) 1",boxShadow:`
      0 -5px 25px rgba(140, 70, 255, 0.6),
      0 -10px 50px rgba(124, 58, 237, 0.3),
      inset 0 4px 20px rgba(200, 160, 255, 0.2)
    `,animation:"echoRipple 3s infinite linear",backdropFilter:"blur(25px)"},brokenMoon:{background:"linear-gradient(to top, rgba(10, 10, 12, 0.95), rgba(30, 30, 35, 0.9))",borderTop:"2px dashed rgba(255, 255, 255, 0.4)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1)",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px)",backdropFilter:"blur(15px) grayscale(0.8)"},emptySky:{background:"#050505",borderTop:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 -10px 50px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 255, 255, 0.1) inset",backdropFilter:"blur(50px) brightness(0.5)"},crystalMoon:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(200, 240, 255, 0.2))",borderTop:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 -5px 35px rgba(200, 240, 255, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(25px) contrast(1.2)",animation:"crystalFacet 5s ease-in-out infinite"},arcticMoon:{background:"linear-gradient(to top, rgba(20, 40, 60, 0.9), rgba(50, 100, 150, 0.8))",borderTop:"1px solid rgba(150, 230, 255, 0.8)",boxShadow:"0 -8px 30px rgba(100, 200, 255, 0.5), inset 0 0 20px rgba(150, 230, 255, 0.3)",backdropFilter:"blur(20px) brightness(1.1)"},shatteredMoon:{background:"linear-gradient(to top, rgba(20, 20, 25, 0.95), rgba(50, 50, 60, 0.9))",borderTop:"1px double rgba(255, 255, 255, 0.5)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.25), inset 0 0 10px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)"},cosmicVoyageMoon:{background:"linear-gradient(to top, rgba(30, 10, 60, 0.95), rgba(60, 20, 100, 0.9))",borderTop:"1px solid rgba(200, 100, 255, 0.7)",boxShadow:"0 -8px 35px rgba(150, 50, 255, 0.5), inset 0 0 15px rgba(200, 100, 255, 0.2)",backdropFilter:"blur(20px)"},nebulaDreamMoon:{background:"linear-gradient(to top, rgba(40, 20, 60, 0.95), rgba(80, 40, 100, 0.9))",borderTop:"1px solid rgba(255, 150, 255, 0.7)",boxShadow:"0 -8px 35px rgba(255, 100, 255, 0.5), 0 0 20px rgba(255, 100, 255, 0.2) inset",backdropFilter:"blur(20px)",animation:"nebulaSwirl 6s ease-in-out infinite"},pixelDreamMoon:{background:"linear-gradient(to bottom, #1e1b4b 60%, #0e7490 60%)",borderTop:"4px solid #3730a3",boxShadow:`
      0 -4px 0 #c7d2fe,              /* Top Highlight (Light Blue) */
      0 4px 0 #312e81,               /* Bottom Shadow (Deep Indigo) */
      0 8px 0 rgba(15, 23, 42, 0.5)  /* Drop Shadow */
    `,imageRendering:"pixelated"}};function ih(){const e=Fa(),[t,n]=p.useState(null);p.useEffect(()=>{const s=document.documentElement.getAttribute("data-mythic-theme");n(s);const a=new MutationObserver(()=>{const i=document.documentElement.getAttribute("data-mythic-theme");n(i)});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["data-mythic-theme"]}),()=>a.disconnect()},[]);const r=t&&Sx[t]?{...Sx[t]}:void 0;if(r){const s=r.animation||"";r.animation=`mythicThemeEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards${s?`, ${s}`:""}`}return l.jsxs("nav",{className:q("mythic-bottom-nav fixed bottom-0 left-0 right-0 border-t z-20",!t&&"bg-background"),style:r,children:[t==="hybridEclipse"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255, 220, 120, 0.8) 50%, transparent)",animation:"goldenWave 3s ease-in-out infinite"}}),t==="pixelDreamMoon"&&l.jsx("div",{className:"absolute left-0 right-0 h-[4px] z-50 pointer-events-none",style:{top:"-4px",background:"repeating-linear-gradient(90deg, #1e1b4b 0%, #1e1b4b 10%, #3b82f6 10%, #3b82f6 20%, #06b6d4 20%, #06b6d4 24%, #ffffff 24%, #ffffff 26%, #06b6d4 26%, #06b6d4 30%, #3b82f6 30%, #3b82f6 40%, #1e1b4b 40%, #1e1b4b 50%)",backgroundSize:"200% 100%",animation:"pixelSlowFlow 8s linear infinite",boxShadow:"0 0 8px rgba(6, 182, 212, 0.6)"}}),l.jsx("style",{children:`
        @keyframes pixelSlowFlow { 
          0% { background-position: -200% 0; } 
          100% { background-position: 0% 0; } 
        }
      `}),t==="arcticMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1026] via-[#1b2735] to-[#090a0f]"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 50% 40%, white 10%, transparent 0), radial-gradient(2px 2px at 80% 20%, white 10%, transparent 0), radial-gradient(1px 1px at 30% 70%, white 20%, transparent 0)",backgroundSize:"200px 200px"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{background:"linear-gradient(120deg, rgba(0,255,150,0.3), rgba(0,0,0,0), rgba(150,0,255,0.3))",backgroundSize:"200% 200%",animation:"auroraShift 15s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-80 mix-blend-screen",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(0, 255, 180, 0.5), transparent 70%), linear-gradient(90deg, transparent, rgba(50, 255, 200, 0.3), transparent)",filter:"blur(15px)",transformOrigin:"bottom center",animation:"auroraWave 8s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-70 mix-blend-screen",style:{background:"radial-gradient(ellipse at 80% 80%, rgba(220, 50, 255, 0.4), transparent 60%)",filter:"blur(20px)",transformOrigin:"bottom center",animation:"auroraWave 12s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute top-0 left-0 w-[200%] h-full opacity-50 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.8), rgba(180, 100, 255, 0.6), transparent)",transform:"skewX(-20deg)",backgroundSize:"200% 100%",animation:"borderFlow 6s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`twinkle ${Math.random()*3+2}s ease-in-out infinite`,opacity:Math.random()*.8+.2}},a)),l.jsx("div",{className:"absolute inset-0 z-40 mix-blend-overlay pointer-events-none",style:{background:"radial-gradient(circle at 50% -20%, rgba(200, 255, 255, 0.8), transparent 70%)",animation:"auroraFlare 18s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute z-20",style:{top:-Math.random()*100-50+"%",right:Math.random()*100-20+"%",width:Math.random()*120+80+"px",height:"2px",opacity:0,background:`linear-gradient(to right, transparent, ${Math.random()>.5?"white":"#a5f3fc"}, transparent)`,filter:`drop-shadow(0 0 ${Math.random()*3+2}px ${Math.random()>.5?"white":"cyan"})`,animation:`shootingStar ${Math.random()*5+3}s linear infinite ${Math.random()*10}s both`,transform:"rotate(-45deg)"}},a)),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40px] z-10",style:{background:"linear-gradient(to top, rgba(100, 200, 255, 0.2), transparent)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-50 opacity-90",style:{background:"linear-gradient(90deg, transparent, #00ffcc, #bd00ff, #00ffcc, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 10px rgba(0, 255, 200, 0.6), 0 0 20px rgba(189, 0, 255, 0.4)"}}),l.jsx("div",{className:"absolute top-[2px] left-0 right-0 h-[1px] z-40 opacity-50 mix-blend-overlay",style:{background:"white"}})]}),t==="echoMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, rgba(20, 10, 40, 0.6), transparent)"}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute rounded-full border border-white/30",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out"}}),l.jsx("div",{className:"absolute rounded-full border border-white/20",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 1s"}}),l.jsx("div",{className:"absolute rounded-full border border-white/10",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 2s"}})]}),l.jsx("div",{className:"absolute left-[20%] top-[40%] rounded-full border border-white/20",style:{width:"50px",height:"50px",animation:"waterRipple 4s infinite ease-out 0.5s"}}),l.jsx("div",{className:"absolute right-[20%] top-[30%] rounded-full border border-white/20",style:{width:"60px",height:"60px",animation:"waterRipple 5s infinite ease-out 2.5s"}}),[...Array(5)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[1px]",style:{width:Math.random()*3+1+"px",height:Math.random()*3+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`echoParticle ${Math.random()*2+2}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-20",style:{background:"linear-gradient(90deg, rgba(160, 100, 255, 0), rgba(200, 160, 255, 0.8), rgba(255, 255, 255, 1), rgba(200, 160, 255, 0.8), rgba(160, 100, 255, 0))",backgroundSize:"200% 100%",animation:"liquidBorder 3s linear infinite",boxShadow:"0 2px 10px rgba(180, 130, 255, 0.5)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 40% 60%, rgba(180, 0, 50, 0.5), transparent 50%)",filter:"blur(20px)",animation:"plasmaFlow 10s ease-in-out infinite alternate"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 60% 40%, rgba(50, 60, 200, 0.6), transparent 50%)",filter:"blur(15px)",animation:"plasmaFlow 8s ease-in-out infinite alternate-reverse"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`starFloat ${Math.random()*10+10}s infinite linear, starTwinkle ${Math.random()*1+.5}s infinite ease-in-out alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(255, 50, 50, 0.8), rgba(200, 100, 255, 1), rgba(50, 100, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"flowRight 3s linear infinite",boxShadow:"0 0 15px rgba(200, 50, 200, 0.6)"}})]}),t==="hybridEclipse"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0a0500]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-40 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 180, 50, 0.3), rgba(255, 220, 100, 0.5), rgba(255, 180, 50, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 10s linear infinite"}}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 140, 0, 0.2), transparent)",backgroundSize:"25% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 7s linear infinite reverse"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E")`,mixBlendMode:"overlay"}}),[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-yellow-100 blur-[1px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 5px rgba(255, 200, 50, 0.8)",animation:`starFloat ${Math.random()*5+3}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(200, 120, 20, 0), rgba(255, 200, 100, 1), rgba(200, 120, 20, 0), transparent)",backgroundSize:"200% 100%",animation:"flowRight 4s linear infinite",boxShadow:"0 1px 15px rgba(255, 160, 50, 0.5)"}})]}),t==="brokenMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0c0c16]/98"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent 0, transparent 20px, rgba(160, 160, 200, 0.1) 21px, transparent 22px), repeating-linear-gradient(-45deg, transparent 0, transparent 35px, rgba(160, 160, 200, 0.1) 36px, transparent 37px)",animation:"voidCracks 5s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 mix-blend-color-dodge opacity-20",style:{background:"linear-gradient(90deg, transparent, rgba(100, 100, 255, 0.2), transparent)",backgroundSize:"200% 100%",animation:"flowRight 0.2s steps(4) infinite",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}}),[...Array(10)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/40",style:{width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`shardFloat ${Math.random()*4+2}s linear infinite ${Math.random()*2}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(150, 150, 200, 0.5), rgba(200, 200, 255, 0.9), rgba(150, 150, 200, 0.5), transparent)",boxShadow:"0 0 10px rgba(180, 180, 255, 0.4)",animation:"glitchBorder 3s infinite"}})]}),t==="cosmicVoyageMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0b0515]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-50 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(100, 20, 200, 0.3), rgba(60, 20, 150, 0.5), rgba(100, 20, 200, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 5s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute w-[2px] bg-white rounded-full mix-blend-screen opacity-40",style:{height:Math.random()*30+10+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`warpSpeed ${Math.random()*2+1.5}s linear infinite ${Math.random()*3}s`,boxShadow:"0 0 2px rgba(200, 200, 255, 0.5)"}},a)),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-white rounded-full opacity-60",style:{top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`pulse ${Math.random()*2+1}s ease-in-out infinite`}},`star-${a}`)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 opacity-40",style:{background:"linear-gradient(90deg, transparent, #8a2be2, transparent)"}}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-screen",style:{background:"linear-gradient(90deg, transparent, rgba(150, 50, 255, 0), rgba(255, 200, 255, 1) 50%, rgba(150, 50, 255, 0), transparent)",backgroundSize:"200% 100%",boxShadow:"0 0 20px rgba(220, 150, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.5)",animation:"mistFlow 1.5s linear infinite"}})]}),t==="crystalMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0f1525]/90"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{background:"linear-gradient(135deg, rgba(200, 240, 255, 0.1), rgba(255, 200, 250, 0.15), rgba(200, 240, 255, 0.1), transparent)",backgroundSize:"200% 200%",animation:"prismReflect 5s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/20 border border-white/40",style:{width:Math.random()*8+4+"px",height:Math.random()*8+4+"px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`crystalFloat ${Math.random()*4+3}s ease-in-out infinite ${Math.random()*2}s`,backdropFilter:"blur(2px)"}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 bg-white/40"}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.5), rgba(255, 165, 0, 0.5), rgba(255, 255, 0, 0.5), rgba(0, 255, 0, 0.5), rgba(0, 0, 255, 0.5), rgba(238, 130, 238, 0.5), transparent)",backgroundSize:"200% 100%",animation:"prismFlow 3s linear infinite, rainbowBorder 6s linear infinite"}})]}),t==="stillMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#b3e5fc] via-[#e1f5fe] to-[#ffffff]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjgiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuNSIvPjwvc3ZnPg==')",filter:"contrast(180%)"}}),l.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[150%] bg-white/20 backdrop-blur-sm z-10",style:{clipPath:"polygon(0 0, 100% 0, 80% 100%, 0 100%)",boxShadow:"inset 0 0 20px rgba(255,255,255,0.5)"}}),l.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[150%] bg-white/10 backdrop-blur-md z-10",style:{clipPath:"polygon(20% 0, 100% 0, 100% 100%, 0 100%)",borderLeft:"1px solid rgba(255,255,255,0.4)"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white z-20",style:{width:Math.random()<.2?"3px":"1.5px",height:Math.random()<.2?"3px":"1.5px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.4,boxShadow:"0 0 4px rgba(255,255,255,0.9)",animation:`pulse ${Math.random()*4+2}s ease-in-out infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 bg-white",style:{boxShadow:"0 0 15px rgba(200, 240, 255, 1), 0 0 30px rgba(200, 240, 255, 0.6)"}})]}),t==="nebulaDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#1a0b2e]/95 backdrop-blur-md"}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 0, 150, 0.3), transparent 60%), radial-gradient(circle at 70% 50%, rgba(0, 200, 255, 0.3), transparent 60%)",filter:"blur(10px)",animation:"nebulaPulse 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjAyIiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=')",animation:"mistFlow 10s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.8+.2,animation:`stardustTwinkle ${Math.random()*2+1}s ease-in-out infinite ${Math.random()}s`,boxShadow:`0 0 ${Math.random()*4+2}px ${a%2===0?"#ff00ff":"#00ffff"}`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",boxShadow:"0 0 15px rgba(255, 0, 255, 0.5), 0 0 30px rgba(0, 255, 255, 0.3)"}})]}),t==="superBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 3s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(50, 0, 0, 0.8), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 20% 20%, #ffaaaa 10%, transparent 0), radial-gradient(1.5px 1.5px at 60% 80%, #ff4444 10%, transparent 0)",backgroundSize:"200px 200px",animation:"pulse 4s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 35% 35%, #800000 0%, #500000 40%, #2a0a0a 100%)",boxShadow:"0 0 60px rgba(255, 30, 30, 0.6), inset -10px -10px 40px rgba(0,0,0,0.9)",filter:"contrast(1.2) brightness(1.2)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-60 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(0,0,0,0.7) 4%, transparent 12%), radial-gradient(circle at 65% 60%, rgba(0,0,0,0.6) 8%, transparent 20%), radial-gradient(circle at 45% 75%, rgba(0,0,0,0.5) 5%, transparent 15%), radial-gradient(circle at 80% 30%, rgba(0,0,0,0.6) 3%, transparent 10%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 20px rgba(255, 100, 100, 0.8), 0 0 10px rgba(255, 50, 50, 0.5)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-overlay",style:{background:"radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.6), transparent 70%)",animation:"flashPulse 4s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.6), transparent)",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-red-600/20 blur-xl",style:{width:Math.random()*100+50+"px",height:Math.random()*100+50+"px",bottom:"-50px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*10+10}s linear infinite reverse`}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #ff0000, #ff4444, #ff0000, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(255, 0, 0, 0.6)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(80, 0, 100, 0.4), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(1.5px 1.5px at 20% 20%, #aaddff 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 80%, #ffaaaa 10%, transparent 0)",backgroundSize:"250px 250px",animation:"pulse 5s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 30% 30%, #1e1b4b 0%, #4c0519 60%, #000000 100%)",boxShadow:"0 0 60px rgba(100, 50, 255, 0.4), inset -10px -10px 50px rgba(100, 0, 50, 0.8)",filter:"contrast(1.3) brightness(1.1)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-50 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 30% 40%, rgba(50,50,100,0.5) 5%, transparent 15%), radial-gradient(circle at 70% 60%, rgba(100,50,50,0.5) 8%, transparent 20%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 10px 10px 30px rgba(100, 150, 255, 0.6), inset -10px -10px 30px rgba(255, 50, 100, 0.4)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-color-dodge",style:{background:"radial-gradient(circle at 50% 50%, rgba(120, 50, 255, 0.4), transparent 70%)",animation:"flashPulse 5s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(20, 0, 40, 0.4), transparent)"},children:[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full blur-md",style:{backgroundColor:a%2===0?"#60a5fa":"#f43f5e",width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",bottom:"-20px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*8+8}s linear infinite reverse`,opacity:.6}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #3b82f6, #a855f7, #ef4444, #a855f7, #3b82f6, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(168, 85, 247, 0.6)"}})]}),(t==="brokenMoon"||t==="shatteredMoon")&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#020205]"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] h-[12px] z-20",style:{background:"linear-gradient(90deg, #2e004d, #ffffff, #2e004d)",clipPath:"polygon(0% 45%, 10% 30%, 20% 60%, 30% 35%, 40% 65%, 50% 20%, 60% 70%, 70% 30%, 80% 60%, 90% 40%, 100% 50%, 100% 55%, 90% 45%, 80% 65%, 70% 35%, 60% 75%, 50% 25%, 40% 70%, 30% 40%, 20% 65%, 10% 35%, 0% 55%)",filter:"drop-shadow(0 0 10px rgba(100, 150, 255, 0.8)) drop-shadow(0 0 20px rgba(180, 50, 255, 0.6))",animation:"pulse 3s ease-in-out infinite alternate"},children:l.jsx("div",{className:"absolute inset-0 bg-white opacity-80 mix-blend-overlay",style:{animation:"flashPulse 0.1s infinite alternate"}})}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[60px] z-10 opacity-30",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(100, 200, 255, 0.4) 0%, transparent 70%)",filter:"blur(10px)",animation:"pulse 4s ease-in-out infinite"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full z-30",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 4px white",opacity:Math.random()*.7+.3,animation:`twinkle ${Math.random()*2+1}s infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#a855f7] to-transparent opacity-50"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#3b82f6] to-transparent opacity-50"})]}),t==="lunarTransientPhenomena"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 1.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]/95 backdrop-blur-xl"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",maskImage:"radial-gradient(circle at 50% 50%, black 40%, transparent 80%)"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute top-0 h-[2px] bg-gradient-to-r from-transparent via-[#00ffcc] to-transparent",style:{width:"30%",top:a*20+"%",opacity:.7,animation:`dataStream ${Math.random()*2+2}s linear infinite ${Math.random()*2}s`,boxShadow:"0 0 8px #00ffcc"}},a)),l.jsx("div",{className:"absolute top-0 h-[3px] w-[50%] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",animation:"laserScan 3s linear infinite",boxShadow:"0 0 15px rgba(255, 0, 255, 0.8)"}}),l.jsx("div",{className:"absolute inset-0 bg-white/10 mix-blend-overlay",style:{animation:"flashPulse 4s infinite random"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/20"})]}),t==="emptySky"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 4s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 50% 50%, rgba(70, 0, 150, 0.2), transparent 60%)",filter:"blur(20px)"}}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 40%, #b080ff 10%, transparent 0), radial-gradient(2px 2px at 40% 80%, white 10%, transparent 0)",backgroundSize:"300px 300px",animation:"accretionSpin 120s linear infinite"}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] z-10 pointer-events-none rounded-full",style:{background:"radial-gradient(circle, transparent 30%, rgba(150, 50, 255, 0.05) 40%, transparent 70%)",backdropFilter:"blur(2px) contrast(1.1)",transform:"scale(1.2)"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] pointer-events-none z-40 flex items-center justify-center scale-60",children:[l.jsx("div",{className:"absolute w-[280px] h-[280px] rounded-full opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 50% 50%, transparent 60%, rgba(120, 50, 255, 0.6) 65%, transparent 70%)",animation:"diskPulse 4s ease-in-out infinite",filter:"blur(4px)"}}),l.jsx("div",{className:"absolute w-[160px] h-[160px] rounded-full z-20",style:{background:"conic-gradient(from 0deg, #4c1d95 0%, #8b5cf6 25%, #ffffff 50%, #8b5cf6 75%, #4c1d95 100%)",maskImage:"radial-gradient(transparent 64%, black 66%)",WebkitMaskImage:"radial-gradient(transparent 64%, black 66%)",animation:"accretionSpin 0.9s linear infinite",boxShadow:"0 0 30px rgba(139, 92, 246, 0.6)"}}),l.jsx("div",{className:"absolute w-[150px] h-[150px] rounded-full z-10 bg-black box-border border border-purple-500/30"})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 opacity-100",style:{background:"linear-gradient(90deg, transparent 0%, #4c1d95 20%, #8b5cf6 45%, #ffffff 50%, #8b5cf6 55%, #4c1d95 80%, transparent 100%)",backgroundSize:"200% 100%",animation:"borderFlow 0.4s linear infinite",boxShadow:"0 0 15px rgba(139, 92, 246, 0.7)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[40px] z-20 opacity-30 pointer-events-none",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(150, 50, 255, 0.5), transparent 70%)"}}),[...Array(12)].map((s,a)=>l.jsx("div",{className:"absolute bg-zinc-800 rounded-full z-20 opacity-80",style:{width:Math.random()*4+2+"px",height:Math.random()*3+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*15+10}s linear infinite`,boxShadow:"inset 1px 1px 2px rgba(0,0,0,0.8)"}},a))]}),t==="pixelDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute left-0 right-0 h-[4px] z-50",style:{top:"-4px",background:"linear-gradient(90deg, transparent 0%, transparent 20%, #ffffff 40%, #ffffff 60%, transparent 80%, transparent 100%)",backgroundSize:"200% 100%",opacity:1,animation:"pixelBeam 2s linear infinite",boxShadow:"0 0 4px #ffffff"}}),l.jsx("style",{children:`
             @keyframes pixelBeam { 
               0% { background-position: 200% 0; } 
               100% { background-position: -200% 0; } 
             }
           `}),l.jsxs("div",{className:"absolute inset-x-0 top-0 h-[60%] overflow-hidden",children:[[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white opacity-60",style:{width:"2px",height:"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 1px white"}},`star-static-${a}`)),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute bg-[#a5b4fc]",style:{width:"3px",height:"3px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",animation:`pulse ${Math.random()*2+1}s infinite alternate`}},`star-twinkle-${a}`)),l.jsx("div",{className:"absolute top-0 left-[20%]",style:{width:"4px",height:"4px",background:"#ffffff",boxShadow:"2px 2px 0 #c7d2fe, 4px 4px 0 #818cf8, 6px 6px 0 #4338ca",animation:"shootingStar 4s ease-in-out infinite"},children:l.jsx("style",{children:`
                 @keyframes shootingStar {
                   0% { transform: translate(-100px, -100px); opacity: 0; }
                   10% { opacity: 1; }
                   20% { transform: translate(200px, 200px); opacity: 0; }
                   100% { transform: translate(200px, 200px); opacity: 0; }
                 }
               `})})]}),l.jsxs("div",{className:"absolute inset-x-0 bottom-0 h-[60%]",children:[l.jsx("div",{className:"absolute inset-0 opacity-30 transform -rotate-12 scale-150",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 60%)",pointerEvents:"none"}}),[...Array(30)].map((s,a)=>l.jsx("div",{className:"absolute bg-white opacity-40",style:{width:"1px",height:"1px",top:Math.random()*80+"%",left:Math.random()*80+10+"%",animation:`twinkle ${Math.random()*3+2}s infinite`}},`star-milky-${a}`)),l.jsx("div",{className:"absolute top-[10%] left-[20%] w-[2px] h-[2px] bg-white rounded-full z-0 opacity-0",style:{boxShadow:"0 0 4px white, 2px 2px 0 rgba(255,255,255,0.5)",animation:"shootingStar 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute top-[30%] left-[50%] w-[1px] h-[1px] bg-cyan-200 rounded-full z-0 opacity-0",style:{boxShadow:"0 0 2px cyan",animation:"shootingStar 9s ease-in-out infinite 3s"}}),[...Array(3)].map((s,a)=>l.jsxs("div",{className:"absolute opacity-20",style:{top:`${20+a*15}%`,left:`${a*30}%`,animation:`cloudDrift ${15+a*5}s linear ${a*3}s infinite`},children:[l.jsx("div",{className:"w-[8px] h-[3px] bg-white rounded-sm"}),l.jsx("div",{className:"absolute top-[-2px] left-[2px] w-[4px] h-[3px] bg-white rounded-sm"}),l.jsx("div",{className:"absolute top-[-2px] right-[1px] w-[3px] h-[2px] bg-white rounded-sm"})]},`cloud-${a}`)),l.jsx("style",{children:"@keyframes cloudDrift { 0% { transform: translateX(0); } 100% { transform: translateX(100vw); } }"}),l.jsxs("div",{className:"absolute top-[15%] left-[5%] opacity-70",children:[l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:0,left:0}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"10px",left:"20px"}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"25px",left:"35px"}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"35px",left:"55px"}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"45px",left:"55px"}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"45px",left:"80px"}}),l.jsx("div",{className:"absolute w-[2px] h-[2px] bg-white shadow-[0_0_2px_white]",style:{top:"35px",left:"80px"}}),l.jsx("svg",{className:"absolute top-0 left-0 w-[100px] h-[60px] opacity-20 pointer-events-none",children:l.jsx("polyline",{points:"1,1 21,11 36,26 56,36 56,46 81,46 81,36 56,36",fill:"none",stroke:"white",strokeWidth:"0.5"})})]}),[10,20,70,85].map((s,a)=>l.jsxs("div",{className:"absolute bottom-[35%]",style:{left:`${s}%`},children:[l.jsxs("div",{style:{width:"0",height:"0",borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"16px solid #164e63",transform:`scale(${1+a*.1})`,transformOrigin:"bottom center",animation:`treeSway ${4+a}s ease-in-out infinite alternate`},children:[l.jsx("div",{className:"absolute top-[4px] left-[-2px] w-[1px] h-[1px] bg-[#0eaaaf] opacity-50"}),l.jsx("div",{className:"absolute top-[8px] right-[-2px] w-[1px] h-[1px] bg-[#0eaaaf] opacity-50"})]}),a===1&&l.jsxs("div",{className:"absolute top-[6px] right-[-4px] animate-pulse",style:{animation:`treeSway ${4+a}s ease-in-out infinite alternate`},children:[l.jsx("div",{className:"w-[2px] h-[3px] bg-[#fbbf24] shadow-[0_0_4px_#fbbf24]"}),l.jsx("div",{className:"absolute -top-[1px] left-0 w-[2px] h-[1px] bg-[#78350f]"})]})]},`tree-detailed-${a}`)),l.jsx("div",{className:"absolute inset-0 w-[150%] -left-[20%] rounded-[100%] bg-[#155e75] shadow-[inset_0_2px_0_#164e63]",style:{transform:"scaleY(0.5) translateY(40%)",opacity:.8}}),l.jsx("div",{className:"absolute bottom-6 left-[45%] z-10",style:{width:"0",height:"0",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"12px solid #ef4444",filter:"drop-shadow(2px 0 0 #7f1d1d)"},children:l.jsx("div",{className:"absolute top-[2px] left-[-2px] w-0 h-0 border-l-[2px] border-r-[2px] border-b-[8px] border-b-[#1e293b] border-l-transparent border-r-transparent"})}),l.jsxs("div",{className:"absolute bottom-4 left-[42%] z-10",style:{animation:"foxBreathe 2s ease-in-out infinite"},children:[l.jsx("div",{className:"w-[6px] h-[4px] bg-[#f97316] rounded-t-lg rounded-bl-lg"})," ",l.jsx("div",{className:"absolute -top-[2px] left-0 w-[2px] h-[2px] bg-[#f97316]"})," ",l.jsx("div",{className:"absolute top-[1px] -right-[2px] w-[3px] h-[3px] bg-[#fff7ed] rounded-full"})," ",l.jsx("div",{className:"absolute -top-[6px] -right-[4px] text-[6px] text-white opacity-60",style:{animation:"zzz 3s ease-in-out infinite"},children:"z"})]}),l.jsx("style",{children:`
                 @keyframes foxBreathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
                 @keyframes zzz { 0%, 100% { transform: translateY(0); opacity: 0; } 50% { transform: translateY(-8px); opacity: 0.6; } }
               `}),l.jsxs("div",{className:"absolute bottom-5 left-[50%] w-1 h-1 bg-orange-500 rounded-full z-10",style:{boxShadow:"0 0 6px orange, 0 -2px 8px rgba(255, 69, 0, 0.8)",animation:"flicker 0.2s infinite alternate"},children:[l.jsx("div",{className:"absolute -bottom-[2px] -left-[2px] w-2 h-[2px] bg-[#78350f]"}),[...Array(3)].map((s,a)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-orange-400 rounded-full",style:{bottom:"2px",left:`${a}px`,animation:`emberRise ${Math.random()*2+1}s ease-out ${a*.3}s infinite`}},`ember-${a}`))]}),l.jsx("style",{children:"@keyframes emberRise { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-20px) scale(0.3); opacity: 0; } }"}),l.jsxs("div",{className:"absolute bottom-5 left-[52%] z-10",style:{animation:"guitarVibrate 0.5s ease-in-out infinite alternate"},children:[l.jsx("div",{className:"w-[3px] h-[8px] bg-[#92400e] rounded-[1px] shadow-[1px_1px_0_#000] rotate-12"}),l.jsx("div",{className:"absolute top-[2px] left-[1px] w-[1px] h-[4px] bg-[#fbbf24] opacity-30"})]}),l.jsx("style",{children:"@keyframes guitarVibrate { from { transform: rotate(-1deg); } to { transform: rotate(1deg); } }"}),[15,25,60,75,80].map((s,a)=>l.jsxs("div",{className:"absolute bottom-4 z-10",style:{left:`${s}%`},children:[l.jsx("div",{className:"w-[4px] h-[3px] bg-[#ef4444] rounded-t-sm"})," ",l.jsx("div",{className:"absolute top-[1px] left-[1px] w-[1px] h-[1px] bg-white"})," ",l.jsx("div",{className:"absolute bottom-[-2px] left-[1px] w-[2px] h-[2px] bg-[#fcd34d]"})," "]},`mushroom-${a}`)),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bottom-3 w-[1px] h-[3px] bg-[#4ade80]",style:{left:`${Math.random()*90+5}%`,opacity:.6,animation:`grassSway ${Math.random()*2+1}s ease-in-out ${Math.random()}s infinite alternate`,transformOrigin:"bottom"}},`grass-${a}`)),l.jsx("style",{children:"@keyframes grassSway { from { transform: rotate(-5deg); } to { transform: rotate(5deg); } }"}),[...Array(12)].map((s,a)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-[#fcd34d] rounded-full",style:{bottom:Math.random()*40+"%",left:Math.random()*100+"%",boxShadow:"0 0 3px #fcd34d",animation:`fireflyBounce ${2+Math.random()*2}s ease-in-out ${Math.random()*2}s infinite`}},`firefly-${a}`)),l.jsx("style",{children:`
                @keyframes fireflyBounce { 
                  0%, 100% { transform: translate(0, 0); opacity: 0.3; } 
                  25% { transform: translate(${Math.random()*20-10}px, -${Math.random()*15+5}px); opacity: 1; }
                  50% { transform: translate(${Math.random()*20-10}px, -${Math.random()*10+10}px); opacity: 0.8; }
                  75% { transform: translate(${Math.random()*20-10}px, -${Math.random()*5+3}px); opacity: 1; }
                }
              `}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[200%] h-12 pointer-events-none opacity-30",style:{background:"linear-gradient(to top, rgba(255,255,255,0.4), transparent)",maskImage:"linear-gradient(90deg, transparent, black 50%, transparent)",WebkitMaskImage:"linear-gradient(90deg, transparent, black 50%, transparent)",animation:"fogDrift 20s linear infinite"},children:l.jsx("style",{children:"@keyframes fogDrift { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }"})})]}),l.jsx("div",{className:"absolute top-[15%] right-[-20px] pointer-events-none opacity-80",style:{width:"6px",height:"2px",background:"#ec4899",boxShadow:"2px -2px 0 #22d3ee, -2px -2px 0 #22d3ee, 0 -4px 0 #e879f9",animation:"ufoFly 30s linear 5s infinite"},children:l.jsx("style",{children:"@keyframes ufoFly { 0% { transform: translateX(0) translateY(0); } 25% { transform: translateX(-150px) translateY(10px); } 50% { transform: translateX(-300px) translateY(-5px); } 100% { transform: translateX(-120vw) translateY(20px); } }"})})]}),l.jsx("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto relative z-50",children:PD.map(({path:s,icon:a,label:i})=>{const o=e.pathname===s||s!=="/"&&e.pathname.startsWith(s);return l.jsxs(cn,{to:s,className:q("mythic-nav-item flex flex-col items-center justify-center gap-1 px-3 py-2 transition-colors min-w-[60px] relative",o?"text-primary bg-primary/10 rounded-lg mythic-nav-active":"text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg"),style:t==="cosmicVoyageMoon"&&o?{background:"transparent"}:void 0,children:[t==="cosmicVoyageMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(45deg, transparent, rgba(128, 144, 192, 0.3), transparent)",boxShadow:"0 0 15px rgba(100, 100, 255, 0.4)",animation:"pulse 2s ease-in-out infinite"}}),t==="superBloodMoon"&&o&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 20px rgba(220, 20, 60, 0.5), inset 0 0 10px rgba(255, 50, 80, 0.2)",animation:"bloodGlow 2s ease-in-out infinite"}})}),t==="lunarTransientPhenomena"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 15px rgba(200, 168, 248, 0.6), 0 0 5px rgba(255, 255, 255, 0.8)",animation:"electricSpark 0.5s steps(5) infinite"}}),t==="crystalMoon"&&o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(220, 240, 255, 0.12), rgba(200, 230, 255, 0.15), rgba(240, 250, 255, 0.1))",boxShadow:"inset 0 0 15px rgba(255, 255, 255, 0.3), 0 0 20px rgba(220, 240, 255, 0.4)",animation:"crystalSparkle 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%), radial-gradient(circle at 70% 50%, rgba(200, 230, 255, 0.15) 0%, transparent 50%)",animation:"crystalSparkle 3s ease-in-out infinite reverse"}})]}),t==="nebulaDreamMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10 overflow-hidden",children:l.jsx("div",{style:{position:"absolute",inset:"-20%",background:"radial-gradient(circle, rgba(184, 136, 216, 0.3) 0%, transparent 70%)",animation:"nebulaRotate 8s linear infinite"}})}),t==="emptySky"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at center, rgba(40, 40, 60, 0.3) 0%, rgba(20, 20, 40, 0.2) 50%, transparent 100%)",boxShadow:"inset 0 0 15px rgba(10, 10, 25, 0.5), 0 0 10px rgba(30, 30, 50, 0.4)",animation:"voidDrift 4s ease-in-out infinite"}}),t==="pixelDreamMoon"&&o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 -z-10",style:{borderRadius:"8px",border:"2px dashed #818cf8",background:"rgba(30, 27, 75, 0.5)",boxShadow:"0 0 15px rgba(129, 140, 248, 0.5), inset 0 0 10px rgba(129, 140, 248, 0.2)",animation:"pulse 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute -top-[14px] left-1/2 -translate-x-1/2 w-4 h-4 bg-[#818cf8]",style:{clipPath:"polygon(50% 100%, 0% 0%, 100% 0%)",boxShadow:"0 -2px 5px #818cf8",animation:"bounce 1s infinite"}})]}),l.jsx(a,{className:q("w-5 h-5 transition-all duration-300",t&&o&&"drop-shadow-lg"),style:t&&o?{filter:t==="superBloodMoon"?"drop-shadow(0 0 6px rgba(220, 20, 60, 0.8))":t==="emptySky"?"drop-shadow(0 0 5px rgba(60, 60, 80, 0.7))":t==="lunarTransientPhenomena"?"drop-shadow(0 0 6px rgba(200, 168, 248, 0.8))":t==="crystalMoon"?"drop-shadow(0 0 6px rgba(224, 240, 255, 0.8))":t==="arcticMoon"?"drop-shadow(0 0 6px rgba(144, 220, 255, 0.8))":t==="nebulaDreamMoon"?"drop-shadow(0 0 6px rgba(184, 136, 216, 0.8))":t==="pixelDreamMoon"?"drop-shadow(2px 2px 0 rgba(0,0,0,0.8))":void 0,animation:t==="lunarTransientPhenomena"?"iconFlicker 0.3s steps(3) infinite":void 0,color:t==="pixelDreamMoon"&&o?"#2a2a40":void 0}:void 0}),l.jsx("span",{className:q("text-[10px] font-medium transition-all duration-300",t==="pixelDreamMoon"&&o?"text-[#818cf8] font-['Press_Start_2P'] text-[8px] drop-shadow-[0_0_4px_rgba(129,140,248,0.8)]":t==="pixelDreamMoon"&&!o?"text-white/80 font-['Press_Start_2P'] text-[6px]":""),children:i})]},s)})})]})}function MD({children:e}){return Fa(),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("header",{className:"border-b border-border sticky top-0 bg-background z-10",children:l.jsx("div",{className:"container-app py-3",children:l.jsxs(cn,{to:"/",className:"text-lg font-semibold",children:["Dream book"," ",l.jsx("span",{className:"text-muted-foreground font-normal",children:"by Bon"})]})})}),l.jsx("main",{className:"flex-1 container-app pb-24",children:e}),l.jsx(ih,{})]})}var br=function(){return br=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},br.apply(this,arguments)};function vo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function _D(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function RD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const AD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class vg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class DD extends vg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kx extends vg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jx extends vg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lp||(lp={}));class OD{constructor(t,{headers:n={},customFetch:r,region:s=lp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=AD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _D(this,arguments,void 0,function*(n,r={}){var s;let a,i;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let x=d;h&&(i=new AbortController,a=setTimeout(()=>i.abort(),h),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:g,signal:x}).catch(k=>{throw new DD(k)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new kx(v);if(!v.ok)throw new jx(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof jx||o instanceof kx?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var ID=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},LD=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let i=null,o=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,f;if(n.method!=="HEAD"){var m;const v=await a.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=v:o=JSON.parse(v))}const g=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const g=await a.text();try{i=JSON.parse(g),Array.isArray(i)&&a.status===404&&(o=[],i=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):i={message:g}}if(i&&n.isMaybeSingle&&(!(i==null||(y=i.details)===null||y===void 0)&&y.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&n.shouldThrowOnError)throw new ID(i)}return{error:i,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var i;let o="";const c=a==null?void 0:a.cause;if(c){var u,d,h,f;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${y}`,g&&(o+=` (${g})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var m;o=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},$D=class extends LD{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ex=new RegExp("[,()]");var ni=class extends $D{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Ex.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Ex.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},FD=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let a=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",i),r&&c.append("Prefer",`count=${r}`),new ni({method:s,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:a,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),n||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new ni({method:s,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var a;const i="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new ni({method:i,url:o,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ni({method:r,url:s,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ni({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},zD=class dk{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){var i;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(o="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new ni({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class BD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VD="2.91.0",UD=`realtime-js/${VD}`,WD="1.0.0",hk="2.0.0",Cx=hk,cp=1e4,HD=1e3,GD=100;var ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ms||(ms={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sr||(sr={}));var up;(function(e){e.websocket="websocket"})(up||(up={}));var da;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(da||(da={}));class KD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,a;const i=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+i.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(m),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,o.length),y.setUint8(g++,i.length),y.setUint8(g++,u.length),y.setUint8(g++,h.length),y.setUint8(g++,n),Array.from(c,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(i,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(g++,v.charCodeAt(0))),Array.from(h,v=>y.setUint8(g++,v.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,a,i,o,c]=r;return n({join_ref:s,ref:a,topic:i,event:o,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2),i=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+a));c=c+a;const h=r.decode(t.slice(c,c+i));c=c+i;const f=t.slice(c,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class fk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const Tx=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=qD(i,e,t,s),a),{}):{}},qD=(e,t,n,r)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=n[e];return a&&!r.includes(a)?mk(a,i):dp(i)},mk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JD(t,n)}switch(e){case Le.bool:return YD(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return XD(t);case Le.json:case Le.jsonb:return QD(t);case Le.timestamp:return ZD(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return dp(t);default:return dp(t)}},dp=e=>e,YD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},JD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>mk(t,o))}return e},ZD=e=>typeof e=="string"?e.replace(" ","T"):e,pk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hf{constructor(t,n,r={},s=cp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nx||(Nx={}));class sl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sl.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=sl.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=sl.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),i=this.transformState(n),o={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),y=d.filter(x=>m.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(o[u]=y),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}r(o,d,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Px;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Px||(Px={}));var al;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(al||(al={}));var $r;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class yi{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hf(this,sr.join,this.params,this.timeout),this.rejoinTimer=new fk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new sl(this),this.broadcastEndpointURL=pk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[al.PRESENCE]&&this.bindings[al.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t($r.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t($r.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t($r.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<x;b++){const w=g[b],{filter:{event:S,schema:k,table:E,filter:j}}=w,C=m&&m[b];if(C&&C.event===S&&yi.isFilterValueEqual(C.schema,k)&&yi.isFilterValueEqual(C.table,E)&&yi.isFilterValueEqual(C.filter,j))v.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t($r.SUBSCRIBED);return}}).receive("error",m=>{this.state=gt.errored,t==null||t($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===gt.joined&&t===al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new hf(this,sr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>GD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=sr;if(r&&[o,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,g,x;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(f,r)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var y,g,x,v,b,w,S,k;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const E=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((b=n.data)===null||b===void 0?void 0:b.table))}else{const E=(S=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:g,table:x,commit_timestamp:v,type:b,errors:w}=y;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(y))}m.callback(f,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&yi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sr.close,{},t)}_onError(t){this._on(sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tx(t.columns,t.old_record)),n}}const ff=()=>{},Vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eO=[1e3,2e3,5e3,1e4],tO=1e4,nO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cp,this.transport=null,this.heartbeatIntervalMs=Vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ff,this.ref=0,this.reconnectTimer=null,this.vsn=Cx,this.logger=ff,this.conn=null,this.sendBuffer=[],this.serializer=new KD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${up.websocket}`,this.httpEndpoint=pk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return da.Connecting;case ms.open:return da.Open;case ms.closing:return da.Closing;default:return da.Closed}}isConnected(){return this.connectionState()===da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new yi(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:a,ref:i}=n,o=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ms.open||this.conn.readyState===ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:UD};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,i,o,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:cp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:ff,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Cx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>eO[y-1]||tO,this.vsn){case WD:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,g)=>g(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,g)=>g(JSON.parse(y));break;case hk:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Il=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sO(e,t,n){const r=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&r.searchParams.set(s,a);return r.toString()}async function aO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:a,headers:i}){const o=sO(e.baseUrl,r,s),c=await aO(e.auth),u=await t(o,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...i},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,y=m==null?void 0:m.error;throw new Il((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Uc(e){return e.join("")}var oO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Uc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`}),!0}catch(t){if(t instanceof Il&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Il&&n.status===409)return;throw n}}};function Wa(e){return e.join("")}var lO=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Il&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Il&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},cO=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iO({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new oO(this.client,t),this.tableOps=new lO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},oh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var uO=class extends oh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hp=class extends oh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const xg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dO=()=>Response,fp=e=>{if(Array.isArray(e))return e.map(n=>fp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=fp(r)}),t},hO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function mO(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pO(e){var t=mO(e,"string");return Ll(t)=="symbol"?t:t+""}function gO(e,t,n){return(t=pO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(n),!0).forEach(function(r){gO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const mf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},yO=async(e,t,n)=>{e instanceof await dO()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,a=(r==null?void 0:r.statusCode)||s+"";t(new uO(mf(r),s,a))}).catch(r=>{t(new hp(mf(r),r))}):t(new hp(mf(e),e))},vO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(hO(r)?(s.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ie(ie({},s),n))};async function cc(e,t,n,r,s,a){return new Promise((i,o)=>{e(n,vO(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>yO(c,o,r))})}async function $l(e,t,n,r){return cc(e,"GET",t,n,r)}async function er(e,t,n,r,s){return cc(e,"POST",t,r,s,n)}async function mp(e,t,n,r,s){return cc(e,"PUT",t,r,s,n)}async function xO(e,t,n,r){return cc(e,"HEAD",t,ie(ie({},n),{},{noResolveJson:!0}),r)}async function bg(e,t,n,r,s){return cc(e,"DELETE",t,r,s,n)}var bO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}}};let gk;gk=Symbol.toStringTag;var wO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[gk]="BlobDownloadBuilder",this.promise=null}asStream(){return new bO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}}};const SO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_x={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kO=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=xg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let a;const i=ie(ie({},_x),r);let o=ie(ie({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(o=ie(ie({},o),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?mp:er)(s.fetch,`${s.url}/object/${d}`,a,ie({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const a=s._removeEmptyFolders(e),i=s._getFinalPath(a),o=new URL(s.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let c;const u=ie({upsert:_x.upsert},r),d=ie(ie({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await mp(s.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ie({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await er(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+a.url),o=i.searchParams.get("token");if(!o)throw new oh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await er(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await er(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),a=await er(r.fetch,`${r.url}/object/sign/${s}`,ie({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await er(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>ie(ie({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(e),i=()=>$l(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new wO(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:fp(await $l(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await xO(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ge(r)&&r instanceof hp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}async remove(e){var t=this;try{return{data:await bg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ie(ie(ie({},SO),t),{},{prefix:e||""});return{data:await er(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ie({},e);return{data:await er(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const yk="2.91.0",vk={"X-Client-Info":`storage-js/${yk}`};var jO=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ie(ie({},vk),t),this.fetch=xg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await $l(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await $l(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await er(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await mp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await er(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await bg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},EO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},vk),t),this.fetch=xg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await er(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await $l(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await bg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!fO(e))throw new oh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new cO({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const i=s[a];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(s,o),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const wg={"X-Client-Info":`storage-js/${yk}`,"Content-Type":"application/json"};var xk=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var pf=class extends xk{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},CO=class extends xk{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Sg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NO=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const i=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new pf(Rx(a),r,i))}).catch(()=>{const a=r+"";t(new pf(s.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new pf(s.statusText||`HTTP ${r} error`,r,a))}}else t(new CO(Rx(e),e))},PO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(TO(r)?(s.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ie(ie({},s),n)):s};async function MO(e,t,n,r,s,a){return new Promise((i,o)=>{e(n,PO(t,r,s,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>NO(c,o,r))})}async function yn(e,t,n,r,s){return MO(e,"POST",t,r,s,n)}var _O=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},wg),t),this.fetch=Sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await yn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await yn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}},RO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},wg),t),this.fetch=Sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await yn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},AO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},wg),t),this.fetch=Sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await yn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await yn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}},DO=class extends AO{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new OO(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},OO=class extends _O{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new IO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},IO=class extends RO{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},LO=class extends jO{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new kO(this.url,this.headers,e,this.fetch)}get vectors(){return new DO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new EO(this.url+"/iceberg",this.headers,this.fetch)}};const bk="2.91.0",ri=30*1e3,pp=3,gf=pp*ri,$O="http://localhost:9999",FO="supabase.auth.token",zO={"X-Client-Info":`gotrue-js/${bk}`},gp="X-Supabase-Api-Version",wk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VO=10*60*1e3;class Fl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UO extends Fl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function WO(e){return te(e)&&e.name==="AuthApiError"}class ha extends Fl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class rs extends Fl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class fn extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HO(e){return te(e)&&e.name==="AuthSessionMissingError"}class Ha extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wc extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hc extends rs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GO(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ax extends rs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KO extends rs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yp extends rs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function yf(e){return te(e)&&e.name==="AuthRetryableFetchError"}class Dx extends rs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vp extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ox=` 	
\r=`.split(""),qO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ox.length;t+=1)e[Ox[t].charCodeAt(0)]=-2;for(let t=0;t<ld.length;t+=1)e[ld[t].charCodeAt(0)]=t;return e})();function Ix(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ld[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ld[r]),t.queuedBits-=6}}function Sk(e,t,n){const r=qO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lx(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{QO(i,r,n)};for(let i=0;i<e.length;i+=1)Sk(e.charCodeAt(i),s,a);return t.join("")}function YO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}YO(r,t)}}function QO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ri(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sk(e.charCodeAt(s),n,r);return new Uint8Array(t)}function JO(e){const t=[];return XO(e,n=>t.push(n)),new Uint8Array(t)}function ga(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ix(s,n,r)),Ix(null,n,r),t.join("")}function ZO(e){return Math.round(Date.now()/1e3)+e}function eI(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},kk=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function tI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",si=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ra=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jt=async(e,t)=>{await e.removeItem(t)};class lh{constructor(){this.promise=new lh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}lh.promiseConstructor=Promise;function vf(e){const t=e.split(".");if(t.length!==3)throw new vp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!BO.test(t[r]))throw new vp("JWT not in base64url format");return{header:JSON.parse(Lx(t[0])),payload:JSON.parse(Lx(t[1])),signature:Ri(t[2]),raw:{header:t[0],payload:t[1]}}}async function rI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sI(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function aI(e){return("0"+e.toString(16)).substr(-2)}function iI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,aI).join("")}async function oI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function lI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(e,t,n=!1){const r=iI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await si(e,`${t}-code-verifier`,s);const a=await lI(r);return[a,r===a?"plain":"s256"]}const cI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uI(e){const t=e.headers.get(gp);if(!t||!t.match(cI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!fI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mI(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function $x(e){return JSON.parse(JSON.stringify(e))}const oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pI=[502,503,504];async function Fx(e){var t;if(!nI(e))throw new yp(oa(e),0);if(pI.includes(e.status))throw new yp(oa(e),e.status);let n;try{n=await e.json()}catch(a){throw new ha(oa(a),a)}let r;const s=uI(e);if(s&&s.getTime()>=wk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dx(oa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Dx(oa(n),e.status,n.weak_password.reasons);throw new UO(oa(n),e.status||500,r)}const gI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[gp]||(a[gp]=wk["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await yI(e,t,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function yI(e,t,n,r,s,a){const i=gI(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new yp(oa(c),0)}if(o.ok||await Fx(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await Fx(c)}}function Yn(e){var t;let n=null;bI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ZO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zx(e){const t=Yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vI(e){return{data:e,error:null}}function xI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=vo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function Bx(e){return e}function bI(e){return e.access_token&&e.refresh_token&&e.expires_in}const bf=["global","local","others"];class wI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=bf[0]){if(bf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bf.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ys})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=vo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ys})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Bx});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ka(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ys})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ka(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ys})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ka(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ys})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ka(t.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Bx});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}}function Vx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qa={debug:!!(globalThis&&kk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ek extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SI extends Ek{}async function kI(e,t,n){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function jI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ck(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function EI(e){return parseInt(e,16)}function CI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TI(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Ck(e.address),y=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${x}
${v}`}class ht extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class cd extends ht{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function NI({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Tk(i)){if(a.rp.id!==i)return new ht({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PI({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Tk(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _I=new MI;function RI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=vo(e,["challenge","user","excludeCredentials"]),a=Ri(t).buffer,i=Object.assign(Object.assign({},n),{id:Ri(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ri(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function AI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=vo(e,["challenge","allowCredentials"]),s=Ri(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const o=n[i];a.allowCredentials[i]=Object.assign(Object.assign({},o),{id:Ri(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function DI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ga(new Uint8Array(e.response.attestationObject)),clientDataJSON:ga(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ga(new Uint8Array(s.authenticatorData)),clientDataJSON:ga(new Uint8Array(s.clientDataJSON)),signature:ga(new Uint8Array(s.signature)),userHandle:s.userHandle?ga(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Tk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ux(){var e,t;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function II(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cd("Browser returned unexpected credential type",t)}:{data:null,error:new cd("Empty credential response",t)}}catch(t){return{data:null,error:NI({error:t,options:e})}}}async function LI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cd("Browser returned unexpected credential type",t)}:{data:null,error:new cd("Empty credential response",t)}}catch(t){return{data:null,error:PI({error:t,options:e})}}}const $I={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},FI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ud(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))r[a]=i;else if(n(i))r[a]=i;else if(t(i)){const o=r[a];t(o)?r[a]=ud(o,i):r[a]=ud(i)}else r[a]=i}return r}function zI(e,t){return ud($I,e,t||{})}function BI(e,t){return ud(FI,e,t||{})}class VI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:o};const c=s??_I.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=zI(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await II({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=BI(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await LI(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return te(i)?{data:null,error:i}:{data:null,error:new ha("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Fl("rpId is required for WebAuthn authentication")};try{if(!Ux())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!i)return{data:null,error:o};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return te(i)?{data:null,error:i}:{data:null,error:new ha("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Fl("rpId is required for WebAuthn registration")};try{if(!Ux())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return te(i)?{data:null,error:i}:{data:null,error:new ha("Unexpected error in register",i)}}}}jI();const UI={url:$O,storageKey:FO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wx(e,t,n){return await n()}const Ya={};class zl{get jwks(){var t,n;return(n=(t=Ya[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ya[this.storageKey]=Object.assign(Object.assign({},Ya[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ya[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ya[this.storageKey]=Object.assign(Object.assign({},Ya[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},UI),t);if(this.storageKey=a.storageKey,this.instanceID=(n=zl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Et()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jk(a.fetch),this.lock=a.lock||Wx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kI:this.lock=Wx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:kk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Vx(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Et()&&(n=tI(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GO(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?this._returnResult({error:n}):this._returnResult({error:new ha("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yn}),{data:i,error:o}=a;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ga(this.storage,this.storageKey)),a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:Yn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yn})}else throw new Wc("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:i,options:o}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zx})}else if("phone"in t){const{phone:a,password:i,options:o}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zx})}else throw new Wc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new Ha;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,i,o,c,u,d,h,f;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:g,wallet:x,statement:v,options:b}=t;let w;if(Et())if(typeof x=="object")w=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),k=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Ck(k[0]);let j=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const P=await w.request({method:"eth_chainId"});j=EI(P)}const C={domain:S.host,address:E,statement:v,uri:S.href,version:"1",chainId:j,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=TI(C),y=await w.request({method:"personal_sign",params:[CI(m),E]})}try{const{data:g,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yn});if(x)throw x;if(!g||!g.session||!g.user){const v=new Ha;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,s,a,i,o,c,u,d,h,f,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:x,wallet:v,statement:b,options:w}=t;let S;if(Et())if(typeof v=="object")S=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const k=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),b?{statement:b}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:x,error:v}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ga(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Yn});if(v)throw v;if(!x||!x.session||!x.user){const b=new Ha;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(te(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await ra(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new KO;const{data:a,error:i}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Yn});if(await jt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const o=new Ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",a.session)},0)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=t,o=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ha;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ga(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Wc("You must provide either an email or phone number.")}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Yn});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,a,i;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Ga(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:vI});return!((a=u.data)===null||a===void 0)&&a.url&&Et()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new fn;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:i}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:i,error:o}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new Wc("You must provide either an email or phone number and a type")}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await ra(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=xf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=mI(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ys}):await this._useSession(async n=>{var r,s,a;const{data:i,error:o}=n;if(o)throw o;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ys})})}catch(n){if(te(n))return HO(n)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new fn;const i=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ga(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:ys});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=vf(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:o}=n;if(o)throw o;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new fn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Et())throw new Hc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ax("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ax("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!i||!u)throw new Hc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ra(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(WO(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=eI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ga(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,o,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Et()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(te(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:i,provider:o,token:c,access_token:u,nonce:d}=t,h=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Yn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ha}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sI(async s=>(s>0&&await rI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yn})),(s,a)=>{const i=200*Math.pow(2,s);return a&&yf(a)&&Date.now()+i-r<ri})}catch(r){if(this._debug(n,"error",r),te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ra(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await si(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:xf()}else if(s&&!s.user&&!s.user){const i=await ra(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await jt(this.storage,this.storageKey+"-user"),await si(this.storage,this.storageKey,s)):s.user=xf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gf;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),yf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lh;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new fn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),te(a)){const i={data:null,error:a};return yf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await si(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=$x(s);await si(this.storage,this.storageKey,a)}else{const s=$x(n);await si(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ri}ms, refresh threshold is ${pp} ticks`),s<=pp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ek)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ga(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?DI(t.webauthn.credential_response):OI(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const i=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:RI(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:AI(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vf(r.access_token);let i=null;a.aal&&(i=a.aal);let o=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new fn})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new fn});const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new fn});const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new fn})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fn})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+VO>s)return r;const{data:a,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:c}}=vf(r);n!=null&&n.allowExpired||dI(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:i},error:null}}const d=hI(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,JO(`${o}.${c}`)))throw new vp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}}zl.nextInstanceID={};const WI=zl,HI="2.91.0";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const GI={"X-Client-Info":`supabase-js-${Bo}/${HI}`},KI={headers:GI},qI={schema:"public"},YI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XI={};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function QI(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JI(e){var t=QI(e,"string");return Bl(t)=="symbol"?t:t+""}function ZI(e,t,n){return(t=JI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(n),!0).forEach(function(r){ZI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const e8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t8=()=>Headers,n8=(e,t,n)=>{const r=e8(n),s=t8();return async(a,i)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,nt(nt({},i),{},{headers:u}))}};function r8(e){return e.endsWith("/")?e:e+"/"}function s8(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:nt(nt({},c),s),auth:nt(nt({},u),a),realtime:nt(nt({},d),i),storage:{},global:nt(nt(nt({},h),o),{},{headers:nt(nt({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function a8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var i8=class extends WI{constructor(e){super(e)}},o8=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const a=a8(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const i=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:qI,realtime:XI,auth:nt(nt({},YI),{},{storageKey:i}),global:KI},c=s8(n??{},o);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=n8(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new zD(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new LO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new OD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:a,flowType:i,lock:o,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i8({url:this.authUrl.href,headers:nt(nt({},f),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new rO(this.realtimeUrl.href,nt(nt({},e),{},{params:nt(nt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const l8=(e,t,n)=>new o8(e,t,n);function c8(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}c8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u8="https://rapxqrjhrehfhqsafovf.supabase.co",d8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co",it=l8(u8,d8,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function za(){const{data:e,error:t}=await it.from("dream_logs").select(`
      *,
      world:worlds(id, name),
      entities:dream_log_entities(entity:entities(id, name))
    `).order("date",{ascending:!1});return t?(console.error("Error fetching dream logs:",t),[]):(e||[]).map(n=>{var r,s;return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:((r=n.world)==null?void 0:r.name)||"",timeSystem:n.time_system,environments:n.environments||[],entities:((s=n.entities)==null?void 0:s.map(a=>{var i;return(i=a.entity)==null?void 0:i.name}).filter(Boolean))||[],threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}})}async function Nk(e){let t=null;if(e.world){const{data:s}=await it.from("worlds").select("id").eq("name",e.world).maybeSingle();if(s)t=s.id;else{const{data:a}=await it.from("worlds").insert({name:e.world,type:"transient",stability:3}).select("id").single();t=(a==null?void 0:a.id)||null}}const{data:n,error:r}=await it.from("dream_logs").insert({dream_id:"",date:e.date,wake_time:e.wakeTime,world_id:t,time_system:e.timeSystem,environments:e.environments,threat_level:e.threatLevel,safety_override:e.safetyOverride,exit:e.exit,notes:e.notes}).select().single();if(r||!n)return console.error("Error adding dream log:",r),null;for(const s of e.entities){let a;const{data:i}=await it.from("entities").select("id").eq("name",s).maybeSingle();if(i)a=i.id;else{const{data:o}=await it.from("entities").insert({name:s,role:"observer"}).select("id").single();a=(o==null?void 0:o.id)||""}a&&await it.from("dream_log_entities").insert({dream_log_id:n.id,entity_id:a})}return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:e.world,timeSystem:n.time_system,environments:n.environments||[],entities:e.entities,threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}}async function h8(e,t){const{data:n}=await it.from("dream_logs").select("*").eq("dream_id",e).single();if(!n)return null;let r=n.world_id;if(t.world){const{data:o}=await it.from("worlds").select("id").eq("name",t.world).maybeSingle();if(o)r=o.id;else{const{data:c}=await it.from("worlds").insert({name:t.world,type:"transient",stability:3}).select("id").single();r=(c==null?void 0:c.id)||r}}const{data:s,error:a}=await it.from("dream_logs").update({world_id:r,time_system:t.timeSystem||n.time_system,environments:t.environments||n.environments,threat_level:t.threatLevel!==void 0?t.threatLevel:n.threat_level,safety_override:t.safetyOverride||n.safety_override,exit:t.exit||n.exit,notes:t.notes!==void 0?t.notes:n.notes}).eq("dream_id",e).select().single();if(a||!s)return console.error("Error updating dream log:",a),null;if(t.entities){await it.from("dream_log_entities").delete().eq("dream_log_id",s.id);for(const o of t.entities){let c;const{data:u}=await it.from("entities").select("id").eq("name",o).maybeSingle();if(u)c=u.id;else{const{data:d}=await it.from("entities").insert({name:o,role:"observer"}).select("id").single();c=(d==null?void 0:d.id)||""}c&&await it.from("dream_log_entities").insert({dream_log_id:s.id,entity_id:c})}}let i=t.world||"";if(!i&&r){const{data:o}=await it.from("worlds").select("name").eq("id",r).maybeSingle();i=(o==null?void 0:o.name)||""}return{id:s.dream_id,date:s.date,wakeTime:s.wake_time,world:i,timeSystem:s.time_system,environments:s.environments||[],entities:t.entities||[],threatLevel:s.threat_level,safetyOverride:s.safety_override,exit:s.exit,notes:s.notes||void 0,createdAt:s.created_at}}async function f8(e){const{error:t}=await it.from("dream_logs").delete().eq("dream_id",e);return!t}async function uc(){const{data:e,error:t}=await it.from("worlds").select(`
      *,
      dream_logs(dream_id)
    `).order("name");return t?(console.error("Error fetching worlds:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,type:n.type,stability:n.stability,description:n.description||void 0,dreamIds:((r=n.dream_logs)==null?void 0:r.map(s=>s.dream_id))||[]}})}async function ch(){const{data:e,error:t}=await it.from("entities").select(`
      *,
      dream_log_entities(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching entities:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,role:n.role,description:n.description||void 0,dreamIds:((r=n.dream_log_entities)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function m8(){const{data:e,error:t}=await it.from("threats").select(`
      *,
      dream_log_threats(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching threats:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,level:n.level,response:n.response||void 0,dreamIds:((r=n.dream_log_threats)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function p8(e,t,n,r){const s=await fetch("https://rapxqrjhrehfhqsafovf.supabase.co/functions/v1/suggest-tags",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co"},body:JSON.stringify({text:e,existingWorlds:t,existingEntities:n,existingEnvironments:r})});return s.ok?s.json():{world:null,environments:[],entities:[],threatLevel:0,safetyOverride:"unknown",exit:"unknown",timeSystem:"unknown"}}const Dn={newMoon:{id:"newMoon",name:"",nameEn:"New Moon",rarity:"normal",moonTint:"#2a2a3a",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#5a5a7a",transitionSpeed:35,starDensity:1,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.2,emotionTag:"new_beginning",subtitle:""},waxingCrescent:{id:"waxingCrescent",name:"",nameEn:"Waxing Crescent",rarity:"normal",moonTint:"#D8D8E8",skyPalette:["#0a0e27","#1a1e37","#2a2e47"],uiAccent:"#8888a8",transitionSpeed:30,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.22,emotionTag:"growing",subtitle:" "},firstQuarter:{id:"firstQuarter",name:"",nameEn:"First Quarter",rarity:"normal",moonTint:"#E0E0F0",skyPalette:["#0c1028","#1c2038","#2c3048"],uiAccent:"#9090b0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"balanced",subtitle:""},waxingGibbous:{id:"waxingGibbous",name:"",nameEn:"Waxing Gibbous",rarity:"normal",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#9898c8",transitionSpeed:30,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.28,emotionTag:"anticipation",subtitle:""},fullMoon:{id:"fullMoon",name:"",nameEn:"Full Moon",rarity:"normal",moonTint:"#E6E6FA",skyPalette:["#0a0e27","#1a1e3e","#2a2e4e"],uiAccent:"#9090c0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"peaceful",subtitle:""},waningGibbous:{id:"waningGibbous",name:"",nameEn:"Waning Gibbous",rarity:"normal",moonTint:"#D0D0E0",skyPalette:["#0a0e25","#1a1e35","#2a2e45"],uiAccent:"#8080a0",transitionSpeed:32,starDensity:.82,cloudOpacity:.28,cloudSpeed:.95,shootingStarChance:.23,emotionTag:"reflection",subtitle:""},lastQuarter:{id:"lastQuarter",name:"",nameEn:"Last Quarter",rarity:"normal",moonTint:"#C8C8D8",skyPalette:["#0b0f26","#1b1f36","#2b2f46"],uiAccent:"#7878a8",transitionSpeed:33,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.2,emotionTag:"letting_go",subtitle:""},waningCrescent:{id:"waningCrescent",name:"",nameEn:"Waning Crescent",rarity:"normal",moonTint:"#B8B8C8",skyPalette:["#080c24","#181c34","#282c44"],uiAccent:"#6868a0",transitionSpeed:35,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"fading",subtitle:" "},penumbralEclipse:{id:"penumbralEclipse",name:"",nameEn:"Penumbral Lunar Eclipse",rarity:"rare",moonTint:"#A8A8B8",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#7878a8",transitionSpeed:40,starDensity:.85,cloudOpacity:.25,cloudSpeed:.8,shootingStarChance:.3,emotionTag:"subtle_change",subtitle:""},partialEclipse:{id:"partialEclipse",name:"",nameEn:"Partial Lunar Eclipse",rarity:"very_rare",moonTint:"#987070",skyPalette:["#150a0a","#251a1a","#352a2a"],uiAccent:"#a87878",transitionSpeed:45,starDensity:.75,cloudOpacity:.35,cloudSpeed:1,shootingStarChance:.35,emotionTag:"partial_shadow",subtitle:""},totalEclipse:{id:"totalEclipse",name:"",nameEn:"Total Lunar Eclipse",rarity:"legendary",moonTint:"#8B4545",skyPalette:["#1a0a0a","#2a1a1a","#3a2a2a"],uiAccent:"#a85555",transitionSpeed:45,starDensity:.7,cloudOpacity:.4,cloudSpeed:1.2,shootingStarChance:.4,specialEffect:"bloodRing",effectIntensity:.75,emotionTag:"intense",subtitle:""},superBloodMoon:{id:"superBloodMoon",name:"",nameEn:"Super Blood Moon",rarity:"mythic",moonTint:"#A03030",skyPalette:["#200505","#301515","#402525"],uiAccent:"#c84040",transitionSpeed:50,starDensity:.65,cloudOpacity:.45,cloudSpeed:1.3,shootingStarChance:.5,specialEffect:"meteorShower",effectIntensity:.9,emotionTag:"dramatic",subtitle:"",moonSize:1.5},superBlueBloodMoon:{id:"superBlueBloodMoon",name:"",nameEn:"Super Blue Blood Moon",rarity:"mythic",moonTint:"#B84060",skyPalette:["#1a0510","#2a1520","#3a2530"],uiAccent:"#d85080",transitionSpeed:60,starDensity:.95,cloudOpacity:.35,cloudSpeed:1.4,shootingStarChance:.6,specialEffect:"meteorShower",effectIntensity:.7,emotionTag:"once_in_lifetime",subtitle:"",moonSize:1.5},lunarTransientPhenomena:{id:"lunarTransientPhenomena",name:"",nameEn:"Lunar Transient Phenomena",rarity:"mythic",moonTint:"#E8D8FF",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#c8a8f8",transitionSpeed:55,starDensity:.9,cloudOpacity:.2,cloudSpeed:.9,shootingStarChance:.45,specialEffect:"flash",effectIntensity:.8,emotionTag:"mysterious_flash",subtitle:"",moonSize:1.4},hybridEclipse:{id:"hybridEclipse",name:"",nameEn:"Hybrid Eclipse",rarity:"mythic",moonTint:"#D8A860",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#e8b870",transitionSpeed:58,starDensity:.7,cloudOpacity:.3,cloudSpeed:1.1,shootingStarChance:.35,specialEffect:"fog",effectIntensity:.7,emotionTag:"dual_nature",subtitle:"",moonSize:1.4},supermoon:{id:"supermoon",name:"",nameEn:"Supermoon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2c","#1a1e3c","#2a2e4c"],uiAccent:"#a0a0d0",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"grand",subtitle:""},micromoon:{id:"micromoon",name:"",nameEn:"Micromoon",rarity:"rare",moonTint:"#C0C0D0",skyPalette:["#0a0e22","#1a1e32","#2a2e42"],uiAccent:"#7070a0",transitionSpeed:38,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.2,emotionTag:"distant",subtitle:""},perigeeMoon:{id:"perigeeMoon",name:"",nameEn:"Perigee Moon",rarity:"rare",moonTint:"#F8F8FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#a8a8d8",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.15,shootingStarChance:.32,emotionTag:"close",subtitle:""},apogeeMoon:{id:"apogeeMoon",name:"",nameEn:"Apogee Moon",rarity:"rare",moonTint:"#B0B0C0",skyPalette:["#0a0e20","#1a1e30","#2a2e40"],uiAccent:"#6060a0",transitionSpeed:40,starDensity:.95,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.18,emotionTag:"far",subtitle:""},earthshine:{id:"earthshine",name:"",nameEn:"Earthshine Moon",rarity:"rare",moonTint:"#FFE4B5",skyPalette:["#0d0a1f","#1d1a2f","#2d2a3f"],uiAccent:"#d4a574",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.35,emotionTag:"warm",subtitle:""},moonHalo:{id:"moonHalo",name:"",nameEn:"Moon Halo",rarity:"very_rare",moonTint:"#E0E0FA",skyPalette:["#0a0e28","#1a1e38","#2a2e48"],uiAccent:"#9898c8",transitionSpeed:42,starDensity:.8,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.28,emotionTag:"mystical",subtitle:""},moonCorona:{id:"moonCorona",name:"",nameEn:"Moon Corona",rarity:"very_rare",moonTint:"#D8D8F8",skyPalette:["#0a0e29","#1a1e39","#2a2e49"],uiAccent:"#8888c8",transitionSpeed:43,starDensity:.75,cloudOpacity:.45,cloudSpeed:.85,shootingStarChance:.3,emotionTag:"crowned",subtitle:""},coloredMoon:{id:"coloredMoon",name:"",nameEn:"Colored Moon",rarity:"rare",moonTint:"#E8C8D8",skyPalette:["#0c0a1e","#1c1a2e","#2c2a3e"],uiAccent:"#b898a8",transitionSpeed:38,starDensity:.85,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.27,emotionTag:"colorful",subtitle:""},moonIllusion:{id:"moonIllusion",name:"",nameEn:"Moon Illusion",rarity:"rare",moonTint:"#F8E8D8",skyPalette:["#0d0b1d","#1d1b2d","#2d2b3d"],uiAccent:"#c8b898",transitionSpeed:37,starDensity:.8,cloudOpacity:.35,cloudSpeed:1.05,shootingStarChance:.25,emotionTag:"illusory",subtitle:""},blueMoon:{id:"blueMoon",name:"",nameEn:"Blue Moon",rarity:"very_rare",moonTint:"#B0C8E0",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#8098c0",transitionSpeed:45,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.33,emotionTag:"rare",subtitle:""},blackMoon:{id:"blackMoon",name:"",nameEn:"Black Moon",rarity:"very_rare",moonTint:"#1a1a2e",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#4a4a6a",transitionSpeed:50,starDensity:1,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,emotionTag:"mysterious",subtitle:""},harvestMoon:{id:"harvestMoon",name:"",nameEn:"Harvest Moon",rarity:"rare",moonTint:"#FFD8A0",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#d8a870",transitionSpeed:38,starDensity:.75,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,specialEffect:"fireflies",effectIntensity:.6,emotionTag:"abundant",subtitle:""},hunterMoon:{id:"hunterMoon",name:"",nameEn:"Hunter Moon",rarity:"rare",moonTint:"#E8B878",skyPalette:["#1a1208","#2a2218","#3a3228"],uiAccent:"#c89858",transitionSpeed:38,starDensity:.8,cloudOpacity:.25,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"alert",subtitle:""},pinkMoon:{id:"pinkMoon",name:"",nameEn:"Pink Moon",rarity:"rare",moonTint:"#FFD8E8",skyPalette:["#1a0e18","#2a1e28","#3a2e38"],uiAccent:"#d8a8b8",transitionSpeed:35,starDensity:.85,cloudOpacity:.3,cloudSpeed:.95,shootingStarChance:.27,emotionTag:"gentle",subtitle:""},wolfMoon:{id:"wolfMoon",name:"",nameEn:"Wolf Moon",rarity:"rare",moonTint:"#D8D8E8",skyPalette:["#0a0e24","#1a1e34","#2a2e44"],uiAccent:"#9898b8",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.25,emotionTag:"wild",subtitle:""},snowMoon:{id:"snowMoon",name:"",nameEn:"Snow Moon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#b0b0d0",transitionSpeed:42,starDensity:.95,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.22,specialEffect:"snow",effectIntensity:.7,emotionTag:"cold",subtitle:""},strawberryMoon:{id:"strawberryMoon",name:"",nameEn:"Strawberry Moon",rarity:"rare",moonTint:"#FFE0D0",skyPalette:["#1a0e0e","#2a1e1e","#3a2e2e"],uiAccent:"#d8b0a0",transitionSpeed:36,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,emotionTag:"sweet",subtitle:""},stillMoon:{id:"stillMoon",name:"",nameEn:"Still Moon",rarity:"mythic",moonTint:"#B0C4DE",skyPalette:["#0f0f1f","#1f1f2f","#2f2f3f"],uiAccent:"#7090b0",transitionSpeed:60,starDensity:.6,cloudOpacity:.5,cloudSpeed:.1,shootingStarChance:0,specialEffect:"frozenTime",effectIntensity:.75,emotionTag:"frozen",subtitle:"",moonSize:1.4},fadingMoon:{id:"fadingMoon",name:"",nameEn:"Fading Moon",rarity:"legendary",moonTint:"#A0A0B0",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#707090",transitionSpeed:55,starDensity:.7,cloudOpacity:.45,cloudSpeed:.6,shootingStarChance:.15,specialEffect:"fadeParticles",effectIntensity:.7,emotionTag:"disappearing",subtitle:" "},veiledMoon:{id:"veiledMoon",name:"",nameEn:"Veiled Moon",rarity:"very_rare",moonTint:"#C0C0D0",skyPalette:["#0c0c1c","#1c1c2c","#2c2c3c"],uiAccent:"#8080a0",transitionSpeed:48,starDensity:.65,cloudOpacity:.6,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"obscured",subtitle:""},echoMoon:{id:"echoMoon",name:"",nameEn:"Echo Moon",rarity:"mythic",moonTint:"#D0D0E8",skyPalette:["#0e0e1e","#1e1e2e","#2e2e3e"],uiAccent:"#9090b8",transitionSpeed:52,starDensity:.75,cloudOpacity:.35,cloudSpeed:.9,shootingStarChance:.25,specialEffect:"echo",effectIntensity:.75,emotionTag:"repeating",subtitle:"",moonSize:1.4},silentMoon:{id:"silentMoon",name:"",nameEn:"Silent Moon",rarity:"legendary",moonTint:"#A8A8C8",skyPalette:["#08081a","#18182a","#28283a"],uiAccent:"#6868a8",transitionSpeed:58,starDensity:0,cloudOpacity:.2,cloudSpeed:.5,shootingStarChance:0,specialEffect:"silence",effectIntensity:.8,emotionTag:"silent",subtitle:" "},brokenMoon:{id:"brokenMoon",name:"",nameEn:"Broken Moon",rarity:"mythic",moonTint:"#9898B8",skyPalette:["#0a0a1c","#1a1a2c","#2a2a3c"],uiAccent:"#6868a8",transitionSpeed:54,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.2,emotionTag:"fractured",subtitle:"",moonSize:1.4},emptySky:{id:"emptySky",name:"",nameEn:"Empty Sky",rarity:"mythic",moonTint:"#404050",skyPalette:["#000000","#050510","#0a0a20"],uiAccent:"#505070",transitionSpeed:60,starDensity:0,cloudOpacity:0,cloudSpeed:0,shootingStarChance:0,specialEffect:"voidRipples",effectIntensity:.6,emotionTag:"void",subtitle:"",moonSize:1.4},dreamMoon:{id:"dreamMoon",name:"",nameEn:"Dream Moon",rarity:"legendary",moonTint:"#C8B8D8",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#a888c8",transitionSpeed:50,starDensity:.85,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.35,specialEffect:"dreamDust",effectIntensity:.75,emotionTag:"dreamy",subtitle:""},whisperingMoon:{id:"whisperingMoon",name:"",nameEn:"Whispering Moon",rarity:"very_rare",moonTint:"#D8C8E8",skyPalette:["#0c0a1c","#1c1a2c","#2c2a3c"],uiAccent:"#b898d8",transitionSpeed:46,starDensity:.8,cloudOpacity:.35,cloudSpeed:.85,shootingStarChance:.28,emotionTag:"whispering",subtitle:""},forgottenMoon:{id:"forgottenMoon",name:"",nameEn:"Forgotten Moon",rarity:"legendary",moonTint:"#888898",skyPalette:["#0a0a18","#1a1a28","#2a2a38"],uiAccent:"#585878",transitionSpeed:56,starDensity:.5,cloudOpacity:.5,cloudSpeed:.4,shootingStarChance:.1,specialEffect:"memoryFragments",effectIntensity:.65,emotionTag:"forgotten",subtitle:""},mirrorMoon:{id:"mirrorMoon",name:"",nameEn:"Mirror Moon",rarity:"very_rare",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:.9,cloudOpacity:.25,cloudSpeed:1,shootingStarChance:.3,emotionTag:"reflective",subtitle:""},twilightMoon:{id:"twilightMoon",name:"",nameEn:"Twilight Moon",rarity:"rare",moonTint:"#C8B8D8",skyPalette:["#1a1428","#2a2438","#3a3448"],uiAccent:"#9888b8",transitionSpeed:40,starDensity:.7,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.25,emotionTag:"transition",subtitle:""},ancientMoon:{id:"ancientMoon",name:"",nameEn:"Ancient Moon",rarity:"legendary",moonTint:"#B8A888",skyPalette:["#1a1408","#2a2418","#3a3428"],uiAccent:"#988868",transitionSpeed:52,starDensity:.85,cloudOpacity:.3,cloudSpeed:.6,shootingStarChance:.22,specialEffect:"ancientRunes",effectIntensity:.7,emotionTag:"ancient",subtitle:""},crystalMoon:{id:"crystalMoon",name:"",nameEn:"Crystal Moon",rarity:"mythic",moonTint:"#E0F0FF",skyPalette:["#0a0e30","#1a1e40","#2a2e50"],uiAccent:"#b0c0e0",transitionSpeed:48,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:.4,specialEffect:"prismLights",effectIntensity:.9,emotionTag:"crystalline",subtitle:"",moonSize:1.5},shadowMoon:{id:"shadowMoon",name:"",nameEn:"Shadow Moon",rarity:"very_rare",moonTint:"#606078",skyPalette:["#050510","#151520","#252530"],uiAccent:"#404068",transitionSpeed:50,starDensity:.6,cloudOpacity:.5,cloudSpeed:.7,shootingStarChance:.15,emotionTag:"shadowy",subtitle:""},luminousMoon:{id:"luminousMoon",name:"",nameEn:"Luminous Moon",rarity:"legendary",moonTint:"#F8F8FF",skyPalette:["#0a0e32","#1a1e42","#2a2e52"],uiAccent:"#c8c8f0",transitionSpeed:46,starDensity:.95,cloudOpacity:.2,cloudSpeed:1.1,shootingStarChance:.38,specialEffect:"lightRays",effectIntensity:.8,emotionTag:"radiant",subtitle:""},arcticMoon:{id:"arcticMoon",name:"",nameEn:"Arctic Moon",rarity:"mythic",moonTint:"#D0E8F8",skyPalette:["#000814","#001428","#00243c"],uiAccent:"#90c0d8",transitionSpeed:50,starDensity:.9,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,specialEffect:"aurora",effectIntensity:.85,emotionTag:"ethereal",subtitle:"",moonSize:1.4},meteorShowerMoon:{id:"meteorShowerMoon",name:"",nameEn:"Meteor Shower Moon",rarity:"legendary",moonTint:"#E8E8FF",skyPalette:["#0a0a20","#1a1a30","#2a2a40"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:0,specialEffect:"shootingStars",effectIntensity:.85,emotionTag:"spectacular",subtitle:""},shatteredMoon:{id:"shatteredMoon",name:"",nameEn:"Shattered Moon",rarity:"mythic",moonTint:"#E8E8F8",skyPalette:["#0a0a1f","#141428","#1e1e38"],uiAccent:"#9898c8",transitionSpeed:52,starDensity:.85,cloudOpacity:.15,cloudSpeed:.4,shootingStarChance:.22,moonSize:1.6,specialEffect:"shattered",effectIntensity:1,emotionTag:"broken",subtitle:""},cosmicVoyageMoon:{id:"cosmicVoyageMoon",name:"",nameEn:"Cosmic Voyage Moon",rarity:"mythic",moonTint:"#E0E8FF",skyPalette:["#000510","#001020","#001530"],uiAccent:"#8090C0",transitionSpeed:55,starDensity:.95,cloudOpacity:.05,cloudSpeed:.3,shootingStarChance:.25,moonSize:1.3,specialEffect:"starfield",effectIntensity:1,emotionTag:"cosmic",subtitle:""},nebulaDreamMoon:{id:"nebulaDreamMoon",name:"",nameEn:"Nebula Dream Moon",rarity:"mythic",moonTint:"#F0D8FF",skyPalette:["#0a0515","#150a25","#200f35"],uiAccent:"#B888D8",transitionSpeed:58,starDensity:.9,cloudOpacity:.1,cloudSpeed:.4,shootingStarChance:.2,moonSize:1.5,specialEffect:"nebula",effectIntensity:.9,emotionTag:"dreamy",subtitle:""},pixelDreamMoon:{id:"pixelDreamMoon",name:"",nameEn:"Pixel Dream Moon",rarity:"mythic",moonTint:"#5fffd2",skyPalette:["#070614","#140a2a","#241042"],uiAccent:"#ff8fd6",transitionSpeed:62,starDensity:1,cloudOpacity:.36,cloudSpeed:.35,shootingStarChance:.18,moonSize:1.55,specialEffect:"pixel",effectIntensity:1,emotionTag:"pixel_dream",subtitle:""}},g8=()=>Object.values(Dn),Gx={normal:70,rare:20,very_rare:15,legendary:10,mythic:5},ku="dreambook_moon_phenomenon",ju="dreambook_moon_expiry",y8="mythic-moon-collection",v8="mythic-locked-moon",x8=30*60*1e3,b8=()=>{const e=g8(),t=e.reduce((r,s)=>r+Gx[s.rarity],0);let n=Math.random()*t;for(const r of e)if(n-=Gx[r.rarity],n<=0)return r;return e[0]},w8=e=>{var t;try{const n=localStorage.getItem(y8);if(n)return((t=JSON.parse(n)[e])==null?void 0:t.themeDurationBoost)||0}catch(n){console.error("Failed to get duration boost:",n)}return 0},S8=e=>{const n=w8(e.id)*1e3;return x8+n},k8=()=>{const e=localStorage.getItem(v8);return e&&Dn[e]?Dn[e]:null},Vl=()=>{const e=k8();if(e)return console.log(` Using locked moon: ${e.name}`),localStorage.setItem(ku,JSON.stringify(e)),localStorage.removeItem(ju),{phenomenon:e,isNewEncounter:!1};const t=Date.now(),n=localStorage.getItem(ku),r=localStorage.getItem(ju);if(n&&r)try{const c=JSON.parse(n),u=parseInt(r,10);if(c&&c.id&&t<u){const d=u-t,h=Math.round(d/6e4);return console.log(` Moon theme valid for ${h} more minutes`),{phenomenon:c,isNewEncounter:!1}}t>=u&&console.log(" Moon theme expired, selecting new one...")}catch(c){console.error("Failed to parse stored phenomenon:",c)}const s=b8(),a=S8(s),i=t+a;localStorage.setItem(ku,JSON.stringify(s)),localStorage.setItem(ju,i.toString());const o=Math.round(a/6e4);return console.log(` New moon selected: ${s.name} (duration: ${o} minutes)`),{phenomenon:s,isNewEncounter:!0}},j8=()=>{localStorage.removeItem(ku),localStorage.removeItem(ju),console.log(" Moon phenomenon cleared")},dd=e=>{const t=document.documentElement,n=e.transitionSpeed;t.style.setProperty("--sky-transition-duration",`${n*.8}s`),t.style.setProperty("--moon-transition-duration",`${n}s`),t.style.setProperty("--ui-transition-duration",`${n*1.5}s`),t.style.setProperty("--moon-accent",e.uiAccent);const r=Pk(e.uiAccent);if(r){const s=E8(r.r,r.g,r.b);if(e.rarity==="mythic"){t.setAttribute("data-mythic-theme",e.id),console.log(` Applied Mythic Theme: ${e.id}`),console.log(" Attribute set on:",t),console.log(` Check CSS selector: :root[data-mythic-theme="${e.id}"]`);const h={superBloodMoon:{background:"0 50% 5%",foreground:"0 100% 95%",card:"0 50% 8%",primary:"0 84% 60%",bgColor:"#100505"},superBlueBloodMoon:{background:"270 50% 5%",foreground:"270 100% 95%",card:"270 50% 8%",primary:"290 80% 60%",bgColor:"#1a0520"},lunarTransientPhenomena:{background:"250 50% 4%",foreground:"250 100% 95%",card:"250 50% 7%",primary:"260 100% 70%",bgColor:"#050510"},hybridEclipse:{background:"30 40% 5%",foreground:"40 80% 90%",card:"30 40% 8%",primary:"40 100% 60%",bgColor:"#1a1008"},stillMoon:{background:"210 50% 10%",foreground:"210 20% 95%",card:"210 30% 15%",primary:"210 80% 70%",bgColor:"#0f1f2f"},echoMoon:{background:"240 20% 8%",foreground:"240 20% 90%",card:"240 20% 12%",primary:"245 40% 70%",bgColor:"#0e0e1e"},brokenMoon:{background:"250 15% 8%",foreground:"250 15% 90%",card:"250 15% 11%",primary:"255 30% 65%",bgColor:"#0a0a1c"},emptySky:{background:"0 0% 0%",foreground:"0 0% 80%",card:"0 0% 5%",primary:"0 0% 60%",bgColor:"#000000"},crystalMoon:{background:"220 50% 8%",foreground:"220 50% 95%",card:"220 40% 12%",primary:"200 80% 70%",bgColor:"#0a0e30"},arcticMoon:{background:"200 60% 6%",foreground:"200 50% 95%",card:"200 50% 10%",primary:"190 90% 65%",bgColor:"#001428"},shatteredMoon:{background:"260 20% 8%",foreground:"260 20% 90%",card:"260 20% 12%",primary:"250 50% 60%",bgColor:"#0a0a1f"},cosmicVoyageMoon:{background:"230 60% 4%",foreground:"230 40% 95%",card:"230 50% 8%",primary:"220 80% 70%",bgColor:"#000510"},nebulaDreamMoon:{background:"280 40% 8%",foreground:"280 40% 95%",card:"280 40% 12%",primary:"290 70% 70%",bgColor:"#150a25"},pixelDreamMoon:{background:"270 55% 6%",foreground:"300 80% 95%",card:"270 40% 10%",primary:"320 90% 70%",bgColor:"#120826"}}[e.id];h&&(t.style.setProperty("--background",h.background),t.style.setProperty("--foreground",h.foreground),t.style.setProperty("--card",h.card),t.style.setProperty("--card-foreground",h.foreground),t.style.setProperty("--primary",h.primary),t.style.setProperty("--primary-foreground","0 0% 100%"),document.body.style.backgroundColor=h.bgColor,console.log(" Mythic theme colors applied via JavaScript"));return}else t.removeAttribute("data-mythic-theme"),console.log(` Moon Rarity: ${e.rarity} - Using dynamic theme`);t.style.setProperty("--primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--primary-foreground","0 0% 100%"),t.style.setProperty("--accent",`${s.h} ${s.s}% ${Math.min(s.l+10,95)}%`),t.style.setProperty("--accent-foreground",`${s.h} ${s.s}% ${Math.max(s.l-40,10)}%`),t.style.setProperty("--ring",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--border",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--input",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--card",`${s.h} ${Math.max(s.s-50,15)}% 95%`),t.style.setProperty("--card-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--popover",`${s.h} ${Math.max(s.s-50,15)}% 96%`),t.style.setProperty("--popover-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--secondary",`${s.h} ${Math.max(s.s-40,20)}% 90%`),t.style.setProperty("--secondary-foreground",`${s.h} ${s.s}% ${Math.max(s.l-30,10)}%`),t.style.setProperty("--muted",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--muted-foreground",`${s.h} ${Math.max(s.s-40,15)}% 45%`),t.style.setProperty("--background",`${s.h} ${Math.max(s.s-50,20)}% 92%`),t.style.setProperty("--foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-background",`${s.h} ${Math.max(s.s-50,20)}% 93%`),t.style.setProperty("--sidebar-foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--sidebar-primary-foreground","0 0% 100%"),t.style.setProperty("--sidebar-accent",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--sidebar-accent-foreground",`${s.h} ${Math.max(s.s-50,15)}% 10%`),t.style.setProperty("--sidebar-border",`${s.h} ${Math.max(s.s-30,10)}% 85%`),t.style.setProperty("--sidebar-ring",`${s.h} ${s.s}% ${s.l}%`);const a=wf(e.uiAccent,1.2);t.style.setProperty("--moon-text",a);const i=wf(e.uiAccent,.6);t.style.setProperty("--moon-placeholder",i);const o=`rgba(${r.r}, ${r.g}, ${r.b}, 0.2)`;t.style.setProperty("--moon-divider",o),t.style.setProperty("--moon-caret",e.uiAccent);const c=`rgba(${r.r}, ${r.g}, ${r.b}, 0.3)`;t.style.setProperty("--moon-selection",c);const u=wf(e.uiAccent,1.1);t.style.setProperty("--moon-button-hover",u)}console.log(" Applied complete system-wide moon theme:",e.name)},Pk=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},E8=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let a=0,i=0;const o=(r+s)/2;if(r!==s){const c=r-s;switch(i=o>.5?c/(2-r-s):c/(r+s),r){case e:a=((t-n)/c+(t<n?6:0))/6;break;case t:a=((n-e)/c+2)/6;break;case n:a=((e-t)/c+4)/6;break}}return{h:Math.round(a*360),s:Math.round(i*100),l:Math.round(o*100)}},wf=(e,t)=>{const n=Pk(e);if(!n)return e;const r=Math.min(255,Math.floor(n.r*t)),s=Math.min(255,Math.floor(n.g*t)),a=Math.min(255,Math.floor(n.b*t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},hd=(e=new Date)=>{const t=new Date("2000-01-06T18:14:00Z"),n=29.530588853,s=(e.getTime()-t.getTime())/(1e3*60*60*24)%n,a=s/n,i=(1-Math.cos(a*Math.PI*2))/2;let o,c;return a<.033||a>.967?(o="New Moon",c=""):a<.216?(o="Waxing Crescent",c=""):a<.283?(o="First Quarter",c=""):a<.467?(o="Waxing Gibbous",c=""):a<.533?(o="Full Moon",c=""):a<.717?(o="Waning Gibbous",c=""):a<.783?(o="Last Quarter",c=""):(o="Waning Crescent",c=""),{phase:a,phaseName:o,phaseNameTh:c,illumination:i,age:s}};function C8(){const e=p.useRef({x:0,y:0});return p.useEffect(()=>{const t=n=>{let r=0,s=0;n instanceof MouseEvent?(r=(n.clientX/window.innerWidth-.5)*20,s=(n.clientY/window.innerHeight-.5)*20):window.DeviceOrientationEvent&&n instanceof DeviceOrientationEvent&&(n.gamma!==null&&(r=Math.max(-20,Math.min(20,n.gamma/2))),n.beta!==null&&(s=Math.max(-20,Math.min(20,(n.beta-45)/2)))),e.current={x:r,y:s}};return window.addEventListener("mousemove",t),window.addEventListener("deviceorientation",t),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("deviceorientation",t)}},[]),e}function T8(){const[e,t]=p.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return p.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=s=>{t(s.matches)};return n.addEventListener?n.addEventListener("change",r):n.addListener(r),()=>{n.removeEventListener?n.removeEventListener("change",r):n.removeListener(r)}},[]),e}function N8(e={}){const{targetFPS:t=60,enableAdaptive:n=!0,minFPS:r=20,maxFPS:s=60}=e,a=p.useRef(0),i=p.useRef(0),o=p.useRef([]),c=p.useRef(t),u=p.useRef(0),[d,h]=p.useState({currentFPS:t,averageFPS:t,isThrottled:!1}),[f,m]=p.useState(!1);p.useEffect(()=>{var S;const v=(S=navigator.getBattery)==null?void 0:S.bind(navigator);if(!v)return;let b=!0,w;return v().then(k=>{if(!b)return;const E=()=>{m(k.level<.2&&!k.charging)};E(),k.addEventListener("levelchange",E),k.addEventListener("chargingchange",E),w=()=>{k.removeEventListener("levelchange",E),k.removeEventListener("chargingchange",E)}}).catch(k=>{console.warn("Battery API unavailable:",k)}),()=>{b=!1,w==null||w()}},[]);const y=p.useCallback(()=>{let v=c.current;return f&&(v=Math.min(v,30)),1e3/v},[f]),g=p.useCallback(v=>{const b=y();if(v-a.current>=b){if(i.current++,v-u.current>=1e3){const S=i.current;o.current.push(S),o.current.length>5&&o.current.shift();const k=o.current.reduce((E,j)=>E+j,0)/o.current.length;n&&(S<c.current*.8?c.current=Math.max(r,c.current-5):S>=c.current*.95&&c.current<s&&(c.current=Math.min(s,c.current+2))),h({currentFPS:S,averageFPS:Math.round(k),isThrottled:c.current<t}),i.current=0,u.current=v}return a.current=v,!0}return!1},[y,n,r,s,t]),x=p.useCallback(()=>{a.current=0,i.current=0,o.current=[],c.current=t,u.current=0},[t]);return{shouldRenderFrame:g,resetThrottle:x,metrics:d,isLowPowerMode:f,currentTargetFPS:c.current}}const P8=()=>[],Mk=(e,t,n=40)=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*8+4,opacity:1,lifetime:0,maxLifetime:30+Math.random()*20}},M8=(e,t)=>t.map(n=>{if(n.lifetime++,n.opacity=1-n.lifetime/n.maxLifetime,n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size);r.addColorStop(0,`rgba(255,255,255,${n.opacity})`),r.addColorStop(.5,`rgba(200,200,255,${n.opacity*.6})`),r.addColorStop(1,"rgba(150,150,255,0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size,0,Math.PI*2),e.fill()}return n}).filter(n=>n.lifetime<n.maxLifetime),Sf=(e=20,t="#B84060",n="#d85080",r=.01,s=.02)=>Array.from({length:e},(a,i)=>({angle:Math.PI*2*i/e,distance:50+Math.random()*30,size:Math.random()*3+1,speed:r+Math.random()*(s-r),color:i%2===0?t:n,opacity:Math.random()*.5+.3})),_8=(e,t,n,r)=>{t.forEach(s=>{s.angle+=s.speed;const a=n+Math.cos(s.angle)*s.distance,i=r+Math.sin(s.angle)*s.distance,o=e.createRadialGradient(a,i,0,a,i,s.size*2);o.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${s.color}00`),e.fillStyle=o,e.beginPath(),e.arc(a,i,s.size*2,0,Math.PI*2),e.fill(),e.fillStyle=s.color,e.globalAlpha=s.opacity,e.beginPath(),e.arc(a,i,s.size,0,Math.PI*2),e.fill(),e.globalAlpha=1})},_k=(e,t,n=40)=>Array.from({length:50},()=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*1.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*4+1.5,opacity:Math.random()*.9+.3,twinklePhase:Math.random()*Math.PI*2,twinkleSpeed:.03+Math.random()*.05}}),R8=(e,t)=>{t.forEach(n=>{n.twinklePhase+=n.twinkleSpeed;const r=(Math.sin(n.twinklePhase)+1)/2,s=n.opacity*r;if(s>.1){e.save(),e.translate(n.x,n.y),e.rotate(n.twinklePhase*.2);const a=e.createRadialGradient(0,0,0,0,0,n.size*6),i=n.twinklePhase*50%360;a.addColorStop(0,`hsla(${i}, 70%, 85%, ${s*.4})`),a.addColorStop(.3,`hsla(${i+60}, 60%, 80%, ${s*.3})`),a.addColorStop(.6,`hsla(${i+120}, 50%, 75%, ${s*.2})`),a.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=a,e.beginPath(),e.arc(0,0,n.size*6,0,Math.PI*2),e.fill();const o=e.createRadialGradient(0,0,0,0,0,n.size*4);o.addColorStop(0,`rgba(240, 248, 255, ${s})`),o.addColorStop(.4,`rgba(200, 220, 255, ${s*.7})`),o.addColorStop(.7,`rgba(176, 192, 224, ${s*.4})`),o.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=o,e.beginPath(),e.arc(0,0,n.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s*.8})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*1.2,h=Math.sin(u)*n.size*1.2;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(200, 220, 255, ${s*.6})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*.6,h=Math.sin(u)*n.size*.6;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s})`,e.beginPath(),e.arc(0,0,n.size*.3,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(240, 248, 255, ${s*.9})`,e.lineWidth=1.5,e.lineCap="round";for(let c=0;c<6;c++){const u=c*Math.PI/3,d=n.size*6;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.strokeStyle=`rgba(200, 220, 255, ${s*.5})`,e.lineWidth=.8;for(let c=0;c<12;c++){const u=c*Math.PI/6+Math.PI/12,d=n.size*4;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.restore()}})},A8=e=>{const t=["#00ff88","#00ddaa","#00ccbb"];return Array.from({length:3},(n,r)=>({y:e*.3+r*80,amplitude:25+Math.random()*20,frequency:.003+Math.random()*.004,phase:Math.random()*Math.PI*2,speed:.004+Math.random()*.005,color:t[r],opacity:.08+Math.random()*.06}))},D8=(e,t,n)=>{t.forEach((r,s)=>{r.phase+=r.speed;const a=r.opacity*(1+Math.sin(r.phase*.5)*.3);e.beginPath(),e.moveTo(0,r.y);for(let c=0;c<=n;c+=2){const u=r.y+Math.sin(c*r.frequency+r.phase)*r.amplitude,d=Math.sin(c*r.frequency*2+r.phase*1.5)*(r.amplitude*.3),h=Math.sin(c*r.frequency*4+r.phase*2)*(r.amplitude*.15),f=Math.sin(c*.05+r.phase*3)*5;e.lineTo(c,u+d+h+f)}const i=e.createLinearGradient(0,r.y,n,r.y);i.addColorStop(0,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),i.addColorStop(.25,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${r.color}${Math.floor(a*255).toString(16).padStart(2,"0")}`),i.addColorStop(.75,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),e.strokeStyle=i,e.lineWidth=70,e.lineCap="round",e.lineJoin="round",e.shadowBlur=40,e.shadowColor=r.color,e.stroke(),e.shadowBlur=0;const o=e.createLinearGradient(0,r.y-r.amplitude*2,0,r.y+r.amplitude*3);if(o.addColorStop(0,`${r.color}00`),o.addColorStop(.2,`${r.color}${Math.floor(a*.5*255).toString(16).padStart(2,"0")}`),o.addColorStop(.5,`${r.color}${Math.floor(a*.8*255).toString(16).padStart(2,"0")}`),o.addColorStop(.8,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.strokeStyle=o,e.lineWidth=50,e.globalAlpha=.6,e.stroke(),e.globalAlpha=1,Math.random()<.3)for(let c=0;c<3;c++){const u=Math.random()*n,d=r.y+Math.sin(u*r.frequency+r.phase)*r.amplitude,h=2+Math.random()*3,f=e.createRadialGradient(u,d,0,u,d,h*3);f.addColorStop(0,`rgba(255, 255, 255, ${a*.6})`),f.addColorStop(.5,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${r.color}00`),e.fillStyle=f,e.beginPath(),e.arc(u,d,h*3,0,Math.PI*2),e.fill()}})},O8=(e,t,n=20)=>Array.from({length:n},()=>{const r=Math.random()*e,s=t*.5+Math.random()*t*.4;return{x:r,y:s,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2+Math.random()*2,opacity:0,blinkPhase:Math.random()*Math.PI*2,blinkSpeed:.05+Math.random()*.05,targetX:r,targetY:s}}),I8=(e,t,n,r)=>{t.forEach(s=>{if(s.blinkPhase+=s.blinkSpeed,s.opacity=Math.max(0,Math.sin(s.blinkPhase))*.8,Math.random()<.02&&(s.targetX=Math.random()*n,s.targetY=r*.5+Math.random()*r*.4),s.vx+=(s.targetX-s.x)*.001,s.vy+=(s.targetY-s.y)*.001,s.vx*=.95,s.vy*=.95,s.x+=s.vx,s.y+=s.vy,s.opacity>0){const a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*3);a.addColorStop(0,`rgba(255,255,150,${s.opacity})`),a.addColorStop(.5,`rgba(255,200,100,${s.opacity*.5})`),a.addColorStop(1,"rgba(255,200,100,0)"),e.fillStyle=a,e.beginPath(),e.arc(s.x,s.y,s.size*3,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255,255,200,${s.opacity})`,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill()}})},L8=(e,t=50)=>Array.from({length:t},()=>({x:Math.random()*e,y:Math.random()*-100,size:Math.random()*3+1,speed:Math.random()*.5+.3,drift:(Math.random()-.5)*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.6+.4})),$8=(e,t,n,r)=>{t.forEach(s=>{s.y+=s.speed,s.x+=s.drift,s.rotation+=s.rotationSpeed,s.y>r&&(s.y=-10,s.x=Math.random()*n),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.globalAlpha=s.opacity,e.strokeStyle="#ffffff",e.lineWidth=1,e.lineCap="round";for(let a=0;a<6;a++)e.rotate(Math.PI/3),e.beginPath(),e.moveTo(0,0),e.lineTo(0,s.size*2),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(-s.size*.5,s.size*1.5),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(s.size*.5,s.size*1.5),e.stroke();e.restore()})},F8=(e,t)=>{const n=["#f0e8e0","#e8d8d0","#d8c8c0"];return Array.from({length:5},(r,s)=>({x:-e-Math.random()*e*.5,y:t*.5+s*40,width:e*2.5,height:100+s*20,speed:.06+s*.04,opacity:.1+s*.04,color:n[s%n.length],wave:Math.random()*Math.PI*2,waveSpeed:.01+Math.random()*.01}))},z8=(e,t,n)=>{t.forEach((r,s)=>{r.x+=r.speed,r.wave+=r.waveSpeed,r.x>n*.3&&(r.x=-r.width);const a=Math.sin(r.wave)*15,i=r.y+a,o=e.createRadialGradient(r.x+r.width*.5,i+r.height*.5,0,r.x+r.width*.5,i+r.height*.5,r.width*.6);if(o.addColorStop(0,`${r.color}${Math.floor(r.opacity*255*.5).toString(16).padStart(2,"0")}`),o.addColorStop(.3,`${r.color}${Math.floor(r.opacity*255*.9).toString(16).padStart(2,"0")}`),o.addColorStop(.7,`${r.color}${Math.floor(r.opacity*255*.4).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.save(),e.globalCompositeOperation="lighter",e.fillStyle=o,e.fillRect(r.x,i,r.width,r.height),r.x>0?e.fillRect(r.x-r.width,i,r.width,r.height):r.x+r.width<n,e.fillRect(r.x-r.width,i,r.width,r.height),e.restore(),s%2===0&&Math.random()<.02){const c=r.x+Math.random()*r.width,u=i+Math.random()*r.height,d=e.createRadialGradient(c,u,0,c,u,3);d.addColorStop(0,"rgba(255,255,255,0.3)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=d,e.beginPath(),e.arc(c,u,3,0,Math.PI*2),e.fill()}e.restore()})},fd=[{core:"#fff4d6",mid:"#ffd28a",tail:"#7ac9ff",glow:"#ffe0b3"},{core:"#fff0ff",mid:"#ff8dd4",tail:"#8a6bff",glow:"#ffb7e8"},{core:"#f7fbff",mid:"#9fe6ff",tail:"#5aa8ff",glow:"#d2f4ff"},{core:"#f9f2ff",mid:"#c7a3ff",tail:"#6f5bff",glow:"#d9c2ff"},{core:"#fff2e6",mid:"#ffb07a",tail:"#ff6a8f",glow:"#ffd3b8"}],B8=Math.PI/4.6,V8=.16,Kx=[420,720],qx=[900,1800],Yx=[360,600],Xx=[900,1500],U8=new WeakMap,W8=new WeakMap,so=e=>e[0]+Math.floor(Math.random()*(e[1]-e[0]+1)),Rk=(e,t,n,r)=>{const s=e.get(t);if(s)return s;const a=Math.random()<.6,i=so(n),o=so(r),c=Math.floor(Math.random()*(a?i:o)),u={active:a,timer:c,activeDuration:i,cooldownDuration:o};return e.set(t,u),u},Ak=()=>{const e=(Math.random()-.5)*V8;return B8+e},Dk=(e,t)=>{const n=Math.max(e,t)*.14;return Math.random()<.65?{x:Math.random()*(e*.65+n)-n,y:-n-Math.random()*n}:{x:-n-Math.random()*n,y:Math.random()*(t*.65+n)-n*.2}},hn=(e,t)=>{const n=Math.min(1,Math.max(0,t));return`${e}${Math.round(n*255).toString(16).padStart(2,"0")}`},xp=(e,t,n=!1)=>{const r=Math.random()<.22?"hero":"streak",s=fd[Math.floor(Math.random()*fd.length)],a=Ak(),i=(r==="hero"?9:6)+Math.random()*(r==="hero"?6:4),o=Math.cos(a)*i,c=Math.sin(a)*i,u=r==="hero"?180+Math.random()*120:90+Math.random()*80,d=r==="hero"?2.4+Math.random()*1.4:1.1+Math.random()*.7,h=r==="hero"?7+Math.random()*5:4+Math.random()*3,f=Dk(e,t),m=f.x,y=f.y,g=r==="hero"?140+Math.random()*70:95+Math.random()*60,x=Math.random()*g*.6;return{x:m,y,vx:o,vy:c,length:u,opacity:.5+Math.random()*.3,coreColor:s.core,midColor:s.mid,tailColor:s.tail,glowColor:s.glow,width:d,headSize:h,life:x,maxLife:g,flickerPhase:Math.random()*Math.PI*2,flickerSpeed:.02+Math.random()*.03,offset:(Math.random()-.5)*(r==="hero"?3.5:2),kind:r,active:n?!0:Math.random()<.7}},Ok=(e,t,n,r)=>{if(n<=0)return;const s=Math.hypot(t.vx,t.vy);if(s<=.001)return;const a=t.vx/s,i=t.vy/s,o=t.x-a*t.length,c=t.y-i*t.length,u=-i,d=a,h=u*t.offset,f=d*t.offset,m=t.x+h,y=t.y+f,g=o+h,x=c+f;e.save(),e.globalCompositeOperation="lighter",e.globalAlpha=n;const v=e.createLinearGradient(m,y,g,x);v.addColorStop(0,hn(t.coreColor,.95)),v.addColorStop(.35,hn(t.midColor,.8)),v.addColorStop(.7,hn(t.tailColor,.55)),v.addColorStop(1,hn(t.tailColor,0)),e.strokeStyle=v,e.lineWidth=t.width,e.lineCap="round",e.beginPath(),e.moveTo(m,y),e.lineTo(g,x),e.stroke(),e.strokeStyle=hn(t.tailColor,.4),e.lineWidth=Math.max(.45,t.width*.4),e.beginPath(),e.moveTo(m-h*.3,y-f*.3),e.lineTo(g-h*.3,x-f*.3),e.stroke(),e.strokeStyle=hn("#ffffff",.9),e.lineWidth=Math.max(.4,t.width*.35),e.beginPath(),e.moveTo(m,y),e.lineTo(g,x),e.stroke();const b=e.createRadialGradient(m,y,0,m,y,t.headSize*2.6);if(b.addColorStop(0,hn("#ffffff",.95)),b.addColorStop(.4,hn(t.glowColor,.8)),b.addColorStop(1,hn(t.glowColor,0)),e.fillStyle=b,e.beginPath(),e.arc(m,y,t.headSize*2.2,0,Math.PI*2),e.fill(),e.fillStyle=hn("#ffffff",.9),e.beginPath(),e.arc(m,y,Math.max(1.2,t.headSize*.25),0,Math.PI*2),e.fill(),Math.random()<r){const w=Math.random()*.6+.15,S=m-a*t.length*w,k=y-i*t.length*w,E=t.width*(.8+Math.random()*.8),j=e.createRadialGradient(S,k,0,S,k,E*4);j.addColorStop(0,hn("#ffffff",.8)),j.addColorStop(.4,hn(t.tailColor,.6)),j.addColorStop(1,hn(t.tailColor,0)),e.fillStyle=j,e.beginPath(),e.arc(S,k,E*1.8,0,Math.PI*2),e.fill()}e.restore()},H8=(e,t,n=15)=>{const r=Math.max(10,Math.round(n*1.05));return Array.from({length:r},()=>xp(e,t))},G8=(e,t,n,r)=>{const s=Rk(U8,t,Kx,qx);s.timer+=1,s.active&&s.timer>=s.activeDuration?(s.active=!1,s.timer=0,s.cooldownDuration=so(qx)):!s.active&&s.timer>=s.cooldownDuration&&(s.active=!0,s.timer=0,s.activeDuration=so(Kx));const a=s.active,i=Math.max(n,r)*.25;for(let o=0;o<t.length;o+=1){const c=t[o];if(!c.active){a&&Math.random()<.03&&(t[o]=xp(n,r,!0));continue}c.x+=c.vx,c.y+=c.vy,c.life+=1,c.flickerPhase+=c.flickerSpeed;const u=c.life/c.maxLife,d=u<.12?u/.12:1,h=u>.85?(1-u)/.15:1,f=Math.max(0,Math.min(1,Math.min(d,h))),m=.85+Math.sin(c.flickerPhase)*.15,y=c.opacity*f*m;y>.02&&Ok(e,c,y*.7,c.kind==="hero"?.14:.08),(c.x>n+i||c.y>r+i||c.life>=c.maxLife)&&(a?t[o]=xp(n,r,!0):c.active=!1)}},K8=(e,t,n=40)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,opacity:0,lifetime:0,maxLifetime:240+Math.random()*180,freezePoint:40+Math.random()*30,isFrozen:!1,trailLength:Math.random()*30+15,color:Math.random()>.5?"#B0C4DE":"#7090b0",rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,frozenIntensity:Math.random()*.5+.5})),q8=(e,t)=>{t.forEach(n=>{if(n.lifetime++,n.lifetime<20?(n.opacity=n.lifetime/20,n.y-=.5):n.lifetime>=n.freezePoint&&n.lifetime<n.freezePoint+150?(n.isFrozen||(n.isFrozen=!0,n.rotationSpeed=0),n.opacity=.9*n.frozenIntensity):n.lifetime>=n.freezePoint+150?n.opacity=Math.max(0,1-(n.lifetime-n.freezePoint-150)/90):(n.opacity=.7,n.y-=.4,n.rotation+=n.rotationSpeed),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.y=Math.random()*e.canvas.height,n.x=Math.random()*e.canvas.width,n.freezePoint=40+Math.random()*30,n.isFrozen=!1,n.rotation=Math.random()*Math.PI*2,n.rotationSpeed=(Math.random()-.5)*.02),n.opacity>0){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),!n.isFrozen&&n.lifetime>=20&&n.lifetime<n.freezePoint){const a=e.createLinearGradient(0,0,0,n.trailLength);a.addColorStop(0,`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${n.color}${Math.floor(n.opacity*100).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${n.color}00`),e.strokeStyle=a,e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n.trailLength),e.stroke()}const r=n.isFrozen?n.size*4:n.size*3,s=e.createRadialGradient(0,0,0,0,0,r);s.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),s.addColorStop(.3,`${n.color}${Math.floor(n.opacity*180).toString(16).padStart(2,"0")}`),s.addColorStop(1,`${n.color}00`),e.fillStyle=s,e.beginPath(),e.arc(0,0,r,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*230).toString(16).padStart(2,"0")}`,e.beginPath();for(let a=0;a<6;a++){const i=Math.PI/3*a,o=Math.cos(i)*n.size,c=Math.sin(i)*n.size;a===0?e.moveTo(o,c):e.lineTo(o,c)}if(e.closePath(),e.fill(),e.fillStyle=`#ffffff${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(0,0,n.size*.5,0,Math.PI*2),e.fill(),n.isFrozen){e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.8})`,e.lineWidth=1.5;for(let i=0;i<6;i++){const o=Math.PI/3*i,c=n.size*3.5;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(o)*c,Math.sin(o)*c),e.stroke(),e.fillStyle=`rgba(220, 235, 255, ${n.opacity*.9})`,e.beginPath(),e.arc(Math.cos(o)*c,Math.sin(o)*c,2,0,Math.PI*2),e.fill()}const a=n.size*2.5+Math.sin(n.lifetime*.05)*n.size*.3;e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.5})`,e.lineWidth=2,e.beginPath(),e.arc(0,0,a,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(220, 235, 255, ${n.opacity*.3})`,e.lineWidth=1,e.beginPath(),e.arc(0,0,a*.6,0,Math.PI*2),e.stroke();for(let i=0;i<4;i++){const o=Math.PI/2*i+n.lifetime*.01,c=a*1.2,u=Math.cos(o)*c,d=Math.sin(o)*c;e.fillStyle=`rgba(255, 255, 255, ${n.opacity*.7})`,e.beginPath(),e.arc(u,d,1.5,0,Math.PI*2),e.fill()}}e.restore()}})},Y8=()=>[],X8=(e,t,n)=>({radius:n*.5,maxRadius:n*5+Math.random()*n*3,opacity:1,lifetime:0,maxLifetime:120+Math.random()*80,centerX:e,centerY:t,speed:.8+Math.random()*.6,thickness:2+Math.random()*2}),Q8=(e,t,n,r)=>t.map(s=>{s.lifetime++,s.radius+=s.speed;const a=20,i=s.maxLifetime-40;if(s.lifetime<a?s.opacity=s.lifetime/a:s.lifetime>i?s.opacity=Math.max(0,1-(s.lifetime-i)/40):s.opacity=.6+Math.sin(s.lifetime*.1)*.2,s.opacity>0){e.strokeStyle=`rgba(80, 80, 112, ${s.opacity*.4})`,e.lineWidth=s.thickness,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(64, 64, 80, ${s.opacity*.6})`,e.lineWidth=s.thickness*.5,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius-s.thickness,0,Math.PI*2),e.stroke();const o=e.createRadialGradient(s.centerX,s.centerY,s.radius-s.thickness*3,s.centerX,s.centerY,s.radius+s.thickness*2);if(o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(.4,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(.6,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=o,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.fill(),s.lifetime%8===0&&s.opacity>.3)for(let u=0;u<3;u++){const d=Math.random()*Math.PI*2,h=s.centerX+Math.cos(d)*s.radius,f=s.centerY+Math.sin(d)*s.radius,m=e.createRadialGradient(h,f,0,h,f,3);m.addColorStop(0,`rgba(112, 144, 176, ${s.opacity*.8})`),m.addColorStop(1,"rgba(112, 144, 176, 0)"),e.fillStyle=m,e.beginPath(),e.arc(h,f,3,0,Math.PI*2),e.fill()}}return s}).filter(s=>s.lifetime<s.maxLifetime),J8=(e,t,n=12)=>{const r=[];for(let s=0;s<n;s++){const a=Math.PI*2/n*s+(Math.random()-.5)*.4,i=60+Math.random()*45;r.push({x:e+Math.cos(a)*i,y:t+Math.sin(a)*i,size:5+Math.random()*8,angle:a,distance:i,orbitSpeed:8e-4+Math.random()*.0015,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.025,opacity:.7+Math.random()*.3})}return r},Qx=(e,t,n=25)=>{const r=[];for(let s=0;s<n;s++){const a=Math.random()*Math.PI*2,i=.15+Math.random()*.3;r.push({x:e+(Math.random()-.5)*90,y:t+(Math.random()-.5)*90,vx:Math.cos(a)*i,vy:Math.sin(a)*i,size:.8+Math.random()*1.5,opacity:.2+Math.random()*.3,life:0,maxLife:120+Math.random()*120})}return r},Z8=(e,t,n,r,s)=>{t.forEach(a=>{a.angle+=a.orbitSpeed,a.rotation+=a.rotationSpeed,a.x=n+Math.cos(a.angle)*a.distance,a.y=r+Math.sin(a.angle)*a.distance,e.save(),e.translate(a.x,a.y),e.rotate(a.rotation),e.fillStyle=`rgba(0, 0, 0, ${a.opacity*.4})`,e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.6)",e.beginPath();const i=5+Math.floor(Math.random()*3);for(let c=0;c<i;c++){const u=Math.PI*2/i*c,d=a.size*(.8+Math.random()*.5),h=Math.cos(u)*d,f=Math.sin(u)*d;c===0?e.moveTo(h,f):e.lineTo(h,f)}e.closePath(),e.fill(),e.fillStyle=`${s}${Math.floor(a.opacity*255).toString(16).padStart(2,"0")}`,e.shadowBlur=8,e.shadowColor=s,e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${a.opacity*.6})`,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 0.8)",e.stroke();const o=e.createRadialGradient(0,0,0,0,0,a.size*.6);o.addColorStop(0,`rgba(255, 255, 255, ${a.opacity*.4})`),o.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=o,e.shadowBlur=0,e.beginPath(),e.arc(0,0,a.size*.6,0,Math.PI*2),e.fill(),e.restore()})},eL=(e,t,n,r,s)=>{t.forEach(a=>{a.x+=a.vx,a.y+=a.vy,a.life++;const i=1-a.life/a.maxLife,o=a.opacity*i;if(a.life<a.maxLife&&o>.01){const c=e.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size*4);c.addColorStop(0,`${n}${Math.floor(o*.8*255).toString(16).padStart(2,"0")}`),c.addColorStop(.5,`${n}${Math.floor(o*.3*255).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${n}00`),e.fillStyle=c,e.beginPath(),e.arc(a.x,a.y,a.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`${n}${Math.floor(o*255).toString(16).padStart(2,"0")}`,e.shadowBlur=5,e.shadowColor=n,e.beginPath(),e.arc(a.x,a.y,a.size,0,Math.PI*2),e.fill(),e.shadowBlur=0,Math.random()<.15&&(e.fillStyle=`rgba(255, 255, 255, ${o*.8})`,e.beginPath(),e.arc(a.x,a.y,a.size*.5,0,Math.PI*2),e.fill())}if(a.life>=a.maxLife){if(r!==void 0&&s!==void 0){const c=Math.random()*Math.PI*2,u=70+Math.random()*30;a.x=r+Math.cos(c)*u,a.y=s+Math.sin(c)*u;const d=.15+Math.random()*.35,h=Math.random()*Math.PI*2;a.vx=Math.cos(h)*d,a.vy=Math.sin(h)*d}a.life=0,a.opacity=.35+Math.random()*.45}})},tL=(e,t,n,r=4)=>Array.from({length:r},(s,a)=>({x:e,y:t,radius:n,opacity:.6-a*.15,delay:a*15,scale:1+a*.15,phaseOffset:0})),nL=(e,t,n,r,s,a)=>{t.forEach((i,o)=>{i.phaseOffset+=.001;const c=n,u=r+Math.sin(s-i.phaseOffset*50)*3;i.x+=(c-i.x)*(.05/(o+1)),i.y+=(u-i.y)*(.05/(o+1));const d=i.radius*i.scale,h=e.createRadialGradient(i.x,i.y,d*.3,i.x,i.y,d*2);h.addColorStop(0,`${a}${Math.floor(i.opacity*.4*255).toString(16).padStart(2,"0")}`),h.addColorStop(.5,`${a}${Math.floor(i.opacity*.2*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${a}00`),e.fillStyle=h,e.beginPath(),e.arc(i.x,i.y,d*2,0,Math.PI*2),e.fill();const f=e.createRadialGradient(i.x-d*.25,i.y-d*.25,0,i.x,i.y,d);f.addColorStop(0,`${a}${Math.floor(i.opacity*.8*255).toString(16).padStart(2,"0")}`),f.addColorStop(.7,`${a}${Math.floor(i.opacity*.5*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${a}${Math.floor(i.opacity*.2*255).toString(16).padStart(2,"0")}`),e.fillStyle=f,e.beginPath(),e.arc(i.x,i.y,d,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${i.opacity*.3})`,e.lineWidth=1.5,e.beginPath(),e.arc(i.x-d*.3,i.y-d*.3,d*.6,Math.PI,Math.PI*2),e.stroke();const m=(Date.now()/1e3+o*.5)%2;for(let y=0;y<3;y++){const g=d*(1.2+m*.5+y*.3),x=i.opacity*(1-m/2)*.4;x>.05&&(e.strokeStyle=`rgba(208, 208, 232, ${x})`,e.lineWidth=2,e.beginPath(),e.arc(i.x,i.y,g,0,Math.PI*2),e.stroke())}})},rL=e=>Array.from({length:3},(t,n)=>({radius:e*(1.15+n*.2),opacity:.6-n*.15,pulsePhase:Math.PI*2*n/3,thickness:3-n*.5})),sL=(e,t,n,r)=>{t.forEach(s=>{s.pulsePhase+=.02;const a=Math.sin(s.pulsePhase)*.2+.8,i=s.opacity*a;e.strokeStyle=`rgba(160, 48, 48, ${i})`,e.lineWidth=s.thickness,e.shadowBlur=10,e.shadowColor=`rgba(200, 64, 64, ${i})`,e.beginPath(),e.arc(n,r,s.radius,0,Math.PI*2),e.stroke(),e.shadowBlur=0})},aL=(e,t,n=30)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*4+2,opacity:Math.random()*.8+.2,fadeSpeed:.002+Math.random()*.003,lifetime:0,maxLifetime:200+Math.random()*200})),iL=(e,t)=>{t.forEach(n=>{if(n.x+=n.vx,n.y+=n.vy,n.lifetime++,n.opacity-=n.fadeSpeed,(n.lifetime>=n.maxLifetime||n.opacity<=0)&&(n.x=Math.random()*e.canvas.width,n.y=Math.random()*e.canvas.height,n.opacity=Math.random()*.8+.2,n.lifetime=0),n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*3);r.addColorStop(0,`rgba(160, 160, 176, ${n.opacity})`),r.addColorStop(.5,`rgba(160, 160, 176, ${n.opacity*.5})`),r.addColorStop(1,"rgba(160, 160, 176, 0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*3,0,Math.PI*2),e.fill()}})},oL=()=>[],lL=(e,t,n,r,s)=>(Math.random()<.015&&t.push({radius:s,opacity:.6,lifetime:0,maxLifetime:120}),t.map(a=>(a.lifetime++,a.radius+=1,a.opacity=(1-a.lifetime/a.maxLifetime)*.6,a.lifetime<a.maxLifetime&&a.opacity>.05&&(e.strokeStyle=`rgba(168, 168, 200, ${a.opacity})`,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.arc(n,r,a.radius,0,Math.PI*2),e.stroke(),e.setLineDash([])),a)).filter(a=>a.lifetime<a.maxLifetime)),cL=(e,t,n=40)=>{const r=["#C8B8D8","#B8A8C8","#D8C8E8"];return Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.4,vy:-.2-Math.random()*.3,size:Math.random()*3+1.5,opacity:Math.random()*.7+.3,color:r[Math.floor(Math.random()*r.length)],floatPhase:Math.random()*Math.PI*2,floatSpeed:.02+Math.random()*.03}))},uL=(e,t)=>{t.forEach(n=>{n.floatPhase+=n.floatSpeed,n.x+=n.vx+Math.sin(n.floatPhase)*.3,n.y+=n.vy,n.y<-10&&(n.y=e.canvas.height+10,n.x=Math.random()*e.canvas.width),n.x<-10&&(n.x=e.canvas.width+10),n.x>e.canvas.width+10&&(n.x=-10);const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*2.5);r.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),r.addColorStop(.5,`${n.color}${Math.floor(n.opacity*128).toString(16).padStart(2,"0")}`),r.addColorStop(1,`${n.color}00`),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*2.5,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(n.x,n.y,n.size*.8,0,Math.PI*2),e.fill()})},dL=(e,t,n=25)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*6+3,opacity:Math.random()*.4+.2,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,lifetime:0,maxLifetime:300+Math.random()*300,fragmentType:Math.floor(Math.random()*3)})),hL=(e,t)=>{t.forEach(n=>{n.x+=n.vx,n.y+=n.vy,n.rotation+=n.rotationSpeed,n.lifetime++,n.x<0&&(n.x=e.canvas.width),n.x>e.canvas.width&&(n.x=0),n.y<0&&(n.y=e.canvas.height),n.y>e.canvas.height&&(n.y=0),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.opacity=Math.random()*.4+.2);const r=n.lifetime<60?n.lifetime/60:(n.maxLifetime-n.lifetime)/60,s=Math.min(n.opacity,r);if(s>.05){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),e.globalAlpha=s,e.strokeStyle="#888898",e.fillStyle="rgba(136, 136, 152, 0.3)",e.lineWidth=1.5,e.beginPath(),n.fragmentType===0)e.moveTo(0,-n.size),e.lineTo(n.size,n.size),e.lineTo(-n.size,n.size);else if(n.fragmentType===1)e.rect(-n.size/2,-n.size/2,n.size,n.size);else for(let a=0;a<5;a++){const i=Math.PI*2*a/5-Math.PI/2,o=Math.cos(i)*n.size,c=Math.sin(i)*n.size;a===0?e.moveTo(o,c):e.lineTo(o,c)}e.closePath(),e.fill(),e.stroke(),e.restore()}})},fL=(e,t,n)=>{const r=["","","","","",""];return Array.from({length:6},(s,a)=>({x:e,y:t,symbol:r[a],size:12+Math.random()*8,opacity:.6+Math.random()*.3,rotation:0,pulsePhase:Math.PI*2*a/6,orbitAngle:Math.PI*2*a/6,orbitSpeed:.005+Math.random()*.003,orbitRadius:n*(1.4+Math.random()*.3)}))},mL=(e,t,n,r)=>{t.forEach(s=>{s.orbitAngle+=s.orbitSpeed,s.pulsePhase+=.02,s.rotation+=.01;const a=n+Math.cos(s.orbitAngle)*s.orbitRadius,i=r+Math.sin(s.orbitAngle)*s.orbitRadius,o=Math.sin(s.pulsePhase)*.3+.7,c=s.opacity*o,u=e.createRadialGradient(a,i,0,a,i,s.size*2);u.addColorStop(0,`rgba(184, 168, 136, ${c*.5})`),u.addColorStop(1,"rgba(184, 168, 136, 0)"),e.fillStyle=u,e.beginPath(),e.arc(a,i,s.size*2,0,Math.PI*2),e.fill(),e.save(),e.translate(a,i),e.rotate(s.rotation),e.fillStyle=`rgba(184, 168, 136, ${c})`,e.font=`${s.size}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(s.symbol,0,0),e.restore()})},pL=(e=12)=>Array.from({length:e},(t,n)=>({angle:Math.PI*2*n/e,length:50+Math.random()*30,opacity:.3+Math.random()*.4,width:2+Math.random()*3,pulsePhase:Math.random()*Math.PI*2,speed:.02+Math.random()*.02})),gL=(e,t,n,r,s)=>{if(!isFinite(n)||!isFinite(r)||!isFinite(s)){console.warn("Invalid moon parameters in drawLightRays:",{moonX:n,moonY:r,moonRadius:s});return}t.forEach(a=>{a.pulsePhase+=a.speed,a.angle+=.003;const i=Math.sin(a.pulsePhase)*.4+.6,o=a.opacity*i,c=n+Math.cos(a.angle)*s,u=r+Math.sin(a.angle)*s,d=n+Math.cos(a.angle)*(s+a.length),h=r+Math.sin(a.angle)*(s+a.length);if(!isFinite(c)||!isFinite(u)||!isFinite(d)||!isFinite(h))return;const f=e.createLinearGradient(c,u,d,h);f.addColorStop(0,`rgba(248, 248, 255, ${o})`),f.addColorStop(.5,`rgba(248, 248, 255, ${o*.6})`),f.addColorStop(1,"rgba(248, 248, 255, 0)"),e.strokeStyle=f,e.lineWidth=a.width,e.lineCap="round",e.beginPath(),e.moveTo(c,u),e.lineTo(d,h),e.stroke()})},yL=(e,t)=>{const n=Math.random()<.35?"hero":"streak",r=fd[Math.floor(Math.random()*fd.length)],s=Ak(),a=(n==="hero"?12:9)+Math.random()*(n==="hero"?7:5),i=Math.cos(s)*a,o=Math.sin(s)*a,c=n==="hero"?220+Math.random()*140:120+Math.random()*100,u=n==="hero"?2.8+Math.random()*1.6:1.2+Math.random()*.8,d=n==="hero"?8+Math.random()*6:5+Math.random()*3,h=Dk(e,t),f=h.x,m=h.y,y=n==="hero"?120+Math.random()*80:90+Math.random()*60;return{x:f,y:m,vx:i,vy:o,length:c,opacity:.7+Math.random()*.3,coreColor:r.core,midColor:r.mid,tailColor:r.tail,glowColor:r.glow,width:u,headSize:d,life:0,maxLife:y,flickerPhase:Math.random()*Math.PI*2,flickerSpeed:.018+Math.random()*.03,offset:(Math.random()-.5)*(n==="hero"?3.8:2.2),kind:n}},vL=()=>[],xL=(e,t,n,r)=>{const s=Rk(W8,t,Yx,Xx);if(s.timer+=1,s.active&&s.timer>=s.activeDuration?(s.active=!1,s.timer=0,s.cooldownDuration=so(Xx)):!s.active&&s.timer>=s.cooldownDuration&&(s.active=!0,s.timer=0,s.activeDuration=so(Yx)),s.active&&Math.random()<.18){const o=Math.random()<.4?2:1;for(let c=0;c<o;c+=1)t.push(yL(n,r))}const a=Math.max(n,r)*.25;return t.map(i=>{i.x+=i.vx,i.y+=i.vy,i.life+=1,i.flickerPhase+=i.flickerSpeed;const o=i.life/i.maxLife,c=o<.12?o/.12:1,u=o>.82?(1-o)/.18:1,d=Math.max(0,Math.min(1,Math.min(c,u))),h=.85+Math.sin(i.flickerPhase)*.15,f=i.opacity*d*h;return f>.02&&Ok(e,i,f,i.kind==="hero"?.2:.1),i}).filter(i=>i.life<i.maxLife&&i.x<n+a&&i.y<r+a)},bL=()=>{const e=["rgba(220, 240, 255, 0.9)","rgba(255, 255, 255, 0.95)","rgba(200, 230, 255, 0.85)","rgba(240, 250, 255, 0.9)"],t=["hexagon","diamond","triangle"];return Array.from({length:12},(n,r)=>({angle:Math.PI*2*r/12,distance:80+r%3*20,size:8+Math.random()*8,rotation:Math.random()*Math.PI*2,rotationSpeed:.02+Math.random()*.03,orbitSpeed:.008+Math.random()*.004,opacity:.6+Math.random()*.3,color:e[r%e.length],pulsePhase:Math.random()*Math.PI*2,shardType:t[r%3]}))},wL=(e,t,n,r,s)=>{e.save(),t.forEach(i=>{i.angle+=i.orbitSpeed,i.rotation+=i.rotationSpeed,i.pulsePhase+=.03;const o=n+Math.cos(i.angle)*(s+i.distance),c=r+Math.sin(i.angle)*(s+i.distance),u=i.opacity*(.8+.2*Math.sin(i.pulsePhase));if(e.save(),e.translate(o,c),e.rotate(i.rotation),e.globalCompositeOperation="screen",e.shadowBlur=15,e.shadowColor=i.color,e.fillStyle=i.color.replace(/[\d.]+\)$/g,`${u})`),e.strokeStyle=`rgba(255, 255, 255, ${u*.8})`,e.lineWidth=1.5,e.beginPath(),i.shardType==="hexagon"){for(let d=0;d<6;d++){const h=Math.PI/3*d,f=Math.cos(h)*i.size,m=Math.sin(h)*i.size;d===0?e.moveTo(f,m):e.lineTo(f,m)}e.closePath()}else i.shardType==="diamond"?(e.moveTo(0,-i.size),e.lineTo(i.size*.6,0),e.lineTo(0,i.size),e.lineTo(-i.size*.6,0),e.closePath()):(e.moveTo(0,-i.size),e.lineTo(i.size*.866,i.size*.5),e.lineTo(-i.size*.866,i.size*.5),e.closePath());e.fill(),e.stroke(),e.globalCompositeOperation="lighter",e.fillStyle=`rgba(255, 255, 255, ${u*.6})`,e.beginPath(),e.arc(0,0,i.size*.3,0,Math.PI*2),e.fill(),e.restore()});const a=e.createRadialGradient(n,r,s*.8,n,r,s*1.5);a.addColorStop(0,"rgba(220, 240, 255, 0.15)"),a.addColorStop(.6,"rgba(200, 230, 255, 0.08)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),e.globalCompositeOperation="screen",e.fillStyle=a,e.beginPath(),e.arc(n,r,s*1.5,0,Math.PI*2),e.fill(),e.restore()},SL=(e=120)=>Array.from({length:e},()=>({x:(Math.random()-.5)*2,y:(Math.random()-.5)*2,z:Math.random(),speed:.001+Math.random()*.002,size:1+Math.random()*2,brightness:.3+Math.random()*.7})),kL=(e,t,n,r)=>{const s=n/2,a=r/2;return t.map(i=>{i.z+=i.speed,i.z>=1&&(i.x=(Math.random()-.5)*2,i.y=(Math.random()-.5)*2,i.z=0);const o=i.z*2,c=s+i.x*s*o,u=a+i.y*a*o,d=i.size*(.5+i.z*1.5),h=i.brightness*i.z,f=i.z-i.speed,m=f*2,y=s+i.x*s*m,g=a+i.y*a*m;if(f>0){const v=e.createLinearGradient(y,g,c,u);v.addColorStop(0,"rgba(255, 255, 255, 0)"),v.addColorStop(1,`rgba(255, 255, 255, ${h*.6})`),e.strokeStyle=v,e.lineWidth=d*.5,e.lineCap="round",e.beginPath(),e.moveTo(y,g),e.lineTo(c,u),e.stroke()}const x=e.createRadialGradient(c,u,0,c,u,d*2);return x.addColorStop(0,`rgba(255, 255, 255, ${h})`),x.addColorStop(.5,`rgba(200, 220, 255, ${h*.5})`),x.addColorStop(1,"rgba(200, 220, 255, 0)"),e.fillStyle=x,e.beginPath(),e.arc(c,u,d*2,0,Math.PI*2),e.fill(),i})},jL=[["#FF6B9D","#C44569","#8B3A62"],["#4A90E2","#7B68EE","#9370DB"],["#00D9FF","#0099CC","#006699"],["#FF8C42","#FF6B35","#C44536"],["#6BCF7F","#4ECDC4","#44A08D"]],EL=[["#7e4bff","#b07cff","#f2b6ff"],["#5a2dff","#8a4fff","#c58bff"],["#a450ff","#d284ff","#ffb4e8"],["#3b2b8f","#6a3bb0","#b071ff"]],Ik=(e,t,n=4,r={})=>{const s=r.palettes??jL,[a,i]=r.opacityRange??[.15,.3],[o,c]=r.sizeRange??[150,400],[u,d]=r.rotationSpeedRange??[2e-4,5e-4],[h,f]=r.pulseSpeedRange??[.01,.02];return Array.from({length:n},()=>{const m=s[Math.floor(Math.random()*s.length)];return{x:Math.random()*e,y:Math.random()*t,size:o+Math.random()*(c-o),rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()*(d-u)+u)*(Math.random()<.5?-1:1),colors:m,opacity:a+Math.random()*(i-a),pulsePhase:Math.random()*Math.PI*2,pulseSpeed:h+Math.random()*(f-h)}})},CL=(e,t,n=6)=>Ik(e,t,n,{palettes:EL,opacityRange:[.18,.34],sizeRange:[220,460]}),TL=(e,t,n,r,s=0,a=0)=>t.map(i=>{i.rotation+=i.rotationSpeed,i.pulsePhase+=i.pulseSpeed;const o=Math.sin(i.pulsePhase)*.2+.8,c=i.size*o,u=i.opacity*o,d=i.x+s*.1,h=i.y+a*.1,f=(d%n+n)%n,m=(h%r+r)%r;return e.save(),e.translate(f,m),e.rotate(i.rotation),i.colors.forEach((y,g)=>{const x=c*(1-g*.2),v=u*(1-g*.3),b=e.createRadialGradient(0,0,0,0,0,x);b.addColorStop(0,`${y}${Math.floor(v*255).toString(16).padStart(2,"0")}`),b.addColorStop(.4,`${y}${Math.floor(v*.6*255).toString(16).padStart(2,"0")}`),b.addColorStop(.7,`${y}${Math.floor(v*.3*255).toString(16).padStart(2,"0")}`),b.addColorStop(1,`${y}00`),e.fillStyle=b,e.fillRect(-x,-x,x*2,x*2)}),e.restore(),i}),Gc=(e,t,n)=>{const r=Math.sin(e*12.9898+t*78.233+n*.17)*43758.5453;return r-Math.floor(r)};function NL(e){const{ctx:t,width:n,height:r,phenomenon:s,time:a=0}=e,i=t.createLinearGradient(0,0,0,r);s.id==="pixelDreamMoon"?(i.addColorStop(0,"#120826"),i.addColorStop(.5,"#241042"),i.addColorStop(1,"#3b1e69")):(i.addColorStop(0,s.skyPalette[0]),i.addColorStop(.5,s.skyPalette[1]),i.addColorStop(1,s.skyPalette[2])),t.fillStyle=i,t.fillRect(0,0,n,r),s.id==="pixelDreamMoon"&&PL(t,n,r,a)}function PL(e,t,n,r){e.save();for(let c=0;c<3;c++){const u=c*123,d=Gc(c,1,123)*t,h=Gc(c,2,456)*n*.9,f=80+Gc(c,3,789)*120;for(let m=-f;m<=f;m+=3)for(let y=-f;y<=f;y+=3){const g=Math.sqrt(y*y+m*m);if(g>f)continue;const x=Gc(Math.floor((d+y)/3),Math.floor((h+m)/3),u),v=1-g/f;x>.92-v*.4&&(e.fillStyle=c%2===0?"#5b21b6":"#4338ca",e.globalAlpha=.15*v,e.fillRect(d+y,h+m,3,3))}}e.restore();const i=[{x:t*.15,y:n*.25,r:6,color:"#fcd34d",ring:!1,glow:"#fbbf24"},{x:t*.88,y:n*.65,r:9,color:"#67e8f9",ring:!0,glow:"#22d3ee"}];e.save(),i.forEach((c,u)=>{e.shadowBlur=15,e.shadowColor=c.glow;for(let d=-c.r;d<=c.r;d+=3)for(let h=-c.r;h<=c.r;h+=3)h*h+d*d<=c.r*c.r&&(e.fillStyle=c.color,e.globalAlpha=.9,e.fillRect(c.x+h,c.y+d,3,3));if(c.ring){e.fillStyle="#e0f2fe",e.globalAlpha=.7;const d=c.r*1.8;for(let h=-d;h<=d;h+=3){const f=h*.3;Math.abs(Math.sqrt(h*h+f*f*10)-d)<3*1.5&&(f>0||Math.abs(h)>c.r)&&e.fillRect(c.x+h,c.y+f,3,3)}}}),e.restore();const o=[{x:t*.08,y:n*.1,type:"cross",color:"#fef3c7"},{x:t*.92,y:n*.2,type:"sparkle",color:"#a5f3fc"},{x:t*.8,y:n*.85,type:"cross",color:"#fbcfe8"}];e.save(),o.forEach((c,u)=>{const d=Math.sin(r/300+u*2)*.3+.7,h=3,f=c.x,m=c.y;e.shadowBlur=10,e.shadowColor=c.color,e.fillStyle="#ffffff",e.globalAlpha=d,c.type==="cross"?(e.fillRect(f,m-h*2,h,h*5),e.fillRect(f-h*2,m,h*5,h)):c.type==="sparkle"&&(e.fillRect(f,m,h,h),e.globalAlpha=d*.7,e.fillStyle=c.color,e.fillRect(f-h,m,h,h),e.fillRect(f+h,m,h,h),e.fillRect(f,m-h,h,h),e.fillRect(f,m+h,h,h))}),e.restore()}const Jx=["#ffd7a6","#ff9ad5","#b882ff","#6fffd0","#9ad0ff","#ffffff"];function ML(e){let t=0;for(let n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)}function _L(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function RL(e,t,n,r=0){const s=n.specialEffect==="pixel",a=s?3:1,i=h=>Math.round(h/a)*a,o=Math.min(.6,r/200),c=Math.floor(120*n.starDensity*(1+o)),u=Math.min(80,Math.floor(r*.6)),d=Math.max(60,c+u);return Array.from({length:d},()=>({x:s?i(Math.random()*e):Math.random()*e,y:s?i(Math.random()*t*.6):Math.random()*t*.6,size:s?Math.random()*2+1:Math.random()*2+.5,opacity:Math.random()*.8+.2,twinkleSpeed:s?Math.random()*.015+.004:Math.random()*.02+.01,twinklePhase:Math.random()*Math.PI*2,color:s?Jx[Math.floor(Math.random()*Jx.length)]:void 0}))}function AL(e,t,n){if(e.length===0)return[];const r=ML(t),s=_L(r),a=Math.min(12,Math.max(4,Math.round(4+n*6))),i=e.length-1,o=[],c=[],u=Math.floor(s()*i);for(o.push(e[u]),c.push(u);c.length<a;){const d=o[o.length-1];let h=-1,f=Number.POSITIVE_INFINITY;for(let m=0;m<e.length;m+=1){if(c.includes(m))continue;const y=e[m].x-d.x,g=e[m].y-d.y,x=y*y+g*g;x<f&&(f=x,h=m)}if(h===-1)break;c.push(h),o.push(e[h])}return[{starIndices:c,intensity:.22+s()*.18}]}function DL({ctx:e,phenomenon:t,parallaxOffset:n,stars:r,constellations:s,timeMs:a,constellationScale:i,constellationIntensity:o,constellationReveal:c}){if(t.starDensity===0)return;const u=t.specialEffect==="pixel",d=u?3:1,h=x=>Math.round(x/d)*d,f=n.x*.5,m=n.y*.5,y=(a??0)*.001,g=.6+Math.sin(y*.8)*.4;if(!u&&s&&s.length>0){e.save();const x=Math.min(1.8,Math.max(.8,i??1)),v=Math.min(1.8,Math.max(.6,o??1)),b=Math.min(1,Math.max(.15,c??1));e.lineWidth=.9*x,e.lineCap="round",e.lineJoin="round",e.strokeStyle="rgba(255,255,255,0.25)",s.forEach(w=>{const S=w.starIndices.map(I=>r[I]).filter(Boolean);if(S.length<2)return;const k=Math.max(2,Math.ceil(S.length*b)),E=S.slice(0,k);if(E.length<2)return;e.globalAlpha=Math.min(1,w.intensity*.35*v),e.beginPath(),E.forEach((I,A)=>{const H=I.x+f,z=I.y+m;A===0?e.moveTo(H,z):e.lineTo(H,z)}),e.stroke();const C=y*.15%1,P=.18,T=C,R=(C+P)%1,N=E.length-1;if(N>0){e.save(),e.strokeStyle="rgba(255,255,255,0.85)",e.lineWidth=1.3*x,e.lineCap="round",e.lineJoin="round",e.shadowBlur=10+x*4,e.shadowColor="rgba(255,255,255,0.6)",e.globalAlpha=Math.min(1,w.intensity*.9*v);const I=(H,z)=>{const B=H*N,_=z*N,M=Math.floor(B),D=Math.min(N-1,Math.floor(_)),L=(K,ee,U)=>K+(ee-K)*U,V=(K,ee)=>{const U=E[K],we=E[K+1];return{x:L(U.x,we.x,ee)+f,y:L(U.y,we.y,ee)+m}},F=B-M,J=V(M,F);e.beginPath(),e.moveTo(J.x,J.y);for(let K=M;K<=D;K+=1){const ee=K===D?_-K:1,U=V(K,ee);e.lineTo(U.x,U.y)}return e.stroke(),V(D,_-D)};let A=null;R>T?A=I(T,R):(I(T,1),A=I(0,R)),A&&(e.beginPath(),e.arc(A.x,A.y,2.2*x+g*.4*x,0,Math.PI*2),e.fillStyle="rgba(255,255,255,0.95)",e.shadowBlur=12+x*4,e.shadowColor="rgba(255,255,255,0.8)",e.fill()),e.restore()}E.forEach(I=>{const A=I.x+f,H=I.y+m;e.beginPath(),e.arc(A,H,Math.max(1.6,I.size*(1+.25*x)+g*.6*x),0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${Math.min(1,.45*v+g*.35)})`,e.shadowBlur=6*x+g*6,e.shadowColor="rgba(255,255,255,0.45)",e.fill()})}),e.restore()}if(r.forEach(x=>{x.twinklePhase+=x.twinkleSpeed;const v=x.opacity*(Math.sin(x.twinklePhase)*.5+.5);if(u){const S=h(x.x+f),k=h(x.y+m),E=Math.max(1,Math.round(x.size)),j=x.color??"#ffffff";e.save(),e.imageSmoothingEnabled=!1,e.fillStyle=j,e.globalAlpha=v,e.fillRect(S,k,E,E),x.size>1.6&&(e.fillRect(S-E,k,E*3,E),e.fillRect(S,k-E,E,E*3)),e.restore();return}const b=x.x+f,w=x.y+m;e.beginPath(),e.arc(b,w,x.size,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${v})`,e.fill(),x.size>1.5&&(e.beginPath(),e.arc(b,w,x.size*2,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${v*.2})`,e.fill())}),u){const x=(a??Date.now())/1e3,v=e.canvas.width/(window.devicePixelRatio||1),b=e.canvas.height/(window.devicePixelRatio||1),w=3,S=3,k=Math.floor(x/w);for(let E=0;E<S;E++){const j=k-E,C=Eu(j,1,111),P=Eu(j,2,222),T=Eu(j,3,333);if(C>.6)continue;const R=200+T*300,N=Math.PI/4+(C-.5)*.4;let I,A;P>.4?(I=v*(P-.2)*1.5,A=-50):(I=-50,A=b*P*2);const H=j*w,z=x-H,B=C*2.5,_=z-B;if(_<0||_>2.5)continue;const D=R*_,L=I+Math.cos(N)*D,V=A+Math.sin(N)*D,F=.8+T*.6,J=["#5fffd2","#ff8fd6","#ffffff","#fcd34d"],K=Math.floor(P*J.length),ee=J[K];OL(e,L,V,25,F,ee,_*1e3)}}}const Eu=(e,t,n)=>{const r=Math.sin(e*12.9898+t*78.233+n*.17)*43758.5453;return r-Math.floor(r)},OL=(e,t,n,r,s,a,i)=>{e.fillStyle="#ffffff",e.fillRect(t,n,3*2,3*2);const c=20;for(let u=0;u<c;u++){const d=t-u*3*1.5,h=n-u*3*1.2;(u%2===0||Eu(u,Math.floor(i/50),10)>.3)&&(e.fillStyle=a,e.globalAlpha=1-u/c,e.fillRect(d,h,3,3))}e.globalAlpha=1},Ao={shadow:"#1b0b2f",base:"#2c1248",mid:"#3b1f5e",highlight:"#a967ff",glow:"#ffd3f0"},IL=(e,t,n)=>{const r=Math.sin(e*12.9898+t*78.233+n*.13)*43758.5453;return r-Math.floor(r)},LL=(e,t)=>{const r=t.width/4,s=t.height/4,a=t.x,i=t.y;e.save(),e.imageSmoothingEnabled=!1,e.globalAlpha=t.opacity;const o=Date.now()/2e3,c=Math.sin(o+t.seed)*3;for(let u=-s/2;u<=s/2;u++)for(let d=-r/2;d<=r/2;d++){const h=d/(r/2),f=u/(s/2),m=IL(d,u,t.seed);if(h*h+f*(f>0?.5:1)*(f*(f>0?.5:1))>.8-m*.3||f>.3&&Math.abs(h)>.8)continue;const g=a+d*4,x=i+u*4+c;let v=Ao.base;if(f<-.4)v=Ao.highlight,f<-.6&&m>.6&&(v=Ao.glow);else if(f>.1&&(v=Ao.mid,f>.4&&(v=Ao.shadow,f>.7&&(Math.floor(g)+Math.floor(x))%2!==0)))continue;e.fillStyle=v,e.fillRect(g,x,4,4)}e.restore()};function $L(e,t,n){if(n.specialEffect==="pixel"){const r=[];return[{count:3,y:.75,size:1,speed:.2,opacity:.6},{count:4,y:.82,size:1.2,speed:.4,opacity:.8},{count:2,y:.9,size:1.4,speed:.6,opacity:1}].forEach(a=>{for(let i=0;i<a.count;i++){const o=180*a.size,c=Math.random()*60;r.push({x:Math.random()*e,y:t*a.y+Math.random()*t*.05,width:o+c,height:(o+c)*.25,speed:(.1+Math.random()*.1)*a.speed*n.cloudSpeed,opacity:a.opacity*n.cloudOpacity,seed:Math.random()*1e3})}}),r}return Array.from({length:5},()=>({x:Math.random()*e,y:t*.2+Math.random()*t*.3,width:Math.random()*100+80,height:Math.random()*40+30,speed:(Math.random()*.15+.05)*n.cloudSpeed,opacity:(Math.random()*.15+.1)*n.cloudOpacity,seed:Math.floor(Math.random()*1e4)}))}function FL({ctx:e,width:t,phenomenon:n,clouds:r}){n.cloudOpacity!==0&&r.forEach(s=>{if(n.cloudSpeed>.2&&(s.x+=s.speed,s.x>t+s.width&&(s.x=-s.width)),n.specialEffect==="pixel"){LL(e,s);return}e.fillStyle=`rgba(150,150,180,${s.opacity*.6})`,e.beginPath(),e.ellipse(s.x+5,s.y+5,s.width/2,s.height/2,0,0,Math.PI*2),e.fill();const a=e.createRadialGradient(s.x,s.y-s.height*.3,0,s.x,s.y,s.width/2);a.addColorStop(0,`rgba(230,230,250,${s.opacity})`),a.addColorStop(.6,`rgba(200,200,230,${s.opacity*.8})`),a.addColorStop(1,`rgba(180,180,210,${s.opacity*.5})`),e.fillStyle=a,e.beginPath(),e.ellipse(s.x,s.y,s.width/2,s.height/2,0,0,Math.PI*2),e.fill(),[{x:-.4,y:-.3,w:.35,h:.5},{x:-.2,y:-.4,w:.3,h:.45},{x:.1,y:-.35,w:.35,h:.5},{x:.35,y:-.25,w:.3,h:.45}].forEach(o=>{const c=e.createRadialGradient(s.x+s.width*o.x,s.y+s.height*o.y,0,s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w);c.addColorStop(0,`rgba(240,240,255,${s.opacity})`),c.addColorStop(.7,`rgba(210,210,240,${s.opacity*.7})`),c.addColorStop(1,`rgba(190,190,220,${s.opacity*.3})`),e.fillStyle=c,e.beginPath(),e.ellipse(s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w,s.height*o.h,0,0,Math.PI*2),e.fill()})})}const zL=["#FFFFFF","#FFE4B5","#87CEEB","#DDA0DD","#F0E68C","#98FB98","#FFB6C1","#B0E0E6","#FFDAB9","#E6E6FA"],BL="right",VL=Math.PI/4.6,UL=.16;function WL(e,t){return Array.from({length:10},(r,s)=>({x:-100+Math.random()*120,y:-80-Math.random()*140,length:Math.random()*60+40,speed:Math.random()*1.5+1,angle:VL+(Math.random()-.5)*UL,color:zL[s],opacity:Math.random()*.3+.7,isActive:!1,trailLength:Math.random()*80+60}))}function HL(e){const{ctx:t,width:n,height:r,phenomenon:s,shootingStars:a}=e;let i=e.timer;if(s.shootingStarChance===0)return{shootingStars:a,timer:i};if(a.forEach(o=>{if(!o.isActive)return;if(o.x+=1*Math.cos(o.angle)*o.speed,o.y+=Math.sin(o.angle)*o.speed,o.x>n+o.trailLength||BL==="left"||o.y>r+o.trailLength){o.isActive=!1;return}t.save();const c=t.createLinearGradient(o.x,o.y,o.x-Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength);c.addColorStop(0,o.color),c.addColorStop(.5,`${o.color}88`),c.addColorStop(1,`${o.color}00`),t.strokeStyle=c,t.lineWidth=2,t.lineCap="round",t.globalAlpha=o.opacity,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(o.x-Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength),t.stroke();const u=t.createRadialGradient(o.x,o.y,0,o.x,o.y,8);u.addColorStop(0,"#FFFFFF"),u.addColorStop(.3,o.color),u.addColorStop(1,`${o.color}00`),t.fillStyle=u,t.beginPath(),t.arc(o.x,o.y,8,0,Math.PI*2),t.fill(),t.fillStyle="#FFFFFF",t.beginPath(),t.arc(o.x,o.y,2,0,Math.PI*2),t.fill(),t.restore()}),i++,i>3600+Math.random()*3600){i=0;const o=a.map((c,u)=>c.isActive?-1:u).filter(c=>c!==-1);if(o.length>0){const u=Math.random()<s.shootingStarChance&&o.length>=3?Math.min(Math.floor(Math.random()*3)+3,o.length):1;for(let d=0;d<u;d++){const h=o.splice(Math.floor(Math.random()*o.length),1)[0],f=a[h];f.isActive=!0,f.x=-120-Math.random()*120,f.y=-80-Math.random()*140}}}return{shootingStars:a,timer:i}}const il=(e,t)=>{e=e.replace("#","");const n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16),a=Math.min(255,Math.floor(n*t)),i=Math.min(255,Math.floor(r*t)),o=Math.min(255,Math.floor(s*t));return`#${a.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`},Zx=(e,t,n)=>Math.min(n,Math.max(t,e)),eb=(e,t,n)=>{const r=Math.sin(e*12.9898+t*78.233+n*.17)*43758.5453;return r-Math.floor(r)},GL=(e,t,n,r,s)=>{const i=r*r,o={bg:"#120826",shadow:"#241042",mid:"#3b1e69",base:"#5fffd2",highlight:"#9dffec",rim:"#ff8fd6",crater:"#369080"},c=Date.now();e.save(),e.imageSmoothingEnabled=!1;for(let m=-r;m<=r;m+=3)for(let y=-r;y<=r;y+=3){const g=y+1.5,x=m+3*.5,v=g*g+x*x;if(v>i)continue;const b=g/r,w=x/r,S=Math.sqrt(Math.max(0,1-b*b-w*w)),k=-Math.cos(s*Math.PI*2),E=b*k+S*Math.sqrt(Math.max(0,1-k*k)),j=eb(Math.round(g/3),Math.round(x/3),123),C=j>.94,P=j>.985;let T=(E+1)/2;const R=(Math.round((g+r)/3)+Math.round((x+r)/3))%2===0;let N=o.bg;T>.9?N=o.highlight:T>.7?N=T<.8&&R?o.base:o.highlight:T>.5?(N=o.base,T<.6&&R&&(N=o.mid)):T>.3?(N=o.mid,T<.4&&R&&(N=o.shadow)):T>.1?(N=o.shadow,T<.2&&R&&(N=o.bg)):N=o.bg,T>.3&&(P?(N=o.crater,b<0&&eb(y,m,1)>.5&&(N=o.highlight)):C&&T>.6&&(N=o.crater));const I=Math.sqrt(v)/r;I>.85&&(b*-k>.2||I>.92)&&(I>.95||I>.88&&R)&&(N=o.rim),E<-.1&&(N=o.shadow,E<-.3&&(N=o.bg),E>-.3&&R&&(N=o.mid)),e.fillStyle=N,e.fillRect(t+y,n+m,3,3)}const u=3,d=.3,h=[{inner:1.3,outer:1.45,color:"#a855f7",alpha:.8,density:.9,pattern:"solid"},{inner:1.5,outer:1.55,color:"#22d3ee",alpha:.9,density:.7,pattern:"dashed"},{inner:1.6,outer:1.65,color:"#f472b6",alpha:.7,density:.6,pattern:"dotted"}];e.save(),e.translate(t,n),e.rotate(-Math.PI/12),h.forEach((m,y)=>{const g=r*m.inner,x=r*m.outer;for(let v=g;v<=x;v+=u){const b=2*Math.PI*v,w=Math.floor(b/u);for(let S=0;S<w;S++){const k=S/w*Math.PI*2+c/5e3*(y%2===0?1:-1),E=Math.cos(k)*v,j=Math.sin(k)*v*d;let C=!1;if(m.pattern==="solid"?C=S%2===0:m.pattern==="dashed"?C=S%8<4:m.pattern==="dotted"&&(C=S%6===0),!C)continue;const P=Math.sin(k)>0;e.fillStyle=m.color,e.globalAlpha=P?m.alpha:m.alpha*.5;const T=P?u:u-1;e.fillRect(E-T/2,j-T/2,T,T)}}});const f=12;e.globalAlpha=1;for(let m=0;m<f;m++){const y=(c/3e3+m)%(Math.PI*2),g=r*1.4,x=Math.cos(y)*g,v=Math.sin(y)*g*d;Math.random()>.1&&(e.fillStyle="#ffffff",e.fillRect(x,v,2,2))}e.restore(),e.globalAlpha=1,e.restore()},KL=(e,t,n,r,s,a)=>{if(s.id==="pixelDreamMoon"){GL(e,t,n,r,a);return}const i=3,o=r*r,c=r-i*1.2,u=s.moonTint,d=s.uiAccent;let h=0,f=!1,m=!1;a<.5?(h=r*(1-4*a),f=!0):a>.5&&(h=-r+(a-.5)*4*r,m=!0),e.save(),e.imageSmoothingEnabled=!1;for(let y=-r;y<=r;y+=i)for(let g=-r;g<=r;g+=i){const x=g+i*.5,v=y+i*.5;if(x*x+v*v>o)continue;const b=Zx(.85+(-x*.5-v*.4)/(r*2),.6,1.2);let w=1;f?x<h-i?w=.35:x<h+i&&(w=.6):m&&(x>h+i?w=.35:x>h-i&&(w=.6));const S=Math.sqrt(x*x+v*v),k=S>c?.12:0,E=S>c?d:u,j=il(E,Zx(b*w+k,.35,1.35));e.fillStyle=j,e.fillRect(t+g,n+y,i,i)}e.globalAlpha=.35,e.fillStyle=il(d,1.1);for(let y=-r-i*2;y<=r+i*2;y+=i*2)for(let g=-r-i*2;g<=r+i*2;g+=i*2){const x=g+i,v=y+i,b=Math.sqrt(x*x+v*v);b>r*1.25||b<r*1.05||e.fillRect(t+g,n+y,i*1.5,i*1.5)}e.restore()};function qL(e,t,n,r,s){if(Math.abs(s-.5)<.01)return;e.save(),e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.clip();const a="rgba(5, 10, 25, 0.85)",i="rgba(5, 10, 25, 0.5)";if(s<.5){const o=s*2,c=r*(1-o),u=e.createLinearGradient(t-r,n,t-r+c*2.2,n);u.addColorStop(0,a),u.addColorStop(.4,a),u.addColorStop(.7,i),u.addColorStop(1,"rgba(5, 10, 25, 0)"),e.fillStyle=u,e.fillRect(t-r,n-r,c*2.2,r*2)}else if(s>.5){const o=1-(s-.5)*2,c=r*(1-o),u=e.createLinearGradient(t+r-c*2.2,n,t+r,n);u.addColorStop(0,"rgba(5, 10, 25, 0)"),u.addColorStop(.3,i),u.addColorStop(.6,a),u.addColorStop(1,a),e.fillStyle=u,e.fillRect(t+r-c*2.2,n-r,c*2.2,r*2)}e.restore()}function Ul(e){const n={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[e.rarity];return 40*(e.moonSize||1)*n}function YL({ctx:e,phenomenon:t,parallaxOffset:n,moonPosition:r,moonPhase:s}){const a={...r};a.phase+=.005;const i=Math.sin(a.phase)*3,o=n.x*.8,c=n.y*.8,u=a.x+o,d=a.y+c,h=Ul(t);if(t.specialEffect==="pixel")return KL(e,u,d+i,h,t,s.phase),a;const f=t.moonTint,m=e.createRadialGradient(u,d+i,0,u,d+i,h*1.5);m.addColorStop(0,`${f}50`),m.addColorStop(.5,`${f}26`),m.addColorStop(1,`${f}00`),e.fillStyle=m,e.beginPath(),e.arc(u,d+i,h*1.5,0,Math.PI*2),e.fill();const y=e.createLinearGradient(u-h,d+i-h,u+h,d+i+h);return y.addColorStop(0,t.moonTint),y.addColorStop(.3,il(t.moonTint,.9)),y.addColorStop(.6,il(t.moonTint,.8)),y.addColorStop(1,il(t.moonTint,.7)),e.fillStyle=y,e.beginPath(),e.arc(u,d+i,h,0,Math.PI*2),e.fill(),t.rarity==="mythic"&&XL(e,u,d+i,h,t,a.phase),t.id==="lunarTransientPhenomena"&&QL(e,u,d+i,h,t,a.phase),qL(e,u,d+i,h,s.phase),t.id==="crystalMoon"&&JL(e,u,d+i,h,a.phase),a}function XL(e,t,n,r,s,a){const i=e.createRadialGradient(t,n,r*.7,t,n,r*1.8);i.addColorStop(0,`${s.uiAccent}00`),i.addColorStop(.3,`${s.uiAccent}40`),i.addColorStop(.6,`${s.uiAccent}20`),i.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=i,e.beginPath(),e.arc(t,n,r*1.8,0,Math.PI*2),e.fill(),e.strokeStyle=`${s.uiAccent}60`,e.lineWidth=2,e.beginPath(),e.arc(t,n,r-1,0,Math.PI*2),e.stroke();const o=a*2,c=(Math.sin(o)*.15+.25)*255,u=Math.floor(c).toString(16).padStart(2,"0"),d=e.createRadialGradient(t-r*.3,n-r*.3,0,t-r*.3,n-r*.3,r*.6);d.addColorStop(0,`#ffffff${u}`),d.addColorStop(1,"#ffffff00"),e.fillStyle=d,e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.fill()}function QL(e,t,n,r,s,a){const i=a*3,o=Math.sin(i)*.3+.7,c=e.createRadialGradient(t,n,r*.5,t,n,r*3);c.addColorStop(0,`${s.uiAccent}${Math.floor(o*120).toString(16).padStart(2,"0")}`),c.addColorStop(.3,`${s.uiAccent}${Math.floor(o*80).toString(16).padStart(2,"0")}`),c.addColorStop(.6,`${s.uiAccent}${Math.floor(o*40).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=c,e.beginPath(),e.arc(t,n,r*3,0,Math.PI*2),e.fill();const u=a*4,d=(Math.sin(u)*60+280)%360;e.strokeStyle=`hsla(${d}, 80%, 70%, ${o*.8})`,e.lineWidth=3,e.beginPath(),e.arc(t,n,r+2,0,Math.PI*2),e.stroke();const h=e.createRadialGradient(t,n,0,t,n,r*.8);h.addColorStop(0,`rgba(255, 255, 255, ${o*.4})`),h.addColorStop(.5,`${s.uiAccent}${Math.floor(o*100).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=h,e.beginPath(),e.arc(t,n,r*.8,0,Math.PI*2),e.fill();const f=12,m=r*2;for(let y=0;y<f;y++){const g=y/f*Math.PI*2+a,x=t+Math.cos(g)*m,v=n+Math.sin(g)*m,b=e.createRadialGradient(x,v,0,x,v,4);b.addColorStop(0,`${s.uiAccent}${Math.floor(o*200).toString(16).padStart(2,"0")}`),b.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=b,e.beginPath(),e.arc(x,v,4,0,Math.PI*2),e.fill()}}function JL(e,t,n,r,s){e.save();const a=8;for(let o=0;o<a;o++){const c=Math.PI*2*o/a+s*.3,u=Math.PI*2*(o+1)/a+s*.3,d=r*.95,h=r*.6,f=t+Math.cos(c)*d,m=n+Math.sin(c)*d,y=t+Math.cos(u)*d,g=n+Math.sin(u)*d,x=t+Math.cos(u)*h,v=n+Math.sin(u)*h,b=t+Math.cos(c)*h,w=n+Math.sin(c)*h,S=o%2===0?.08:.04,k=e.createLinearGradient(f,m,t,n);k.addColorStop(0,`rgba(255, 255, 255, ${S})`),k.addColorStop(.5,`rgba(200, 230, 255, ${S*.8})`),k.addColorStop(1,`rgba(180, 220, 255, ${S*.5})`),e.fillStyle=k,e.strokeStyle=`rgba(220, 240, 255, ${.15+S})`,e.lineWidth=.5,e.beginPath(),e.moveTo(f,m),e.lineTo(y,g),e.lineTo(x,v),e.lineTo(b,w),e.closePath(),e.fill(),e.stroke()}const i=20;for(let o=0;o<i;o++){const c=Math.PI*2*o/i+s*(o%3),u=.2+o%5*.15,d=r*u,h=t+Math.cos(c)*d,f=n+Math.sin(c)*d,m=Math.sin(s*4+o*.5)*.5+.5,y=(.8+m*1.2)*(o%3===0?1.2:.8),g=e.createRadialGradient(h,f,0,h,f,y*2.5);g.addColorStop(0,`rgba(255, 255, 255, ${.5*m})`),g.addColorStop(.4,`rgba(220, 240, 255, ${.3*m})`),g.addColorStop(1,"rgba(200, 230, 255, 0)"),e.fillStyle=g,e.beginPath(),e.arc(h,f,y*2.5,0,Math.PI*2),e.fill()}e.restore()}function ZL(){const e=p.useRef([]),t=p.useRef([]),n=p.useRef([]),r=p.useRef([]),s=p.useRef([]),a=p.useRef([]),i=p.useRef([]),o=p.useRef([]),c=p.useRef([]),u=p.useRef([]),d=p.useRef([]),h=p.useRef([]),f=p.useRef([]),m=p.useRef([]),y=p.useRef([]),g=p.useRef([]),x=p.useRef([]),v=p.useRef([]),b=p.useRef([]),w=p.useRef([]),S=p.useRef([]),k=p.useRef([]),E=p.useRef([]),j=p.useRef([]),C=p.useRef(Date.now()),P=p.useCallback((M,D,L,V,F)=>{const J=M.effectIntensity||.5,K={normal:0,rare:.3,very_rare:.5,legendary:.75,mythic:1}[M.rarity];if(M.id==="superBlueBloodMoon"?t.current=Sf(20,"#B84060","#d85080"):M.id==="brokenMoon"?t.current=Sf(25,"#9898B8","#6868a8",.008,.015):M.id==="emptySky"&&(t.current=Sf(30,"#606080","#707090",.008,.012)),M.rarity==="normal"||!M.specialEffect)return;const ee=M.specialEffect;ee==="flash"?e.current=P8():ee==="sparkle"?n.current=_k(D.x,D.y,60):ee==="echo"?f.current=tL(D.x,D.y,L,4):ee==="aurora"?r.current=A8(F):ee==="fireflies"?s.current=O8(V,F,Math.floor((10+J*20)*K)):ee==="snow"?a.current=L8(V,Math.floor((30+J*70)*K)):ee==="fog"?i.current=F8(V,F):ee==="meteorShower"?(u.current=H8(V,F,Math.floor((10+J*15)*K)),E.current=CL(V,F,6)):ee==="frozenTime"?d.current=K8(V,F,Math.floor((20+J*20)*K)):ee==="voidRipples"?h.current=Y8():ee==="shattered"?(o.current=J8(D.x,D.y,12),c.current=Qx(D.x,D.y,25)):ee==="bloodRing"?m.current=rL(L):ee==="fadeParticles"?y.current=aL(V,F):ee==="silence"?g.current=oL():ee==="dreamDust"?x.current=cL(V,F):ee==="memoryFragments"?v.current=dL(V,F):ee==="ancientRunes"?b.current=fL(D.x,D.y,L):ee==="lightRays"?w.current=pL():ee==="shootingStars"?S.current=vL():ee==="starfield"?k.current=SL(150):ee==="nebula"?E.current=Ik(V,F,5):ee==="prismLights"&&(j.current=bL())},[]),T=p.useCallback((M,D,L,V,F)=>{(D.specialEffect==="nebula"||D.specialEffect==="meteorShower")&&E.current.length>0&&(E.current=TL(M,E.current,L,V,F.x,F.y)),D.specialEffect==="meteorShower"&&u.current.length>0&&G8(M,u.current,L,V),D.specialEffect==="starfield"&&k.current.length>0&&(k.current=kL(M,k.current,L,V))},[]),R=p.useCallback((M,D,L)=>{D.specialEffect==="aurora"&&r.current.length>0&&D8(M,r.current,L),D.specialEffect==="fog"&&i.current.length>0&&z8(M,i.current,L)},[]),N=p.useCallback((M,D,L)=>{if(D.specialEffect!=="shattered")return;const V=Date.now();V-C.current>1e4&&(c.current=Qx(L.x,L.y,25),C.current=V),c.current.length>0&&eL(M,c.current,D.moonTint,L.x,L.y),o.current.length>0&&Z8(M,o.current,L.x,L.y,D.moonTint)},[]),I=p.useCallback((M,D,L,V,F,J)=>{const K=D.specialEffect;K&&(K==="flash"&&e.current.length>=0&&(Math.random()<.025&&e.current.push(Mk(L.x,L.y,V)),e.current=M8(M,e.current)),K==="sparkle"&&n.current.length>0&&R8(M,n.current),K==="bloodRing"&&m.current.length>0&&sL(M,m.current,L.x,L.y),K==="fadeParticles"&&y.current.length>0&&iL(M,y.current),K==="silence"&&g.current.length>=0&&(g.current=lL(M,g.current,L.x,L.y,V)),K==="dreamDust"&&x.current.length>0&&uL(M,x.current),K==="memoryFragments"&&v.current.length>0&&hL(M,v.current),K==="ancientRunes"&&b.current.length>0&&mL(M,b.current,L.x,L.y),K==="lightRays"&&w.current.length>0&&gL(M,w.current,L.x,L.y,V),K==="prismLights"&&j.current.length>0&&wL(M,j.current,L.x,L.y,V),K==="shootingStars"&&S.current.length>=0&&(S.current=xL(M,S.current,F,J)))},[]),A=p.useCallback((M,D,L)=>{(D.id==="superBlueBloodMoon"||D.id==="brokenMoon"||D.id==="emptySky")&&t.current.length>0&&_8(M,t.current,L.x,L.y)},[]),H=p.useCallback((M,D,L,V)=>{D.specialEffect==="snow"&&a.current.length>0&&$8(M,a.current,L,V),D.specialEffect==="frozenTime"&&d.current.length>0&&q8(M,d.current)},[]),z=p.useCallback((M,D,L)=>{if(D.specialEffect!=="voidRipples")return;const V=Ul(D);Math.random()<.015&&h.current.push(X8(L.x,L.y+Math.sin(L.phase)*3,V)),h.current=Q8(M,h.current,L.x,L.y)},[]),B=p.useCallback((M,D,L)=>{D.specialEffect==="echo"&&f.current.length>0&&nL(M,f.current,L.x,L.y,L.phase,D.moonTint)},[]),_=p.useCallback((M,D,L,V)=>{D.specialEffect==="fireflies"&&s.current.length>0&&I8(M,s.current,L,V)},[]);return{moonFlashesRef:e,sparklesRef:n,echoMoonsRef:f,firefliesRef:s,initializeParticleEffects:P,drawBackgroundEffects:T,drawAtmosphericEffects:R,drawShatteredEffects:N,drawSpecialEffects:I,drawOrbitingEffects:A,drawWeatherEffects:H,drawVoidEffects:z,drawEchoMoonsEffect:B,drawFirefliesEffect:_}}function e$({canvasRef:e,phenomenon:t,moonPositionRef:n,parallaxOffsetRef:r,moonFlashesRef:s,sparklesRef:a}){const i=p.useRef(null),o=p.useRef(0),c=p.useRef(!1),[u,d]=p.useState(null),[h,f]=p.useState(hd()),m=p.useCallback((E,j)=>{var M,D;if(!e.current||!t||!n.current)return console.log(" isMoonHit: No canvas or phenomenon"),!1;const C=e.current.getBoundingClientRect(),P=E-C.left,T=j-C.top,R=n.current,N=((M=r.current)==null?void 0:M.x)??0,I=((D=r.current)==null?void 0:D.y)??0,A=R.x+N*.8,H=R.y+Math.sin(R.phase)*3+I*.8,z=Ul(t),B=Math.sqrt(Math.pow(P-A,2)+Math.pow(T-H,2)),_=B<z*1.5;return console.log(" Moon Hit Check:",{clickX:P.toFixed(0),clickY:T.toFixed(0),moonX:A.toFixed(0),moonY:H.toFixed(0),dist:B.toFixed(0),moonRadius:z.toFixed(0),threshold:(z*1.5).toFixed(0),hit:_}),_},[e,t,n,r]),y=p.useCallback(()=>{var N,I;if(!e.current||!t||!n.current)return;const E=n.current,j=((N=r.current)==null?void 0:N.x)??0,C=((I=r.current)==null?void 0:I.y)??0,P=E.x+j*.8,T=E.y+Math.sin(E.phase)*3+C*.8;navigator.vibrate&&navigator.vibrate(20),s.current.push(Mk(P,T));const R=_k(P,T,15);a.current=[...a.current,...R]},[e,t,n,r,s,a]),g=p.useCallback(()=>{f(hd()),d("phase"),y()},[y]),x=p.useCallback(()=>{navigator.vibrate&&navigator.vibrate([50,30,50]),d("phenomenon")},[]),v=p.useCallback(E=>{console.log(" Touch Start triggered");const j=E.touches[0];m(j.clientX,j.clientY)&&(E.preventDefault(),c.current=!1,o.current=Date.now(),i.current=setTimeout(()=>{c.current||x()},500))},[m,x]),b=p.useCallback(()=>{c.current=!0,i.current&&(clearTimeout(i.current),i.current=null)},[]),w=p.useCallback(E=>{if(i.current&&(clearTimeout(i.current),i.current=null),Date.now()-o.current<500&&!c.current){const C=E.changedTouches[0];m(C.clientX,C.clientY)&&g()}},[m,g]),S=p.useCallback(E=>{m(E.clientX,E.clientY)&&g()},[m,g]),k=p.useCallback(()=>{d(null)},[]);return p.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),{overlayType:u,currentMoonPhase:h,handleTouchStart:v,handleTouchMove:b,handleTouchEnd:w,handleCanvasClick:S,handleCloseOverlay:k}}function t$({onRefresh:e,onExpand:t,onCollapse:n,pullThreshold:r=100,expandThreshold:s=50}={}){const a=p.useRef(null),[i,o]=p.useState({pullDistance:0,isRefreshing:!1,isPulling:!1,isExpanded:!1,gestureDirection:"none"}),c=p.useRef(0),u=p.useRef(0),d=p.useRef(!1),h=p.useRef(null),f=p.useCallback(v=>{if(i.isRefreshing)return;const b=v.touches[0];c.current=b.clientY,u.current=b.clientX,d.current=!0,h.current=null,o(w=>({...w,isPulling:!0,gestureDirection:"none"}))},[i.isRefreshing]),m=p.useCallback(v=>{if(!d.current||i.isRefreshing)return;const b=v.touches[0],w=b.clientY-c.current,S=b.clientX-u.current;if(h.current||(Math.abs(w)>10||Math.abs(S)>10)&&(h.current=Math.abs(w)>Math.abs(S)?"vertical":"horizontal"),h.current!=="vertical")return;const k=w>0?2.5:4,E=w/k;o(j=>({...j,pullDistance:Math.max(-50,Math.min(150,E)),gestureDirection:w>0?"down":"up"})),w>0&&v.preventDefault()},[i.isRefreshing]),y=p.useCallback(async()=>{if(!d.current)return;d.current=!1,h.current=null;const{pullDistance:v,gestureDirection:b}=i;if(b==="down"&&v>=r&&e){o(w=>({...w,isRefreshing:!0,pullDistance:r,isPulling:!1}));try{await e()}finally{o(w=>({...w,isRefreshing:!1,pullDistance:0}))}return}b==="down"&&v>=s&&t?(t(),o(w=>({...w,isExpanded:!0}))):b==="up"&&v<=-s&&n&&(n(),o(w=>({...w,isExpanded:!1}))),o(w=>({...w,pullDistance:0,isPulling:!1,gestureDirection:"none"}))},[i,r,s,e,t,n]);p.useEffect(()=>{const v=a.current;if(v)return v.addEventListener("touchstart",f,{passive:!0}),v.addEventListener("touchmove",m,{passive:!1}),v.addEventListener("touchend",y,{passive:!0}),()=>{v.removeEventListener("touchstart",f),v.removeEventListener("touchmove",m),v.removeEventListener("touchend",y)}},[f,m,y]);const g=Math.min(Math.abs(i.pullDistance)/r,1),x=i.pullDistance>=r;return{containerRef:a,...i,progress:g,isReady:x}}const tb="mythic-moon-collection",kf="mythic-locked-moon",nb={superBloodMoon:{type:"blood",color:"#DC143C",secondaryColor:"#8B0000",speed:1.5,density:.8,glow:!0},superBlueBloodMoon:{type:"aurora",color:"#B840A0",secondaryColor:"#4040B8",speed:1.2,density:.7,glow:!0},lunarTransientPhenomena:{type:"lightning",color:"#C8A8F8",secondaryColor:"#FFFFFF",speed:2.5,density:.5,glow:!0},hybridEclipse:{type:"fire",color:"#FFB870",secondaryColor:"#D8A860",speed:1,density:.6,glow:!0},stillMoon:{type:"crystals",color:"#B0C4DE",secondaryColor:"#E0F0FF",speed:.3,density:.4,glow:!1},echoMoon:{type:"stars",color:"#D0D0E8",secondaryColor:"#9090B8",speed:.8,density:.6,glow:!1},brokenMoon:{type:"void",color:"#9898B8",secondaryColor:"#484868",speed:1.8,density:.9,glow:!1},emptySky:{type:"void",color:"#404040",secondaryColor:"#202020",speed:.5,density:.2,glow:!1},crystalMoon:{type:"crystals",color:"#E0F0FF",secondaryColor:"#80C0FF",speed:.6,density:.7,glow:!0},arcticMoon:{type:"snow",color:"#90DCC8",secondaryColor:"#FFFFFF",speed:.7,density:.8,glow:!1},shatteredMoon:{type:"void",color:"#9898C8",secondaryColor:"#6060A0",speed:2,density:.7,glow:!0},cosmicVoyageMoon:{type:"stars",color:"#8090C0",secondaryColor:"#4060A0",speed:1,density:.9,glow:!0},nebulaDreamMoon:{type:"aurora",color:"#B888D8",secondaryColor:"#D060A0",speed:.9,density:.6,glow:!0},pixelDreamMoon:{type:"pixels",color:"#FFBFA3",secondaryColor:"#FF8FD6",speed:.6,density:.5,glow:!1}};function Lk(){const[e,t]=p.useState({}),[n,r]=p.useState(!1);p.useEffect(()=>{const y=localStorage.getItem(tb);if(y)try{t(JSON.parse(y))}catch(g){console.error("Failed to parse moon collection:",g)}r(!0)},[]),p.useEffect(()=>{n&&localStorage.setItem(tb,JSON.stringify(e))},[e,n]);const s=p.useCallback(y=>{const g=new Date().toISOString();t(x=>{const v=x[y.id];return v?{...x,[y.id]:{...v,encounterCount:v.encounterCount+1,lastEncountered:g}}:{...x,[y.id]:{id:y.id,firstEncountered:g,encounterCount:1,lastEncountered:g,isFavorite:!1,isLocked:!1,themeDurationBoost:0}}})},[]),a=p.useCallback(y=>{t(g=>{const x=g[y];return x?{...g,[y]:{...x,isFavorite:!x.isFavorite}}:g})},[]),i=p.useCallback(y=>{t(g=>{const x=g[y];if(!x)return g;if(x.encounterCount<5&&!x.isLocked)return console.log(` Need ${5-x.encounterCount} more encounters to unlock Lock Theme feature`),g;const v=!x.isLocked;v?(localStorage.setItem(kf,y),console.log(` Moon locked: ${y}`)):(localStorage.removeItem(kf),console.log(` Moon unlocked: ${y}`));const b={...g};return Object.keys(b).forEach(w=>{w!==y&&b[w].isLocked&&(b[w]={...b[w],isLocked:!1})}),{...b,[y]:{...x,isLocked:v}}})},[]),o=p.useCallback(()=>localStorage.getItem(kf),[]),c=p.useCallback((y,g)=>{t(x=>{const v=x[y];return v?{...x,[y]:{...v,themeDurationBoost:Math.min(86400,v.themeDurationBoost+g)}}:x})},[]),u=p.useCallback(y=>{const g=y.transitionSpeed*2,x=e[y.id],v=(x==null?void 0:x.themeDurationBoost)||0;return g+v},[e]),d=p.useCallback(()=>{const y=Object.keys(Dn),g=Object.keys(e),x=b=>g.filter(w=>{var S;return((S=Dn[w])==null?void 0:S.rarity)===b}).length,v=Object.values(e).reduce((b,w)=>b+w.encounterCount,0);return{totalDiscovered:g.length,totalEncounters:v,mythicCount:x("mythic"),legendaryCount:x("legendary"),veryRareCount:x("very_rare"),rareCount:x("rare"),normalCount:x("normal"),completionPercent:Math.round(g.length/y.length*100)}},[e]),h=p.useCallback(()=>Object.values(Dn).filter(y=>y.rarity==="mythic").map(y=>({...y,discovered:!!e[y.id],entry:e[y.id]||null,particles:nb[y.id]||null})),[e]),f=p.useCallback(y=>nb[y]||null,[]),m=p.useCallback(y=>!!e[y],[e]);return{collection:e,isLoaded:n,recordEncounter:s,toggleFavorite:a,toggleLock:i,getLockedMoonId:o,addDurationBoost:c,getEffectiveThemeDuration:u,getStats:d,getMythicMoons:h,getParticleConfig:f,isDiscovered:m}}const n$={normal:{bg:"bg-slate-900/90",border:"border-slate-600",text:"text-slate-300"},rare:{bg:"bg-blue-950/90",border:"border-blue-500",text:"text-blue-300"},very_rare:{bg:"bg-purple-950/90",border:"border-purple-500",text:"text-purple-300"},legendary:{bg:"bg-amber-950/90",border:"border-amber-500",text:"text-amber-300"},mythic:{bg:"bg-rose-950/90",border:"border-rose-400",text:"text-rose-300"}},rb={normal:"",rare:"",very_rare:"",legendary:"",mythic:""};function r$({type:e,moonPhase:t,phenomenon:n,onClose:r}){const s=n$[(n==null?void 0:n.rarity)||"normal"];return l.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:r,children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),l.jsxs("div",{className:`relative max-w-sm w-full rounded-2xl border-2 ${s.bg} ${s.border} p-6 shadow-2xl animate-scale-in`,onClick:a=>a.stopPropagation(),children:[l.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Close",children:l.jsx(fo,{className:"w-4 h-4 text-white/80"})}),e==="phase"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full bg-white/10",children:l.jsx(Z0,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:t.phaseName}),l.jsx("p",{className:"text-sm text-white/70",children:t.phaseNameTh})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[Math.round(t.illumination*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[t.age.toFixed(1)," ",l.jsx("span",{className:"text-sm font-normal",children:""})]})]})]}),l.jsx("div",{className:"flex justify-center py-2",children:l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white/90 shadow-lg"}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-900/90",style:{clipPath:t.phase<.5?`inset(0 ${(1-t.phase*2)*100}% 0 0)`:`inset(0 0 0 ${(t.phase-.5)*2*100}%)`}})]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"30"},children:l.jsx(Vt,{className:"w-6 h-6",style:{color:n==null?void 0:n.uiAccent}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:n==null?void 0:n.name}),l.jsx("p",{className:"text-sm text-white/70",children:n==null?void 0:n.nameEn})]})]}),(n==null?void 0:n.id)==="pixelDreamMoon"?l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 border-4 border-double",style:{backgroundColor:"#2a2a40",borderColor:n.uiAccent,boxShadow:"4px 4px 0px rgba(0,0,0,0.5)",fontFamily:"'Press Start 2P', cursive",imageRendering:"pixelated"},children:[l.jsx(Xm,{className:"w-3 h-3",style:{color:n.uiAccent}}),l.jsx("span",{className:"text-xs tracking-widest uppercase",style:{color:n.uiAccent},children:rb[n.rarity]})]}):l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${s.bg} border ${s.border}`,children:[l.jsx(Xm,{className:`w-4 h-4 ${s.text}`}),l.jsx("span",{className:`text-sm font-medium ${s.text}`,children:rb[(n==null?void 0:n.rarity)||"normal"]})]}),l.jsxs("p",{className:"text-lg italic text-white/80 border-l-2 pl-3",style:{borderColor:n==null?void 0:n.uiAccent},children:['"',n==null?void 0:n.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.starDensity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.cloudOpacity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.shootingStarChance)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[(((n==null?void 0:n.moonSize)||1)*100).toFixed(0),"%"]})]})]}),(n==null?void 0:n.specialEffect)&&l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-base font-medium text-white capitalize",children:[n.specialEffect,n.effectIntensity&&l.jsxs("span",{className:"text-white/60 ml-2",children:["(",Math.round(n.effectIntensity*100),"%)"]})]})]}),l.jsx("div",{className:"flex items-center justify-center gap-2 pt-2",children:l.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"20",color:n==null?void 0:n.uiAccent},children:["#",n==null?void 0:n.emotionTag]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]})]})]})}function s$({phenomenon:e}){const t=()=>e?e.rarity==="mythic"?{superBloodMoon:"'Cinzel', serif",superBlueBloodMoon:"'UnifrakturMaguntia', cursive",lunarTransientPhenomena:"'Orbitron', sans-serif",hybridEclipse:"'Spectral', serif",stillMoon:"'Abril Fatface', serif",echoMoon:"'Righteous', cursive",brokenMoon:"'Creepster', cursive",emptySky:"'Nosifer', cursive",crystalMoon:"'Poiret One', cursive",shatteredMoon:"'Creepster', cursive",pixelDreamMoon:"'Press Start 2P', 'Space Grotesk', sans-serif"}[e.id]||"'Cinzel', serif":e.rarity==="legendary"?"'Playfair Display', serif":e.rarity==="very_rare"?"'Cormorant Garamond', serif":e.rarity==="rare"?e.id==="snowMoon"?"'Mountains of Christmas', cursive":"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",n=()=>e?e.id==="pixelDreamMoon"?"text-5xl md:text-6xl":e.rarity==="mythic"?"text-6xl":e.rarity==="legendary"||e.rarity==="very_rare"?"text-5xl":"text-4xl":"text-4xl",r=()=>e?e.rarity==="mythic"?e.id==="pixelDreamMoon"?"2px 2px 0 rgba(20, 10, 40, 0.9), 0 0 12px rgba(255, 170, 220, 0.6)":`0 0 5px ${e.uiAccent}99, 0 0 12px ${e.uiAccent}55, 0 3px 8px rgba(0, 0, 0, 0.8)`:e.rarity==="legendary"?`0 0 12px ${e.uiAccent}, 0 0 25px ${e.uiAccent}aa, 0 4px 10px rgba(0, 0, 0, 0.8)`:e.rarity==="very_rare"?`0 0 20px ${e.uiAccent}aa, 0 0 40px ${e.uiAccent}66, 0 4px 8px rgba(0, 0, 0, 0.6)`:e.rarity==="rare"?"0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 4px 8px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)",s=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.id==="emptySky"||e.id==="brokenMoon"?"#ffffff":e.uiAccent:"#ffffff",a=()=>e?e.id==="pixelDreamMoon"?"pixelFlicker 3s steps(6) infinite":e.rarity==="mythic"?"pulse 3s ease-in-out infinite":e.rarity==="legendary"?"pulse 4s ease-in-out infinite":"none":"none",i=()=>e?e.id==="pixelDreamMoon"?"'Chakra Petch', 'Space Grotesk', sans-serif":e.rarity==="mythic"||e.rarity==="legendary"?"'Cormorant Garamond', serif":e.rarity==="very_rare"?"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",o=()=>e?e.rarity==="mythic"?e.id==="pixelDreamMoon"?"1px 1px 0 rgba(15, 8, 30, 0.9), 0 0 8px rgba(255, 190, 140, 0.6)":`0 0 12px ${e.uiAccent}aa, 0 0 25px ${e.uiAccent}44, 0 2px 6px rgba(0, 0, 0, 0.7)`:e.rarity==="legendary"?`0 0 15px ${e.uiAccent}99, 0 2px 5px rgba(0, 0, 0, 0.6)`:e.rarity==="very_rare"?`0 0 12px ${e.uiAccent}66, 0 2px 4px rgba(0, 0, 0, 0.5)`:"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)",c=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.uiAccent:"rgba(255, 255, 255, 0.95)",u=()=>e?e.id==="pixelDreamMoon"?"text-base md:text-lg":e.rarity==="mythic"?"text-xl":"text-lg":"text-lg";return l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-6 pt-10 pointer-events-none",children:[l.jsx("h1",{className:`font-bold text-white mb-2 tracking-wide transition-all duration-500 ${n()}`,style:{fontFamily:t(),textShadow:r(),color:s(),animation:a(),letterSpacing:(e==null?void 0:e.id)==="pixelDreamMoon"?"0.18em":void 0,textTransform:(e==null?void 0:e.id)==="pixelDreamMoon"?"uppercase":void 0},children:"Dream book"}),e&&l.jsx("p",{className:`font-light transition-all duration-500 ${u()}`,style:{fontFamily:i(),textShadow:o(),color:c(),letterSpacing:(e==null?void 0:e.id)==="pixelDreamMoon"?"0.08em":void 0,fontStyle:(e==null?void 0:e.id)==="pixelDreamMoon"?"normal":"italic"},children:e.subtitle})]})}function a$({pullDistance:e,progress:t,isRefreshing:n,isReady:r,isPulling:s}){const a=e>15||n,i=.5+t*.5,o=t*180,c=t*.6;return l.jsxs("div",{className:q("absolute left-1/2 -translate-x-1/2 z-20 pointer-events-none","transition-all duration-300 ease-out",a?"opacity-100":"opacity-0"),style:{top:Math.max(8,Math.min(e*.8,80)),transform:`translateX(-50%) scale(${i})`},children:[l.jsx("div",{className:q("absolute inset-0 rounded-full blur-xl transition-opacity",r?"bg-primary/40":"bg-white/20"),style:{opacity:c,transform:`scale(${1.5+t*.5})`}}),l.jsx("div",{className:q("relative flex items-center justify-center w-12 h-12 rounded-full","backdrop-blur-md border transition-all duration-300",n?"bg-primary/30 border-primary/50 shadow-lg shadow-primary/20":r?"bg-primary/20 border-primary/40":"bg-white/10 border-white/20"),children:n?l.jsxs("div",{className:"relative",children:[l.jsx(ac,{className:"w-5 h-5 text-primary animate-spin"}),l.jsx(Vt,{className:"absolute -top-1 -right-1 w-3 h-3 text-primary animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx(Vt,{className:"absolute -bottom-1 -left-1 w-2 h-2 text-primary animate-pulse",style:{animationDelay:"0.5s"}})]}):l.jsx(Bs,{className:q("w-6 h-6 transition-all duration-300",r?"text-primary":"text-white/70"),style:{transform:`rotate(${o}deg)`}})}),l.jsx("div",{className:q("absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap","text-[10px] font-medium transition-all duration-300",r?"text-primary":"text-white/50"),style:{opacity:t>.3?1:0,transform:`translateX(-50%) translateY(${(1-t)*10}px)`},children:n?"...":r?"":"..."}),s&&t>.2&&l.jsx("div",{className:"absolute inset-0",children:[...Array(3)].map((u,d)=>l.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-white/40",style:{left:`${50+(d-1)*20}%`,top:`${-20-d*10}%`,opacity:t*(.8-d*.2),transform:`scale(${1-d*.2})`,animation:`float ${1+d*.3}s ease-in-out infinite`}},d))})]})}function i$({show:e,onComplete:t}){const[n,r]=p.useState(!1),[s,a]=p.useState(!1);return p.useEffect(()=>{if(e){r(!0),a(!1);const i=setTimeout(()=>a(!0),3e3),o=setTimeout(()=>{r(!1),t()},4e3);return()=>{clearTimeout(i),clearTimeout(o)}}},[e,t]),n?Xs.createPortal(l.jsxs("div",{className:`fixed inset-0 z-[9999] bg-[#1a0b2e] flex flex-col items-center justify-center transition-opacity duration-1000 ${s?"opacity-0 pointer-events-none":"opacity-100"}`,style:{imageRendering:"pixelated"},children:[l.jsx("div",{className:"absolute inset-3 border-4 border-[#7dd3fc]/40 shadow-[0_0_20px_rgba(125,211,252,0.35),inset_0_0_20px_rgba(59,130,246,0.25)] pointer-events-none"}),l.jsxs("div",{className:"absolute inset-3 pointer-events-none",style:{animation:"framePulse 3s ease-in-out infinite"},children:[l.jsx("div",{className:"absolute -top-2 left-4 h-1 w-12 bg-[#22d3ee]/70 shadow-[0_0_8px_rgba(34,211,238,0.8)]"}),l.jsx("div",{className:"absolute -top-2 right-4 h-1 w-8 bg-[#f472b6]/70 shadow-[0_0_8px_rgba(244,114,182,0.8)]"}),l.jsx("div",{className:"absolute -bottom-2 left-6 h-1 w-10 bg-[#a7f3d0]/60 shadow-[0_0_8px_rgba(167,243,208,0.8)]"}),l.jsx("div",{className:"absolute -bottom-2 right-6 h-1 w-14 bg-[#93c5fd]/60 shadow-[0_0_8px_rgba(147,197,253,0.8)]"})]}),l.jsxs("div",{className:"absolute inset-6 pointer-events-none opacity-60",children:[l.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-2 border-l-2 border-[#7dd3fc]"}),l.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-2 border-r-2 border-[#7dd3fc]"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-2 border-l-2 border-[#7dd3fc]"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-2 border-r-2 border-[#7dd3fc]"})]}),l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.35)_60%,rgba(0,0,0,0.7)_100%)] pointer-events-none"}),l.jsx("div",{className:"absolute inset-0 opacity-25 mix-blend-screen pointer-events-none",style:{background:"linear-gradient(90deg, rgba(244,114,182,0.2) 0 50%, transparent 50%), linear-gradient(0deg, rgba(34,211,238,0.2) 0 50%, transparent 50%)",backgroundSize:"16px 16px",animation:"nebulaStep 8s steps(6) infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(#4c1d95 1px, transparent 1px), linear-gradient(90deg, #4c1d95 1px, transparent 1px)",backgroundSize:"40px 40px",transform:"perspective(500px) rotateX(20deg) scale(1.5)",animation:"gridPulse 4s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-25 mix-blend-screen pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 3px)",animation:"scanlineShift 6s linear infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none",style:{background:"linear-gradient(90deg, transparent 0%, rgba(56,189,248,0.2) 48%, rgba(56,189,248,0.45) 50%, rgba(56,189,248,0.2) 52%, transparent 100%)",animation:"beamSweep 5s linear infinite"}}),l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 w-44 h-44 opacity-35 pointer-events-none",style:{background:"repeating-linear-gradient(0deg, rgba(244,114,182,0.35) 0 6px, rgba(59,130,246,0.18) 6px 12px)",clipPath:"polygon(40% 0, 60% 0, 72% 10%, 82% 22%, 90% 40%, 90% 60%, 82% 78%, 72% 90%, 60% 100%, 40% 100%, 28% 90%, 18% 78%, 10% 60%, 10% 40%, 18% 22%, 28% 10%)",boxShadow:"0 0 0 4px rgba(244,114,182,0.2), 6px 6px 0 rgba(0,0,0,0.35)",animation:"pixelSunPulse 4s steps(4) infinite"}}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-35 pointer-events-none",style:{background:"linear-gradient(180deg, rgba(15,23,42,0) 0%, rgba(15,23,42,0.8) 50%, rgba(2,6,23,0.95) 100%)",clipPath:"polygon(0 70%, 10% 55%, 20% 68%, 35% 40%, 45% 60%, 60% 35%, 72% 55%, 85% 42%, 100% 65%, 100% 100%, 0 100%)",animation:"mountainDrift 14s ease-in-out infinite"}}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 opacity-55 pointer-events-none",style:{background:"linear-gradient(180deg, rgba(30,41,59,0) 0%, rgba(30,41,59,0.7) 50%, rgba(2,6,23,0.95) 100%)",clipPath:"polygon(0 80%, 12% 60%, 26% 78%, 40% 55%, 55% 72%, 70% 50%, 82% 70%, 100% 58%, 100% 100%, 0 100%)",animation:"mountainDrift 10s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-40 opacity-60 pointer-events-none",style:{background:"linear-gradient(0deg, rgba(34,211,238,0.35), rgba(34,211,238,0))"}}),Array.from({length:26}).map((i,o)=>l.jsx("div",{className:"absolute bg-white/80",style:{width:Math.random()>.7?"2px":"1px",height:Math.random()>.7?"2px":"1px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.2,boxShadow:"1px 1px 0 rgba(0,0,0,0.3)",animation:`starTwinkle ${3+Math.random()*4}s steps(4) ${Math.random()*2}s infinite`}},`star-${o}`)),Array.from({length:12}).map((i,o)=>l.jsx("div",{className:"absolute",style:{width:`${Math.random()>.6?8:4}px`,height:`${Math.random()>.6?8:4}px`,top:`${Math.random()*90}%`,left:`${Math.random()*90}%`,background:Math.random()>.5?"#22d3ee":"#f472b6",opacity:.6,boxShadow:"1px 1px 0 rgba(0,0,0,0.35)",animation:`glitchBlock ${2+Math.random()*3}s steps(2) ${Math.random()}s infinite`}},`glitch-${o}`)),Array.from({length:6}).map((i,o)=>l.jsx("div",{className:"absolute",style:{width:"2px",height:"2px",top:`${10+Math.random()*70}%`,left:`${10+Math.random()*70}%`,background:"#93c5fd",boxShadow:"6px 0 #93c5fd, 0 6px #93c5fd, 6px 6px #93c5fd",opacity:.5,animation:`clusterDrift ${4+o}s steps(4) ${o*.2}s infinite`}},`cluster-${o}`)),Array.from({length:34}).map((i,o)=>l.jsx("div",{className:"absolute bg-white",style:{width:Math.random()>.5?"4px":"8px",height:Math.random()>.5?"4px":"8px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.5+.2,animation:`pixelFloat ${Math.random()*2+1}s steps(4) ${Math.random()}s infinite`}},o)),Array.from({length:16}).map((i,o)=>l.jsx("div",{className:"absolute bg-[#c7d2fe]",style:{width:"2px",height:Math.random()>.7?"6px":"4px",top:`${-10-Math.random()*30}%`,left:`${Math.random()*100}%`,opacity:.5,animation:`pixelFall ${4+Math.random()*6}s steps(6) ${Math.random()*2}s infinite`}},`fall-${o}`)),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"relative w-16 h-16 opacity-40",style:{animation:"hudBlink 2.4s steps(2) infinite"},children:[l.jsx("div",{className:"absolute left-1/2 top-0 -translate-x-1/2 w-[2px] h-4 bg-[#7dd3fc]"}),l.jsx("div",{className:"absolute left-1/2 bottom-0 -translate-x-1/2 w-[2px] h-4 bg-[#7dd3fc]"}),l.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 h-[2px] w-4 bg-[#7dd3fc]"}),l.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 h-[2px] w-4 bg-[#7dd3fc]"})]})}),Array.from({length:8}).map((i,o)=>l.jsx("div",{className:"absolute bg-[#a7f3d0]",style:{width:"2px",height:"2px",top:Math.random()*90+"%",left:Math.random()*90+"%",boxShadow:"0 0 8px rgba(167,243,208,0.8)",animation:`sparklePop ${3+Math.random()*3}s steps(3) ${Math.random()*2}s infinite`}},`spark-${o}`)),Array.from({length:12}).map((i,o)=>l.jsx("div",{className:"absolute",style:{width:"2px",height:"2px",bottom:`${5+Math.random()*20}px`,left:`${Math.random()*100}%`,background:"#a7f3d0",opacity:.4,animation:`dustRise ${3+Math.random()*3}s steps(3) ${Math.random()}s infinite`}},`dust-${o}`)),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[l.jsx("div",{className:"absolute w-[320px] h-[320px] rounded-full border border-[#93c5fd]/20",style:{animation:"ringSpin 18s linear infinite"}}),l.jsx("div",{className:"absolute w-[240px] h-[240px] rounded-full border border-[#f472b6]/20",style:{animation:"ringSpin 12s linear infinite reverse"}}),l.jsx("div",{className:"absolute w-[320px] h-[320px]",style:{animation:"ringSpin 10s linear infinite"},children:l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-[#22d3ee] shadow-[1px_1px_0_rgba(0,0,0,0.4)]"})})]}),l.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 flex flex-col gap-2 pointer-events-none opacity-50",children:Array.from({length:6}).map((i,o)=>l.jsx("div",{className:"w-6 h-[3px] bg-[#7dd3fc]",style:{animation:`hudBlink ${2+o*.2}s steps(2) ${o*.2}s infinite`}},`meter-l-${o}`))}),l.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 flex flex-col gap-2 pointer-events-none opacity-50",children:Array.from({length:6}).map((i,o)=>l.jsx("div",{className:"w-6 h-[3px] bg-[#f472b6]",style:{animation:`hudBlink ${2.2+o*.2}s steps(2) ${o*.2}s infinite`}},`meter-r-${o}`))}),l.jsx("div",{className:"absolute top-8 left-8 text-[10px] text-white/70 pointer-events-none",style:{fontFamily:"'Press Start 2P', 'Courier New', monospace"},children:"SYS: PIXEL"}),l.jsx("div",{className:"absolute top-8 right-8 text-[10px] text-white/70 pointer-events-none",style:{fontFamily:"'Press Start 2P', 'Courier New', monospace"},children:"MODE: DREAM"}),l.jsxs("div",{className:"relative z-10 text-center space-y-4",style:{animation:"titleFloat 3s ease-in-out infinite"},children:[l.jsxs("div",{className:"relative inline-block",children:[l.jsx("h1",{className:"text-6xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-b from-[#22d3ee] to-[#3b82f6]",style:{fontFamily:"'Press Start 2P', 'Courier New', monospace",filter:"drop-shadow(4px 4px 0 #d946ef)",animation:"glitchText 2s infinite"},children:"PIXEL"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[#22d3ee] mix-blend-overlay opacity-40",style:{animation:"glitchSlice 1.6s steps(2) infinite"}}),l.jsx("div",{className:"absolute -inset-1 border border-[#22d3ee]/30",style:{animation:"titleBorder 2.4s ease-in-out infinite"}})]}),l.jsx("div",{className:"block"}),l.jsxs("div",{className:"relative inline-block",children:[l.jsx("h1",{className:"text-6xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-b from-[#f472b6] to-[#a855f7]",style:{fontFamily:"'Press Start 2P', 'Courier New', monospace",filter:"drop-shadow(4px 4px 0 #06b6d4)",animation:"glitchText 2s infinite reverse"},children:"TIME"}),l.jsx("div",{className:"absolute inset-0 bg-[#f472b6] mix-blend-screen opacity-20",style:{animation:"glitchSlice 2s steps(2) 0.2s infinite"}}),l.jsx("div",{className:"absolute -inset-1 border border-[#f472b6]/25",style:{animation:"titleBorder 2.8s ease-in-out infinite"}})]})]}),l.jsxs("div",{className:"mt-12 w-72 h-7 border-4 border-white p-1 bg-black/50 relative",style:{animation:"loadingPulse 2.8s steps(2) infinite"},children:[l.jsx("div",{className:"h-full bg-[#5fffd2]",style:{width:"0%",animation:"loadBar 2.8s steps(14) forwards",boxShadow:"0 0 10px #5fffd2"}}),l.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(90deg, rgba(0,0,0,0.25) 0 6px, transparent 6px 12px)"}}),l.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 text-[10px] text-white/70 pointer-events-none",style:{fontFamily:"'Press Start 2P', 'Courier New', monospace",animation:"crtFlicker 2s steps(2) infinite"},children:"LOADING..."})]}),l.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 2px), repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 3px)",animation:"noiseJitter 1.2s steps(2) infinite"}}),l.jsx("style",{children:`
            @keyframes pixelFloat {
                0%, 100% { transform: translate(0, 0); }
                50% { transform: translate(0, -10px); }
            }
            @keyframes pixelFall {
                0% { transform: translateY(0); opacity: 0; }
                10% { opacity: 0.6; }
                100% { transform: translateY(120vh); opacity: 0; }
            }
            @keyframes sparklePop {
                0%, 100% { transform: scale(0); opacity: 0; }
                50% { transform: scale(1); opacity: 0.9; }
            }
            @keyframes starTwinkle {
                0%, 100% { opacity: 0.2; transform: scale(1); }
                50% { opacity: 0.9; transform: scale(1.4); }
            }
            @keyframes glitchBlock {
                0%, 100% { opacity: 0; transform: translate(0, 0); }
                20% { opacity: 0.8; }
                60% { opacity: 0.3; transform: translate(2px, -2px); }
            }
            @keyframes clusterDrift {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-6px); }
            }
            @keyframes dustRise {
                0% { transform: translateY(0); opacity: 0; }
                20% { opacity: 0.5; }
                100% { transform: translateY(-16px); opacity: 0; }
            }
            @keyframes loadBar {
                0% { width: 0%; }
                100% { width: 100%; }
            }
            @keyframes glitchText {
                0% { transform: translate(0); }
                20% { transform: translate(-2px, 2px); }
                40% { transform: translate(-2px, -2px); }
                60% { transform: translate(2px, 2px); }
                80% { transform: translate(2px, -2px); }
                100% { transform: translate(0); }
            }
            @keyframes glitchSlice {
                0% { clip-path: inset(0 0 0 0); }
                40% { clip-path: inset(10% 0 60% 0); }
                70% { clip-path: inset(50% 0 20% 0); }
                100% { clip-path: inset(0 0 0 0); }
            }
            @keyframes scanlineShift {
                0% { background-position: 0 0; }
                100% { background-position: 0 60px; }
            }
            @keyframes beamSweep {
                0% { transform: translateX(-120%); }
                100% { transform: translateX(120%); }
            }
            @keyframes nebulaStep {
                0%, 100% { transform: translate(0, 0); opacity: 0.2; }
                50% { transform: translate(-8px, 6px); opacity: 0.35; }
            }
            @keyframes pixelSunPulse {
                0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.3; }
                50% { transform: translateX(-50%) scale(1.06); opacity: 0.5; }
            }
            @keyframes mountainDrift {
                0%, 100% { transform: translateX(0); }
                50% { transform: translateX(-12px); }
            }
            @keyframes ringSpin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            @keyframes gridPulse {
                0%, 100% { opacity: 0.2; }
                50% { opacity: 0.35; }
            }
            @keyframes titleFloat {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-6px); }
            }
            @keyframes titleBorder {
                0%, 100% { opacity: 0.2; transform: translateY(0); }
                50% { opacity: 0.6; transform: translateY(-2px); }
            }
            @keyframes framePulse {
                0%, 100% { opacity: 0.6; }
                50% { opacity: 1; }
            }
            @keyframes crtFlicker {
                0%, 100% { opacity: 0.6; }
                50% { opacity: 1; }
            }
            @keyframes hudBlink {
                0%, 100% { opacity: 0.3; }
                50% { opacity: 0.8; }
            }
            @keyframes loadingPulse {
                0%, 100% { box-shadow: 0 0 0 rgba(95,255,210,0.2); }
                50% { box-shadow: 0 0 12px rgba(95,255,210,0.35); }
            }
            @keyframes noiseJitter {
                0%, 100% { transform: translate(0, 0); }
                50% { transform: translate(-1px, 1px); }
            }
        `})]}),document.body):null}function o$(e){let t=0;for(let n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)}function l$(e){let t=0;return[...e].sort((r,s)=>r.id.localeCompare(s.id)).forEach(r=>{var o,c;const s=((o=r.entities)==null?void 0:o.length)??0,a=((c=r.environments)==null?void 0:c.length)??0,i=`${r.id}|${r.world}|${r.date}|${r.threatLevel}|${s}|${a}`;t^=o$(i)}),`${t}`}const jf="pixel-intro-seen";function Kc(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function c$(e){if(e.length===0)return 0;const t=new Set(e.map(s=>Kc(new Date(s.date))));let n=0,r=new Date;for(r.setHours(0,0,0,0);t.has(Kc(r));)n+=1,r.setDate(r.getDate()-1);if(n===0&&(r=new Date,r.setDate(r.getDate()-1),r.setHours(0,0,0,0),t.has(Kc(r))))for(n=1,r.setDate(r.getDate()-1);t.has(Kc(r));)n+=1,r.setDate(r.getDate()-1);return n}function u$({dreams:e=[]}){const t=p.useRef(null),n=p.useRef(),r=C8(),s=p.useRef(e.length),a=p.useRef(null),{recordEncounter:i,getStats:o}=Lk(),c=T8(),{shouldRenderFrame:u}=N8({targetFPS:c?15:60,enableAdaptive:!0,minFPS:15,maxFPS:60}),d=p.useRef([]),h=p.useRef([]),f=p.useRef([]),m=p.useRef([]),y=p.useRef(0),g=p.useRef({x:0,y:0,phase:0}),x=p.useRef(hd()),v=p.useRef({x:0,y:0}),[b,w]=p.useState(!1),[S,k]=p.useState(null),E=p.useMemo(()=>c$(e),[e]),j=p.useCallback(()=>{w(!1)},[]);p.useCallback(()=>{sessionStorage.removeItem(jf),w(!0)},[]);const C=p.useCallback(async()=>{const{phenomenon:Z,isNewEncounter:ue}=Vl();k(Z),dd(Z),Z.id==="pixelDreamMoon"&&w(!0),ue&&i(Z);const je=Z.rarity==="mythic"?" MYTHIC  ":"";rn.success(` ${je}${Z.name}`,{description:Z.subtitle,duration:Z.rarity==="mythic"?5e3:3e3}),await new Promise(pt=>setTimeout(pt,800))},[i]),{containerRef:P,pullDistance:T,isRefreshing:R,isPulling:N,progress:I,isReady:A}=t$({onRefresh:C,pullThreshold:100}),{moonFlashesRef:H,sparklesRef:z,initializeParticleEffects:B,drawBackgroundEffects:_,drawAtmosphericEffects:M,drawShatteredEffects:D,drawSpecialEffects:L,drawOrbitingEffects:V,drawWeatherEffects:F,drawVoidEffects:J,drawEchoMoonsEffect:K,drawFirefliesEffect:ee}=ZL(),{overlayType:U,currentMoonPhase:we,handleTouchStart:Ie,handleTouchMove:ke,handleTouchEnd:ve,handleCanvasClick:xe,handleCloseOverlay:pe}=e$({canvasRef:t,phenomenon:S,moonPositionRef:g,parallaxOffsetRef:r,moonFlashesRef:H,sparklesRef:z});return p.useEffect(()=>{const{phenomenon:Z,isNewEncounter:ue}=Vl();k(Z),dd(Z),Z.id==="pixelDreamMoon"&&(sessionStorage.getItem(jf)||(w(!0),sessionStorage.setItem(jf,"1"))),ue&&i(Z)},[i]),p.useEffect(()=>{if(!S)return;const Z=t.current;if(!Z)return;const ue=Z.getContext("2d");if(!ue)return;const je={width:0,height:0,dpr:1},pt=()=>{const Me=Z.getBoundingClientRect(),bt=window.devicePixelRatio||1;Z.width=Me.width*bt,Z.height=Me.height*bt,ue.setTransform(1,0,0,1,0,0),ue.scale(bt,bt),je.width=Me.width,je.height=Me.height,je.dpr=bt,d.current=RL(Me.width,Me.height,S,e.length);const lt=o(),Zt=e.length>0?`${S.id}|${l$(e)}`:`${S.id}|${lt.totalEncounters}|${lt.totalDiscovered}|${lt.mythicCount}`,fr=Math.min(.5,e.length/200);h.current=AL(d.current,Zt,Math.min(1,S.starDensity+fr)),f.current=$L(Me.width,Me.height,S),m.current=WL(Me.width,Me.height),g.current={x:Me.width*.7,y:Me.height*.25,phase:0},x.current=hd();const ct=g.current,Rt=Ul(S);B(S,ct,Rt,Me.width,Me.height)};pt();const _t=()=>{v.current={x:window.scrollX,y:window.scrollY}};window.addEventListener("scroll",_t,{passive:!0});const Nn=Me=>{if(!u(Me)){n.current=requestAnimationFrame(Nn);return}const bt=je.width,lt=je.height;ue.clearRect(0,0,bt,lt);const Zt={ctx:ue,width:bt,height:lt,phenomenon:S,parallaxOffset:c?{x:0,y:0}:r.current};NL({...Zt,time:Me}),c||(_(ue,S,bt,lt,v.current),M(ue,S,bt));const fr=Math.min(.8,E/14),ct=1+fr*.5,Rt=1+fr*.7,Ar=c?300:1600,Va=a.current?Math.min(1,(Me-a.current)/Ar):1;DL({...Zt,stars:d.current,constellations:h.current,timeMs:Me,constellationScale:ct,constellationIntensity:Rt,constellationReveal:Va}),c||(K(ue,S,g.current),ee(ue,S,bt,lt));const $=c?.001:.005,ge={...g.current};if(c&&(ge.phase+=$),g.current=YL({...Zt,moonPosition:c?ge:g.current,moonPhase:x.current}),!c){const Y=Ul(S);D(ue,S,g.current),L(ue,S,g.current,Y,bt,lt),V(ue,S,g.current)}if(FL({...Zt,clouds:f.current}),!c){F(ue,S,bt,lt),J(ue,S,g.current);const Y=HL({...Zt,shootingStars:m.current,timer:y.current});m.current=Y.shootingStars,y.current=Y.timer}n.current=requestAnimationFrame(Nn)};n.current=requestAnimationFrame(Nn);let un=null;return typeof ResizeObserver<"u"?(un=new ResizeObserver(()=>{pt()}),un.observe(Z)):window.addEventListener("resize",pt),()=>{n.current&&cancelAnimationFrame(n.current),un==null||un.disconnect(),window.removeEventListener("resize",pt),window.removeEventListener("scroll",_t)}},[S,c,u,B,_,M,D,L,V,F,J,K,ee,r,o,E,e]),p.useEffect(()=>{e.length!==s.current&&(a.current=performance.now(),s.current=e.length)},[e.length]),l.jsxs("div",{ref:P,className:"relative w-full h-[60vh] min-h-[400px] overflow-hidden",style:{transform:`translateY(${R?20:T*.3}px)`,transition:N?"none":"transform 0.3s ease-out"},children:[l.jsx(a$,{pullDistance:T,progress:I,isRefreshing:R,isReady:A,isPulling:N}),l.jsx("canvas",{ref:t,onClick:xe,onTouchStart:Ie,onTouchMove:ke,onTouchEnd:ve,className:"absolute inset-0 w-full h-full cursor-pointer",style:{width:"100%",height:"100%",touchAction:"pan-y"}}),l.jsx(s$,{phenomenon:S}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background via-background/50 to-transparent pointer-events-none"}),U&&l.jsx(r$,{type:U,moonPhase:we,phenomenon:S,onClose:pe}),l.jsx(i$,{show:b,onComplete:j})]})}function me({className:e,...t}){return l.jsx("div",{className:q("animate-pulse rounded-md bg-muted",e),...t})}function $k({compact:e}){return e?l.jsxs("div",{className:"card-minimal flex items-center gap-3",children:[l.jsx(me,{className:"w-10 h-10 rounded-full shrink-0"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(me,{className:"h-4 w-24"}),l.jsx(me,{className:"h-3 w-32"})]}),l.jsx(me,{className:"h-6 w-6 rounded-full"})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"h-4 w-20"}),l.jsx(me,{className:"h-5 w-5 rounded-full"})]}),l.jsx(me,{className:"h-4 w-16"})]}),l.jsx(me,{className:"h-5 w-32"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{className:"h-5 w-16 rounded-full"}),l.jsx(me,{className:"h-5 w-20 rounded-full"}),l.jsx(me,{className:"h-5 w-14 rounded-full"})]}),l.jsx(me,{className:"h-12 w-full"})]})}function d$(){return l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(me,{className:"h-8 w-32"}),l.jsx(me,{className:"h-4 w-48"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(me,{className:"h-[120px] w-full rounded-md"}),l.jsx(me,{className:"h-10 w-full rounded-md"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:[...Array(3)].map((e,t)=>l.jsx(me,{className:"h-12 w-full rounded-md"},t))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(me,{className:"h-5 w-24"}),l.jsx(me,{className:"h-4 w-16"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((e,t)=>l.jsx($k,{compact:!0},t))})]})]})}function h$({onRefresh:e,threshold:t=80,resistance:n=2.5}){const r=p.useRef(null),[s,a]=p.useState(0),[i,o]=p.useState(!1),[c,u]=p.useState(!1),d=p.useRef(0),h=p.useRef(0),f=p.useCallback(g=>{i||(d.current=g.touches[0].clientY)},[i]),m=p.useCallback(g=>{if(i)return;const x=r.current;if(!x)return;h.current=g.touches[0].clientY;const v=h.current-d.current,b=x.scrollTop<=0,w=v>0;if(b&&w){const S=v/n;S>5&&(g.preventDefault(),u(!0),a(S))}else c&&!w&&(u(!1),a(0))},[i,n,c]),y=p.useCallback(async()=>{if(!(!c||i)){if(u(!1),s>=t){o(!0),a(t);try{await e()}catch(g){console.error("Refresh failed:",g)}finally{o(!1),a(0)}}else a(0);d.current=0,h.current=0}},[c,i,s,t,e]);return p.useEffect(()=>{const g=r.current;if(g)return g.addEventListener("touchstart",f,{passive:!0}),g.addEventListener("touchmove",m,{passive:!1}),g.addEventListener("touchend",y,{passive:!0}),()=>{g.removeEventListener("touchstart",f),g.removeEventListener("touchmove",m),g.removeEventListener("touchend",y)}},[f,m,y]),{containerRef:r,pullDistance:s,isRefreshing:i,isPulling:c}}function Fk({children:e,onRefresh:t,className:n}){const{containerRef:r,pullDistance:s,isRefreshing:a,isPulling:i}=h$({onRefresh:t,threshold:80}),o=Math.min(s/80,1),c=s>10||a;return l.jsxs("div",{ref:r,className:q("relative",n),style:{overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[l.jsx("div",{className:q("absolute left-0 right-0 flex justify-center transition-all duration-200 z-10",c?"opacity-100":"opacity-0"),style:{top:-40+s,transform:`translateY(${Math.min(s,60)}px)`},children:l.jsx("div",{className:q("flex items-center justify-center w-10 h-10 rounded-full","bg-primary/10 backdrop-blur-sm border border-primary/20","shadow-lg"),children:a?l.jsx(ac,{className:"w-5 h-5 text-primary animate-spin"}):l.jsx(I_,{className:q("w-5 h-5 text-primary transition-transform duration-200",o>=1&&"rotate-180"),style:{transform:`rotate(${o*180}deg)`,opacity:o}})})}),l.jsx("div",{style:{transform:`translateY(${a?60:s*.5}px)`,transition:i?"none":"transform 0.2s ease-out"},children:e})]})}const bp=(e,t)=>t.some(n=>e instanceof n);let sb,ab;function f$(){return sb||(sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m$(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wp=new WeakMap,Ef=new WeakMap,uh=new WeakMap;function p$(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{n(md(e.result)),s()},i=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",i)});return uh.set(t,e),t}function g$(e){if(wp.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{n(),s()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});wp.set(e,t)}let Sp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return md(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zk(e){Sp=e(Sp)}function y$(e){return m$().includes(e)?function(...t){return e.apply(kp(this),t),md(this.request)}:function(...t){return md(e.apply(kp(this),t))}}function v$(e){return typeof e=="function"?y$(e):(e instanceof IDBTransaction&&g$(e),bp(e,f$())?new Proxy(e,Sp):e)}function md(e){if(e instanceof IDBRequest)return p$(e);if(Ef.has(e))return Ef.get(e);const t=v$(e);return t!==e&&(Ef.set(e,t),uh.set(t,e)),t}const kp=e=>uh.get(e),x$=["get","getKey","getAll","getAllKeys","count"],b$=["put","add","delete","clear"],Cf=new Map;function ib(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Cf.get(t))return Cf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=b$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||x$.includes(n)))return;const a=async function(i,...o){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Cf.set(t,a),a}zk(e=>({...e,get:(t,n,r)=>ib(t,n)||e.get(t,n,r),has:(t,n)=>!!ib(t,n)||e.has(t,n)}));const w$=["continue","continuePrimaryKey","advance"],ob={},jp=new WeakMap,Bk=new WeakMap,S$={get(e,t){if(!w$.includes(t))return e[t];let n=ob[t];return n||(n=ob[t]=function(...r){jp.set(this,Bk.get(this)[t](...r))}),n}};async function*k$(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,S$);for(Bk.set(n,t),uh.set(n,kp(t));t;)yield n,t=await(jp.get(n)||t.continue()),jp.delete(n)}function lb(e,t){return t===Symbol.asyncIterator&&bp(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&bp(e,[IDBIndex,IDBObjectStore])}zk(e=>({...e,get(t,n,r){return lb(t,n)?k$:e.get(t,n,r)},has(t,n){return lb(t,n)||e.has(t,n)}}));function j$(){return navigator.onLine}function E$(e){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}function C$(){const[e,t]=p.useState(j$());return p.useEffect(()=>E$(t),[]),e}function Vk(){const e=C$(),[t,n]=p.useState(!1),[r,s]=p.useState(!1);return p.useEffect(()=>{if(!e)s(!0);else if(r){n(!0);const a=setTimeout(()=>{n(!1),s(!1)},3e3);return()=>clearTimeout(a)}},[e,r]),e&&!t?null:l.jsx("div",{className:q("fixed top-16 left-1/2 -translate-x-1/2 z-50","flex items-center gap-2 px-4 py-2 rounded-full","text-sm font-medium shadow-lg","animate-in slide-in-from-top duration-300",e?"bg-green-500/90 text-white":"bg-yellow-500/90 text-yellow-950"),children:e?l.jsxs(l.Fragment,{children:[l.jsx(tR,{className:"w-4 h-4"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(eR,{className:"w-4 h-4"}),l.jsx("span",{children:""})]})})}function Ai({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,a]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>{a(!0)},t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0)":"translateY(20px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function T$(){return l.jsx(Ai,{delay:0,duration:500,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl",children:""}),l.jsx("p",{className:"text-muted-foreground",children:""})]})})}const N$=Yd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?WM:"button";return l.jsx(i,{className:q(N$({variant:t,size:n,className:e})),ref:a,...s})});Pe.displayName="Button";const dc=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));dc.displayName="Textarea";const Vn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Vn.displayName="Input";const P$=Yd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:t,...n}){return l.jsx("div",{className:q(P$({variant:t}),e),...n})}function M$({suggestions:e,editing:t,analyzing:n,onToggleEdit:r,onConfirm:s,onCancel:a,onUpdate:i}){var o,c;return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"AI "})]}),l.jsx(Pe,{variant:"ghost",size:"sm",onClick:r,children:t?l.jsx(td,{className:"w-4 h-4"}):l.jsx(eg,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),t?l.jsx(Vn,{value:e.world,onChange:u=>i("world",u.target.value),className:"mt-1 h-8"}):l.jsx(Re,{variant:"secondary",children:e.world})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsxs(Re,{variant:e.threatLevel>=3?"destructive":"secondary",children:["Level ",e.threatLevel]})]}),((o=e.entities)==null?void 0:o.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Entities: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.entities.map((u,d)=>l.jsx(Re,{variant:"outline",children:u},d))})]}),((c=e.environments)==null?void 0:c.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Environments: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.environments.map((u,d)=>l.jsx(Re,{variant:"outline",children:u},d))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Pe,{onClick:s,disabled:n,className:"flex-1 gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(Nl,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(td,{className:"w-4 h-4"}),""]})}),l.jsx(Pe,{variant:"outline",onClick:a,children:l.jsx(fo,{className:"w-4 h-4"})})]})]})}function _$({existingWorlds:e,existingEntities:t,onDreamSaved:n}){const[r,s]=p.useState(""),[a,i]=p.useState(!1),[o,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=async()=>{if(!r.trim()){rn.error("");return}i(!0);try{const v=await p8(r,e,t,["fog","sea","mountain","city","tunnel","rain","night","sunset","forest","building"]);c(v),d(!0),rn.success("! ")}catch(v){console.error("Error analyzing:",v),rn.error("")}finally{i(!1)}},y=async()=>{if(o){i(!0);try{const v=new Date;if(await Nk({date:v.toISOString().split("T")[0],wakeTime:v.toTimeString().slice(0,5),world:o.world||"Unknown",timeSystem:o.timeSystem||"unknown",environments:o.environments||[],entities:o.entities||[],threatLevel:o.threatLevel||0,safetyOverride:o.safetyOverride||"unknown",exit:o.exit||"unknown",notes:r})){rn.success("! ",{description:`: ${o.world} | Threat: ${o.threatLevel}`}),s(""),c(null),d(!1),f(!1);const w=await za();n(w.slice(0,5))}else rn.error("")}catch(v){console.error("Error saving:",v),rn.error("")}finally{i(!1)}}},g=()=>{d(!1),c(null),f(!1)},x=(v,b)=>{c(w=>w?{...w,[v]:b}:null)};return l.jsx(Ai,{delay:100,duration:450,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(dc,{placeholder:"... ",value:r,onChange:v=>s(v.target.value),className:"min-h-[120px] resize-none",disabled:u}),u&&o&&l.jsx(M$,{suggestions:o,editing:h,analyzing:a,onToggleEdit:()=>f(!h),onConfirm:y,onCancel:g,onUpdate:x}),!u&&l.jsx(Pe,{onClick:m,disabled:a||!r.trim(),className:"w-full gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx(Nl,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Vt,{className:"w-4 h-4"}),""]})})]})})}function R$(){const e=[{to:"/logs/new",icon:n5,label:" ()"},{to:"/library",icon:J0,label:""},{to:"/logs",icon:Z0,label:""}];return l.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map((t,n)=>l.jsx(Ai,{delay:200+n*80,duration:400,children:l.jsx(Pe,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(cn,{to:t.to,children:[l.jsx(t.icon,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:t.label})]})})},t.to))})}const cb={0:{border:"border-l-4 border-l-muted-foreground/30",bg:"bg-card",badge:"bg-muted text-muted-foreground"},1:{border:"border-l-4 border-l-emerald-500",bg:"bg-gradient-to-r from-emerald-500/5 to-transparent",badge:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"},2:{border:"border-l-4 border-l-yellow-500",bg:"bg-gradient-to-r from-yellow-500/5 to-transparent",badge:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400"},3:{border:"border-l-4 border-l-orange-500",bg:"bg-gradient-to-r from-orange-500/8 to-transparent",badge:"bg-orange-500/20 text-orange-700 dark:text-orange-400"},4:{border:"border-l-4 border-l-red-500",bg:"bg-gradient-to-r from-red-500/10 to-transparent",badge:"bg-red-500/20 text-red-700 dark:text-red-400"},5:{border:"border-l-4 border-l-rose-600",bg:"bg-gradient-to-r from-rose-600/15 to-transparent",badge:"bg-rose-600/25 text-rose-700 dark:text-rose-400 font-semibold"}},A$={0:"",1:"",2:"",3:"",4:"",5:""};function Uk({dream:e,compact:t,showEdit:n=!1}){const r=new Date(e.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),s=cb[e.threatLevel]||cb[0];return l.jsxs("div",{className:"relative group",children:[l.jsxs(cn,{to:`/logs/${e.id}`,className:q("block rounded-lg p-4 transition-all duration-200","border border-border hover:border-primary/30","hover:shadow-md hover:-translate-y-0.5",s.border,s.bg),children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e.id}),l.jsxs("span",{className:q("inline-flex items-center justify-center gap-1 px-2 py-0.5 text-xs rounded-full",s.badge),children:[l.jsx("span",{className:"text-[10px]",children:A$[e.threatLevel]}),e.threatLevel]})]}),l.jsx("p",{className:"font-medium truncate",children:e.world}),!t&&e.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.wakeTime})]})]}),!t&&e.environments.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.environments.slice(0,4).map(a=>l.jsx("span",{className:"tag",children:a},a)),e.environments.length>4&&l.jsxs("span",{className:"tag",children:["+",e.environments.length-4]})]})]}),n&&l.jsx(cn,{to:`/logs/${e.id}`,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>a.stopPropagation(),children:l.jsx(Pe,{size:"icon",variant:"ghost",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",children:l.jsx(eg,{className:"w-3 h-3"})})})]})}function D$({dreams:e}){return e.length===0?l.jsx(Ai,{delay:500,duration:400,children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Pe,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(cn,{to:"/logs/new",children:""})})]})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ai,{delay:450,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsx(cn,{to:"/logs",className:"text-sm text-primary hover:underline",children:""})]})}),l.jsx("div",{className:"space-y-2",children:e.map((t,n)=>l.jsx(Ai,{delay:500+n*80,duration:400,children:l.jsx(Uk,{dream:t,compact:!0})},t.id))})]})}function O$(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState([]),[c,u]=p.useState([]),d=p.useCallback(async()=>{try{const[f,m,y]=await Promise.all([za(),uc(),ch()]);t(f),r(f.slice(0,5)),o(m.map(g=>g.name)),u(y.map(g=>g.name))}catch(f){console.error("Error loading data:",f)}finally{a(!1)}},[]);p.useEffect(()=>{d()},[d]);const h=p.useCallback(async()=>{await d(),rn.success("")},[d]);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(Vk,{}),l.jsx(u$,{dreams:e}),l.jsx(Fk,{onRefresh:h,className:"flex-1",children:l.jsxs("div",{className:"space-y-8 py-4 pb-28 container-app",children:[l.jsx(T$,{}),l.jsx(_$,{existingWorlds:i,existingEntities:c,onDreamSaved:r}),l.jsx(R$,{}),s?l.jsx(d$,{}):l.jsx(D$,{dreams:n})]})}),l.jsx(ih,{})]})}function Wl(e,[t,n]){return Math.min(n,Math.max(t,e))}var I$=p.createContext(void 0);function hc(e){const t=p.useContext(I$);return e||t||"ltr"}var Tf=0;function Wk(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ub()),document.body.insertAdjacentElement("beforeend",e[1]??ub()),Tf++,()=>{Tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tf--}},[])}function ub(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",db={bubbles:!1,cancelable:!0},L$="FocusScope",kg=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=p.useState(null),u=vt(s),d=vt(a),h=p.useRef(null),f=ye(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(w){if(m.paused||!o)return;const S=w.target;o.contains(S)?h.current=S:us(h.current,{select:!0})},x=function(w){if(m.paused||!o)return;const S=w.relatedTarget;S!==null&&(o.contains(S)||us(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&us(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),b.disconnect()}}},[r,o,m.paused]),p.useEffect(()=>{if(o){fb.add(m);const g=document.activeElement;if(!o.contains(g)){const v=new CustomEvent(Nf,db);o.addEventListener(Nf,u),o.dispatchEvent(v),v.defaultPrevented||($$(U$(Hk(o)),{select:!0}),document.activeElement===g&&us(o))}return()=>{o.removeEventListener(Nf,u),setTimeout(()=>{const v=new CustomEvent(Pf,db);o.addEventListener(Pf,d),o.dispatchEvent(v),v.defaultPrevented||us(g??document.body,{select:!0}),o.removeEventListener(Pf,d),fb.remove(m)},0)}}},[o,u,d,m]);const y=p.useCallback(g=>{if(!n&&!r||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const b=g.currentTarget,[w,S]=F$(b);w&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&us(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&us(S,{select:!0})):v===b&&g.preventDefault()}},[n,r,m.paused]);return l.jsx(ne.div,{tabIndex:-1,...i,ref:f,onKeyDown:y})});kg.displayName=L$;function $$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(us(r,{select:t}),document.activeElement!==n)return}function F$(e){const t=Hk(e),n=hb(t,e),r=hb(t.reverse(),e);return[n,r]}function Hk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hb(e,t){for(const n of e)if(!z$(n,{upTo:t}))return n}function z$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B$(e){return e instanceof HTMLInputElement&&"select"in e}function us(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&B$(e)&&t&&e.select()}}var fb=V$();function V$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=mb(e,t),e.unshift(t)},remove(t){var n;e=mb(e,t),(n=e[0])==null||n.resume()}}}function mb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function U$(e){return e.filter(t=>t.tagName!=="A")}function jg(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xa=new WeakMap,qc=new WeakMap,Yc={},Mf=0,Gk=function(e){return e&&(e.host||Gk(e.parentNode))},H$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gk(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},G$=function(e,t,n,r){var s=H$(t,Array.isArray(e)?e:[e]);Yc[n]||(Yc[n]=new WeakMap);var a=Yc[n],i=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",g=(Xa.get(f)||0)+1,x=(a.get(f)||0)+1;Xa.set(f,g),a.set(f,x),i.push(f),g===1&&y&&qc.set(f,!0),x===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),o.clear(),Mf++,function(){i.forEach(function(h){var f=Xa.get(h)-1,m=a.get(h)-1;Xa.set(h,f),a.set(h,m),f||(qc.has(h)||h.removeAttribute(r),qc.delete(h)),m||h.removeAttribute(n)}),Mf--,Mf||(Xa=new WeakMap,Xa=new WeakMap,qc=new WeakMap,Yc={})}},Kk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=W$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),G$(r,s,n,"aria-hidden")):function(){return null}},Cu="right-scroll-bar-position",Tu="width-before-scroll-bar",K$="with-scroll-bars-hidden",q$="--removed-body-scroll-bar-size";function _f(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Y$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var X$=typeof window<"u"?p.useLayoutEffect:p.useEffect,pb=new WeakMap;function Q$(e,t){var n=Y$(null,function(r){return e.forEach(function(s){return _f(s,r)})});return X$(function(){var r=pb.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(o){a.has(o)||_f(o,null)}),a.forEach(function(o){s.has(o)||_f(o,i)})}pb.set(n,e)},[e]),n}function J$(e){return e}function Z$(e,t){t===void 0&&(t=J$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function e6(e){e===void 0&&(e={});var t=Z$(null);return t.options=br({async:!0,ssr:!1},e),t}var qk=function(e){var t=e.sideCar,n=vo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,br({},n))};qk.isSideCarExport=!0;function t6(e,t){return e.useMedium(t),qk}var Yk=e6(),Rf=function(){},dh=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Rf,onWheelCapture:Rf,onTouchMoveCapture:Rf}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,S=vo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=Q$([n,t]),j=br(br({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:Yk,removeScrollBar:u,shards:h,noRelative:m,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?p.cloneElement(p.Children.only(o),br(br({},j),{ref:E})):p.createElement(b,br({},j,{className:c,ref:E}),o))});dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dh.classNames={fullWidth:Tu,zeroRight:Cu};var n6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n6();return t&&e.setAttribute("nonce",t),e}function s6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=r6())&&(s6(t,n),a6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o6=function(){var e=i6();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xk=function(){var e=o6(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},l6={left:0,top:0,right:0,gap:0},Af=function(e){return parseInt(e||"",10)||0},c6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Af(n),Af(r),Af(s)]},u6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l6;var t=c6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},d6=Xk(),Di="data-scroll-locked",h6=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(K$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Di,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cu,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Tu,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tu," .").concat(Tu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Di,`] {
    `).concat(q$,": ").concat(o,`px;
  }
`)},gb=function(){var e=parseInt(document.body.getAttribute(Di)||"0",10);return isFinite(e)?e:0},f6=function(){p.useEffect(function(){return document.body.setAttribute(Di,(gb()+1).toString()),function(){var e=gb()-1;e<=0?document.body.removeAttribute(Di):document.body.setAttribute(Di,e.toString())}},[])},m6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;f6();var a=p.useMemo(function(){return u6(s)},[s]);return p.createElement(d6,{styles:h6(a,!t,s,n?"":"!important")})},Ep=!1;if(typeof window<"u")try{var Xc=Object.defineProperty({},"passive",{get:function(){return Ep=!0,!0}});window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{Ep=!1}var Qa=Ep?{passive:!1}:!1,p6=function(e){return e.tagName==="TEXTAREA"},Qk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!p6(e)&&n[t]==="visible")},g6=function(e){return Qk(e,"overflowY")},y6=function(e){return Qk(e,"overflowX")},yb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jk(e,r);if(s){var a=Zk(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},v6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},x6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Jk=function(e,t){return e==="v"?g6(t):y6(t)},Zk=function(e,t){return e==="v"?v6(t):x6(t)},b6=function(e,t){return e==="h"&&t==="rtl"?-1:1},w6=function(e,t,n,r,s){var a=b6(e,window.getComputedStyle(t).direction),i=a*r,o=n.target,c=t.contains(o),u=!1,d=i>0,h=0,f=0;do{if(!o)break;var m=Zk(e,o),y=m[0],g=m[1],x=m[2],v=g-x-a*y;(y||v)&&Jk(e,o)&&(h+=v,f+=y);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Qc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vb=function(e){return[e.deltaX,e.deltaY]},xb=function(e){return e&&"current"in e?e.current:e},S6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},k6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j6=0,Ja=[];function E6(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(j6++)[0],a=p.useState(Xk)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=RD([e.lockRef.current],(e.shards||[]).map(xb),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=Qc(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-v[0],S="deltaY"in g?g.deltaY:b[1]-v[1],k,E=g.target,j=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&j==="h"&&E.type==="range")return!1;var C=yb(j,E);if(!C)return!0;if(C?k=j:(k=j==="v"?"h":"v",C=yb(j,E)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||S)&&(r.current=k),!k)return!0;var P=r.current||k;return w6(P,x,g,P==="h"?w:S)},[]),c=p.useCallback(function(g){var x=g;if(!(!Ja.length||Ja[Ja.length-1]!==a)){var v="deltaY"in x?vb(x):Qc(x),b=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&S6(k.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(xb).filter(Boolean).filter(function(k){return k.contains(x.target)}),S=w.length>0?o(x,w[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(g,x,v,b){var w={name:g,delta:x,target:v,should:b,shadowParent:C6(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=p.useCallback(function(g){n.current=Qc(g),r.current=void 0},[]),h=p.useCallback(function(g){u(g.type,vb(g),g.target,o(g,e.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Qc(g),g.target,o(g,e.lockRef.current))},[]);p.useEffect(function(){return Ja.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Qa),document.addEventListener("touchmove",c,Qa),document.addEventListener("touchstart",d,Qa),function(){Ja=Ja.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Qa),document.removeEventListener("touchmove",c,Qa),document.removeEventListener("touchstart",d,Qa)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:k6(s)}):null,m?p.createElement(m6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function C6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T6=t6(Yk,E6);var Eg=p.forwardRef(function(e,t){return p.createElement(dh,br({},e,{ref:t,sideCar:T6}))});Eg.classNames=dh.classNames;var N6=[" ","Enter","ArrowUp","ArrowDown"],P6=[" ","Enter"],Aa="Select",[hh,fh,M6]=Hd(Aa),[xo]=Un(Aa,[M6,eh]),mh=eh(),[_6,Js]=xo(Aa),[R6,A6]=xo(Aa),ej=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:y}=e,g=mh(t),[x,v]=p.useState(null),[b,w]=p.useState(null),[S,k]=p.useState(!1),E=hc(u),[j,C]=zs({prop:r,defaultProp:s??!1,onChange:a,caller:Aa}),[P,T]=zs({prop:i,defaultProp:o,onChange:c,caller:Aa}),R=p.useRef(null),N=x?y||!!x.closest("form"):!0,[I,A]=p.useState(new Set),H=Array.from(I).map(z=>z.props.value).join(";");return l.jsx(L4,{...g,children:l.jsxs(_6,{required:m,scope:t,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:Os(),value:P,onValueChange:T,open:j,onOpenChange:C,dir:E,triggerPointerDownPosRef:R,disabled:f,children:[l.jsx(hh.Provider,{scope:t,children:l.jsx(R6,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{A(B=>new Set(B).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{A(B=>{const _=new Set(B);return _.delete(z),_})},[]),children:n})}),N?l.jsxs(jj,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:z=>T(z.target.value),disabled:f,form:y,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(I)]},H):null]})})};ej.displayName=Aa;var tj="SelectTrigger",nj=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=mh(n),i=Js(tj,n),o=i.disabled||r,c=ye(t,i.onTriggerChange),u=fh(n),d=p.useRef("touch"),[h,f,m]=Cj(g=>{const x=u().filter(w=>!w.disabled),v=x.find(w=>w.value===i.value),b=Tj(x,g,v);b!==void 0&&i.onValueChange(b.value)}),y=g=>{o||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(O5,{asChild:!0,...a,children:l.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Ej(i.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Q(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&N6.includes(g.key)&&(y(),g.preventDefault())})})})});nj.displayName=tj;var rj="SelectValue",sj=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...o}=e,c=Js(rj,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=ye(t,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),l.jsx(ne.span,{...o,ref:h,style:{pointerEvents:"none"},children:Ej(c.value)?l.jsx(l.Fragment,{children:i}):a})});sj.displayName=rj;var D6="SelectIcon",aj=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});aj.displayName=D6;var O6="SelectPortal",ij=e=>l.jsx(Gd,{asChild:!0,...e});ij.displayName=O6;var Da="SelectContent",oj=p.forwardRef((e,t)=>{const n=Js(Da,e.__scopeSelect),[r,s]=p.useState();if(kt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Xs.createPortal(l.jsx(lj,{scope:e.__scopeSelect,children:l.jsx(hh.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(cj,{...e,ref:t})});oj.displayName=Da;var Xn=10,[lj,Zs]=xo(Da),I6="SelectContentImpl",L6=Zi("SelectContent.RemoveScroll"),cj=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:x,...v}=e,b=Js(Da,n),[w,S]=p.useState(null),[k,E]=p.useState(null),j=ye(t,U=>S(U)),[C,P]=p.useState(null),[T,R]=p.useState(null),N=fh(n),[I,A]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(w)return Kk(w)},[w]),Wk();const z=p.useCallback(U=>{const[we,...Ie]=N().map(xe=>xe.ref.current),[ke]=Ie.slice(-1),ve=document.activeElement;for(const xe of U)if(xe===ve||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===we&&k&&(k.scrollTop=0),xe===ke&&k&&(k.scrollTop=k.scrollHeight),xe==null||xe.focus(),document.activeElement!==ve))return},[N,k]),B=p.useCallback(()=>z([C,w]),[z,C,w]);p.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:_,triggerPointerDownPosRef:M}=b;p.useEffect(()=>{if(w){let U={x:0,y:0};const we=ke=>{var ve,xe;U={x:Math.abs(Math.round(ke.pageX)-(((ve=M.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((xe=M.current)==null?void 0:xe.y)??0))}},Ie=ke=>{U.x<=10&&U.y<=10?ke.preventDefault():w.contains(ke.target)||_(!1),document.removeEventListener("pointermove",we),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[w,_,M]),p.useEffect(()=>{const U=()=>_(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[_]);const[D,L]=Cj(U=>{const we=N().filter(ve=>!ve.disabled),Ie=we.find(ve=>ve.ref.current===document.activeElement),ke=Tj(we,U,Ie);ke&&setTimeout(()=>ke.ref.current.focus())}),V=p.useCallback((U,we,Ie)=>{const ke=!H.current&&!Ie;(b.value!==void 0&&b.value===we||ke)&&(P(U),ke&&(H.current=!0))},[b.value]),F=p.useCallback(()=>w==null?void 0:w.focus(),[w]),J=p.useCallback((U,we,Ie)=>{const ke=!H.current&&!Ie;(b.value!==void 0&&b.value===we||ke)&&R(U)},[b.value]),K=r==="popper"?Cp:uj,ee=K===Cp?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(lj,{scope:n,content:w,viewport:k,onViewportChange:E,itemRefCallback:V,selectedItem:C,onItemLeave:F,itemTextRefCallback:J,focusSelectedItem:B,selectedItemText:T,position:r,isPositioned:I,searchRef:D,children:l.jsx(Eg,{as:L6,allowPinchZoom:!0,children:l.jsx(kg,{asChild:!0,trapped:b.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Q(s,U=>{var we;(we=b.trigger)==null||we.focus({preventScroll:!0}),U.preventDefault()}),children:l.jsx(rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(K,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:U=>U.preventDefault(),...v,...ee,onPlaced:()=>A(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,U=>{const we=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!we&&U.key.length===1&&L(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ke=N().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ve=U.target,xe=ke.indexOf(ve);ke=ke.slice(xe+1)}setTimeout(()=>z(ke)),U.preventDefault()}})})})})})})});cj.displayName=I6;var $6="SelectItemAlignedPosition",uj=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Js(Da,n),i=Zs(Da,n),[o,c]=p.useState(null),[u,d]=p.useState(null),h=ye(t,j=>d(j)),f=fh(n),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=i,w=p.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&g&&x&&v){const j=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(a.dir!=="rtl"){const ve=T.left-C.left,xe=P.left-ve,pe=j.left-xe,Z=j.width+pe,ue=Math.max(Z,C.width),je=window.innerWidth-Xn,pt=Wl(xe,[Xn,Math.max(Xn,je-ue)]);o.style.minWidth=Z+"px",o.style.left=pt+"px"}else{const ve=C.right-T.right,xe=window.innerWidth-P.right-ve,pe=window.innerWidth-j.right-xe,Z=j.width+pe,ue=Math.max(Z,C.width),je=window.innerWidth-Xn,pt=Wl(xe,[Xn,Math.max(Xn,je-ue)]);o.style.minWidth=Z+"px",o.style.right=pt+"px"}const R=f(),N=window.innerHeight-Xn*2,I=g.scrollHeight,A=window.getComputedStyle(u),H=parseInt(A.borderTopWidth,10),z=parseInt(A.paddingTop,10),B=parseInt(A.borderBottomWidth,10),_=parseInt(A.paddingBottom,10),M=H+z+I+_+B,D=Math.min(x.offsetHeight*5,M),L=window.getComputedStyle(g),V=parseInt(L.paddingTop,10),F=parseInt(L.paddingBottom,10),J=j.top+j.height/2-Xn,K=N-J,ee=x.offsetHeight/2,U=x.offsetTop+ee,we=H+z+U,Ie=M-we;if(we<=J){const ve=R.length>0&&x===R[R.length-1].ref.current;o.style.bottom="0px";const xe=u.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(K,ee+(ve?F:0)+xe+B),Z=we+pe;o.style.height=Z+"px"}else{const ve=R.length>0&&x===R[0].ref.current;o.style.top="0px";const pe=Math.max(J,H+g.offsetTop+(ve?V:0)+ee)+Ie;o.style.height=pe+"px",g.scrollTop=we-J+g.offsetTop}o.style.margin=`${Xn}px 0`,o.style.minHeight=D+"px",o.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,o,u,g,x,v,a.dir,r]);kt(()=>w(),[w]);const[S,k]=p.useState();kt(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(j=>{j&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return l.jsx(z6,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ne.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uj.displayName=$6;var F6="SelectPopperPosition",Cp=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xn,...a}=e,i=mh(n);return l.jsx(I5,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cp.displayName=F6;var[z6,Cg]=xo(Da,{}),Tp="SelectViewport",dj=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Zs(Tp,n),i=Cg(Tp,n),o=ye(t,a.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(hh.Slot,{scope:n,children:l.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-Xn*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(g,x);if(v<y){const b=v+m,w=Math.min(y,b),S=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});dj.displayName=Tp;var hj="SelectGroup",[B6,V6]=xo(hj),U6=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Os();return l.jsx(B6,{scope:n,id:s,children:l.jsx(ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});U6.displayName=hj;var fj="SelectLabel",mj=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=V6(fj,n);return l.jsx(ne.div,{id:s.id,...r,ref:t})});mj.displayName=fj;var pd="SelectItem",[W6,pj]=xo(pd),gj=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,o=Js(pd,n),c=Zs(pd,n),u=o.value===r,[d,h]=p.useState(a??""),[f,m]=p.useState(!1),y=ye(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,s)}),g=Os(),x=p.useRef("touch"),v=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(W6,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(hh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(ne.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Q(i.onFocus,()=>m(!0)),onBlur:Q(i.onBlur,()=>m(!1)),onClick:Q(i.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Q(i.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Q(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:Q(i.onPointerMove,b=>{var w;x.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Q(i.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(P6.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});gj.displayName=pd;var Vo="SelectItemText",yj=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=Js(Vo,n),o=Zs(Vo,n),c=pj(Vo,n),u=A6(Vo,n),[d,h]=p.useState(null),f=ye(t,v=>h(v),c.onItemTextChange,v=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return kt(()=>(g(y),()=>x(y)),[g,x,y]),l.jsxs(l.Fragment,{children:[l.jsx(ne.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Xs.createPortal(a.children,i.valueNode):null]})});yj.displayName=Vo;var vj="SelectItemIndicator",xj=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return pj(vj,n).isSelected?l.jsx(ne.span,{"aria-hidden":!0,...r,ref:t}):null});xj.displayName=vj;var Np="SelectScrollUpButton",bj=p.forwardRef((e,t)=>{const n=Zs(Np,e.__scopeSelect),r=Cg(Np,e.__scopeSelect),[s,a]=p.useState(!1),i=ye(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Sj,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});bj.displayName=Np;var Pp="SelectScrollDownButton",wj=p.forwardRef((e,t)=>{const n=Zs(Pp,e.__scopeSelect),r=Cg(Pp,e.__scopeSelect),[s,a]=p.useState(!1),i=ye(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Sj,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});wj.displayName=Pp;var Sj=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Zs("SelectScrollButton",n),i=p.useRef(null),o=fh(n),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),H6="SelectSeparator",kj=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ne.div,{"aria-hidden":!0,...r,ref:t})});kj.displayName=H6;var Mp="SelectArrow",G6=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=mh(n),a=Js(Mp,n),i=Zs(Mp,n);return a.open&&i.position==="popper"?l.jsx(L5,{...s,...r,ref:t}):null});G6.displayName=Mp;var K6="SelectBubbleInput",jj=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),a=ye(r,s),i=jg(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[i,t]),l.jsx(ne.select,{...n,style:{...TS,...n.style},ref:a,defaultValue:t})});jj.displayName=K6;function Ej(e){return e===""||e===void 0}function Cj(e){const t=vt(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const o=n.current+i;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Tj(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=q6(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function q6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Y6=ej,Nj=nj,X6=sj,Q6=aj,J6=ij,Pj=oj,Z6=dj,Mj=mj,_j=gj,eF=yj,tF=xj,Rj=bj,Aj=wj,Dj=kj;const In=Y6,Ln=X6,xn=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Nj,{ref:r,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(Q6,{asChild:!0,children:l.jsx(Bs,{className:"h-4 w-4 opacity-50"})})]}));xn.displayName=Nj.displayName;const Oj=p.forwardRef(({className:e,...t},n)=>l.jsx(Rj,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(eo,{className:"h-4 w-4"})}));Oj.displayName=Rj.displayName;const Ij=p.forwardRef(({className:e,...t},n)=>l.jsx(Aj,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Bs,{className:"h-4 w-4"})}));Ij.displayName=Aj.displayName;const bn=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(J6,{children:l.jsxs(Pj,{ref:s,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(Oj,{}),l.jsx(Z6,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Ij,{})]})}));bn.displayName=Pj.displayName;const nF=p.forwardRef(({className:e,...t},n)=>l.jsx(Mj,{ref:n,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));nF.displayName=Mj.displayName;const Nt=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(_j,{ref:r,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tF,{children:l.jsx(td,{className:"h-4 w-4"})})}),l.jsx(eF,{children:t})]}));Nt.displayName=_j.displayName;const rF=p.forwardRef(({className:e,...t},n)=>l.jsx(Dj,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",e),...t}));rF.displayName=Dj.displayName;const Lj=["fog","sea","mountain","city","tunnel","rain","night","sunset"],Tg=["inactive","activated","unknown"],Ng=["none","helper","separation","wake","unknown"],$j=["wake","separation","collapse","unknown"];p.createContext({hasAnimated:!1,setHasAnimated:()=>{}});function $n({children:e,delay:t=0,duration:n=400,className:r="",animation:s="fade-up"}){const[a,i]=p.useState(!1);p.useEffect(()=>{const c=setTimeout(()=>i(!0),t);return()=>clearTimeout(c)},[t]);const o=()=>{if(a)return"translateY(0) translateX(0) scale(1)";switch(s){case"fade":return"translateY(0) scale(1)";case"scale":return"scale(0.95)";case"slide-left":return"translateX(-20px)";case"slide-right":return"translateX(20px)";case"fade-up":default:return"translateY(16px)"}};return l.jsx("div",{className:`transition-all ${r}`,style:{opacity:a?1:0,transform:o(),transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function sF({children:e,baseDelay:t=0,staggerDelay:n=60,duration:r=400,className:s="",animation:a="fade-up"}){return l.jsx("div",{className:s,children:e.map((i,o)=>l.jsx($n,{delay:t+o*n,duration:r,animation:a,children:i},o))})}function aF(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,a]=p.useState(!0),[i,o]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState("all"),[f,m]=p.useState("all"),[y,g]=p.useState("all"),[x,v]=p.useState("all"),b=p.useCallback(async()=>{try{const[k,E]=await Promise.all([za(),uc()]);t(k),r(E)}catch(k){console.error("Error loading data:",k)}finally{a(!1)}},[]);p.useEffect(()=>{b()},[b]);const w=p.useCallback(async()=>{await b(),rn.success("")},[b]),S=e.filter(k=>{var E;if(c){const j=c.toLowerCase();if(!(k.world.toLowerCase().includes(j)||((E=k.notes)==null?void 0:E.toLowerCase().includes(j))||k.entities.some(P=>P.toLowerCase().includes(j))||k.environments.some(P=>P.toLowerCase().includes(j))))return!1}return!(d!=="all"&&k.world!==d||f!=="all"&&k.threatLevel!==Number(f)||y!=="all"&&k.timeSystem!==y||x!=="all"&&k.safetyOverride!==x)});return s?l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{children:"Dream Logs"})}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,E)=>l.jsx($k,{},E))})]}):l.jsxs(Fk,{onRefresh:w,className:"h-full",children:[l.jsx(Vk,{}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx($n,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{children:"Dream Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>o(!i),children:l.jsx(B_,{className:"w-4 h-4"})}),l.jsx(Pe,{asChild:!0,size:"sm",children:l.jsxs(cn,{to:"/logs/new",children:[l.jsx(n5,{className:"w-4 h-4 mr-1"}),"New"]})})]})]})}),l.jsx($n,{delay:60,duration:400,children:l.jsxs("div",{className:"relative",children:[l.jsx(r5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Vn,{type:"text",placeholder:" dreams... (world, notes, entities, environments)",value:c,onChange:k=>u(k.target.value),className:"pl-9 pr-9"}),c&&l.jsx(Pe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>u(""),children:l.jsx(fo,{className:"w-3 h-3"})})]})}),i&&l.jsx($n,{delay:0,duration:300,animation:"fade",children:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(In,{value:d,onValueChange:h,children:[l.jsx(xn,{className:"text-sm",children:l.jsx(Ln,{placeholder:"World"})}),l.jsxs(bn,{children:[l.jsx(Nt,{value:"all",children:"All Worlds"}),n.map(k=>l.jsx(Nt,{value:k.name,children:k.name},k.id))]})]}),l.jsxs(In,{value:f,onValueChange:m,children:[l.jsx(xn,{className:"text-sm",children:l.jsx(Ln,{placeholder:"Threat"})}),l.jsxs(bn,{children:[l.jsx(Nt,{value:"all",children:"All Threats"}),[0,1,2,3,4,5].map(k=>l.jsxs(Nt,{value:String(k),children:["Level ",k]},k))]})]}),l.jsxs(In,{value:y,onValueChange:g,children:[l.jsx(xn,{className:"text-sm",children:l.jsx(Ln,{placeholder:"Time System"})}),l.jsxs(bn,{children:[l.jsx(Nt,{value:"all",children:"All"}),Tg.map(k=>l.jsx(Nt,{value:k,children:k},k))]})]}),l.jsxs(In,{value:x,onValueChange:v,children:[l.jsx(xn,{className:"text-sm",children:l.jsx(Ln,{placeholder:"Safety"})}),l.jsxs(bn,{children:[l.jsx(Nt,{value:"all",children:"All"}),Ng.map(k=>l.jsx(Nt,{value:k,children:k},k))]})]})]})]})}),l.jsx("div",{className:"space-y-2",children:S.length===0?l.jsx($n,{delay:120,duration:400,children:l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Pe,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(cn,{to:"/logs/new",children:""})})]})}):l.jsx(sF,{baseDelay:120,staggerDelay:50,duration:400,className:"space-y-2",children:S.map(k=>l.jsx(Uk,{dream:k,showEdit:!0},k.id))})})]})]})}var iF="Label",Fj=p.forwardRef((e,t)=>l.jsx(ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Fj.displayName=iF;var zj=Fj;const oF=Yd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yt=p.forwardRef(({className:e,...t},n)=>l.jsx(zj,{ref:n,className:q(oF(),e),...t}));Yt.displayName=zj.displayName;function lF({date:e,wakeTime:t,onDateChange:n,onWakeTimeChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{htmlFor:"date",children:"Date"}),l.jsx(Vn,{id:"date",type:"date",value:e,onChange:s=>n(s.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{htmlFor:"wakeTime",children:"Wake Time"}),l.jsx(Vn,{id:"wakeTime",type:"time",value:t,onChange:s=>r(s.target.value),required:!0})]})]})}function cF({worlds:e,selectedWorld:t,newWorld:n,onWorldChange:r,onNewWorldChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"World"}),l.jsxs(In,{value:t,onValueChange:r,children:[l.jsx(xn,{children:l.jsx(Ln,{placeholder:"Select or create new"})}),l.jsx(bn,{children:e.map(a=>l.jsx(Nt,{value:a.name,children:a.name},a.id))})]}),l.jsx(Vn,{placeholder:"...",value:n,onChange:a=>s(a.target.value)})]})}const uF=e=>Lj.includes(e);function dF({selectedEnvironments:e,newEnvironment:t,onToggleEnvironment:n,onNewEnvironmentChange:r,onAddEnvironment:s}){const a=e.filter(i=>!uF(i));return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"Environments"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Lj.map(i=>l.jsx("button",{type:"button",onClick:()=>n(i),className:`tag transition-colors ${e.includes(i)?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,children:i},i))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(Vn,{type:"text",placeholder:" environment ...",value:t,onChange:i=>r(i.target.value),className:"flex-1"}),l.jsx(Pe,{type:"button",variant:"outline",size:"sm",disabled:!t,onClick:s,children:""})]}),a.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:a.map(i=>l.jsx("button",{type:"button",onClick:()=>n(i),className:"tag bg-primary text-primary-foreground",children:i},i))})]})}var ph="Checkbox",[hF]=Un(ph),[fF,Pg]=hF(ph);function mF(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:i,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=zs({prop:n,defaultProp:s??!1,onChange:c,caller:ph}),[y,g]=p.useState(null),[x,v]=p.useState(null),b=p.useRef(!1),w=y?!!i||!!y.closest("form"):!0,S={checked:f,disabled:a,setChecked:m,control:y,setControl:g,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ls(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:v};return l.jsx(fF,{scope:t,...S,children:pF(h)?h(S):r})}var Bj="CheckboxTrigger",Vj=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:i,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:y}=Pg(Bj,e),g=ye(s,d),x=p.useRef(c);return p.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const b=()=>h(x.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[a,h]),l.jsx(ne.button,{type:"button",role:"checkbox","aria-checked":Ls(c)?"mixed":c,"aria-required":u,"data-state":Kj(c),"data-disabled":o?"":void 0,disabled:o,value:i,...r,ref:g,onKeyDown:Q(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Q(n,v=>{h(b=>Ls(b)?!0:!b),y&&m&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});Vj.displayName=Bj;var Mg=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:o,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(mF,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:o,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(Vj,{...h,ref:t,__scopeCheckbox:n}),f&&l.jsx(Gj,{__scopeCheckbox:n})]})})});Mg.displayName=ph;var Uj="CheckboxIndicator",Wj=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Pg(Uj,n);return l.jsx(Wn,{present:r||Ls(a.checked)||a.checked===!0,children:l.jsx(ne.span,{"data-state":Kj(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Wj.displayName=Uj;var Hj="CheckboxBubbleInput",Gj=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=Pg(Hj,e),y=ye(n,m),g=jg(a),x=cg(r);p.useEffect(()=>{const b=f;if(!b)return;const w=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(w,"checked").set,E=!s.current;if(g!==a&&k){const j=new Event("click",{bubbles:E});b.indeterminate=Ls(a),k.call(b,Ls(a)?!1:a),b.dispatchEvent(j)}},[f,g,a,s]);const v=p.useRef(Ls(a)?!1:a);return l.jsx(ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:o,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:y,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Gj.displayName=Hj;function pF(e){return typeof e=="function"}function Ls(e){return e==="indeterminate"}function Kj(e){return Ls(e)?"indeterminate":e?"checked":"unchecked"}const qj=p.forwardRef(({className:e,...t},n)=>l.jsx(Mg,{ref:n,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Wj,{className:q("flex items-center justify-center text-current"),children:l.jsx(td,{className:"h-4 w-4"})})}));qj.displayName=Mg.displayName;function gF({entities:e,selectedEntities:t,newEntity:n,onToggleEntity:r,onNewEntityChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"Entities"}),l.jsx("div",{className:"space-y-2",children:e.map(a=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qj,{id:a.id,checked:t.includes(a.name),onCheckedChange:()=>r(a.name)}),l.jsx("label",{htmlFor:a.id,className:"text-sm",children:a.name})]},a.id))}),l.jsx(Vn,{placeholder:" entity ...",value:n,onChange:a=>s(a.target.value)})]})}function yF({timeSystem:e,threatLevel:t,safetyOverride:n,exit:r,onTimeSystemChange:s,onThreatLevelChange:a,onSafetyOverrideChange:i,onExitChange:o}){return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"Time System"}),l.jsxs(In,{value:e,onValueChange:c=>s(c),children:[l.jsx(xn,{children:l.jsx(Ln,{})}),l.jsx(bn,{children:Tg.map(c=>l.jsx(Nt,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Yt,{children:["Threat Level: ",t]}),l.jsx("input",{type:"range",min:"0",max:"5",value:t,onChange:c=>a(Number(c.target.value)),className:"w-full accent-primary"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"Safety Override"}),l.jsxs(In,{value:n,onValueChange:c=>i(c),children:[l.jsx(xn,{children:l.jsx(Ln,{})}),l.jsx(bn,{children:Ng.map(c=>l.jsx(Nt,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{children:"Exit"}),l.jsxs(In,{value:r,onValueChange:c=>o(c),children:[l.jsx(xn,{children:l.jsx(Ln,{})}),l.jsx(bn,{children:$j.map(c=>l.jsx(Nt,{value:c,children:c},c))})]})]})]})}var Yj=["PageUp","PageDown"],Xj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bo="Slider",[_p,vF,xF]=Hd(bo),[Jj]=Un(bo,[xF]),[bF,gh]=Jj(bo),Zj=p.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:y,...g}=e,x=p.useRef(new Set),v=p.useRef(0),w=i==="horizontal"?wF:SF,[S=[],k]=zs({prop:d,defaultProp:u,onChange:R=>{var I;(I=[...x.current][v.current])==null||I.focus(),h(R)}}),E=p.useRef(S);function j(R){const N=TF(S,R);T(R,N)}function C(R){T(R,v.current)}function P(){const R=E.current[v.current];S[v.current]!==R&&f(S)}function T(R,N,{commit:I}={commit:!1}){const A=_F(a),H=RF(Math.round((R-r)/a)*a+r,A),z=Wl(H,[r,s]);k((B=[])=>{const _=EF(B,z,N);if(MF(_,c*a)){v.current=_.indexOf(z);const M=String(_)!==String(B);return M&&I&&f(_),M?_:B}else return B})}return l.jsx(bF,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:s,valueIndexToChangeRef:v,thumbs:x.current,values:S,orientation:i,form:y,children:l.jsx(_p.Provider,{scope:e.__scopeSlider,children:l.jsx(_p.Slot,{scope:e.__scopeSlider,children:l.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:t,onPointerDown:Q(g.onPointerDown,()=>{o||(E.current=S)}),min:r,max:s,inverted:m,onSlideStart:o?void 0:j,onSlideMove:o?void 0:C,onSlideEnd:o?void 0:P,onHomeKeyDown:()=>!o&&T(r,0,{commit:!0}),onEndKeyDown:()=>!o&&T(s,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:N})=>{if(!o){const H=Yj.includes(R.key)||R.shiftKey&&Xj.includes(R.key)?10:1,z=v.current,B=S[z],_=a*H*N;T(B+_,z,{commit:!0})}}})})})})});Zj.displayName=bo;var[eE,tE]=Jj(bo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wF=p.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=p.useState(null),m=ye(t,w=>f(w)),y=p.useRef(void 0),g=hc(s),x=g==="ltr",v=x&&!a||!x&&a;function b(w){const S=y.current||h.getBoundingClientRect(),k=[0,S.width],j=_g(k,v?[n,r]:[r,n]);return y.current=S,j(w-S.left)}return l.jsx(eE,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:l.jsx(nE,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=b(w.clientX);i==null||i(S)},onSlideMove:w=>{const S=b(w.clientX);o==null||o(S)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:w=>{const k=Qj[v?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:k?-1:1})}})})}),SF=p.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:o,onStepKeyDown:c,...u}=e,d=p.useRef(null),h=ye(t,d),f=p.useRef(void 0),m=!s;function y(g){const x=f.current||d.current.getBoundingClientRect(),v=[0,x.height],w=_g(v,m?[r,n]:[n,r]);return f.current=x,w(g-x.top)}return l.jsx(eE,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(nE,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=y(g.clientY);a==null||a(x)},onSlideMove:g=>{const x=y(g.clientY);i==null||i(x)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:g=>{const v=Qj[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),nE=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:o,onStepKeyDown:c,...u}=e,d=gh(bo,n);return l.jsx(ne.span,{...u,ref:t,onKeyDown:Q(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):Yj.concat(Xj).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Q(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Q(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Q(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),a(h))})})}),rE="SliderTrack",sE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=gh(rE,n);return l.jsx(ne.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});sE.displayName=rE;var Rp="SliderRange",aE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=gh(Rp,n),a=tE(Rp,n),i=p.useRef(null),o=ye(t,i),c=s.values.length,u=s.values.map(f=>lE(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(ne.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:o,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});aE.displayName=Rp;var Ap="SliderThumb",iE=p.forwardRef((e,t)=>{const n=vF(e.__scopeSlider),[r,s]=p.useState(null),a=ye(t,o=>s(o)),i=p.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(kF,{...e,ref:a,index:i})}),kF=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,i=gh(Ap,n),o=tE(Ap,n),[c,u]=p.useState(null),d=ye(t,b=>u(b)),h=c?i.form||!!c.closest("form"):!0,f=cg(c),m=i.values[r],y=m===void 0?0:lE(m,i.min,i.max),g=CF(r,i.values.length),x=f==null?void 0:f[o.size],v=x?NF(x,y,o.direction):0;return p.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${y}% + ${v}px)`},children:[l.jsx(_p.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(ne.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Q(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&l.jsx(oE,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},r)]})});iE.displayName=Ap;var jF="RadioBubbleInput",oE=p.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=p.useRef(null),a=ye(s,r),i=jg(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const h=new Event("input",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[i,t]),l.jsx(ne.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});oE.displayName=jF;function EF(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function lE(e,t,n){const a=100/(n-t)*(e-t);return Wl(a,[0,100])}function CF(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function TF(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function NF(e,t,n){const r=e/2,a=_g([0,50],[0,r]);return(r-a(t)*n)*n}function PF(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function MF(e,t){if(t>0){const n=PF(e);return Math.min(...n)>=t}return!0}function _g(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function _F(e){return(String(e).split(".")[1]||"").length}function RF(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var cE=Zj,AF=sE,DF=aE,OF=iE;const uE=p.forwardRef(({className:e,...t},n)=>l.jsxs(cE,{ref:n,className:q("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(AF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(DF,{className:"absolute h-full bg-primary"})}),l.jsx(OF,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));uE.displayName=cE.displayName;const IF=[{id:"fear",label:"",emoji:"",color:"bg-red-500/20 border-red-500/50 text-red-400"},{id:"joy",label:"",emoji:"",color:"bg-yellow-500/20 border-yellow-500/50 text-yellow-400"},{id:"sadness",label:"",emoji:"",color:"bg-blue-500/20 border-blue-500/50 text-blue-400"},{id:"anxiety",label:"",emoji:"",color:"bg-orange-500/20 border-orange-500/50 text-orange-400"},{id:"peace",label:"",emoji:"",color:"bg-green-500/20 border-green-500/50 text-green-400"},{id:"excitement",label:"",emoji:"",color:"bg-pink-500/20 border-pink-500/50 text-pink-400"},{id:"confusion",label:"",emoji:"",color:"bg-purple-500/20 border-purple-500/50 text-purple-400"},{id:"wonder",label:"",emoji:"",color:"bg-cyan-500/20 border-cyan-500/50 text-cyan-400"}],LF=[{id:"dark",label:"",gradient:"from-gray-900 to-gray-700"},{id:"golden",label:"",gradient:"from-amber-500 to-orange-600"},{id:"blue",label:"",gradient:"from-blue-400 to-indigo-600"},{id:"purple",label:"",gradient:"from-purple-500 to-pink-600"},{id:"green",label:"",gradient:"from-emerald-400 to-teal-600"},{id:"red",label:"",gradient:"from-red-500 to-rose-700"},{id:"white",label:"",gradient:"from-gray-100 to-gray-300"},{id:"rainbow",label:"",gradient:"from-red-400 via-yellow-400 to-blue-500"}];function $F({storySummary:e,onStorySummaryChange:t,emotions:n,onEmotionsChange:r,atmosphereColors:s,onAtmosphereColorsChange:a,lucidityLevel:i,onLucidityLevelChange:o}){const c=h=>{n.includes(h)?r(n.filter(f=>f!==h)):r([...n,h])},u=h=>{s.includes(h)?a(s.filter(f=>f!==h)):a([...s,h])},d=h=>h<=1?"":h<=3?"":h<=5?"":h<=7?"":h<=9?"":"";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{htmlFor:"storySummary",className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx(dc,{id:"storySummary",placeholder:"... ? ? ?",value:e,onChange:h=>t(h.target.value),className:"min-h-[120px] resize-none"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Yt,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:IF.map(h=>l.jsxs("button",{type:"button",onClick:()=>c(h.id),className:q("px-3 py-1.5 rounded-full border text-sm font-medium transition-all",n.includes(h.id)?h.color+" border-2 scale-105":"bg-muted/50 border-border text-muted-foreground hover:bg-muted"),children:[l.jsx("span",{className:"mr-1",children:h.emoji}),h.label]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Yt,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:LF.map(h=>l.jsxs("button",{type:"button",onClick:()=>u(h.id),className:q("relative overflow-hidden px-4 py-2 rounded-lg text-sm font-medium transition-all",s.includes(h.id)?"ring-2 ring-primary ring-offset-2 ring-offset-background scale-105":"opacity-70 hover:opacity-100"),children:[l.jsx("div",{className:q("absolute inset-0 bg-gradient-to-br",h.gradient)}),l.jsx("span",{className:"relative text-white drop-shadow-md",children:h.label})]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Yt,{className:"text-base font-medium flex items-center gap-2",children:"  (Lucidity)"}),l.jsxs(Re,{variant:"secondary",className:"text-sm",children:[i,"/10 - ",d(i)]})]}),l.jsx(uE,{value:[i],onValueChange:([h])=>o(h),min:0,max:10,step:1,className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]})]})}const Rg=p.createContext({});function Ag(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const yh=p.createContext(null),Dg=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class FF extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zF({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(Dg);return p.useInsertionEffect(()=>{const{width:i,height:o,top:c,left:u}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(FF,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const BF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:i})=>{const o=Ag(VF),c=p.useId(),u=p.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),d=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),u]:[n,u]);return p.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),p.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),i==="popLayout"&&(e=l.jsx(zF,{isPresent:n,children:e})),l.jsx(yh.Provider,{value:d,children:e})};function VF(){return new Map}function dE(e=!0){const t=p.useContext(yh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=p.useId();p.useEffect(()=>{e&&s(a)},[e]);const i=p.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,i]:[!0]}const Jc=e=>e.key||"";function bb(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Og=typeof window<"u",hE=Og?p.useLayoutEffect:p.useEffect,Dp=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1})=>{const[o,c]=dE(i),u=p.useMemo(()=>bb(e),[e]),d=i&&!o?[]:u.map(Jc),h=p.useRef(!0),f=p.useRef(u),m=Ag(()=>new Map),[y,g]=p.useState(u),[x,v]=p.useState(u);hE(()=>{h.current=!1,f.current=u;for(let S=0;S<x.length;S++){const k=Jc(x[S]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[x,d.length,d.join("-")]);const b=[];if(u!==y){let S=[...u];for(let k=0;k<x.length;k++){const E=x[k],j=Jc(E);d.includes(j)||(S.splice(k,0,E),b.push(E))}a==="wait"&&b.length&&(S=b),v(bb(S)),g(u);return}const{forceRender:w}=p.useContext(Rg);return l.jsx(l.Fragment,{children:x.map(S=>{const k=Jc(S),E=i&&!o?!1:u===x||d.includes(k),j=()=>{if(m.has(k))m.set(k,!0);else return;let C=!0;m.forEach(P=>{P||(C=!1)}),C&&(w==null||w(),v(f.current),i&&(c==null||c()),r&&r())};return l.jsx(BF,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:E?void 0:j,children:S},k)})})},kn=e=>e;let fE=kn;function Ig(e){let t;return()=>(t===void 0&&(t=e()),t)}const ao=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Hr=e=>e*1e3,Gr=e=>e/1e3,UF={useManualTiming:!1};function WF(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(c.schedule(u),e()),u(i)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&r?t:n;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(i=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Zc=["read","resolveKeyframes","update","preRender","render","postRender"],HF=40;function mE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=Zc.reduce((v,b)=>(v[b]=WF(a),v),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=i,m=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,HF),1),s.timestamp=v,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},y=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Zc.reduce((v,b)=>{const w=i[b];return v[b]=(S,k=!1,E=!1)=>(n||y(),w.schedule(S,k,E)),v},{}),cancel:v=>{for(let b=0;b<Zc.length;b++)i[Zc[b]].cancel(v)},state:s,steps:i}}const{schedule:Ve,cancel:Ws,state:Tt,steps:Df}=mE(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),pE=p.createContext({strict:!1}),wb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},io={};for(const e in wb)io[e]={isEnabled:t=>wb[e].some(n=>!!t[n])};function GF(e){for(const t in e)io[t]={...io[t],...e[t]}}const KF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KF.has(e)}let gE=e=>!gd(e);function qF(e){e&&(gE=t=>t.startsWith("on")?!gd(t):e(t))}try{qF(require("@emotion/is-prop-valid").default)}catch{}function YF(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(gE(s)||n===!0&&gd(s)||!t&&!gd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function XF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const vh=p.createContext({});function Hl(e){return typeof e=="string"||Array.isArray(e)}function xh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$g=["initial",...Lg];function bh(e){return xh(e.animate)||$g.some(t=>Hl(e[t]))}function yE(e){return!!(bh(e)||e.variants)}function QF(e,t){if(bh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hl(n)?n:void 0,animate:Hl(r)?r:void 0}}return e.inherit!==!1?t:{}}function JF(e){const{initial:t,animate:n}=QF(e,p.useContext(vh));return p.useMemo(()=>({initial:t,animate:n}),[Sb(t),Sb(n)])}function Sb(e){return Array.isArray(e)?e.join(" "):e}const ZF=Symbol.for("motionComponentSymbol");function vi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ez(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):vi(n)&&(n.current=r))},[t])}const Fg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tz="framerAppearId",vE="data-"+Fg(tz),{schedule:zg}=mE(queueMicrotask,!1),xE=p.createContext({});function nz(e,t,n,r,s){var a,i;const{visualElement:o}=p.useContext(vh),c=p.useContext(pE),u=p.useContext(yh),d=p.useContext(Dg).reducedMotion,h=p.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=p.useContext(xE);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&rz(h.current,n,s,m);const y=p.useRef(!1);p.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const g=n[vE],x=p.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return hE(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),zg.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),x.current=!1))}),f}function rz(e,t,n,r){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bE(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||o&&vi(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function bE(e){if(e)return e.options.allowProjection!==!1?e.projection:bE(e.parent)}function sz({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var a,i;e&&GF(e);function o(u,d){let h;const f={...p.useContext(Dg),...u,layoutId:az(u)},{isStatic:m}=f,y=JF(u),g=r(u,m);if(!m&&Og){iz();const x=oz(f);h=x.MeasureLayout,y.visualElement=nz(s,g,f,t,x.ProjectionNode)}return l.jsxs(vh.Provider,{value:y,children:[h&&y.visualElement?l.jsx(h,{visualElement:y.visualElement,...f}):null,n(s,u,ez(g,y.visualElement,d),g,m,y.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(i=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&i!==void 0?i:""})`}`;const c=p.forwardRef(o);return c[ZF]=s,c}function az({layoutId:e}){const t=p.useContext(Rg).id;return t&&e!==void 0?t+"-"+e:e}function iz(e,t){p.useContext(pE).strict}function oz(e){const{drag:t,layout:n}=io;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const lz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bg(e){return typeof e!="string"||e.includes("-")?!1:!!(lz.indexOf(e)>-1||/[A-Z]/u.test(e))}function kb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Vg(e,t,n,r){if(typeof t=="function"){const[s,a]=kb(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=kb(r);t=t(n!==void 0?n:e.custom,s,a)}return t}const Op=e=>Array.isArray(e),cz=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),uz=e=>Op(e)?e[e.length-1]||0:e,Bt=e=>!!(e&&e.getVelocity);function Nu(e){const t=Bt(e)?e.get():e;return cz(t)?t.toValue():t}function dz({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,a){const i={latestValues:hz(r,s,a,e),renderState:t()};return n&&(i.onMount=o=>n({props:r,current:o,...i}),i.onUpdate=o=>n(o)),i}const wE=e=>(t,n)=>{const r=p.useContext(vh),s=p.useContext(yh),a=()=>dz(e,t,r,s);return n?a():Ag(a)};function hz(e,t,n,r){const s={},a=r(e,{});for(const f in a)s[f]=Nu(a[f]);let{initial:i,animate:o}=e;const c=bh(e),u=yE(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?o:i;if(h&&typeof h!="boolean"&&!xh(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=Vg(e,f[m]);if(y){const{transitionEnd:g,transition:x,...v}=y;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(s[b]=w)}for(const b in g)s[b]=g[b]}}}return s}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ba=new Set(wo),SE=e=>t=>typeof t=="string"&&t.startsWith(e),kE=SE("--"),fz=SE("var(--"),Ug=e=>fz(e)?mz.test(e.split("/*")[0].trim()):!1,mz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,es=(e,t,n)=>n>t?t:n<e?e:n,So={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gl={...So,transform:e=>es(0,1,e)},eu={...So,default:1},fc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=fc("deg"),Nr=fc("%"),ae=fc("px"),pz=fc("vh"),gz=fc("vw"),jb={...Nr,parse:e=>Nr.parse(e)/100,transform:e=>Nr.transform(e*100)},yz={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae},vz={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:eu,scaleX:eu,scaleY:eu,scaleZ:eu,skew:ds,skewX:ds,skewY:ds,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Gl,originX:jb,originY:jb,originZ:ae},Eb={...So,transform:Math.round},Wg={...yz,...vz,zIndex:Eb,size:ae,fillOpacity:Gl,strokeOpacity:Gl,numOctaves:Eb},xz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bz=wo.length;function wz(e,t,n){let r="",s=!0;for(let a=0;a<bz;a++){const i=wo[a],o=e[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=jE(o,Wg[i]);if(!c){s=!1;const d=xz[i]||i;r+=`${d}(${u}) `}n&&(t[i]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Hg(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const c in t){const u=t[c];if(Ba.has(c)){i=!0;continue}else if(kE(c)){s[c]=u;continue}else{const d=jE(u,Wg[c]);c.startsWith("origin")?(o=!0,a[c]=d):r[c]=d}}if(t.transform||(i||n?r.transform=wz(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Sz={offset:"stroke-dashoffset",array:"stroke-dasharray"},kz={offset:"strokeDashoffset",array:"strokeDasharray"};function jz(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Sz:kz;e[a.offset]=ae.transform(-r);const i=ae.transform(t),o=ae.transform(n);e[a.array]=`${i} ${o}`}function Cb(e,t,n){return typeof e=="string"?e:ae.transform(t+n*e)}function Ez(e,t,n){const r=Cb(t,e.x,e.width),s=Cb(n,e.y,e.height);return`${r} ${s}`}function Gg(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(Hg(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(s!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Ez(y,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&jz(f,i,o,c,!1)}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),EE=()=>({...Kg(),attrs:{}}),qg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CE(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const TE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NE(e,t,n,r){CE(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(TE.has(s)?s:Fg(s),t.attrs[s])}const yd={};function Cz(e){Object.assign(yd,e)}function PE(e,{layout:t,layoutId:n}){return Ba.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yd[e]||e==="opacity")}function Yg(e,t,n){var r;const{style:s}=e,a={};for(const i in s)(Bt(s[i])||t.style&&Bt(t.style[i])||PE(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[i]=s[i]);return a}function ME(e,t,n){const r=Yg(e,t,n);for(const s in e)if(Bt(e[s])||Bt(t[s])){const a=wo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Tz(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Tb=["x","y","width","height","cx","cy","r"],Nz={useVisualState:wE({scrapeMotionValuesFromProps:ME,createRenderState:EE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const o in s)if(Ba.has(o)){a=!0;break}}if(!a)return;let i=!t;if(t)for(let o=0;o<Tb.length;o++){const c=Tb[o];e[c]!==t[c]&&(i=!0)}i&&Ve.read(()=>{Tz(n,r),Ve.render(()=>{Gg(r,s,qg(n.tagName),e.transformTemplate),NE(n,r)})})}})},Pz={useVisualState:wE({scrapeMotionValuesFromProps:Yg,createRenderState:Kg})};function _E(e,t,n){for(const r in t)!Bt(t[r])&&!PE(r,n)&&(e[r]=t[r])}function Mz({transformTemplate:e},t){return p.useMemo(()=>{const n=Kg();return Hg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _z(e,t){const n=e.style||{},r={};return _E(r,n,e),Object.assign(r,Mz(e,t)),r}function Rz(e,t){const n={},r=_z(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Az(e,t,n,r){const s=p.useMemo(()=>{const a=EE();return Gg(a,t,qg(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_E(a,e.style,e),s.style={...a,...s.style}}return s}function Dz(e=!1){return(n,r,s,{latestValues:a},i)=>{const c=(Bg(n)?Az:Rz)(r,a,i,n),u=YF(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=p.useMemo(()=>Bt(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function Oz(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...Bg(r)?Nz:Pz,preloadedFeatures:e,useRender:Dz(s),createVisualElement:t,Component:r};return sz(i)}}function RE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wh(e,t,n){const r=e.getProps();return Vg(r,t,n!==void 0?n:r.custom,e)}const Iz=Ig(()=>window.ScrollTimeline!==void 0);class Lz{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Iz()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $z extends Lz{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Xg(e,t){return e?e[t]||e.default||e:void 0}const Ip=2e4;function AE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ip;)t+=n,r=e.next(t);return t>=Ip?1/0:t}function Qg(e){return typeof e=="function"}function Nb(e,t){e.timeline=t,e.onfinish=null}const Jg=e=>Array.isArray(e)&&typeof e[0]=="number",Fz={linearEasing:void 0};function zz(e,t){const n=Ig(e);return()=>{var r;return(r=Fz[t])!==null&&r!==void 0?r:n()}}const vd=zz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),DE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(ao(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function OE(e){return!!(typeof e=="function"&&vd()||!e||typeof e=="string"&&(e in Lp||vd())||Jg(e)||Array.isArray(e)&&e.every(OE))}const Uo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Lp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uo([0,.65,.55,1]),circOut:Uo([.55,0,1,.45]),backIn:Uo([.31,.01,.66,-.59]),backOut:Uo([.33,1.53,.69,.99])};function IE(e,t){if(e)return typeof e=="function"&&vd()?DE(e,t):Jg(e)?Uo(e):Array.isArray(e)?e.map(n=>IE(n,t)||Lp.easeOut):Lp[e]}const Qn={x:!1,y:!1};function LE(){return Qn.x||Qn.y}function Bz(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function $E(e,t){const n=Bz(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Pb(e){return t=>{t.pointerType==="touch"||LE()||e(t)}}function Vz(e,t,n={}){const[r,s,a]=$E(e,n),i=Pb(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=Pb(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",i,s)}),a}const FE=(e,t)=>t?e===t?!0:FE(e,t.parentElement):!1,Zg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Uz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wz(e){return Uz.has(e.tagName)||e.tabIndex!==-1}const Wo=new WeakSet;function Mb(e){return t=>{t.key==="Enter"&&e(t)}}function Of(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Hz=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Mb(()=>{if(Wo.has(n))return;Of(n,"down");const s=Mb(()=>{Of(n,"up")}),a=()=>Of(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function _b(e){return Zg(e)&&!LE()}function Gz(e,t,n={}){const[r,s,a]=$E(e,n),i=o=>{const c=o.currentTarget;if(!_b(o)||Wo.has(c))return;Wo.add(c);const u=t(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!_b(m)||!Wo.has(c))&&(Wo.delete(c),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,n.useGlobalTarget||FE(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{!Wz(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",i,s),o.addEventListener("focus",u=>Hz(u,s),s)}),a}function Kz(e){return e==="x"||e==="y"?Qn[e]?null:(Qn[e]=!0,()=>{Qn[e]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}const zE=new Set(["width","height","top","left","right","bottom",...wo]);let Pu;function qz(){Pu=void 0}const Pr={now:()=>(Pu===void 0&&Pr.set(Tt.isProcessing||UF.useManualTiming?Tt.timestamp:performance.now()),Pu),set:e=>{Pu=e,queueMicrotask(qz)}};function ey(e,t){e.indexOf(t)===-1&&e.push(t)}function ty(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ny{constructor(){this.subscriptions=[]}add(t){return ey(this.subscriptions,t),()=>ty(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function BE(e,t){return t?e*(1e3/t):0}const Rb=30,Yz=e=>!isNaN(parseFloat(e));class Xz{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Pr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Yz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ny);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rb);return BE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(e,t){return new Xz(e,t)}function Qz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Kl(n))}function Jz(e,t){const n=wh(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const i in a){const o=uz(a[i]);Qz(e,i,o)}}function Zz(e){return!!(Bt(e)&&e.add)}function $p(e,t){const n=e.getValue("willChange");if(Zz(n))return n.add(t)}function VE(e){return e.props[vE]}const UE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eB=1e-7,tB=12;function nB(e,t,n,r,s){let a,i,o=0;do i=t+(n-t)/2,a=UE(i,r,s)-e,a>0?n=i:t=i;while(Math.abs(a)>eB&&++o<tB);return i}function mc(e,t,n,r){if(e===t&&n===r)return kn;const s=a=>nB(a,0,1,e,n);return a=>a===0||a===1?a:UE(s(a),t,r)}const WE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HE=e=>t=>1-e(1-t),GE=mc(.33,1.53,.69,.99),ry=HE(GE),KE=WE(ry),qE=e=>(e*=2)<1?.5*ry(e):.5*(2-Math.pow(2,-10*(e-1))),sy=e=>1-Math.sin(Math.acos(e)),YE=HE(sy),XE=WE(sy),QE=e=>/^0[^.\s]+$/u.test(e);function rB(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QE(e):!0}const ol=e=>Math.round(e*1e5)/1e5,ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sB(e){return e==null}const aB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iy=(e,t)=>n=>!!(typeof n=="string"&&aB.test(n)&&n.startsWith(e)||t&&!sB(n)&&Object.prototype.hasOwnProperty.call(n,t)),JE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,i,o]=r.match(ay);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},iB=e=>es(0,255,e),If={...So,transform:e=>Math.round(iB(e))},ya={test:iy("rgb","red"),parse:JE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+If.transform(e)+", "+If.transform(t)+", "+If.transform(n)+", "+ol(Gl.transform(r))+")"};function oB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fp={test:iy("#"),parse:oB,transform:ya.transform},xi={test:iy("hsl","hue"),parse:JE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Nr.transform(ol(t))+", "+Nr.transform(ol(n))+", "+ol(Gl.transform(r))+")"},$t={test:e=>ya.test(e)||Fp.test(e)||xi.test(e),parse:e=>ya.test(e)?ya.parse(e):xi.test(e)?xi.parse(e):Fp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):xi.transform(e)},lB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ay))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(lB))===null||n===void 0?void 0:n.length)||0)>0}const ZE="number",eC="color",uB="var",dB="var(",Ab="${}",hB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(hB,c=>($t.test(c)?(r.color.push(a),s.push(eC),n.push($t.parse(c))):c.startsWith(dB)?(r.var.push(a),s.push(uB),n.push(c)):(r.number.push(a),s.push(ZE),n.push(parseFloat(c))),++a,Ab)).split(Ab);return{values:n,split:o,indexes:r,types:s}}function tC(e){return ql(e).values}function nC(e){const{split:t,types:n}=ql(e),r=t.length;return s=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],s[i]!==void 0){const o=n[i];o===ZE?a+=ol(s[i]):o===eC?a+=$t.transform(s[i]):a+=s[i]}return a}}const fB=e=>typeof e=="number"?0:e;function mB(e){const t=tC(e);return nC(e)(t.map(fB))}const Hs={test:cB,parse:tC,createTransformer:nC,getAnimatableNone:mB},pB=new Set(["brightness","contrast","saturate","opacity"]);function gB(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ay)||[];if(!r)return e;const s=n.replace(r,"");let a=pB.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const yB=/\b([a-z-]*)\(.*?\)/gu,zp={...Hs,getAnimatableNone:e=>{const t=e.match(yB);return t?t.map(gB).join(" "):e}},vB={...Wg,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:zp,WebkitFilter:zp},oy=e=>vB[e];function rC(e,t){let n=oy(e);return n!==zp&&(n=Hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xB=new Set(["auto","none","0"]);function bB(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!xB.has(a)&&ql(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=rC(n,s)}const Db=e=>e===So||e===ae,Ob=(e,t)=>parseFloat(e.split(", ")[t]),Ib=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Ob(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?Ob(a[1],e):0}},wB=new Set(["x","y","z"]),SB=wo.filter(e=>!wB.has(e));function kB(e){const t=[];return SB.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const oo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ib(4,13),y:Ib(5,14)};oo.translateX=oo.x;oo.translateY=oo.y;const Ca=new Set;let Bp=!1,Vp=!1;function sC(){if(Vp){const e=Array.from(Ca).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=kB(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,i])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,Bp=!1,Ca.forEach(e=>e.complete()),Ca.clear()}function aC(){Ca.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vp=!0)})}function jB(){aC(),sC()}class ly{constructor(t,n,r,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ca.add(this),Bp||(Bp=!0,Ve.read(aC),Ve.resolveKeyframes(sC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ca.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ca.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const iC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),EB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CB(e){const t=EB.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function oC(e,t,n=1){const[r,s]=CB(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const i=a.trim();return iC(i)?parseFloat(i):i}return Ug(s)?oC(s,t,n+1):s}const lC=e=>t=>t.test(e),TB={test:e=>e==="auto",parse:e=>e},cC=[So,ae,Nr,ds,gz,pz,TB],Lb=e=>cC.find(lC(e));class uC extends ly{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Ug(u))){const d=oC(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zE.has(r)||t.length!==2)return;const[s,a]=t,i=Lb(s),o=Lb(a);if(i!==o)if(Db(i)&&Db(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)rB(t[s])&&r.push(s);r.length&&bB(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=oo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const $b=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hs.test(e)||e==="0")&&!e.startsWith("url("));function NB(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function PB(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=$b(s,t),o=$b(a,t);return!i||!o?!1:NB(e)||(n==="spring"||Qg(n))&&r}const MB=e=>e!==null;function Sh(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(MB),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const _B=40;class dC{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Pr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_B?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jB(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Pr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:i,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!PB(t,r,s,a))if(i)this.options.duration=0;else{c&&c(Sh(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ye=(e,t,n)=>e+(t-e)*n;function Lf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function RB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,i=0;if(!t)s=a=i=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;s=Lf(c,o,e+1/3),a=Lf(c,o,e),i=Lf(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}function xd(e,t){return n=>n>0?t:e}const $f=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},AB=[Fp,ya,xi],DB=e=>AB.find(t=>t.test(e));function Fb(e){const t=DB(e);if(!t)return!1;let n=t.parse(e);return t===xi&&(n=RB(n)),n}const zb=(e,t)=>{const n=Fb(e),r=Fb(t);if(!n||!r)return xd(e,t);const s={...n};return a=>(s.red=$f(n.red,r.red,a),s.green=$f(n.green,r.green,a),s.blue=$f(n.blue,r.blue,a),s.alpha=Ye(n.alpha,r.alpha,a),ya.transform(s))},OB=(e,t)=>n=>t(e(n)),pc=(...e)=>e.reduce(OB),Up=new Set(["none","hidden"]);function IB(e,t){return Up.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function LB(e,t){return n=>Ye(e,t,n)}function cy(e){return typeof e=="number"?LB:typeof e=="string"?Ug(e)?xd:$t.test(e)?zb:zB:Array.isArray(e)?hC:typeof e=="object"?$t.test(e)?zb:$B:xd}function hC(e,t){const n=[...e],r=n.length,s=e.map((a,i)=>cy(a)(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=s[i](a);return n}}function $B(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=cy(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function FB(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=(n=e.values[o])!==null&&n!==void 0?n:0;r[a]=c,s[i]++}return r}const zB=(e,t)=>{const n=Hs.createTransformer(t),r=ql(e),s=ql(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Up.has(e)&&!s.values.length||Up.has(t)&&!r.values.length?IB(e,t):pc(hC(FB(r,s),s.values),n):xd(e,t)};function fC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ye(e,t,n):cy(e)(e,t)}const BB=5;function mC(e,t,n){const r=Math.max(t-BB,0);return BE(n-e(r),t-r)}const rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function VB({duration:e=rt.duration,bounce:t=rt.bounce,velocity:n=rt.velocity,mass:r=rt.mass}){let s,a,i=1-t;i=es(rt.minDamping,rt.maxDamping,i),e=es(rt.minDuration,rt.maxDuration,Gr(e)),i<1?(s=u=>{const d=u*i,h=d*e,f=d-n,m=Wp(u,i),y=Math.exp(-h);return Ff-f/m*y},a=u=>{const h=u*i*e,f=h*n+n,m=Math.pow(i,2)*Math.pow(u,2)*e,y=Math.exp(-h),g=Wp(Math.pow(u,2),i);return(-s(u)+Ff>0?-1:1)*((f-m)*y)/g}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Ff+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const o=5/e,c=WB(s,a,o);if(e=Hr(e),isNaN(c))return{stiffness:rt.stiffness,damping:rt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const UB=12;function WB(e,t,n){let r=n;for(let s=1;s<UB;s++)r=r-e(r)/t(r);return r}function Wp(e,t){return e*Math.sqrt(1-t*t)}const HB=["duration","bounce"],GB=["stiffness","damping","mass"];function Bb(e,t){return t.some(n=>e[n]!==void 0)}function KB(e){let t={velocity:rt.velocity,stiffness:rt.stiffness,damping:rt.damping,mass:rt.mass,isResolvedFromDuration:!1,...e};if(!Bb(e,GB)&&Bb(e,HB))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*es(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:rt.mass,stiffness:s,damping:a}}else{const n=VB(e);t={...t,...n,mass:rt.mass},t.isResolvedFromDuration=!0}return t}function pC(e=rt.visualDuration,t=rt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=KB({...n,velocity:-Gr(n.velocity||0)}),y=f||0,g=u/(2*Math.sqrt(c*d)),x=i-a,v=Gr(Math.sqrt(c/d)),b=Math.abs(x)<5;r||(r=b?rt.restSpeed.granular:rt.restSpeed.default),s||(s=b?rt.restDelta.granular:rt.restDelta.default);let w;if(g<1){const k=Wp(v,g);w=E=>{const j=Math.exp(-g*v*E);return i-j*((y+g*v*x)/k*Math.sin(k*E)+x*Math.cos(k*E))}}else if(g===1)w=k=>i-Math.exp(-v*k)*(x+(y+v*x)*k);else{const k=v*Math.sqrt(g*g-1);w=E=>{const j=Math.exp(-g*v*E),C=Math.min(k*E,300);return i-j*((y+g*v*x)*Math.sinh(C)+k*x*Math.cosh(C))/k}}const S={calculatedDuration:m&&h||null,next:k=>{const E=w(k);if(m)o.done=k>=h;else{let j=0;g<1&&(j=k===0?Hr(y):mC(w,k,E));const C=Math.abs(j)<=r,P=Math.abs(i-E)<=s;o.done=C&&P}return o.value=o.done?i:E,o},toString:()=>{const k=Math.min(AE(S),Ip),E=DE(j=>S.next(k*j).value,k,30);return k+"ms "+E}};return S}function Vb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=C=>o!==void 0&&C<o||c!==void 0&&C>c,y=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let g=n*t;const x=h+g,v=i===void 0?x:i(x);v!==x&&(g=v-h);const b=C=>-g*Math.exp(-C/r),w=C=>v+b(C),S=C=>{const P=b(C),T=w(C);f.done=Math.abs(P)<=u,f.value=f.done?v:T};let k,E;const j=C=>{m(f.value)&&(k=C,E=pC({keyframes:[f.value,y(f.value)],velocity:mC(w,C,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:C=>{let P=!1;return!E&&k===void 0&&(P=!0,S(C),j(C)),k!==void 0&&C>=k?E.next(C-k):(!P&&S(C),f)}}}const qB=mc(.42,0,1,1),YB=mc(0,0,.58,1),gC=mc(.42,0,.58,1),XB=e=>Array.isArray(e)&&typeof e[0]!="number",QB={linear:kn,easeIn:qB,easeInOut:gC,easeOut:YB,circIn:sy,circInOut:XE,circOut:YE,backIn:ry,backInOut:KE,backOut:GE,anticipate:qE},Ub=e=>{if(Jg(e)){fE(e.length===4);const[t,n,r,s]=e;return mc(t,n,r,s)}else if(typeof e=="string")return QB[e];return e};function JB(e,t,n){const r=[],s=n||fC,a=e.length-1;for(let i=0;i<a;i++){let o=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||kn:t;o=pc(c,o)}r.push(o)}return r}function ZB(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(fE(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=JB(t,r,s),c=o.length,u=d=>{if(i&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=ao(e[h],e[h+1],d);return o[h](f)};return n?d=>u(es(e[0],e[a-1],d)):u}function eV(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ao(0,t,r);e.push(Ye(n,1,s))}}function tV(e){const t=[0];return eV(t,e.length-1),t}function nV(e,t){return e.map(n=>n*t)}function rV(e,t){return e.map(()=>t||gC).splice(0,e.length-1)}function bd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=XB(r)?r.map(Ub):Ub(r),a={done:!1,value:t[0]},i=nV(n&&n.length===t.length?n:tV(t),e),o=ZB(i,t,{ease:Array.isArray(s)?s:rV(t,s)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const sV=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ve.update(t,!0),stop:()=>Ws(t),now:()=>Tt.isProcessing?Tt.timestamp:Pr.now()}},aV={decay:Vb,inertia:Vb,tween:bd,keyframes:bd,spring:pC},iV=e=>e/100;class uy extends dC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,i=(s==null?void 0:s.KeyframeResolver)||ly,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(a,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,o=Qg(n)?n:aV[n]||bd;let c,u;o!==bd&&typeof t[0]!="number"&&(c=pc(iV,fC(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=AE(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,S=a;if(m){const C=Math.min(this.currentTime,d)/h;let P=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(y==="reverse"?(T=1-T,g&&(T-=g/h)):y==="mirror"&&(S=i)),w=es(0,1,T)*h}const k=b?{done:!1,value:c[0]}:S.next(w);o&&(k.value=o(k.value));let{done:E}=k;!b&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return j&&s!==void 0&&(k.value=Sh(c,this.options,s)),x&&x(k.value),j&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Gr(t.calculatedDuration):0}get time(){return Gr(this.currentTime)}set time(t){t=Hr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=sV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const oV=new Set(["opacity","clipPath","filter","transform"]);function lV(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=IE(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}const cV=Ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wd=10,uV=2e4;function dV(e){return Qg(e.type)||e.type==="spring"||!OE(e.ease)}function hV(e,t){const n=new uy({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<uV;)r=n.sample(a),s.push(r.value),a+=wd;return{times:void 0,keyframes:s,duration:a-wd,ease:"linear"}}const yC={anticipate:qE,backInOut:KE,circInOut:XE};function fV(e){return e in yC}class Wb extends dC{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new uC(a,(i,o)=>this.onKeyframesResolved(i,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:a,type:i,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&vd()&&fV(a)&&(a=yC[a]),dV(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...g}=this.options,x=hV(t,g);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,a=x.ease,i="keyframes"}const d=lV(o.owner.current,c,t,{...this.options,duration:r,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Nb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Sh(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:i,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Gr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Gr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Hr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return kn;const{animation:r}=n;Nb(r,t)}return kn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:i,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new uy({...m,keyframes:r,duration:s,type:a,ease:i,times:o,isGenerator:!0}),g=Hr(this.time);u.setWithVelocity(y.sample(g-wd).value,y.sample(g).value,wd)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return cV()&&r&&oV.has(r)&&!c&&!u&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}}const mV={type:"spring",stiffness:500,damping:25,restSpeed:10},pV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gV={type:"keyframes",duration:.8},yV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vV=(e,{keyframes:t})=>t.length>2?gV:Ba.has(e)?e.startsWith("scale")?pV(t[1]):mV:yV;function xV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const dy=(e,t,n,r={},s,a)=>i=>{const o=Xg(r,e)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Hr(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s};xV(o)||(d={...d,...vV(e,d)}),d.duration&&(d.duration=Hr(d.duration)),d.repeatDelay&&(d.repeatDelay=Hr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=Sh(d.keyframes,o);if(f!==void 0)return Ve.update(()=>{d.onUpdate(f),d.onComplete()}),new $z([])}return!a&&Wb.supports(d)?new Wb(d):new uy(d)};function bV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function vC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||d&&bV(d,h))continue;const y={delay:n,...Xg(i||{},h)};let g=!1;if(window.MotionHandoffAnimation){const v=VE(e);if(v){const b=window.MotionHandoffAnimation(v,h,Ve);b!==null&&(y.startTime=b,g=!0)}}$p(e,h),f.start(dy(h,f,m,e.shouldReduceMotion&&zE.has(h)?{type:!1}:y,e,g));const x=f.animation;x&&u.push(x)}return o&&Promise.all(u).then(()=>{Ve.update(()=>{o&&Jz(e,o)})}),u}function Hp(e,t,n={}){var r;const s=wh(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(vC(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return wV(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function wV(e,t,n=0,r=0,s=1,a){const i=[],o=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(SV).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Hp(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function SV(e,t){return e.sortNodePosition(t)}function kV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Hp(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Hp(e,t,n);else{const s=typeof t=="function"?wh(e,t,n.custom):t;r=Promise.all(vC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const jV=$g.length;function xC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?xC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jV;n++){const r=$g[n],s=e.props[r];(Hl(s)||s===!1)&&(t[r]=s)}return t}const EV=[...Lg].reverse(),CV=Lg.length;function TV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>kV(e,n,r)))}function NV(e){let t=TV(e),n=Hb(),r=!0;const s=c=>(u,d)=>{var h;const f=wh(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...g}=f;u={...u,...g,...y}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=xC(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<CV;x++){const v=EV[x],b=n[v],w=u[v]!==void 0?u[v]:d[v],S=Hl(w),k=v===c?b.isActive:null;k===!1&&(y=x);let E=w===d[v]&&w!==u[v]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...m},!b.isActive&&k===null||!w&&!b.prevProp||xh(w)||typeof w=="boolean")continue;const j=PV(b.prevProp,w);let C=j||v===c&&b.isActive&&!E&&S||x>y&&S,P=!1;const T=Array.isArray(w)?w:[w];let R=T.reduce(s(v),{});k===!1&&(R={});const{prevResolvedValues:N={}}=b,I={...N,...R},A=B=>{C=!0,f.has(B)&&(P=!0,f.delete(B)),b.needsAnimating[B]=!0;const _=e.getValue(B);_&&(_.liveStyle=!1)};for(const B in I){const _=R[B],M=N[B];if(m.hasOwnProperty(B))continue;let D=!1;Op(_)&&Op(M)?D=!RE(_,M):D=_!==M,D?_!=null?A(B):f.add(B):_!==void 0&&f.has(B)?A(B):b.protectedKeys[B]=!0}b.prevProp=w,b.prevResolvedValues=R,b.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(E&&j)||P)&&h.push(...T.map(B=>({animation:B,options:{type:v}})))}if(f.size){const x={};f.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),x[v]=b??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=i(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:i,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Hb(),r=!0}}}function PV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RE(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MV extends ea{constructor(t){super(t),t.animationState||(t.animationState=NV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let _V=0;class RV extends ea{constructor(){super(...arguments),this.id=_V++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AV={animation:{Feature:MV},exit:{Feature:RV}};function Yl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function gc(e){return{point:{x:e.pageX,y:e.pageY}}}const DV=e=>t=>Zg(t)&&e(t,gc(t));function ll(e,t,n,r){return Yl(e,t,DV(n),r)}const Gb=(e,t)=>Math.abs(e-t);function OV(e,t){const n=Gb(e.x,t.x),r=Gb(e.y,t.y);return Math.sqrt(n**2+r**2)}class bC{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=OV(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:g}=Tt;this.history.push({...y,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=zf(f,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Bf(h.type==="pointercancel"?this.lastMoveEventInfo:zf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!Zg(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=gc(t),o=zf(i,this.transformPagePoint),{point:c}=o,{timestamp:u}=Tt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Bf(o,this.history)),this.removeListeners=pc(ll(this.contextWindow,"pointermove",this.handlePointerMove),ll(this.contextWindow,"pointerup",this.handlePointerUp),ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function zf(e,t){return t?{point:t(e.point)}:e}function Kb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bf({point:e},t){return{point:e,delta:Kb(e,wC(t)),offset:Kb(e,IV(t)),velocity:LV(t,.1)}}function IV(e){return e[0]}function wC(e){return e[e.length-1]}function LV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=wC(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Hr(t)));)n--;if(!r)return{x:0,y:0};const a=Gr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const SC=1e-4,$V=1-SC,FV=1+SC,kC=.01,zV=0-kC,BV=0+kC;function En(e){return e.max-e.min}function VV(e,t,n){return Math.abs(e-t)<=n}function qb(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=En(n)/En(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$V&&e.scale<=FV||isNaN(e.scale))&&(e.scale=1),(e.translate>=zV&&e.translate<=BV||isNaN(e.translate))&&(e.translate=0)}function cl(e,t,n,r){qb(e.x,t.x,n.x,r?r.originX:void 0),qb(e.y,t.y,n.y,r?r.originY:void 0)}function Yb(e,t,n){e.min=n.min+t.min,e.max=e.min+En(t)}function UV(e,t,n){Yb(e.x,t.x,n.x),Yb(e.y,t.y,n.y)}function Xb(e,t,n){e.min=t.min-n.min,e.max=e.min+En(t)}function ul(e,t,n){Xb(e.x,t.x,n.x),Xb(e.y,t.y,n.y)}function WV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function Qb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function HV(e,{top:t,left:n,bottom:r,right:s}){return{x:Qb(e.x,n,s),y:Qb(e.y,t,r)}}function Jb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function GV(e,t){return{x:Jb(e.x,t.x),y:Jb(e.y,t.y)}}function KV(e,t){let n=.5;const r=En(e),s=En(t);return s>r?n=ao(t.min,t.max-r,e.min):r>s&&(n=ao(e.min,e.max-s,t.min)),es(0,1,n)}function qV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Gp=.35;function YV(e=Gp){return e===!1?e=0:e===!0&&(e=Gp),{x:Zb(e,"left","right"),y:Zb(e,"top","bottom")}}function Zb(e,t,n){return{min:ew(e,t),max:ew(e,n)}}function ew(e,t){return typeof e=="number"?e:e[t]||0}const tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),bi=()=>({x:tw(),y:tw()}),nw=()=>({min:0,max:0}),at=()=>({x:nw(),y:nw()});function Mn(e){return[e("x"),e("y")]}function jC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function XV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function QV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vf(e){return e===void 0||e===1}function Kp({scale:e,scaleX:t,scaleY:n}){return!Vf(e)||!Vf(t)||!Vf(n)}function la(e){return Kp(e)||EC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EC(e){return rw(e.x)||rw(e.y)}function rw(e){return e&&e!=="0%"}function Sd(e,t,n){const r=e-n,s=t*r;return n+s}function sw(e,t,n,r,s){return s!==void 0&&(e=Sd(e,s,r)),Sd(e,n,r)+t}function qp(e,t=0,n=1,r,s){e.min=sw(e.min,t,n,r,s),e.max=sw(e.max,t,n,r,s)}function CC(e,{x:t,y:n}){qp(e.x,t.translate,t.scale,t.originPoint),qp(e.y,n.translate,n.scale,n.originPoint)}const aw=.999999999999,iw=1.0000000000001;function JV(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,i;for(let o=0;o<s;o++){a=n[o],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Si(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,CC(e,i)),r&&la(a.latestValues)&&Si(e,a.latestValues))}t.x<iw&&t.x>aw&&(t.x=1),t.y<iw&&t.y>aw&&(t.y=1)}function wi(e,t){e.min=e.min+t,e.max=e.max+t}function ow(e,t,n,r,s=.5){const a=Ye(e.min,e.max,s);qp(e,t,n,a,r)}function Si(e,t){ow(e.x,t.x,t.scaleX,t.scale,t.originX),ow(e.y,t.y,t.scaleY,t.scale,t.originY)}function TC(e,t){return jC(QV(e.getBoundingClientRect(),t))}function ZV(e,t,n){const r=TC(e,n),{scroll:s}=t;return s&&(wi(r.x,s.offset.x),wi(r.y,s.offset.y)),r}const NC=({current:e})=>e?e.ownerDocument.defaultView:null,e9=new WeakMap;class t9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gc(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Nr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(v=En(w)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Ve.postRender(()=>y(d,h)),$p(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=n9(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Mn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bC(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:NC(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ve.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!tu(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=WV(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&vi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=HV(s.layoutBox,n):this.constraints=!1,this.elastic=YV(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=qV(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=ZV(r,s.root,this.visualElement.getTransformPagePoint());let i=GV(s.layout.layoutBox,a);if(n){const o=n(XV(i));this.hasMutatedConstraints=!!o,o&&(i=jC(o))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Mn(d=>{if(!tu(d,n,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $p(this.visualElement,t),r.start(dy(t,r,0,n,this.visualElement,!1))}stopAnimation(){Mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mn(n=>{const{drag:r}=this.getProps();if(!tu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:o}=s.layout.layoutBox[n];a.set(t[n]-Ye(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mn(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();s[i]=KV({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(i=>{if(!tu(i,t,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(Ye(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;e9.set(this.visualElement,this);const t=this.visualElement.current,n=ll(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();vi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ve.read(r);const i=Yl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=Gp,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:o}}}function tu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function n9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class r9 extends ea{constructor(t){super(t),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new t9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const lw=e=>(t,n)=>{e&&Ve.postRender(()=>e(t,n))};class s9 extends ea{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(t){this.session=new bC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:lw(t),onStart:lw(n),onMove:r,onEnd:(a,i)=>{delete this.session,s&&Ve.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=ll(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Do={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ae.test(e))e=parseFloat(e);else return e;const n=cw(e,t.target.x),r=cw(e,t.target.y);return`${n}% ${r}%`}},a9={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Hs.parse(e);if(s.length>5)return r;const a=Hs.createTransformer(e),i=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=o,s[1+i]/=c;const u=Ye(o,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}};class i9 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;Cz(o9),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,i=r.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Ve.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PC(e){const[t,n]=dE(),r=p.useContext(Rg);return l.jsx(i9,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(xE),isPresent:t,safeToRemove:n})}const o9={borderRadius:{...Do,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Do,borderTopRightRadius:Do,borderBottomLeftRadius:Do,borderBottomRightRadius:Do,boxShadow:a9};function l9(e,t,n){const r=Bt(e)?e:Kl(e);return r.start(dy("",r,t,n)),r.animation}function c9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const u9=(e,t)=>e.depth-t.depth;class d9{constructor(){this.children=[],this.isDirty=!1}add(t){ey(this.children,t),this.isDirty=!0}remove(t){ty(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u9),this.isDirty=!1,this.children.forEach(t)}}function h9(e,t){const n=Pr.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Ws(r),e(a-t))};return Ve.read(r,!0),()=>Ws(r)}const MC=["TopLeft","TopRight","BottomLeft","BottomRight"],f9=MC.length,uw=e=>typeof e=="string"?parseFloat(e):e,dw=e=>typeof e=="number"||ae.test(e);function m9(e,t,n,r,s,a){s?(e.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,p9(r)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,g9(r))):a&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<f9;i++){const o=`border${MC[i]}Radius`;let c=hw(t,o),u=hw(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||dw(c)===dw(u)?(e[o]=Math.max(Ye(uw(c),uw(u),r),0),(Nr.test(u)||Nr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function hw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p9=_C(0,.5,YE),g9=_C(.5,.95,kn);function _C(e,t,n){return r=>r<e?0:r>t?1:n(ao(e,t,r))}function fw(e,t){e.min=t.min,e.max=t.max}function Pn(e,t){fw(e.x,t.x),fw(e.y,t.y)}function mw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pw(e,t,n,r,s){return e-=t,e=Sd(e,1/n,r),s!==void 0&&(e=Sd(e,1/s,r)),e}function y9(e,t=0,n=1,r=.5,s,a=e,i=e){if(Nr.test(t)&&(t=parseFloat(t),t=Ye(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Ye(a.min,a.max,r);e===a&&(o-=t),e.min=pw(e.min,t,n,o,s),e.max=pw(e.max,t,n,o,s)}function gw(e,t,[n,r,s],a,i){y9(e,t[n],t[r],t[s],t.scale,a,i)}const v9=["x","scaleX","originX"],x9=["y","scaleY","originY"];function yw(e,t,n,r){gw(e.x,t,v9,n?n.x:void 0,r?r.x:void 0),gw(e.y,t,x9,n?n.y:void 0,r?r.y:void 0)}function vw(e){return e.translate===0&&e.scale===1}function RC(e){return vw(e.x)&&vw(e.y)}function xw(e,t){return e.min===t.min&&e.max===t.max}function b9(e,t){return xw(e.x,t.x)&&xw(e.y,t.y)}function bw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AC(e,t){return bw(e.x,t.x)&&bw(e.y,t.y)}function ww(e){return En(e.x)/En(e.y)}function Sw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w9{constructor(){this.members=[]}add(t){ey(this.members,t),t.scheduleRender()}remove(t){if(ty(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S9(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((s||a||i)&&(r=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ho=typeof window<"u"&&window.MotionDebug!==void 0,Uf=["","X","Y","Z"],k9={visibility:"hidden"},kw=1e3;let j9=0;function Wf(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function DC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&DC(r)}function OC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=t==null?void 0:t()){this.id=j9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ho&&(ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0),this.nodes.forEach(T9),this.nodes.forEach(R9),this.nodes.forEach(A9),this.nodes.forEach(N9),Ho&&window.MotionDebug.record(ca)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new d9)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new ny),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=c9(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=h9(f,250),Mu.hasAnimatedSinceResize&&(Mu.hasAnimatedSinceResize=!1,this.nodes.forEach(Ew))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||$9,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!AC(this.targetLayout,y)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const S={...Xg(g,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||Ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D9),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jw);return}this.isUpdating||this.nodes.forEach(M9),this.isUpdating=!1,this.nodes.forEach(_9),this.nodes.forEach(E9),this.nodes.forEach(C9),this.clearAllSnapshots();const o=Pr.now();Tt.delta=es(0,1e3/60,o-Tt.timestamp),Tt.timestamp=o,Tt.isProcessing=!0,Df.update.process(Tt),Df.preRender.process(Tt),Df.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P9),this.sharedNodes.forEach(O9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!RC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(o||la(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),F9(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return at();const c=o.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(z9))){const{scroll:d}=this.root;d&&(wi(c.x,d.offset.x),wi(c.y,d.offset.y))}return c}removeElementScroll(i){var o;const c=at();if(Pn(c,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Pn(c,i),wi(c.x,h.offset.x),wi(c.y,h.offset.y))}return c}applyTransform(i,o=!1){const c=at();Pn(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Si(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),la(d.latestValues)&&Si(c,d.latestValues)}return la(this.latestValues)&&Si(c,this.latestValues),c}removeTransform(i){const o=at();Pn(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!la(u.latestValues))continue;Kp(u.latestValues)&&u.updateSnapshot();const d=at(),h=u.measurePageBox();Pn(d,h),yw(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return la(this.latestValues)&&yw(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ul(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),CC(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ul(this.relativeTargetOrigin,this.target,m.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ho&&ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kp(this.parent.latestValues)||EC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Pn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;JV(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=at());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mw(this.prevProjectionDelta.x,this.projectionDelta.x),mw(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Sw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Sw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ho&&ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bi(),this.projectionDelta=bi(),this.projectionDeltaWithTransform=bi()}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=bi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=at(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,x=this.getStack(),v=!x||x.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(L9));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const k=S/1e3;Cw(h.x,i.x,k),Cw(h.y,i.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I9(this.relativeTarget,this.relativeTargetOrigin,f,k),w&&b9(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=at()),Pn(w,this.relativeTarget)),g&&(this.animationValues=d,m9(d,u,this.latestValues,k,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Mu.hasAnimatedSinceResize=!0,this.currentAnimation=l9(0,kw,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&IC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||at();const h=En(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=En(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}Pn(o,c),Si(o,d),cl(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new w9),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Wf("z",i,u,this.animationValues);for(let d=0;d<Uf.length;d++)Wf(`rotate${Uf[d]}`,i,u,this.animationValues),Wf(`skew${Uf[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return k9;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Nu(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Nu(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=S9(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in yd){if(f[g]===void 0)continue;const{correct:x,applyTo:v}=yd[g],b=u.transform==="none"?f[g]:x(f[g],h);if(v){const w=v.length;for(let S=0;S<w;S++)u[v[S]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=h===this?Nu(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(jw),this.root.sharedNodes.clear()}}}function E9(e){e.updateLayout()}function C9(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;a==="size"?Mn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=En(f);f.min=r[h].min,f.max=f.min+m}):IC(a,n.layoutBox,r)&&Mn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=En(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=bi();cl(o,r,n.layoutBox);const c=bi();i?cl(c,e.applyTransform(s,!0),n.measuredBox):cl(c,r,n.layoutBox);const u=!RC(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=at();ul(y,n.layoutBox,f.layoutBox);const g=at();ul(g,r,m.layoutBox),AC(y,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function T9(e){Ho&&ca.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function N9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P9(e){e.clearSnapshot()}function jw(e){e.clearMeasurements()}function M9(e){e.isLayoutDirty=!1}function _9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ew(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R9(e){e.resolveTargetDelta()}function A9(e){e.calcProjection()}function D9(e){e.resetSkewAndRotation()}function O9(e){e.removeLeadSnapshot()}function Cw(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Tw(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function I9(e,t,n,r){Tw(e.x,t.x,n.x,r),Tw(e.y,t.y,n.y,r)}function L9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $9={duration:.45,ease:[.4,0,.1,1]},Nw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Pw=Nw("applewebkit/")&&!Nw("chrome/")?Math.round:kn;function Mw(e){e.min=Pw(e.min),e.max=Pw(e.max)}function F9(e){Mw(e.x),Mw(e.y)}function IC(e,t,n){return e==="position"||e==="preserve-aspect"&&!VV(ww(t),ww(n),.2)}function z9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const B9=OC({attachResizeListener:(e,t)=>Yl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hf={current:void 0},LC=OC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hf.current){const e=new B9({});e.mount(window),e.setOptions({layoutScroll:!0}),Hf.current=e}return Hf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),V9={pan:{Feature:s9},drag:{Feature:r9,ProjectionNode:LC,MeasureLayout:PC}};function _w(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ve.postRender(()=>a(t,gc(t)))}class U9 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=Vz(t,n=>(_w(this.node,n,"Start"),r=>_w(this.node,r,"End"))))}unmount(){}}class W9 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(Yl(this.node.current,"focus",()=>this.onFocus()),Yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rw(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ve.postRender(()=>a(t,gc(t)))}class H9 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=Gz(t,n=>(Rw(this.node,n,"Start"),(r,{success:s})=>Rw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yp=new WeakMap,Gf=new WeakMap,G9=e=>{const t=Yp.get(e.target);t&&t(e)},K9=e=>{e.forEach(G9)};function q9({root:e,...t}){const n=e||document;Gf.has(n)||Gf.set(n,{});const r=Gf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(K9,{root:e,...t})),r[s]}function Y9(e,t,n){const r=q9(t);return Yp.set(e,n),r.observe(e),()=>{Yp.delete(e),r.unobserve(e)}}const X9={some:0,all:1};class Q9 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:X9[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Y9(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(J9(t,n))&&this.startObserver()}unmount(){}}function J9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Z9={inView:{Feature:Q9},tap:{Feature:H9},focus:{Feature:W9},hover:{Feature:U9}},eU={layout:{ProjectionNode:LC,MeasureLayout:PC}},Xp={current:null},$C={current:!1};function tU(){if($C.current=!0,!!Og)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xp.current=e.matches;e.addListener(t),t()}else Xp.current=!1}const nU=[...cC,$t,Hs],rU=e=>nU.find(lC(e)),Aw=new WeakMap;function sU(e,t,n){for(const r in t){const s=t[r],a=n[r];if(Bt(s))e.addValue(r,s);else if(Bt(a))e.addValue(r,Kl(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(r);e.addValue(r,Kl(i!==void 0?i:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Pr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ve.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=i;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=bh(n),this.isVariantNode=yE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&Bt(y)&&y.set(c[m],!1)}}mount(t){this.current=t,Aw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$C.current||tU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Aw.delete(this.current),this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ba.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in io){const n=io[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dw.length;r++){const s=Dw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=sU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Kl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(iC(s)||QE(s))?s=parseFloat(s):!rU(s)&&Hs.test(n)&&(s=rC(t,n)),this.setBaseTarget(t,Bt(s)?s.get():s)),Bt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=Vg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Bt(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ny),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class FC extends aU{constructor(){super(...arguments),this.KeyframeResolver=uC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iU(e){return window.getComputedStyle(e)}class oU extends FC{constructor(){super(...arguments),this.type="html",this.renderInstance=CE}readValueFromInstance(t,n){if(Ba.has(n)){const r=oy(n);return r&&r.default||0}else{const r=iU(t),s=(kE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TC(t,n)}build(t,n,r){Hg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Yg(t,n,r)}}class lU extends FC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ba.has(n)){const r=oy(n);return r&&r.default||0}return n=TE.has(n)?n:Fg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ME(t,n,r)}build(t,n,r){Gg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){NE(t,n,r,s)}mount(t){this.isSVGTag=qg(t.tagName),super.mount(t)}}const cU=(e,t)=>Bg(e)?new lU(t):new oU(t,{allowProjection:e!==p.Fragment}),uU=Oz({...AV,...Z9,...V9,...eU},cU),Ke=XF(uU);function dU({coverUrl:e,isGenerating:t,onRegenerate:n,dreamTitle:r}){const[s,a]=p.useState(!1),i=()=>{if(!e)return;const o=document.createElement("a");o.href=e,o.download=`dream-cover-${Date.now()}.png`,o.click()};return l.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Vt,{className:"h-5 w-5 text-primary"}),""]}),e&&!t&&l.jsxs("div",{className:"flex gap-2",children:[n&&l.jsxs(Pe,{variant:"outline",size:"sm",onClick:n,children:[l.jsx(ac,{className:"h-4 w-4 mr-1"}),""]}),l.jsxs(Pe,{variant:"outline",size:"sm",onClick:i,children:[l.jsx(JS,{className:"h-4 w-4 mr-1"}),""]})]})]}),l.jsx("div",{className:q("relative aspect-[2/3] max-w-[280px] mx-auto rounded-lg overflow-hidden","bg-gradient-to-br from-primary/20 via-background to-primary/10","border-2 border-primary/30 shadow-2xl shadow-primary/20"),children:l.jsx(Dp,{mode:"wait",children:t?l.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 animate-ping",children:l.jsx(Vt,{className:"h-12 w-12 text-primary/30"})}),l.jsx(Nl,{className:"h-12 w-12 text-primary animate-spin"})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"AI "})]}),l.jsx("div",{className:"flex gap-1",children:[0,1,2].map(o=>l.jsx(Ke.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:o*.2}},o))})]},"loading"):e?l.jsxs(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20},className:"relative w-full h-full",children:[l.jsx("img",{src:e,alt:"Dream Cover",className:q("w-full h-full object-cover transition-opacity duration-500",s?"opacity-100":"opacity-0"),onLoad:()=>a(!0)}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/30 to-transparent"}),r&&l.jsx("div",{className:"absolute bottom-0 inset-x-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:l.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:r})})]},"image"):l.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center gap-3 p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:l.jsx(Vt,{className:"h-8 w-8 text-primary/60"})}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[' ""',l.jsx("br",{}),""]})]},"placeholder")})})]})}var kh="Dialog",[zC]=Un(kh),[hU,hr]=zC(kh),BC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,o=p.useRef(null),c=p.useRef(null),[u,d]=zs({prop:r,defaultProp:s??!1,onChange:a,caller:kh});return l.jsx(hU,{scope:t,triggerRef:o,contentRef:c,contentId:Os(),titleId:Os(),descriptionId:Os(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};BC.displayName=kh;var VC="DialogTrigger",fU=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hr(VC,n),a=ye(t,s.triggerRef);return l.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":my(s.open),...r,ref:a,onClick:Q(e.onClick,s.onOpenToggle)})});fU.displayName=VC;var hy="DialogPortal",[mU,UC]=zC(hy,{forceMount:void 0}),WC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=hr(hy,t);return l.jsx(mU,{scope:t,forceMount:n,children:p.Children.map(r,i=>l.jsx(Wn,{present:n||a.open,children:l.jsx(Gd,{asChild:!0,container:s,children:i})}))})};WC.displayName=hy;var kd="DialogOverlay",HC=p.forwardRef((e,t)=>{const n=UC(kd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=hr(kd,e.__scopeDialog);return a.modal?l.jsx(Wn,{present:r||a.open,children:l.jsx(gU,{...s,ref:t})}):null});HC.displayName=kd;var pU=Zi("DialogOverlay.RemoveScroll"),gU=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hr(kd,n);return l.jsx(Eg,{as:pU,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ne.div,{"data-state":my(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",GC=p.forwardRef((e,t)=>{const n=UC(Oa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=hr(Oa,e.__scopeDialog);return l.jsx(Wn,{present:r||a.open,children:a.modal?l.jsx(yU,{...s,ref:t}):l.jsx(vU,{...s,ref:t})})});GC.displayName=Oa;var yU=p.forwardRef((e,t)=>{const n=hr(Oa,e.__scopeDialog),r=p.useRef(null),s=ye(t,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return Kk(a)},[]),l.jsx(KC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&a.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault())})}),vU=p.forwardRef((e,t)=>{const n=hr(Oa,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(KC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),KC=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,o=hr(Oa,n),c=p.useRef(null),u=ye(t,c);return Wk(),l.jsxs(l.Fragment,{children:[l.jsx(kg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(rc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":my(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(xU,{titleId:o.titleId}),l.jsx(wU,{contentRef:c,descriptionId:o.descriptionId})]})]})}),fy="DialogTitle",qC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hr(fy,n);return l.jsx(ne.h2,{id:s.titleId,...r,ref:t})});qC.displayName=fy;var YC="DialogDescription",XC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hr(YC,n);return l.jsx(ne.p,{id:s.descriptionId,...r,ref:t})});XC.displayName=YC;var QC="DialogClose",JC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hr(QC,n);return l.jsx(ne.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});JC.displayName=QC;function my(e){return e?"open":"closed"}var ZC="DialogTitleWarning",[OG,eT]=VM(ZC,{contentName:Oa,titleName:fy,docsSlug:"dialog"}),xU=({titleId:e})=>{const t=eT(ZC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bU="DialogDescriptionWarning",wU=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eT(bU).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},SU=BC,kU=WC,tT=HC,nT=GC,rT=qC,sT=XC,jU=JC;const EU=SU,CU=kU,aT=p.forwardRef(({className:e,...t},n)=>l.jsx(tT,{ref:n,className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aT.displayName=tT.displayName;const iT=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(CU,{children:[l.jsx(aT,{}),l.jsxs(nT,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(jU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(fo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));iT.displayName=nT.displayName;const oT=({className:e,...t})=>l.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oT.displayName="DialogHeader";const lT=p.forwardRef(({className:e,...t},n)=>l.jsx(rT,{ref:n,className:q("text-lg font-semibold leading-none tracking-tight",e),...t}));lT.displayName=rT.displayName;const TU=p.forwardRef(({className:e,...t},n)=>l.jsx(sT,{ref:n,className:q("text-sm text-muted-foreground",e),...t}));TU.displayName=sT.displayName;function Or({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>s(!0),t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function NU(){var k;const e=yg(),[t,n]=p.useState([]),[r,s]=p.useState([]),[a,i]=p.useState(!1),[o,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(!1),[m,y]=p.useState({date:new Date().toISOString().split("T")[0],wakeTime:"",world:"",newWorld:"",timeSystem:"unknown",environments:[],newEnvironment:"",selectedEntities:[],newEntity:"",threatLevel:0,safetyOverride:"none",exit:"unknown",notes:"",storySummary:"",emotions:[],atmosphereColors:[],lucidityLevel:5});p.useEffect(()=>{(async()=>{const[j,C]=await Promise.all([uc(),ch()]);n(j.map(P=>({id:P.id,name:P.name}))),s(C.map(P=>({id:P.id,name:P.name})))})()},[]);const g=async()=>{c(!0);try{const{data:E,error:j}=await it.functions.invoke("generate-cover",{body:{storySummary:m.storySummary||m.notes,emotions:m.emotions,atmosphereColors:m.atmosphereColors,environments:m.environments,world:m.newWorld||m.world,threatLevel:m.threatLevel,lucidityLevel:m.lucidityLevel}});return j?(console.error("Cover generation error:",j),ti({title:"",description:j.message,variant:"destructive"}),null):E!=null&&E.coverUrl?(d(E.coverUrl),E.coverUrl):null}catch(E){return console.error("Cover generation failed:",E),ti({title:"",description:"",variant:"destructive"}),null}finally{c(!1)}},x=async E=>{E.preventDefault(),i(!0);try{const j=m.newWorld||m.world,C=[...m.selectedEntities];m.newEntity&&C.push(m.newEntity);const P=[...m.environments];m.newEnvironment&&P.push(m.newEnvironment);const T=[m.storySummary,m.notes].filter(Boolean).join(`

---

`);await Nk({date:m.date,wakeTime:m.wakeTime,world:j,timeSystem:m.timeSystem,environments:P,entities:C,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,notes:T||void 0})?(ti({title:""}),m.storySummary||m.notes?(f(!0),await g()):e("/logs")):ti({title:"",variant:"destructive"})}catch(j){console.error("Error saving dream:",j),ti({title:"",variant:"destructive"})}finally{i(!1)}},v=E=>{y(j=>({...j,environments:j.environments.includes(E)?j.environments.filter(C=>C!==E):[...j.environments,E]}))},b=E=>{y(j=>({...j,selectedEntities:j.selectedEntities.includes(E)?j.selectedEntities.filter(C=>C!==E):[...j.selectedEntities,E]}))},w=()=>{m.newEnvironment&&!m.environments.includes(m.newEnvironment)&&y(E=>({...E,environments:[...E.environments,E.newEnvironment],newEnvironment:""}))},S=()=>{f(!1),e("/logs")};return l.jsxs("div",{className:"py-4 pb-28",children:[l.jsx(Or,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(XS,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"flex items-center gap-2",children:[l.jsx(Xd,{className:"w-5 h-5"}),""]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsx(Or,{delay:60,duration:400,children:l.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/10 via-background to-primary/5 border border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Vt,{className:"w-5 h-5 text-primary"}),l.jsx("h2",{className:"font-semibold",children:""})]}),l.jsx($F,{storySummary:m.storySummary,onStorySummaryChange:E=>y(j=>({...j,storySummary:E})),emotions:m.emotions,onEmotionsChange:E=>y(j=>({...j,emotions:E})),atmosphereColors:m.atmosphereColors,onAtmosphereColorsChange:E=>y(j=>({...j,atmosphereColors:E})),lucidityLevel:m.lucidityLevel,onLucidityLevelChange:E=>y(j=>({...j,lucidityLevel:E}))})]})}),l.jsx(Or,{delay:120,duration:400,children:l.jsx(lF,{date:m.date,wakeTime:m.wakeTime,onDateChange:E=>y(j=>({...j,date:E})),onWakeTimeChange:E=>y(j=>({...j,wakeTime:E}))})}),l.jsx(Or,{delay:180,duration:400,children:l.jsx(cF,{worlds:t,selectedWorld:m.world,newWorld:m.newWorld,onWorldChange:E=>y(j=>({...j,world:E})),onNewWorldChange:E=>y(j=>({...j,newWorld:E}))})}),l.jsx(Or,{delay:240,duration:400,children:l.jsx(yF,{timeSystem:m.timeSystem,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,onTimeSystemChange:E=>y(j=>({...j,timeSystem:E})),onThreatLevelChange:E=>y(j=>({...j,threatLevel:E})),onSafetyOverrideChange:E=>y(j=>({...j,safetyOverride:E})),onExitChange:E=>y(j=>({...j,exit:E}))})}),l.jsx(Or,{delay:300,duration:400,children:l.jsx(dF,{selectedEnvironments:m.environments,newEnvironment:m.newEnvironment,onToggleEnvironment:v,onNewEnvironmentChange:E=>y(j=>({...j,newEnvironment:E})),onAddEnvironment:w})}),l.jsx(Or,{delay:360,duration:400,children:l.jsx(gF,{entities:r,selectedEntities:m.selectedEntities,newEntity:m.newEntity,onToggleEntity:b,onNewEntityChange:E=>y(j=>({...j,newEntity:E}))})}),l.jsx(Or,{delay:420,duration:400,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yt,{htmlFor:"notes",children:"Notes  (optional)"}),l.jsx(dc,{id:"notes",placeholder:"  , ...",value:m.notes,onChange:E=>y(j=>({...j,notes:E.target.value})),className:"min-h-[80px]"})]})}),l.jsx(Or,{delay:480,duration:400,children:l.jsx(Pe,{type:"submit",className:"w-full gap-2",disabled:a||o,children:a?"...":l.jsxs(l.Fragment,{children:[l.jsx(Vt,{className:"w-4 h-4"}),""]})})})]}),l.jsx(EU,{open:h,onOpenChange:f,children:l.jsxs(iT,{className:"sm:max-w-md",children:[l.jsx(oT,{children:l.jsxs(lT,{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"w-5 h-5 text-primary"}),""]})}),l.jsx(dU,{coverUrl:u,isGenerating:o,onRegenerate:g,dreamTitle:((k=m.storySummary)==null?void 0:k.slice(0,50))||m.world}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsx(Pe,{variant:"outline",onClick:S,children:""})})]})})]})}function PU({dreamId:e,isEditing:t,saving:n,onBack:r,onEdit:s,onCancel:a,onSave:i,onDelete:o}){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pe,{variant:"ghost",size:"icon",onClick:r,children:l.jsx(XS,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:e})]}),l.jsx("div",{className:"flex gap-1",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Pe,{variant:"ghost",size:"icon",onClick:a,disabled:n,children:l.jsx(fo,{className:"w-4 h-4"})}),l.jsx(Pe,{size:"icon",onClick:i,disabled:n,children:l.jsx(X_,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Pe,{variant:"ghost",size:"icon",onClick:s,children:l.jsx(eg,{className:"w-4 h-4"})}),l.jsx(Pe,{variant:"ghost",size:"icon",onClick:o,children:l.jsx(J_,{className:"w-4 h-4"})})]})})]})}function MU({editForm:e,onFormChange:t}){return l.jsx(Vn,{value:e.world,onChange:n=>t({world:n.target.value}),className:"text-xl font-semibold mb-2",placeholder:""})}function _U({editForm:e,onFormChange:t}){return l.jsxs(In,{value:String(e.threatLevel),onValueChange:n=>t({threatLevel:Number(n)}),children:[l.jsx(xn,{className:"h-8",children:l.jsx(Ln,{})}),l.jsx(bn,{children:[0,1,2,3,4,5].map(n=>l.jsxs(Nt,{value:String(n),children:["Level ",n]},n))})]})}function RU({editForm:e,onFormChange:t}){return l.jsxs(In,{value:e.timeSystem,onValueChange:n=>t({timeSystem:n}),children:[l.jsx(xn,{className:"h-8",children:l.jsx(Ln,{})}),l.jsx(bn,{children:Tg.map(n=>l.jsx(Nt,{value:n,children:n},n))})]})}function AU({editForm:e,onFormChange:t}){return l.jsxs(In,{value:e.safetyOverride,onValueChange:n=>t({safetyOverride:n}),children:[l.jsx(xn,{className:"h-8",children:l.jsx(Ln,{})}),l.jsx(bn,{children:Ng.map(n=>l.jsx(Nt,{value:n,children:n},n))})]})}function DU({editForm:e,onFormChange:t}){return l.jsxs(In,{value:e.exit,onValueChange:n=>t({exit:n}),children:[l.jsx(xn,{className:"h-8",children:l.jsx(Ln,{})}),l.jsx(bn,{children:$j.map(n=>l.jsx(Nt,{value:n,children:n},n))})]})}function OU({editForm:e,onFormChange:t}){return l.jsx(Vn,{value:e.environments.join(", "),onChange:n=>t({environments:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"fog, sea, mountain ()"})}function IU({editForm:e,onFormChange:t}){return l.jsx(Vn,{value:e.entities.join(", "),onChange:n=>t({entities:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"Entity1, Entity2 ()"})}function LU({editForm:e,onFormChange:t}){return l.jsx(dc,{value:e.notes,onChange:n=>t({notes:n.target.value}),className:"min-h-[120px]",placeholder:"..."})}const $U={0:"bg-muted text-muted-foreground",1:"bg-yellow-100 text-yellow-800",2:"bg-orange-100 text-orange-800",3:"bg-orange-200 text-orange-900",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};function FU({dream:e,isEditing:t,editForm:n,onFormChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Threat Level"}),t?l.jsx(_U,{editForm:n,onFormChange:r}):l.jsx("span",{className:`threat-badge text-lg ${$U[e.threatLevel]}`,children:e.threatLevel})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Time System"}),t?l.jsx(RU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.timeSystem})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Safety Override"}),t?l.jsx(AU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.safetyOverride})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Exit"}),t?l.jsx(DU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.exit})]})]})}function Za({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>s(!0),t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function zU(){const{id:e}=rD(),t=yg(),[n,r]=p.useState(null),[s,a]=p.useState(!0),[i,o]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState({world:"",threatLevel:0,timeSystem:"unknown",safetyOverride:"unknown",exit:"unknown",environments:[],entities:[],notes:""});p.useEffect(()=>{(async()=>{try{const S=(await za()).find(k=>k.id===e);r(S||null),S&&h({world:S.world,threatLevel:S.threatLevel,timeSystem:S.timeSystem,safetyOverride:S.safetyOverride,exit:S.exit,environments:S.environments,entities:S.entities,notes:S.notes||""})}catch(w){console.error("Error loading dream:",w)}finally{a(!1)}})()},[e]);const f=b=>{h(w=>({...w,...b}))},m=()=>o(!0),y=()=>{n&&h({world:n.world,threatLevel:n.threatLevel,timeSystem:n.timeSystem,safetyOverride:n.safetyOverride,exit:n.exit,environments:n.environments,entities:n.entities,notes:n.notes||""}),o(!1)},g=async()=>{if(n){u(!0);try{const b=await h8(n.id,d);b?(r(b),o(!1),rn.success("")):rn.error("")}catch(b){console.error("Error saving:",b),rn.error("")}finally{u(!1)}}},x=async()=>{n&&confirm("?")&&(await f8(n.id)?(rn.success(""),t("/logs")):rn.error(""))};if(s)return l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."});if(!n)return l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-muted-foreground",children:""}),l.jsx(Pe,{asChild:!0,variant:"link",className:"mt-2 p-0",children:l.jsx(cn,{to:"/logs",children:""})})]});const v=new Date(n.date).toLocaleDateString("th-TH",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(Za,{delay:0,duration:400,children:l.jsx(PU,{dreamId:n.id,isEditing:i,saving:c,onBack:()=>t(-1),onEdit:m,onCancel:y,onSave:g,onDelete:x})}),l.jsx(Za,{delay:80,duration:400,children:l.jsxs("div",{children:[i?l.jsx(MU,{editForm:d,onFormChange:f}):l.jsx("h1",{className:"text-xl mb-1",children:n.world}),l.jsxs("p",{className:"text-muted-foreground",children:[v,"  ",n.wakeTime]})]})}),l.jsx(Za,{delay:160,duration:400,children:l.jsx(FU,{dream:n,isEditing:i,editForm:d,onFormChange:f})}),l.jsx(Za,{delay:240,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Environments"}),i?l.jsx(OU,{editForm:d,onFormChange:f}):n.environments.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.environments.map(b=>l.jsx("span",{className:"tag",children:b},b))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Za,{delay:320,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Entities"}),i?l.jsx(IU,{editForm:d,onFormChange:f}):n.entities.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.entities.map(b=>l.jsx("span",{className:"tag-accent",children:b},b))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Za,{delay:400,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),i?l.jsx(LU,{editForm:d,onFormChange:f}):n.notes?l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.notes}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})})]})}function Qe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function cT(e,t){const n=Qe(e);return isNaN(t)?ts(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const uT=6048e5,BU=864e5,dT=6e4,hT=36e5;let VU={};function jh(){return VU}function ir(e,t){var o,c,u,d;const n=jh(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Qe(e),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function jd(e){return ir(e,{weekStartsOn:1})}function fT(e){const t=Qe(e),n=t.getFullYear(),r=ts(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=jd(r),a=ts(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=jd(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Ed(e){const t=Qe(e);return t.setHours(0,0,0,0),t}function Ow(e){const t=Qe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function UU(e,t){const n=Ed(e),r=Ed(t),s=+n-Ow(n),a=+r-Ow(r);return Math.round((s-a)/BU)}function WU(e){const t=fT(e),n=ts(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),jd(n)}function HU(e,t){const n=t*7;return cT(e,n)}function py(e){return ts(e,Date.now())}function GU(e,t){const n=Ed(e),r=Ed(t);return+n==+r}function KU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Go(e){if(!KU(e)&&typeof e!="number")return!1;const t=Qe(e);return!isNaN(Number(t))}function qU(e,t){const n=Qe(e.start),r=Qe(e.end);let s=+n>+r;const a=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0);let o=1;const c=[];for(;+i<=a;)c.push(Qe(i)),i.setDate(i.getDate()+o),i.setHours(0,0,0,0);return s?c.reverse():c}function YU(e,t){const n=Qe(e.start),r=Qe(e.end);let s=+n>+r;const a=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0),i.setDate(1);let o=1;const c=[];for(;+i<=a;)c.push(Qe(i)),i.setMonth(i.getMonth()+o);return s?c.reverse():c}function XU(e,t){const n=Qe(e.start),r=Qe(e.end);let s=+n>+r;const a=ir(s?r:n,t),i=ir(s?n:r,t);a.setHours(15),i.setHours(15);const o=+i.getTime();let c=a,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,s=!s);const d=[];for(;+c<=o;)c.setHours(0),d.push(Qe(c)),c=HU(c,u),c.setHours(15);return s?d.reverse():d}function QU(e){const t=Qe(e),n=ts(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const JU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZU=(e,t,n)=>{let r;const s=JU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Oi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const e7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r7={date:Oi({formats:e7,defaultWidth:"full"}),time:Oi({formats:t7,defaultWidth:"full"}),dateTime:Oi({formats:n7,defaultWidth:"full"})},s7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a7=(e,t,n,r)=>s7[e];function wr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const i7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h7=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f7={ordinalNumber:h7,era:wr({values:i7,defaultWidth:"wide"}),quarter:wr({values:o7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wr({values:l7,defaultWidth:"wide"}),day:wr({values:c7,defaultWidth:"wide"}),dayPeriod:wr({values:u7,defaultWidth:"wide",formattingValues:d7,defaultFormattingWidth:"wide"})};function Sr(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?p7(o,h=>h.test(i)):m7(o,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function m7(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function p7(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mT(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const g7=/^(\d+)(th|st|nd|rd)?/i,y7=/\d+/i,v7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x7={any:[/^b/i,/^(a|c)/i]},b7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w7={any:[/1/i,/2/i,/3/i,/4/i]},S7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N7={ordinalNumber:mT({matchPattern:g7,parsePattern:y7,valueCallback:e=>parseInt(e,10)}),era:Sr({matchPatterns:v7,defaultMatchWidth:"wide",parsePatterns:x7,defaultParseWidth:"any"}),quarter:Sr({matchPatterns:b7,defaultMatchWidth:"wide",parsePatterns:w7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sr({matchPatterns:S7,defaultMatchWidth:"wide",parsePatterns:k7,defaultParseWidth:"any"}),day:Sr({matchPatterns:j7,defaultMatchWidth:"wide",parsePatterns:E7,defaultParseWidth:"any"}),dayPeriod:Sr({matchPatterns:C7,defaultMatchWidth:"any",parsePatterns:T7,defaultParseWidth:"any"})},P7={code:"en-US",formatDistance:ZU,formatLong:r7,formatRelative:a7,localize:f7,match:N7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function M7(e){const t=Qe(e);return UU(t,QU(t))+1}function _7(e){const t=Qe(e),n=+jd(t)-+WU(t);return Math.round(n/uT)+1}function pT(e,t){var d,h,f,m;const n=Qe(e),r=n.getFullYear(),s=jh(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=ts(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const o=ir(i,t),c=ts(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=ir(c,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function R7(e,t){var o,c,u,d;const n=jh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=pT(e,t),a=ts(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),ir(a,t)}function A7(e,t){const n=Qe(e),r=+ir(n,t)-+R7(n,t);return Math.round(r/uT)+1}function _e(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ls={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _e(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_e(n+1,2)},d(e,t){return _e(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _e(e.getHours()%12||12,t.length)},H(e,t){return _e(e.getHours(),t.length)},m(e,t){return _e(e.getMinutes(),t.length)},s(e,t){return _e(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return _e(s,t.length)}},ei={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ls.y(e,t)},Y:function(e,t,n,r){const s=pT(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return _e(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):_e(a,t.length)},R:function(e,t){const n=fT(e);return _e(n,t.length)},u:function(e,t){const n=e.getFullYear();return _e(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ls.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=A7(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):_e(s,t.length)},I:function(e,t,n){const r=_7(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_e(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ls.d(e,t)},D:function(e,t,n){const r=M7(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_e(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return _e(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return _e(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return _e(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ei.noon:r===0?s=ei.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ei.evening:r>=12?s=ei.afternoon:r>=4?s=ei.morning:s=ei.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ls.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ls.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ls.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ls.s(e,t)},S:function(e,t){return ls.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return $w(r);case"XXXX":case"XX":return ua(r);case"XXXXX":case"XXX":default:return ua(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return $w(r);case"xxxx":case"xx":return ua(r);case"xxxxx":case"xxx":default:return ua(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lw(r,":");case"OOOO":default:return"GMT"+ua(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lw(r,":");case"zzzz":default:return"GMT"+ua(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return _e(r,t.length)},T:function(e,t,n){const r=e.getTime();return _e(r,t.length)}};function Lw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+_e(a,2)}function $w(e,t){return e%60===0?(e>0?"-":"+")+_e(Math.abs(e)/60,2):ua(e,t)}function ua(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=_e(Math.trunc(r/60),2),a=_e(r%60,2);return n+s+t+a}const Fw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},D7=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Fw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Fw(r,t)).replace("{{time}}",gT(s,t))},O7={p:gT,P:D7},I7=/^D+$/,L7=/^Y+$/,$7=["D","DD","YY","YYYY"];function F7(e){return I7.test(e)}function z7(e){return L7.test(e)}function B7(e,t,n){const r=V7(e,t,n);if(console.warn(r),$7.includes(e))throw new RangeError(r)}function V7(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const U7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H7=/^'([^]*?)'?$/,G7=/''/g,K7=/[a-zA-Z]/;function Ft(e,t,n){var d,h,f,m,y,g,x,v;const r=jh(),s=(n==null?void 0:n.locale)??r.locale??P7,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,o=Qe(e);if(!Go(o))throw new RangeError("Invalid time value");let c=t.match(W7).map(b=>{const w=b[0];if(w==="p"||w==="P"){const S=O7[w];return S(b,s.formatLong)}return b}).join("").match(U7).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:q7(b)};if(Iw[w])return{isToken:!0,value:b};if(w.match(K7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&z7(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&F7(w))&&B7(w,t,String(e));const S=Iw[w[0]];return S(o,w,s.localize,u)}).join("")}function q7(e){const t=e.match(H7);return t?t[1].replace(G7,"'"):e}function Y7(e,t,n){const r=ir(e,n),s=ir(t,n);return+r==+s}function X7(e,t){const n=Qe(e),r=Qe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Q7(e){return X7(e,py(e))}function J7(e,t){return Y7(e,py(e),t)}function Z7(e){return GU(e,py(e))}function eW(e,t){return cT(e,-t)}function tW(e,t){const r=aW(e);let s;if(r.date){const c=iW(r.date,2);s=oW(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,o;if(r.time&&(i=lW(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(o=cW(r.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(a+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+i+o)}const nu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nW=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sW=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aW(e){const t={},n=e.split(nu.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],nu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(nu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=nu.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function iW(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function oW(e,t){if(t===null)return new Date(NaN);const n=e.match(nW);if(!n)return new Date(NaN);const r=!!n[4],s=Oo(n[1]),a=Oo(n[2])-1,i=Oo(n[3]),o=Oo(n[4]),c=Oo(n[5])-1;if(r)return mW(t,o,c)?uW(t,o,c):new Date(NaN);{const u=new Date(0);return!hW(t,a,i)||!fW(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,i)),u)}}function Oo(e){return e?parseInt(e):1}function lW(e){const t=e.match(rW);if(!t)return NaN;const n=Kf(t[1]),r=Kf(t[2]),s=Kf(t[3]);return pW(n,r,s)?n*hT+r*dT+s*1e3:NaN}function Kf(e){return e&&parseFloat(e.replace(",","."))||0}function cW(e){if(e==="Z")return 0;const t=e.match(sW);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return gW(r,s)?n*(r*hT+s*dT):NaN}function uW(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const dW=[31,null,31,30,31,30,31,31,30,31,30,31];function yT(e){return e%400===0||e%4===0&&e%100!==0}function hW(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(dW[t]||(yT(e)?29:28))}function fW(e,t){return t>=1&&t<=(yT(e)?366:365)}function mW(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function pW(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function gW(e,t){return t>=0&&t<=59}function yW(){return l.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden",children:l.jsx(me,{className:"w-full h-full"})})}function vW(){return l.jsxs("div",{className:"bg-card rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(me,{className:"w-1 h-8 rounded-full"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(me,{className:"h-4 w-20"}),l.jsx(me,{className:"h-3 w-16"})]})]}),l.jsx(me,{className:"w-5 h-5 rounded"})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>l.jsx(yW,{},t))})})]})}function xW(){return l.jsx("div",{className:"space-y-4 p-4",children:[...Array(3)].map((e,t)=>l.jsx(vW,{},t))})}const bW={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},wW=(e,t,n)=>{let r;const s=bW[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e==="halfAMinute"?""+r:" "+r:r+"":r},SW={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},kW={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},jW={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EW={date:Oi({formats:SW,defaultWidth:"full"}),time:Oi({formats:kW,defaultWidth:"medium"}),dateTime:Oi({formats:jW,defaultWidth:"full"})},CW={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},TW=(e,t,n,r)=>CW[e],NW={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},PW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},MW={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},_W={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},RW={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},AW={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},DW=(e,t)=>String(e),OW={ordinalNumber:DW,era:wr({values:NW,defaultWidth:"wide"}),quarter:wr({values:PW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wr({values:_W,defaultWidth:"wide"}),day:wr({values:MW,defaultWidth:"wide"}),dayPeriod:wr({values:RW,defaultWidth:"wide",formattingValues:AW,defaultFormattingWidth:"wide"})},IW=/^\d+/i,LW=/\d+/i,$W={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},FW={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},zW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},BW={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},VW={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},UW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},WW={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},HW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},GW={any:/^(||||(.*?)?.*(||||))/i},KW={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},qW={ordinalNumber:mT({matchPattern:IW,parsePattern:LW,valueCallback:e=>parseInt(e,10)}),era:Sr({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:FW,defaultParseWidth:"any"}),quarter:Sr({matchPatterns:zW,defaultMatchWidth:"wide",parsePatterns:BW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sr({matchPatterns:VW,defaultMatchWidth:"wide",parsePatterns:UW,defaultParseWidth:"any"}),day:Sr({matchPatterns:WW,defaultMatchWidth:"wide",parsePatterns:HW,defaultParseWidth:"any"}),dayPeriod:Sr({matchPatterns:GW,defaultMatchWidth:"any",parsePatterns:KW,defaultParseWidth:"any"})},Gs={code:"th",formatDistance:wW,formatLong:EW,formatRelative:TW,localize:OW,match:qW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YW(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[a,i]=p.useState(null);return p.useEffect(()=>{n(null),s(!1)},[e.id,e.notes,e.world,e.environments,e.threatLevel,e.entities]),{style:t,loading:r,error:a}}const ki=new Map;let vT=0;const XW=250;function xT(){ki.forEach((e,t)=>{if(!e.el){ki.delete(t);return}const n=e.el.getBoundingClientRect();e.rect=n,e.center={x:n.left+n.width/2,y:n.top+n.height/2}}),vT=typeof performance<"u"?performance.now():Date.now()}function QW(e){e-vT>XW&&xT()}const JW={fog:{hue:200,saturation:20},sea:{hue:200,saturation:70},mountain:{hue:30,saturation:40},city:{hue:45,saturation:60},tunnel:{hue:280,saturation:30},rain:{hue:220,saturation:50},night:{hue:260,saturation:80},sunset:{hue:15,saturation:90}},ru={inactive:{brightness:.7,animSpeed:.3},activated:{brightness:1.2,animSpeed:.8},unknown:{brightness:.9,animSpeed:.5}},zw={none:"diagonal",helper:"circular",separation:"grid",wake:"radial",unknown:"noise"},su={wake:{glow:"#60a5fa",symbol:""},separation:{glow:"#a78bfa",symbol:""},collapse:{glow:"#f87171",symbol:""},unknown:{glow:"#9ca3af",symbol:""}},Bw={0:{base:"#064e3b",accent:"#34d399"},1:{base:"#1e3a5f",accent:"#60a5fa"},2:{base:"#312e81",accent:"#818cf8"},3:{base:"#581c87",accent:"#c084fc"},4:{base:"#7c2d12",accent:"#fb923c"},5:{base:"#7f1d1d",accent:"#f87171"}};function qf(e){return e.split("").reduce((t,n,r)=>t+n.charCodeAt(0)*(r+1),0)}function Yf(e,t,n){return Math.min(n,Math.max(t,e))}function au(e){const t=e%360;return t<0?t+360:t}function ZW(e){if(e==null)return null;if(e instanceof Date)return Go(e)?e:null;if(typeof e=="string"){const t=tW(e);if(Go(t))return t;const n=new Date(e);return Go(n)?n:null}if(typeof e=="number"){const t=new Date(e);return Go(t)?t:null}return null}function iu(e,t){const n=Math.min(1,Math.max(0,t));if(e.startsWith("hsla("))return e.replace(/hsla\(([^,]+),([^,]+),([^,]+),[^)]+\)/,`hsla($1,$2,$3,${n})`);if(e.startsWith("hsl("))return e.replace("hsl(","hsla(").replace(")",`, ${n})`);if(e.startsWith("rgba("))return e.replace(/rgba\(([^,]+),([^,]+),([^,]+),[^)]+\)/,`rgba($1,$2,$3,${n})`);if(e.startsWith("rgb("))return e.replace("rgb(","rgba(").replace(")",`, ${n})`);if(e.startsWith("#")){let r=e.slice(1);if(r.length===3&&(r=r.split("").map(s=>s+s).join("")),r.length>=6){const s=Math.round(n*255).toString(16).padStart(2,"0");return`#${r.slice(0,6)}${s}`}}return e}function eH(e,t){if(t){const S={dim:.6,normal:1,bright:1.2,glowing:1.5}[t.brightness]||1,k=Yf(t.saturation,0,100),E=Yf(t.saturation-10,0,100),j=Yf(k+20,0,90),C=au(t.primaryHue),P=au(t.secondaryHue),T=au(t.accentHue),R={waves:"diagonal",circles:"circular",stars:"radial",lines:"diagonal",dots:"grid",crystals:"radial",smoke:"noise",spiral:"circular"},N=`hsl(${C}, ${k}%, 25%)`,I=`hsl(${P}, ${E}%, 35%)`,A=`hsl(${T}, ${j}%, 60%)`;return{primary:N,secondary:I,accent:A,gradientAngle:au(t.gradientAngle),particleCount:20+e.threatLevel*4,patternType:R[t.pattern]||"grid",patternSeed:qf(t.mood+t.symbolType),timeEffect:ru[e.timeSystem]||ru.unknown,exitStyle:su[e.exit]||su.unknown,brightness:S,animSpeed:t.particleStyle==="pulsing"?.8:t.particleStyle==="orbiting"?.6:.4,aiEnhanced:!0,aiMood:t.mood,aiSymbolType:t.symbolType,aiSymbolComplexity:t.symbolComplexity,aiSymbolRotation:t.symbolRotation,aiKeywords:t.keywords,particleStyle:t.particleStyle}}let n=240,r=50;if(e.environments&&e.environments.length>0){const w=e.environments.map(S=>JW[S]||{hue:200,saturation:50});n=w.reduce((S,k)=>S+k.hue,0)/w.length,r=w.reduce((S,k)=>S+k.saturation,0)/w.length}const s=Bw[e.threatLevel]||Bw[2],a=ru[e.timeSystem]||ru.unknown,i=zw[e.safetyOverride]||zw.unknown,o=su[e.exit]||su.unknown,c=e.entityCount,u=10+c*3+e.threatLevel*4,d=qf(e.world||"unknown"),h=qf(e.id),f=(d+h)%360,m=(n+e.threatLevel*15)%360,y=(m+30+c*10)%360,g=`hsl(${m}, ${Math.min(90,r+20)}%, ${25+e.threatLevel*3}%)`,x=`hsl(${y}, ${Math.min(85,r+10)}%, ${35+e.threatLevel*2}%)`,v=s.accent,b=d*h+e.threatLevel*100+c*50;return{primary:g,secondary:x,accent:v,gradientAngle:f,particleCount:u,patternType:i,patternSeed:b,timeEffect:a,exitStyle:o,brightness:a.brightness,animSpeed:a.animSpeed*(1+e.threatLevel*.15),aiEnhanced:!1,aiMood:null,aiSymbolType:null,aiSymbolComplexity:3,aiSymbolRotation:"slow",aiKeywords:[],particleStyle:"floating"}}function tH(e,t,n){const r=["dot"];return(e.includes("night")||e.includes("sunset"))&&r.push("star"),(e.includes("fog")||e.includes("sea"))&&r.push("ring"),t>=3&&r.push("triangle"),t>=4&&r.push("diamond"),n>0&&r.push("star","ring"),r}function bT({dream:e}){var ve,xe;const t=p.useRef(null),n=p.useRef(null),r=p.useRef(null),s=p.useRef([]),a=p.useRef([]),i=p.useRef(),o=p.useRef(0),c=p.useRef(0),u=p.useRef({width:0,height:0,fieldWidth:0,fieldHeight:0}),d=p.useRef(!0),h=e.id,f=e.world,m=e.threatLevel,y=e.timeSystem,g=e.safetyOverride,x=e.exit,v=(e.environments??[]).join("|"),b=((ve=e.entities)==null?void 0:ve.length)??0,w=p.useMemo(()=>ZW(e.date),[e.date]),S=p.useMemo(()=>`dream-${h}`,[h]),{style:k}=YW(e),E=k!=null,j=k==null?void 0:k.primaryHue,C=k==null?void 0:k.secondaryHue,P=k==null?void 0:k.accentHue,T=k==null?void 0:k.saturation,R=k==null?void 0:k.brightness,N=k==null?void 0:k.pattern,I=k==null?void 0:k.particleStyle,A=k==null?void 0:k.gradientAngle,H=k==null?void 0:k.mood,z=k==null?void 0:k.symbolType,B=k==null?void 0:k.symbolComplexity,_=k==null?void 0:k.symbolRotation,M=((xe=k==null?void 0:k.keywords)==null?void 0:xe.join(""))??"",D=p.useMemo(()=>E?{mood:H??"",primaryHue:j??0,secondaryHue:C??0,accentHue:P??0,saturation:T??0,brightness:R??"normal",pattern:N??"dots",particleStyle:I??"floating",gradientAngle:A??0,symbolType:z??"moon",symbolComplexity:B??1,symbolRotation:_??"none",keywords:M?M.split(""):[]}:null,[E,H,j,C,P,T,R,N,I,A,z,B,_,M]),L=p.useMemo(()=>v?v.split("|"):[],[v]),V=p.useMemo(()=>({id:h,world:f,threatLevel:m,timeSystem:y,safetyOverride:g,exit:x,environments:L,entityCount:b}),[h,f,m,y,g,x,L,b]),F=p.useMemo(()=>eH(V,D),[V,D]),J=p.useMemo(()=>tH(L,m,b),[L,m,b]),[K,ee]=p.useState(()=>({particleScale:.75,maxDpr:1.5,fps:30,spill:14,speedScale:1,enableSpill:!0,enablePattern:!0,enableMagnetic:!0,magneticStrength:.0026,magneticRadiusScale:1.1,enableFog:!0,fogLayerCount:4,fogSpeedScale:1,fogOpacity:1}));p.useEffect(()=>{var pt;if(typeof window>"u")return;const pe=((pt=window.matchMedia)==null?void 0:pt.call(window,"(prefers-reduced-motion: reduce)").matches)??!1,ue=(navigator.hardwareConcurrency||8)<=4,je={particleScale:pe?.35:ue?.55:.75,maxDpr:pe?1:ue?1.25:1.5,fps:pe?18:ue?24:30,spill:pe?10:14,speedScale:pe?.6:ue?.8:1,enableSpill:!pe,enablePattern:!pe,enableMagnetic:!pe,magneticStrength:ue?.0018:.0026,magneticRadiusScale:ue?.9:1.1,enableFog:!pe,fogLayerCount:ue?3:4,fogSpeedScale:ue?.8:1,fogOpacity:ue?.8:1};ee(_t=>Object.keys(je).every(un=>_t[un]===je[un])?_t:je)},[]);const U=K.spill,we=iu(F.accent,.45);p.useEffect(()=>{const pe=r.current;if(pe)return ki.set(S,{el:pe,rect:pe.getBoundingClientRect(),center:{x:0,y:0}}),xT(),()=>{ki.delete(S)}},[S]),p.useEffect(()=>{const pe=t.current;if(!pe)return;const Z=pe.getContext("2d");if(!Z)return;const ue=n.current,je=K.enableSpill&&ue?ue.getContext("2d"):null,pt=()=>{if(!K.enableFog){a.current=[];return}const{width:$,height:ge}=u.current;if(!$||!ge){a.current=[];return}const Y=[];for(let oe=0;oe<K.fogLayerCount;oe++){const de=$*(.35+Math.random()*.35),Se=ge*(.72+Math.random()*.18),Ee=Math.random()*$,Ze=(Math.random()*.12+.04)*(Math.random()<.5?-1:1)*K.fogSpeedScale,Ue=(.06+Math.random()*.06)*K.fogOpacity,ss=iu(F.secondary,Ue);Y.push({x:Ee,y:Se,radius:de,speed:Ze,opacity:Ue,color:ss})}a.current=Y},_t=()=>{const $=pe.getBoundingClientRect(),ge=Math.min(window.devicePixelRatio||1,K.maxDpr),Y=$.width+U*2,oe=$.height+U*2;u.current={width:$.width,height:$.height,fieldWidth:Y,fieldHeight:oe},pe.width=$.width*ge,pe.height=$.height*ge,Z.setTransform(1,0,0,1,0,0),Z.scale(ge,ge),ue&&je&&(ue.width=Y*ge,ue.height=oe*ge,je.setTransform(1,0,0,1,0,0),je.scale(ge,ge)),pt()};_t(),(()=>{const $=[],ge=Math.max(8,Math.round(F.particleCount*K.particleScale)),Y=K.speedScale;for(let oe=0;oe<ge;oe++){const de=(oe+F.patternSeed)%J.length;$.push({x:Math.random()*u.current.fieldWidth,y:Math.random()*u.current.fieldHeight,vx:(Math.random()-.5)*F.animSpeed*Y,vy:(Math.random()-.5)*F.animSpeed*Y,size:Math.random()*2.8+.8+e.threatLevel*.25,opacity:Math.random()*.45+.25+(F.brightness-1)*.25,type:J[de],color:oe%3===0?F.accent:oe%3===1?F.secondary:"#ffffff"})}s.current=$})();const un=($,ge,Y,oe)=>{$.save(),$.globalAlpha=.12*F.brightness,$.strokeStyle=F.accent,$.fillStyle=F.accent,$.lineWidth=.6;const de=F.patternSeed;switch(F.patternType){case"diagonal":for(let Se=0;Se<12;Se++){const Ee=(de+Se*20)%100-50+Math.sin(oe*.001+Se)*5;$.beginPath(),$.moveTo(Ee,0),$.lineTo(Ee+ge,Y),$.stroke()}break;case"circular":for(let Se=1;Se<=5;Se++){const Ee=(Se*30+Math.sin(oe*.002+Se)*10)*(de%3+1)/2;$.beginPath(),$.arc(ge/2,Y/2,Ee,0,Math.PI*2),$.stroke()}break;case"grid":{const Se=20+de%20;for(let Ee=0;Ee<ge;Ee+=Se)for(let Ze=0;Ze<Y;Ze+=Se){const Ue=Math.sin(oe*.002+Ee*.01+Ze*.01+de*.01)*3;$.beginPath(),$.arc(Ee+Ue,Ze+Ue,1.8,0,Math.PI*2),$.fill()}break}case"radial":{const Se=8+de%8;for(let Ee=0;Ee<Se;Ee++){const Ze=Ee/Se*Math.PI*2+oe*.001,Ue=80+Math.sin(oe*.003+Ee)*20;$.beginPath(),$.moveTo(ge/2,Y/2),$.lineTo(ge/2+Math.cos(Ze)*Ue,Y/2+Math.sin(Ze)*Ue),$.stroke()}break}case"noise":for(let Se=0;Se<40;Se++){const Ee=de*Se*7%ge,Ze=de*Se*11%Y+Math.sin(oe*.003+Se)*2,Ue=(de+Se)%3+1;$.globalAlpha=(.05+(de+Se)%10*.01)*F.brightness,$.beginPath(),$.arc(Ee,Ze,Ue,0,Math.PI*2),$.fill()}break}$.restore()},Me=($,ge,Y)=>{const oe=(Y==null?void 0:Y.alpha)??1,de=(Y==null?void 0:Y.blur)??1,Se=(Y==null?void 0:Y.offsetX)??0,Ee=(Y==null?void 0:Y.offsetY)??0,Ze=(Y==null?void 0:Y.color)??ge.color;$.save(),$.globalAlpha=ge.opacity*oe,$.fillStyle=Ze,$.strokeStyle=Ze,$.shadowBlur=ge.size*6*de,$.shadowColor=Ze;const{size:Ue,type:ss}=ge,et=ge.x+Se,We=ge.y+Ee;switch(ss){case"dot":$.beginPath(),$.arc(et,We,Ue,0,Math.PI*2),$.fill();break;case"star":{const De=Ue*1.8;$.beginPath(),$.moveTo(et,We-De),$.lineTo(et+De*.3,We),$.lineTo(et,We+De),$.lineTo(et-De*.3,We),$.closePath(),$.fill(),$.beginPath(),$.moveTo(et-De,We),$.lineTo(et+De,We),$.moveTo(et,We-De),$.lineTo(et,We+De),$.lineWidth=.3,$.stroke();break}case"ring":$.beginPath(),$.arc(et,We,Ue*1.5,0,Math.PI*2),$.lineWidth=.8,$.stroke();break;case"triangle":{const De=Ue*2;$.beginPath(),$.moveTo(et,We-De),$.lineTo(et+De*.866,We+De*.5),$.lineTo(et-De*.866,We+De*.5),$.closePath(),$.fill();break}case"diamond":{const De=Ue*1.5;$.beginPath(),$.moveTo(et,We-De),$.lineTo(et+De,We),$.lineTo(et,We+De),$.lineTo(et-De,We),$.closePath(),$.fill();break}}$.restore()},bt=($,ge,Y,oe)=>{!K.enableFog||a.current.length===0||($.save(),$.globalCompositeOperation="screen",a.current.forEach((de,Se)=>{de.x+=de.speed*oe,de.x<-de.radius&&(de.x=ge+de.radius),de.x>ge+de.radius&&(de.x=-de.radius);const Ee=Math.sin(o.current*4e-4+Se)*Y*.015,Ze=de.y+Ee,Ue=$.createRadialGradient(de.x,Ze,0,de.x,Ze,de.radius);Ue.addColorStop(0,de.color),Ue.addColorStop(1,"transparent"),$.fillStyle=Ue,$.fillRect(0,Y*.6,ge,Y*.4)}),$.restore())},lt=1e3/K.fps,Zt=$=>{if(document.hidden||!d.current){i.current=void 0;return}const ge=$-c.current;if(ge<lt){i.current=requestAnimationFrame(Zt);return}QW($),c.current=$,o.current+=ge;const{width:Y,height:oe,fieldWidth:de,fieldHeight:Se}=u.current;if(!Y||!oe){i.current=requestAnimationFrame(Zt);return}Z.clearRect(0,0,Y,oe),je&&je.clearRect(0,0,de,Se);const Ee=F.gradientAngle*Math.PI/180,Ze=Y/2-Math.cos(Ee)*Y,Ue=oe/2-Math.sin(Ee)*oe,ss=Y/2+Math.cos(Ee)*Y,et=oe/2+Math.sin(Ee)*oe,We=Z.createLinearGradient(Ze,Ue,ss,et);We.addColorStop(0,F.primary),We.addColorStop(.5,F.secondary),We.addColorStop(1,F.primary),Z.fillStyle=We,Z.fillRect(0,0,Y,oe);const De=Z.createRadialGradient(Y*.5,oe*.35,Y*.05,Y*.5,oe*.35,Y*.95);De.addColorStop(0,iu(F.accent,.22)),De.addColorStop(.5,iu(F.secondary,.12)),De.addColorStop(1,"transparent"),Z.save(),Z.globalCompositeOperation="screen",Z.fillStyle=De,Z.fillRect(0,0,Y,oe),Z.restore();const dn=Z.createLinearGradient(0,0,Y,oe);dn.addColorStop(0,"rgba(255,255,255,0.18)"),dn.addColorStop(.35,"rgba(255,255,255,0.04)"),dn.addColorStop(.7,"rgba(255,255,255,0)"),Z.save(),Z.globalCompositeOperation="soft-light",Z.fillStyle=dn,Z.fillRect(0,0,Y,oe),Z.restore();const ta=ge/16;K.enablePattern&&un(Z,Y,oe,o.current),bt(Z,Y,oe,ta);let le=null,Ne=K.magneticStrength;if(K.enableMagnetic){const he=ki.get(S);if(he){const en=Math.max(Y,oe)*K.magneticRadiusScale;let Wt=Number.POSITIVE_INFINITY,ut=null;ki.forEach((Ht,vc)=>{if(vc===S)return;const Ey=Ht.center.x-he.center.x,Cy=Ht.center.y-he.center.y,Nh=Math.sqrt(Ey*Ey+Cy*Cy);Nh<Wt&&Nh<en&&(Wt=Nh,ut=Ht.center)}),ut&&(le={x:ut.x-he.rect.left+U,y:ut.y-he.rect.top+U},Ne*=1-Wt/en)}}s.current.forEach(he=>{if(le){const Wt=le.x-he.x,ut=le.y-he.y,Ht=Math.max(1,Math.sqrt(Wt*Wt+ut*ut)),vc=Ne*ta;he.vx+=Wt/Ht*vc,he.vy+=ut/Ht*vc}const en=1-.002*ta;he.vx*=en,he.vy*=en,he.x+=he.vx*ta,he.y+=he.vy*ta,he.x<0&&(he.x=de),he.x>de&&(he.x=0),he.y<0&&(he.y=Se),he.y>Se&&(he.y=0),Me(Z,he,{offsetX:-U,offsetY:-U})}),je&&(je.save(),je.globalCompositeOperation="source-over",s.current.forEach(he=>{Me(je,he,{alpha:.35,blur:.7})}),je.globalCompositeOperation="lighter",s.current.forEach(he=>{Me(je,he,{alpha:.22,blur:1.6})}),je.restore());const Oe=Z.createRadialGradient(Y/2,oe,0,Y/2,oe,Y*.6);Oe.addColorStop(0,F.exitStyle.glow+"20"),Oe.addColorStop(1,"transparent"),Z.fillStyle=Oe,Z.fillRect(0,0,Y,oe);const At=Z.createRadialGradient(Y*.5,oe*.5,Y*.2,Y*.5,oe*.5,Y*.85);At.addColorStop(0,"rgba(0,0,0,0)"),At.addColorStop(.6,"rgba(0,0,0,0.1)"),At.addColorStop(1,"rgba(0,0,0,0.45)"),Z.fillStyle=At,Z.fillRect(0,0,Y,oe),i.current=requestAnimationFrame(Zt)},fr=()=>{i.current==null&&(c.current=performance.now(),i.current=requestAnimationFrame(Zt))},ct=()=>{i.current!=null&&(cancelAnimationFrame(i.current),i.current=void 0)};let Rt=null;typeof ResizeObserver<"u"?(Rt=new ResizeObserver(()=>{_t()}),Rt.observe(pe)):window.addEventListener("resize",_t);let Ar=null;typeof IntersectionObserver<"u"&&(Ar=new IntersectionObserver(([$])=>{d.current=$.isIntersecting,$.isIntersecting&&!document.hidden?fr():ct()},{threshold:.2}),Ar.observe(pe));const Va=()=>{document.hidden?ct():d.current&&fr()};return document.addEventListener("visibilitychange",Va),fr(),()=>{ct(),document.removeEventListener("visibilitychange",Va),Ar==null||Ar.disconnect(),Rt==null||Rt.disconnect(),window.removeEventListener("resize",_t)}},[F,J,e.threatLevel,K,U,S]);const Ie=e.environments&&e.environments.length>0,ke=e.entities&&e.entities.length>0;return l.jsx(cn,{to:`/logs/${e.id}`,className:"group block",children:l.jsxs("div",{className:"relative",children:[l.jsx("canvas",{ref:n,className:"absolute z-30 pointer-events-none opacity-20 group-hover:opacity-45 transition-opacity duration-300",style:{top:-U,left:-U,width:`calc(100% + ${U*2}px)`,height:`calc(100% + ${U*2}px)`,display:K.enableSpill?"block":"none",mixBlendMode:"normal"}}),l.jsxs("div",{className:"aspect-[2/3] rounded-2xl overflow-hidden relative z-10 isolate transition-shadow duration-300 border border-white/10",style:{boxShadow:"0 6px 16px rgba(2, 6, 23, 0.18), 0 0 0 1px rgba(255, 255, 255, 0.06)"},ref:r,children:[l.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full rounded-[inherit]",style:{width:"100%",height:"100%"}}),l.jsx("div",{className:"absolute inset-0 rounded-[inherit] bg-gradient-to-t from-black/80 via-black/30 to-black/10"}),l.jsx("div",{className:"absolute inset-0 rounded-[inherit] bg-gradient-to-br from-white/25 via-white/5 to-transparent opacity-70 mix-blend-screen pointer-events-none"}),l.jsx("div",{className:"absolute inset-0 rounded-[inherit] pointer-events-none shadow-[inset_0_0_0_1px_rgba(255,255,255,0.18),inset_0_-18px_32px_rgba(0,0,0,0.35)]"}),l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[8px] text-white/50 font-mono bg-black/30 px-1.5 py-0.5 rounded backdrop-blur-sm",children:e.id}),F.aiEnhanced&&l.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded backdrop-blur-sm bg-primary/30 text-primary-foreground",children:[l.jsx(Vt,{className:"w-2 h-2"}),"AI"]})]}),l.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${F.accent}30`},children:[l.jsx("span",{className:"text-[10px]",style:{color:F.accent},children:F.exitStyle.symbol}),l.jsxs("span",{className:"text-[9px] text-white/80 font-medium",children:["Lv.",e.threatLevel]})]})]}),e.timeSystem!=="unknown"&&l.jsx("div",{className:"absolute top-9 right-2",children:l.jsxs("div",{className:"flex items-center gap-0.5 px-1 py-0.5 rounded backdrop-blur-sm text-[8px]",style:{backgroundColor:e.timeSystem==="activated"?"rgba(96, 165, 250, 0.3)":"rgba(156, 163, 175, 0.2)",color:e.timeSystem==="activated"?"#60a5fa":"#9ca3af"},children:[l.jsx(Wr,{className:"w-2 h-2"}),e.timeSystem==="activated"?"ON":"OFF"]})}),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-3",children:[l.jsx("h3",{className:"font-bold text-base sm:text-lg text-center leading-snug text-white drop-shadow-lg line-clamp-2 mb-2",children:e.world||"Unknown"}),l.jsxs("div",{className:"flex flex-wrap gap-1 justify-center mb-2",children:[Ie&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${F.accent}20`,color:F.accent},children:[l.jsx(Qr,{className:"w-2 h-2"}),e.environments.length]}),ke&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${F.accent}20`,color:F.accent},children:[l.jsx(Cr,{className:"w-2 h-2"}),e.entities.length]}),e.safetyOverride!=="none"&&e.safetyOverride!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:"rgba(167, 139, 250, 0.2)",color:"#a78bfa"},children:[l.jsx(ic,{className:"w-2 h-2"}),e.safetyOverride]}),e.exit!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${F.exitStyle.glow}20`,color:F.exitStyle.glow},children:[l.jsx(G_,{className:"w-2 h-2"}),e.exit]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[l.jsx("div",{className:"h-px w-4 bg-gradient-to-r from-transparent to-white/40"}),l.jsx("div",{className:"w-1 h-1 rounded-full",style:{backgroundColor:F.accent}}),l.jsx("div",{className:"h-px w-4 bg-gradient-to-l from-transparent to-white/40"})]}),l.jsxs("div",{className:"text-center space-y-0.5",children:[l.jsx("p",{className:"text-[10px] text-white/60 font-light tracking-wider",children:w?Ft(w,"d MMM yyyy",{locale:Gs}):"-"}),e.wakeTime&&l.jsx("p",{className:"text-[9px] text-white/40",children:e.wakeTime})]})]}),l.jsx("div",{className:"absolute inset-0 rounded-[inherit] bg-gradient-to-tr from-transparent via-white/0 to-transparent group-hover:via-white/20 transition-all duration-700 transform translate-x-full group-hover:translate-x-0"}),l.jsx("div",{className:"absolute inset-0 rounded-[inherit] opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{boxShadow:`inset 0 0 40px ${we}`}})]})]})})}function wT({children:e,className:t="",staggerDelay:n=80,animationDuration:r=400}){const[s,a]=p.useState(new Set),[i,o]=p.useState(!1);return p.useEffect(()=>{if(i){a(new Set(e.map((u,d)=>d)));return}a(new Set);const c=[];return e.forEach((u,d)=>{const h=setTimeout(()=>{a(f=>new Set([...f,d])),d===e.length-1&&setTimeout(()=>o(!0),r)},d*n);c.push(h)}),()=>{c.forEach(clearTimeout)}},[e,n,r,i]),l.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 ${t}`,children:e.map((c,u)=>l.jsx("div",{className:"transition-all",style:{opacity:s.has(u)?1:0,marginTop:s.has(u)?"0px":"12px",transitionProperty:"opacity, margin-top",transitionDuration:`${r}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:c},u))})}function ou({title:e,dreams:t,colorClass:n,isExpanded:r,onToggle:s}){return t.length===0?null:l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-1 h-8 ${n} rounded-full`}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),r?l.jsx(eo,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Bs,{className:"w-5 h-5 text-muted-foreground"})]}),r&&l.jsx("div",{className:"p-4 pt-0 relative overflow-hidden isolate",children:l.jsx(wT,{staggerDelay:60,animationDuration:350,children:t.map(a=>l.jsx(bT,{dream:a},a.id))})})]})}function nH({worldName:e,dreams:t,isExpanded:n,onToggle:r}){return l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(e5,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),n?l.jsx(eo,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Bs,{className:"w-5 h-5 text-muted-foreground"})]}),n&&l.jsx("div",{className:"p-4 pt-0 relative overflow-hidden isolate",children:l.jsx(wT,{staggerDelay:60,animationDuration:350,children:t.map(s=>l.jsx(bT,{dream:s},s.id))})})]})}function rH({searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:s,currentPhenomenon:a,onChangePhenomenon:i,showDreamFilters:o=!0}){return l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Dream Library"}),a&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a.uiAccent}}),a.name]}),l.jsxs("span",{className:"opacity-60",children:["(",a.rarity,")"]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"text-sm text-muted-foreground",children:[s," "]})})]}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(r5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Vn,{placeholder:"...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r("date"),className:q("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="date"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(QS,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>r("world"),className:q("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="world"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(e5,{className:"w-4 h-4"}),""]})]})]})]})})}const Vw={stars:{gradient:"linear-gradient(90deg, #1e3a5f, #3b82f6, #60a5fa, #93c5fd)",glowColor:"#3b82f6",innerPattern:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.3) 1px, transparent 1px), radial-gradient(circle at 60% 30%, rgba(255,255,255,0.2) 1px, transparent 1px), radial-gradient(circle at 80% 70%, rgba(255,255,255,0.25) 1px, transparent 1px)"},fire:{gradient:"linear-gradient(90deg, #7f1d1d, #dc2626, #f97316, #fbbf24)",glowColor:"#f97316",innerPattern:"repeating-linear-gradient(90deg, transparent, transparent 4px, rgba(255,200,100,0.1) 4px, rgba(255,200,100,0.1) 8px)"},snow:{gradient:"linear-gradient(90deg, #e0f2fe, #bae6fd, #7dd3fc, #38bdf8)",glowColor:"#38bdf8",innerPattern:"radial-gradient(circle at 30% 40%, rgba(255,255,255,0.5) 1px, transparent 1px), radial-gradient(circle at 70% 60%, rgba(255,255,255,0.4) 1px, transparent 1px)"},crystals:{gradient:"linear-gradient(90deg, #312e81, #4f46e5, #818cf8, #c4b5fd)",glowColor:"#818cf8",innerPattern:"linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 45%, rgba(255,255,255,0.1) 55%, transparent 60%)"},void:{gradient:"linear-gradient(90deg, #0f0f0f, #1f1f3a, #2d1b4e, #4c1d95)",glowColor:"#7c3aed",innerPattern:"radial-gradient(ellipse at 50% 50%, rgba(139,92,246,0.2) 0%, transparent 70%)"},blood:{gradient:"linear-gradient(90deg, #450a0a, #7f1d1d, #b91c1c, #dc2626)",glowColor:"#dc2626",innerPattern:"repeating-linear-gradient(180deg, transparent, transparent 2px, rgba(0,0,0,0.2) 2px, rgba(0,0,0,0.2) 4px)"},aurora:{gradient:"linear-gradient(90deg, #22c55e, #14b8a6, #06b6d4, #8b5cf6, #ec4899)",glowColor:"#14b8a6",innerPattern:"linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(255,255,255,0.05) 100%)"},lightning:{gradient:"linear-gradient(90deg, #0c4a6e, #0284c7, #38bdf8, #fef08a)",glowColor:"#fef08a",innerPattern:"linear-gradient(135deg, transparent 40%, rgba(254,240,138,0.3) 45%, transparent 50%)"},pixels:{gradient:"linear-gradient(90deg, #2b1152, #5c2a8a, #ff9ad5, #ffcf9b)",glowColor:"#ff9ad5",borderStyle:"2px solid rgba(255,190,140,0.5)",innerPattern:"repeating-linear-gradient(90deg, rgba(255,255,255,0.15) 0 2px, rgba(255,255,255,0) 2px 6px)"},mythic:{gradient:"linear-gradient(90deg, #581c87, #9333ea, #c026d3, #f472b6)",glowColor:"#c026d3",borderStyle:"2px solid rgba(192,38,211,0.5)",innerPattern:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"},legendary:{gradient:"linear-gradient(90deg, #78350f, #d97706, #f59e0b, #fcd34d)",glowColor:"#f59e0b",borderStyle:"2px solid rgba(245,158,11,0.5)",innerPattern:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%)"},very_rare:{gradient:"linear-gradient(90deg, #1e3a8a, #3b82f6, #60a5fa, #a78bfa)",glowColor:"#60a5fa",borderStyle:"1px solid rgba(96,165,250,0.4)",innerPattern:"radial-gradient(circle at 80% 50%, rgba(167,139,250,0.3) 0%, transparent 50%)"},rare:{gradient:"linear-gradient(90deg, #065f46, #059669, #10b981, #6ee7b7)",glowColor:"#10b981",borderStyle:"1px solid rgba(16,185,129,0.4)"},normal:{gradient:"linear-gradient(90deg, #374151, #4b5563, #6b7280, #9ca3af)",glowColor:"#6b7280"}},Uw={stars:{shimmerDuration:3,sparkleAnimation:!0},fire:{shimmerDuration:.8,waveAnimation:!0},snow:{shimmerDuration:4,sparkleAnimation:!0},crystals:{shimmerDuration:2.5,pulseAnimation:!0},void:{shimmerDuration:5,pulseAnimation:!0},blood:{shimmerDuration:1.5,waveAnimation:!0},aurora:{shimmerDuration:6,waveAnimation:!0},lightning:{shimmerDuration:.3,sparkleAnimation:!0},pixels:{shimmerDuration:2.2,sparkleAnimation:!0},mythic:{shimmerDuration:2,pulseAnimation:!0,sparkleAnimation:!0},legendary:{shimmerDuration:1.5,waveAnimation:!0,sparkleAnimation:!0},very_rare:{shimmerDuration:2.5,sparkleAnimation:!0},rare:{shimmerDuration:3},normal:{shimmerDuration:4}};function ST({value:e,max:t=100,particleConfig:n,className:r,height:s=12,showGlow:a=!0,animated:i=!0,label:o,variant:c}){const u=p.useRef(null),d=p.useRef([]),h=p.useRef(),f=Math.min(100,Math.max(0,e/t*100)),m=c||(n==null?void 0:n.type)||"normal",y=m==="pixels",g=Vw[m]||Vw.normal,x=Uw[m]||Uw.normal,v=p.useMemo(()=>n?(E,j,C,P)=>{const T=n,N=Math.random()>.6&&T.secondaryColor?T.secondaryColor:T.color;let I=0,A=0,H=2,z=0,B=0;switch(T.type){case"stars":I=(Math.random()-.5)*T.speed*.5,A=(Math.random()-.3)*T.speed*.3,H=Math.random()*3+1,z=Math.random()*Math.PI*2,B=(Math.random()-.5)*.1;break;case"fire":I=(Math.random()-.5)*T.speed*.3,A=-Math.random()*T.speed*2,H=Math.random()*4+2;break;case"snow":I=(Math.random()-.5)*T.speed*.2,A=Math.random()*T.speed*.5,H=Math.random()*3+1,z=Math.random()*Math.PI*2,B=(Math.random()-.5)*.05;break;case"crystals":I=(Math.random()-.5)*T.speed*.4,A=(Math.random()-.5)*T.speed*.4,H=Math.random()*4+2,z=Math.random()*Math.PI*2,B=(Math.random()-.5)*.08;break;case"void":I=(Math.random()-.5)*T.speed*2,A=(Math.random()-.5)*T.speed*2,H=Math.random()*2+1;break;case"blood":I=(Math.random()-.5)*T.speed*.3,A=Math.random()*T.speed*.8,H=Math.random()*3+2;break;case"aurora":I=T.speed*.5,A=Math.sin(E*.1)*T.speed*.3,H=Math.random()*5+3;break;case"lightning":I=(Math.random()-.5)*T.speed*4,A=(Math.random()-.5)*T.speed*4,H=Math.random()*2+1;break;case"pixels":I=(Math.random()-.5)*T.speed*.6,A=(Math.random()-.7)*T.speed*.6,H=Math.random()*3+2;break}return{x:E+C*f/100,y:j+P/2+(Math.random()-.5)*P*.8,vx:I,vy:A,size:H,opacity:Math.random()*.8+.2,color:N,life:0,maxLife:30+Math.random()*30,rotation:z,rotationSpeed:B}}:null,[n,f]);p.useEffect(()=>{if(!i||!u.current||!n)return;const E=u.current,j=E.getContext("2d");if(!j)return;n.type==="pixels"&&(j.imageSmoothingEnabled=!1);const C=E.getBoundingClientRect();E.width=C.width*window.devicePixelRatio,E.height=C.height*window.devicePixelRatio,j.scale(window.devicePixelRatio,window.devicePixelRatio);const P=C.width,T=C.height,R=()=>{j.clearRect(0,0,P,T),v&&Math.random()<n.density*.3&&d.current.push(v(0,0,P,T)),d.current=d.current.filter(N=>{N.x+=N.vx,N.y+=N.vy,N.life++,N.rotation!==void 0&&N.rotationSpeed!==void 0&&(N.rotation+=N.rotationSpeed);const I=N.life/N.maxLife,A=N.opacity*(1-I);if(A<=0)return!1;switch(j.save(),j.translate(N.x,N.y),N.rotation!==void 0&&j.rotate(N.rotation),n.glow&&(j.shadowColor=N.color,j.shadowBlur=N.size*3),j.fillStyle=N.color,j.globalAlpha=A,n.type){case"crystals":j.beginPath(),j.moveTo(0,-N.size),j.lineTo(N.size*.7,0),j.lineTo(0,N.size),j.lineTo(-N.size*.7,0),j.closePath(),j.fill(),j.fillStyle="rgba(255,255,255,0.5)",j.beginPath(),j.moveTo(0,-N.size*.5),j.lineTo(N.size*.3,0),j.lineTo(0,N.size*.3),j.closePath(),j.fill();break;case"stars":sH(j,0,0,5,N.size,N.size*.4);break;case"lightning":j.beginPath(),j.moveTo(0,0),j.lineTo(N.vx*3,N.vy*3),j.strokeStyle=N.color,j.lineWidth=N.size*.5,j.lineCap="round",j.stroke(),Math.random()>.7&&(j.beginPath(),j.moveTo(N.vx*1.5,N.vy*1.5),j.lineTo(N.vx*2+(Math.random()-.5)*4,N.vy*2+(Math.random()-.5)*4),j.lineWidth=N.size*.3,j.stroke());break;case"pixels":j.imageSmoothingEnabled=!1,j.fillRect(-N.size/2,-N.size/2,N.size,N.size),j.fillStyle="rgba(255,255,255,0.5)",j.fillRect(-N.size/2+1,-N.size/2+1,Math.max(1,N.size*.4),Math.max(1,N.size*.4));break;case"fire":j.beginPath(),j.moveTo(0,-N.size),j.bezierCurveTo(N.size,-N.size*.5,N.size,N.size*.5,0,N.size),j.bezierCurveTo(-N.size,N.size*.5,-N.size,-N.size*.5,0,-N.size),j.fill();break;case"snow":for(let H=0;H<6;H++)j.save(),j.rotate(Math.PI/3*H),j.beginPath(),j.moveTo(0,0),j.lineTo(0,-N.size),j.strokeStyle=N.color,j.lineWidth=N.size*.2,j.stroke(),j.restore();break;case"void":j.beginPath(),j.arc(0,0,N.size,0,Math.PI*2),j.fill(),j.beginPath(),j.arc(0,0,N.size*.5,0,Math.PI*2),j.fillStyle="rgba(0,0,0,0.5)",j.fill();break;case"aurora":j.beginPath(),j.ellipse(0,0,N.size*2,N.size*.5,0,0,Math.PI*2),j.fill();break;case"blood":j.beginPath(),j.arc(0,0,N.size,0,Math.PI*2),j.fill(),j.beginPath(),j.arc(N.size*.3,-N.size*.3,N.size*.3,0,Math.PI*2),j.fillStyle="rgba(255,100,100,0.5)",j.fill();break;default:j.beginPath(),j.arc(0,0,N.size,0,Math.PI*2),j.fill()}return j.restore(),!0}),d.current.length>60&&(d.current=d.current.slice(-60)),h.current=requestAnimationFrame(R)};return R(),()=>{h.current&&cancelAnimationFrame(h.current)}},[i,n,v]),n!=null&&n.color;const b=n?g.gradient:"hsl(var(--primary))",w=y?"rounded-md":"rounded-full",S=y?"pixel-bar":"",k=y?"repeating-linear-gradient(90deg, rgba(255,255,255,0.08) 0 2px, rgba(255,255,255,0) 2px 6px)":"repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)";return l.jsxs("div",{className:q("relative w-full",r),children:[o&&l.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-xs",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:o}),l.jsxs("span",{className:"text-foreground font-semibold",children:[Math.round(f),"%"]})]}),l.jsxs("div",{className:q("relative overflow-hidden bg-secondary/50 backdrop-blur-sm",w,S),style:{height:s,border:g.borderStyle,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.2)"},children:[l.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:k}}),l.jsxs(Ke.div,{className:q("h-full relative overflow-hidden",w),initial:{width:0},animate:{width:`${f}%`},transition:{duration:.8,ease:"easeOut"},style:{background:b,boxShadow:a&&(n!=null&&n.glow)?`0 0 12px ${g.glowColor}, 0 0 24px ${g.glowColor}50, inset 0 1px 0 rgba(255,255,255,0.3)`:"inset 0 1px 0 rgba(255,255,255,0.3)"},children:[g.innerPattern&&l.jsx("div",{className:"absolute inset-0",style:{background:g.innerPattern}}),i&&x.pulseAnimation&&f>0&&l.jsx(Ke.div,{className:"absolute inset-0 rounded-full",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{background:`radial-gradient(ellipse at 70% 50%, ${g.glowColor}40, transparent 70%)`}}),i&&x.waveAnimation&&f>0&&l.jsx(Ke.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:x.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",width:"50%"}}),i&&x.sparkleAnimation&&f>0&&l.jsxs(l.Fragment,{children:[l.jsx(Ke.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:1.5,repeat:1/0,delay:0},style:{left:"20%",top:"30%"}}),l.jsx(Ke.div,{className:"absolute w-0.5 h-0.5 rounded-full bg-white",animate:{opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2,repeat:1/0,delay:.5},style:{left:"50%",top:"60%"}}),l.jsx(Ke.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:1.8,repeat:1/0,delay:1},style:{left:"75%",top:"40%"}})]}),i&&f>0&&l.jsx(Ke.div,{className:"absolute inset-0",animate:{x:["-200%","200%"]},transition:{duration:x.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.15) 25%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0.15) 75%, transparent 100%)",width:"100%"}}),a&&f>5&&l.jsx(Ke.div,{className:"absolute right-0 top-0 bottom-0 w-4",animate:{opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},style:{background:`linear-gradient(90deg, transparent, ${g.glowColor})`}})]}),i&&n&&l.jsx("canvas",{ref:u,className:"absolute inset-0 w-full h-full pointer-events-none",style:{height:s*4,top:-s*1.5}}),f>0&&f<100&&l.jsx(Ke.div,{className:"absolute top-0 bottom-0 w-0.5",initial:{opacity:0},animate:{opacity:[.5,1,.5],left:`${f}%`},transition:{opacity:{duration:1,repeat:1/0},left:{duration:.8,ease:"easeOut"}},style:{background:"rgba(255,255,255,0.8)",boxShadow:`0 0 4px ${g.glowColor}`}})]})]})}function sH(e,t,n,r,s,a){let i=Math.PI/2*3;const o=Math.PI/r;e.beginPath(),e.moveTo(t,n-s);for(let c=0;c<r;c++){let u=t+Math.cos(i)*s,d=n+Math.sin(i)*s;e.lineTo(u,d),i+=o,u=t+Math.cos(i)*a,d=n+Math.sin(i)*a,e.lineTo(u,d),i+=o}e.lineTo(t,n-s),e.closePath(),e.fill()}var gy="Progress",yy=100,[aH]=Un(gy),[iH,oH]=aH(gy),kT=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=lH,...i}=e;(s||s===0)&&!Ww(s)&&console.error(cH(`${s}`,"Progress"));const o=Ww(s)?s:yy;r!==null&&!Hw(r,o)&&console.error(uH(`${r}`,"Progress"));const c=Hw(r,o)?r:null,u=Cd(c)?a(c,o):void 0;return l.jsx(iH,{scope:n,value:c,max:o,children:l.jsx(ne.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Cd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":CT(c,o),"data-value":c??void 0,"data-max":o,...i,ref:t})})});kT.displayName=gy;var jT="ProgressIndicator",ET=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=oH(jT,n);return l.jsx(ne.div,{"data-state":CT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});ET.displayName=jT;function lH(e,t){return`${Math.round(e/t*100)}%`}function CT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cd(e){return typeof e=="number"}function Ww(e){return Cd(e)&&!isNaN(e)&&e>0}function Hw(e,t){return Cd(e)&&!isNaN(e)&&e<=t&&e>=0}function cH(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yy}\`.`}function uH(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TT=kT,dH=ET;const NT=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(TT,{ref:r,className:q("progress-root relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(dH,{className:"progress-indicator h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));NT.displayName=TT.displayName;const Xf={mythic:"from-purple-500 via-pink-500 to-rose-500",legendary:"from-amber-400 via-orange-500 to-red-500",very_rare:"from-blue-400 via-indigo-500 to-purple-500",rare:"from-cyan-400 via-teal-500 to-emerald-500",normal:"from-slate-400 via-gray-500 to-zinc-500"},hH={mythic:"Mythic",legendary:"Legendary",very_rare:"Very Rare",rare:"Rare",normal:"Normal"},fH=[{type:"stars",label:"Starfall",color:"#3b82f6",secondary:"#93c5fd",value:75},{type:"fire",label:"Inferno",color:"#f97316",secondary:"#fbbf24",value:85},{type:"snow",label:"Frostbite",color:"#38bdf8",secondary:"#e0f2fe",value:70},{type:"crystals",label:"Crystal",color:"#818cf8",secondary:"#c4b5fd",value:80},{type:"void",label:"Void",color:"#7c3aed",secondary:"#4c1d95",value:65},{type:"aurora",label:"Aurora",color:"#14b8a6",secondary:"#ec4899",value:90},{type:"lightning",label:"Thunder",color:"#fef08a",secondary:"#38bdf8",value:78},{type:"blood",label:"Crimson",color:"#dc2626",secondary:"#b91c1c",value:72},{type:"pixels",label:"Pixel Dream",color:"#ffbfa3",secondary:"#ff8fd6",value:88}],mH={"--codex-ink":"9, 11, 23","--codex-aurora":"90, 209, 255","--codex-ember":"255, 183, 110","--codex-orchid":"194, 132, 255"},pH={fontFamily:'"DM Serif Display", "Space Grotesk", serif'},Gw={fontFamily:'"Space Grotesk", "Inter", sans-serif'},Kw={hidden:{},show:{transition:{staggerChildren:.08}}},Io={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:{duration:.5,ease:[.22,1,.36,1]}}},gH=G.memo(function({moon:t,entry:n,isExpanded:r,onToggleExpand:s,onToggleFavorite:a,onToggleLock:i,onAddBoost:o,particles:c}){return l.jsxs("div",{className:q("rounded-2xl border overflow-hidden","bg-white/5 backdrop-blur-sm","shadow-[0_12px_40px_rgba(6,8,20,0.45)]"),style:{borderColor:(c==null?void 0:c.color)+"40",boxShadow:c!=null&&c.glow?`0 0 20px ${c.color}20`:void 0},children:[l.jsxs("button",{onClick:s,className:"w-full p-4 flex items-center gap-3 hover:bg-white/10 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{background:c?`linear-gradient(135deg, ${c.color}, ${c.secondaryColor||c.color})`:"hsl(var(--primary))",boxShadow:c!=null&&c.glow?`0 0 14px ${c.color}55`:"0 0 12px rgba(255,255,255,0.15)"},children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 text-left min-w-0",children:[l.jsx("div",{className:"font-semibold text-white truncate",children:t.name}),l.jsx("div",{className:"text-xs text-white/60 truncate",children:t.nameEn})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs(Re,{variant:"secondary",className:"bg-gradient-to-r from-cyan-400/20 to-amber-300/20 text-white",children:["",(n==null?void 0:n.encounterCount)||0]}),r?l.jsx(eo,{className:"h-4 w-4"}):l.jsx(Bs,{className:"h-4 w-4"})]})]}),r&&l.jsx("div",{className:"border-t animate-fade-in",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("p",{className:"text-sm italic text-muted-foreground",children:['"',t.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ZS,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"truncate",children:"First seen:"}),l.jsx("span",{className:"text-muted-foreground truncate",children:n!=null&&n.firstEncountered?new Date(n.firstEncountered).toLocaleDateString("th-TH"):"-"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"truncate",children:"Last seen:"}),l.jsx("span",{className:"text-muted-foreground truncate",children:n!=null&&n.lastEncountered?new Date(n.lastEncountered).toLocaleDateString("th-TH"):"-"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Theme Duration Boost"}),l.jsxs("span",{className:"text-muted-foreground",children:["+",yH((n==null?void 0:n.themeDurationBoost)||0)," (max 1 day)"]})]}),l.jsx(ST,{value:(n==null?void 0:n.themeDurationBoost)||0,max:86400,particleConfig:c,height:10,animated:!1}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Pe,{size:"sm",variant:"outline",onClick:()=>o(3600),disabled:((n==null?void 0:n.encounterCount)??0)<5||((n==null?void 0:n.themeDurationBoost)||0)>=86400,title:((n==null?void 0:n.encounterCount)??0)<5?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,className:"flex-1",children:[l.jsx(Wr,{className:"h-3 w-3 mr-1"}),"+1h"]}),l.jsxs(Pe,{size:"sm",variant:"outline",onClick:()=>o(21600),disabled:((n==null?void 0:n.encounterCount)??0)<5||((n==null?void 0:n.themeDurationBoost)||0)>=86400,title:((n==null?void 0:n.encounterCount)??0)<5?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,className:"flex-1",children:[l.jsx(Wr,{className:"h-3 w-3 mr-1"}),"+6h"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Pe,{size:"sm",variant:n!=null&&n.isLocked?"default":"outline",onClick:i,disabled:((n==null?void 0:n.encounterCount)??0)<5&&!(n!=null&&n.isLocked),className:q("flex-1",(n==null?void 0:n.isLocked)&&"bg-amber-500 hover:bg-amber-600 text-white"),title:((n==null?void 0:n.encounterCount)??0)<5&&!(n!=null&&n.isLocked)?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,children:n!=null&&n.isLocked?l.jsxs(l.Fragment,{children:[l.jsx(rl,{className:"h-4 w-4 mr-2"}),"Unlock Theme"]}):l.jsxs(l.Fragment,{children:[l.jsx(H_,{className:"h-4 w-4 mr-2"}),((n==null?void 0:n.encounterCount)??0)<5?`Lock (${(n==null?void 0:n.encounterCount)??0}/5)`:"Lock Theme"]})}),l.jsxs(Pe,{size:"sm",variant:n!=null&&n.isFavorite?"default":"outline",onClick:a,className:"flex-1",children:[l.jsx(U_,{className:q("h-4 w-4 mr-2",(n==null?void 0:n.isFavorite)&&"fill-current")}),n!=null&&n.isFavorite?"Unfavorite":"Favorite"]})]}),(n==null?void 0:n.isLocked)&&l.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[l.jsx(rl,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Theme Locked"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This moon will always be your theme. No random re-rolling."})]})]})})]})});function yH(e){return e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m`:e<86400?`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`:`${Math.floor(e/86400)}d ${Math.floor(e%86400/3600)}h`}function vH({className:e,compact:t=!1}){const{collection:n,getMythicMoons:r,getStats:s,toggleFavorite:a,toggleLock:i,addDurationBoost:o,getParticleConfig:c}=Lk(),[u,d]=p.useState(null),[h,f]=p.useState(!1),[m,y]=p.useState(!1),g=p.useMemo(()=>r(),[r]),x=p.useMemo(()=>s(),[s]),v=p.useMemo(()=>g.filter(S=>S.discovered),[g]),b=p.useMemo(()=>g.filter(S=>!S.discovered),[g]),w=p.useMemo(()=>({mythic:{count:x.mythicCount,max:g.length},legendary:{count:x.legendaryCount,max:Object.values(Dn).filter(S=>S.rarity==="legendary").length},very_rare:{count:x.veryRareCount,max:Object.values(Dn).filter(S=>S.rarity==="very_rare").length},rare:{count:x.rareCount,max:Object.values(Dn).filter(S=>S.rarity==="rare").length},normal:{count:x.normalCount,max:Object.values(Dn).filter(S=>S.rarity==="normal").length}}),[x,g.length]);return t?l.jsxs("div",{className:q("space-y-3",e),style:Gw,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Mythic Collection"})]}),l.jsxs(Re,{variant:"secondary",children:[x.mythicCount," / ",g.length]})]}),l.jsx(NT,{value:x.mythicCount/g.length*100,className:"h-2"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.slice(0,6).map(S=>l.jsx("div",{className:q("w-8 h-8 rounded-full flex items-center justify-center text-xs",S.discovered?"bg-gradient-to-br "+Xf.mythic:"bg-muted"),title:S.discovered?S.name:"???",children:S.discovered?l.jsx("span",{className:"text-white",children:""}):l.jsx(rl,{className:"h-3 w-3 text-muted-foreground"})},S.id)),g.length>6&&l.jsxs("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",g.length-6]})]})]}):l.jsxs("section",{className:q("relative overflow-hidden rounded-[28px] border border-white/10 p-5 sm:p-8 text-white",e),style:mH,children:[l.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(900px 480px at 10% -10%, rgba(var(--codex-aurora), 0.35), transparent 60%), radial-gradient(700px 420px at 90% 5%, rgba(var(--codex-orchid), 0.28), transparent 55%), linear-gradient(160deg, rgba(var(--codex-ink), 1) 0%, rgba(11, 10, 26, 1) 100%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.08) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)",backgroundSize:"48px 48px"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen animate-[auroraShift_18s_linear_infinite]",style:{backgroundImage:"linear-gradient(120deg, rgba(var(--codex-aurora),0.25), rgba(var(--codex-ember),0.18), rgba(var(--codex-orchid),0.22))",backgroundSize:"200% 200%"}}),l.jsx("div",{className:"absolute -top-24 -right-20 h-56 w-56 rounded-full bg-cyan-400/20 blur-3xl"}),l.jsx("div",{className:"absolute -bottom-32 -left-24 h-72 w-72 rounded-full bg-amber-300/10 blur-[90px]"}),l.jsxs("div",{className:"relative z-10 space-y-10",style:Gw,children:[l.jsxs(Ke.div,{className:"grid gap-6 lg:grid-cols-[1.2fr_0.8fr]",variants:Kw,initial:"hidden",animate:"show",children:[l.jsxs(Ke.div,{variants:Io,className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur-md",children:[l.jsxs("div",{className:"flex flex-col gap-5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-14 w-14 rounded-2xl border border-white/20 bg-gradient-to-br from-cyan-300/30 via-white/10 to-amber-200/20 flex items-center justify-center shadow-[0_0_20px_rgba(90,209,255,0.25)]",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("div",{className:"absolute -bottom-2 -right-2 h-6 w-6 rounded-full border border-white/30 bg-white/10 backdrop-blur"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-white/50",children:"Mythic Archive"}),l.jsx("h3",{className:"text-3xl sm:text-4xl text-white",style:pH,children:"Mythic Codex"}),l.jsx("p",{className:"text-sm text-white/70 max-w-md",children:"A living ledger of lunar anomalies. Each encounter reshapes your mythic signature."})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs text-white/80",children:["Rank ",x.completionPercent,"%"]}),l.jsxs("span",{className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs text-white/80",children:[x.totalEncounters," Encounters"]})]})]}),l.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:grid-cols-4",children:[{label:"Total Encounters",value:x.totalEncounters,hint:"dream logs",tint:"rgba(var(--codex-ember),0.18)"},{label:"Completion",value:`${x.completionPercent}%`,hint:"overall",tint:"rgba(var(--codex-aurora),0.18)"},{label:"Discovered",value:x.totalDiscovered,hint:`of ${Object.keys(Dn).length}`,tint:"rgba(var(--codex-orchid),0.18)"},{label:"Mythic",value:x.mythicCount,hint:`${g.length} total`,tint:"rgba(var(--codex-ember),0.12)"}].map(S=>l.jsxs("div",{className:"rounded-2xl border border-white/10 px-3 py-3",style:{background:`linear-gradient(135deg, ${S.tint} 0%, rgba(255,255,255,0.03) 65%)`},children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.2em] text-white/50",children:S.label}),l.jsx("div",{className:"mt-2 text-xl font-semibold text-white",children:S.value}),l.jsx("div",{className:"text-[11px] text-white/55",children:S.hint})]},S.label))})]}),l.jsxs(Ke.div,{variants:Io,className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-white/50",children:"Collection Status"}),l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Lunar Registry"})]}),l.jsxs(Re,{className:"bg-white/10 text-white border border-white/15",children:[x.completionPercent,"% Complete"]})]}),l.jsxs("div",{className:"mt-5 space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-xs text-white/70",children:[l.jsx("span",{children:"Collection Progress"}),l.jsxs("span",{children:[x.totalDiscovered," / ",Object.keys(Dn).length]})]}),l.jsx("div",{className:"h-2.5 rounded-full bg-white/10 overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-cyan-300 via-indigo-300 to-amber-200 transition-all duration-500",style:{width:`${x.completionPercent}%`}})})]}),l.jsx("div",{className:"mt-6 space-y-3",children:["mythic","legendary","very_rare","rare","normal"].map(S=>{const{count:k,max:E}=w[S],j=E>0?k/E*100:0;return l.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 px-3 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70",children:[l.jsx("span",{className:q("font-medium px-2 py-0.5 rounded-full bg-gradient-to-r text-white",Xf[S]),children:hH[S]}),l.jsxs("span",{children:[k," / ",E]})]}),l.jsx("div",{className:"mt-2 h-2 rounded-full bg-white/10 overflow-hidden",children:l.jsx("div",{className:q("h-full rounded-full bg-gradient-to-r transition-all duration-500",Xf[S]),style:{width:`${j}%`}})})]},S)})})]})]}),l.jsxs(Ke.div,{variants:Kw,initial:"hidden",animate:"show",className:"space-y-8",children:[l.jsxs(Ke.div,{variants:Io,className:"rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur-md",children:[l.jsxs("button",{onClick:()=>y(!m),className:"w-full flex items-center justify-between text-xs font-medium text-white/70 hover:text-white transition-colors",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"h-3 w-3"}),"Particle Effect Showcase"]}),m?l.jsx(eo,{className:"h-4 w-4"}):l.jsx(Bs,{className:"h-4 w-4"})]}),l.jsx(Dp,{initial:!1,children:m&&l.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeOut"},className:"overflow-hidden",children:l.jsx("div",{className:"grid gap-3 mt-4",children:fH.map(S=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[10px] text-white/50 uppercase tracking-wider",children:S.label}),l.jsx(ST,{value:S.value,max:100,variant:S.type,height:14,showGlow:!0,animated:!0,particleConfig:{type:S.type,color:S.color,secondaryColor:S.secondary,density:.6,speed:1.2,glow:!0}})]},S.type))})})})]}),l.jsxs(Ke.div,{variants:Io,className:"rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[l.jsx(Xm,{className:"h-4 w-4 text-amber-300"}),"Discovered Mythic Moons (",v.length,")"]}),l.jsx("span",{className:"text-xs text-white/60",children:"Tap a moon to reveal its archive"})]}),l.jsx("div",{className:"mt-4 space-y-3",children:v.map(S=>{const k=n[S.id],E=u===S.id,j=c(S.id);return l.jsx(gH,{moon:S,entry:k,isExpanded:E,onToggleExpand:()=>d(E?null:S.id),onToggleFavorite:()=>a(S.id),onToggleLock:()=>i(S.id),onAddBoost:C=>o(S.id,C),particles:j},S.id)})}),v.length===0&&l.jsxs("div",{className:"text-center py-10 text-white/60",children:[l.jsx(Vt,{className:"h-8 w-8 mx-auto mb-2 opacity-70"}),l.jsx("p",{children:"No Mythic moons discovered yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Keep exploring to find rare moon phenomena!"})]})]}),l.jsxs(Ke.div,{variants:Io,className:"rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur-md",children:[l.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between text-sm font-medium text-white",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(rl,{className:"h-4 w-4 text-white/70"}),"Undiscovered (",b.length,")"]}),h?l.jsx(eo,{className:"h-4 w-4"}):l.jsx(Bs,{className:"h-4 w-4"})]}),l.jsx(Dp,{initial:!1,children:h&&l.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeOut"},className:"overflow-hidden",children:l.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:b.map(S=>l.jsxs("div",{className:"p-3 rounded-2xl bg-black/30 border border-dashed border-white/15 flex items-center gap-2",children:[l.jsx(rl,{className:"h-4 w-4 text-white/50 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-white/60 truncate",children:"???"})]},S.id))})})})]})]})]})]})}var Qf="rovingFocusGroup.onEntryFocus",xH={bubbles:!1,cancelable:!0},yc="RovingFocusGroup",[Qp,PT,bH]=Hd(yc),[wH,MT]=Un(yc,[bH]),[SH,kH]=wH(yc),_T=p.forwardRef((e,t)=>l.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(jH,{...e,ref:t})})}));_T.displayName=yc;var jH=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=ye(t,f),y=hc(a),[g,x]=zs({prop:i,defaultProp:o??null,onChange:c,caller:yc}),[v,b]=p.useState(!1),w=vt(u),S=PT(n),k=p.useRef(!1),[E,j]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Qf,w),()=>C.removeEventListener(Qf,w)},[w]),l.jsx(SH,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(C=>x(C),[x]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>j(C=>C-1),[]),children:l.jsx(ne.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{k.current=!0}),onFocus:Q(e.onFocus,C=>{const P=!k.current;if(C.target===C.currentTarget&&P&&!v){const T=new CustomEvent(Qf,xH);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=S().filter(z=>z.focusable),N=R.find(z=>z.active),I=R.find(z=>z.id===g),H=[N,I,...R].filter(Boolean).map(z=>z.ref.current);DT(H,d)}}k.current=!1}),onBlur:Q(e.onBlur,()=>b(!1))})})}),RT="RovingFocusGroupItem",AT=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...o}=e,c=Os(),u=a||c,d=kH(RT,n),h=d.currentTabStopId===u,f=PT(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),l.jsx(Qp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(ne.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Q(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=TH(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=d.loop?NH(w,S+1):w.slice(S+1)}setTimeout(()=>DT(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});AT.displayName=RT;var EH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TH(e,t,n){const r=CH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EH[r]}function DT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var PH=_T,MH=AT,Eh="Tabs",[_H]=Un(Eh,[MT]),OT=MT(),[RH,vy]=_H(Eh),IT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=hc(o),[h,f]=zs({prop:r,onChange:s,defaultProp:a??"",caller:Eh});return l.jsx(RH,{scope:n,baseId:Os(),value:h,onValueChange:f,orientation:i,dir:d,activationMode:c,children:l.jsx(ne.div,{dir:d,"data-orientation":i,...u,ref:t})})});IT.displayName=Eh;var LT="TabsList",$T=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=vy(LT,n),i=OT(n);return l.jsx(PH,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});$T.displayName=LT;var FT="TabsTrigger",zT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=vy(FT,n),o=OT(n),c=UT(i.baseId,r),u=WT(i.baseId,r),d=r===i.value;return l.jsx(MH,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Q(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Q(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Q(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});zT.displayName=FT;var BT="TabsContent",VT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,o=vy(BT,n),c=UT(o.baseId,r),u=WT(o.baseId,r),d=r===o.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Wn,{present:s||d,children:({present:f})=>l.jsx(ne.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});VT.displayName=BT;function UT(e,t){return`${e}-trigger-${t}`}function WT(e,t){return`${e}-content-${t}`}var AH=IT,HT=$T,GT=zT,KT=VT;const qT=AH,xy=p.forwardRef(({className:e,...t},n)=>l.jsx(HT,{ref:n,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xy.displayName=HT.displayName;const Ii=p.forwardRef(({className:e,...t},n)=>l.jsx(GT,{ref:n,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ii.displayName=GT.displayName;const Li=p.forwardRef(({className:e,...t},n)=>l.jsx(KT,{ref:n,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Li.displayName=KT.displayName;function DH(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var by="ScrollArea",[YT]=Un(by),[OH,Hn]=YT(by),XT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[o,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,y]=p.useState(null),[g,x]=p.useState(null),[v,b]=p.useState(0),[w,S]=p.useState(0),[k,E]=p.useState(!1),[j,C]=p.useState(!1),P=ye(t,R=>c(R)),T=hc(s);return l.jsx(OH,{scope:n,type:r,dir:T,scrollHideDelay:a,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:S,children:l.jsx(ne.div,{dir:T,...i,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});XT.displayName=by;var QT="ScrollAreaViewport",JT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=Hn(QT,n),o=p.useRef(null),c=ye(t,o,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});JT.displayName=QT;var Rr="ScrollAreaScrollbar",wy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Rr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,o=e.orientation==="horizontal";return p.useEffect(()=>(o?a(!0):i(!0),()=>{o?a(!1):i(!1)}),[o,a,i]),s.type==="hover"?l.jsx(IH,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(LH,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(ZT,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Sy,{...r,ref:t}):null});wy.displayName=Rr;var IH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Rr,e.__scopeScrollArea),[a,i]=p.useState(!1);return p.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Wn,{present:n||a,children:l.jsx(ZT,{"data-state":a?"visible":"hidden",...r,ref:t})})}),LH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Rr,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Th(()=>c("SCROLL_END"),100),[o,c]=DH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),i()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,i]),l.jsx(Wn,{present:n||o!=="hidden",children:l.jsx(Sy,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ZT=p.forwardRef((e,t)=>{const n=Hn(Rr,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=p.useState(!1),o=e.orientation==="horizontal",c=Th(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(o?u:d)}},10);return lo(n.viewport,c),lo(n.content,c),l.jsx(Wn,{present:r||a,children:l.jsx(Sy,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Sy=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Hn(Rr,e.__scopeScrollArea),a=p.useRef(null),i=p.useRef(0),[o,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=sN(o.viewport,o.content),d={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,m){return UH(f,i.current,o,m)}return n==="horizontal"?l.jsx($H,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,m=qw(f,o,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(FH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,m=qw(f,o);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),$H=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Hn(Rr,e.__scopeScrollArea),[i,o]=p.useState(),c=p.useRef(null),u=ye(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(tN,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ch(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),iN(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Nd(i.paddingLeft),paddingEnd:Nd(i.paddingRight)}})}})}),FH=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Hn(Rr,e.__scopeScrollArea),[i,o]=p.useState(),c=p.useRef(null),u=ye(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(tN,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ch(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),iN(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Nd(i.paddingTop),paddingEnd:Nd(i.paddingBottom)}})}})}),[zH,eN]=YT(Rr),tN=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Hn(Rr,n),[y,g]=p.useState(null),x=ye(t,P=>g(P)),v=p.useRef(null),b=p.useRef(""),w=m.viewport,S=r.content-r.viewport,k=vt(d),E=vt(c),j=Th(h,10);function C(P){if(v.current){const T=P.clientX-v.current.left,R=P.clientY-v.current.top;u({x:T,y:R})}}return p.useEffect(()=>{const P=T=>{const R=T.target;(y==null?void 0:y.contains(R))&&k(T,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,y,S,k]),p.useEffect(E,[r,E]),lo(y,j),lo(m.content,j),l.jsx(zH,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:vt(a),onThumbPointerUp:vt(i),onThumbPositionChange:E,onThumbPointerDown:vt(o),children:l.jsx(ne.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Q(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Q(e.onPointerMove,C),onPointerUp:Q(e.onPointerUp,P=>{const T=P.target;T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Td="ScrollAreaThumb",nN=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=eN(Td,e.__scopeScrollArea);return l.jsx(Wn,{present:n||s.hasThumb,children:l.jsx(BH,{ref:t,...r})})}),BH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Hn(Td,n),i=eN(Td,n),{onThumbPositionChange:o}=i,c=ye(t,h=>i.onThumbChange(h)),u=p.useRef(void 0),d=Th(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=WH(h,o);u.current=m,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,o]),l.jsx(ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,g=h.clientY-m.top;i.onThumbPointerDown({x:y,y:g})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});nN.displayName=Td;var ky="ScrollAreaCorner",rN=p.forwardRef((e,t)=>{const n=Hn(ky,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(VH,{...e,ref:t}):null});rN.displayName=ky;var VH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Hn(ky,n),[a,i]=p.useState(0),[o,c]=p.useState(0),u=!!(a&&o);return lo(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),lo(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(ne.div,{...r,ref:t,style:{width:a,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Nd(e){return e?parseInt(e,10):0}function sN(e,t){const n=e/t;return isNaN(n)?0:n}function Ch(e){const t=sN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function UH(e,t,n,r="ltr"){const s=Ch(n),a=s/2,i=t||a,o=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return aN([c,u],h)(e)}function qw(e,t,n="ltr"){const r=Ch(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,o=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Wl(e,c);return aN([0,i],[0,o])(u)}function aN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function iN(e,t){return e>0&&e<t}var WH=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,o=n.top!==a.top;(i||o)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Th(e,t){const n=vt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function lo(e,t){const n=vt(t);kt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var oN=XT,HH=JT,GH=rN;const Jp=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(oN,{ref:r,className:q("relative overflow-hidden",e),...n,children:[l.jsx(HH,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(lN,{}),l.jsx(GH,{})]}));Jp.displayName=oN.displayName;const lN=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(wy,{ref:r,orientation:t,className:q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(nN,{className:"relative flex-1 rounded-full bg-border"})}));lN.displayName=wy.displayName;function KH(){const[e,t]=p.useState(""),[n,r]=p.useState("date"),[s,a]=p.useState("dreams"),[i,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState({today:!0,thisWeek:!0,thisMonth:!0,older:!1}),[f,m]=p.useState(null),[y,g]=p.useState(!1),[x,v]=p.useState(!1),b="superBlueBloodMoon",w="pixelDreamMoon",S="mythic-locked-moon";p.useEffect(()=>{const{phenomenon:T}=Vl();m(T),g(localStorage.getItem(S)===b),v(localStorage.getItem(S)===w)},[]);const k=()=>{j8();const{phenomenon:T}=Vl();m(T),dd(T)};p.useEffect(()=>{(async()=>{try{const R=await za();o(R)}catch(R){console.error("Error loading data:",R)}finally{u(!1)}})()},[]);const E=p.useMemo(()=>e?i.filter(T=>{var R;return T.world.toLowerCase().includes(e.toLowerCase())||T.entities.some(N=>N.toLowerCase().includes(e.toLowerCase()))||((R=T.notes)==null?void 0:R.toLowerCase().includes(e.toLowerCase()))}):i,[i,e]),j=p.useMemo(()=>{const T=[],R=[],N=[],I=[];return E.forEach(A=>{const H=new Date(A.date);Z7(H)?T.push(A):J7(H,{weekStartsOn:1})?R.push(A):Q7(H)?N.push(A):I.push(A)}),{today:T,thisWeek:R,thisMonth:N,older:I}},[E]),C=p.useMemo(()=>{const T={};return E.forEach(R=>{const N=R.world||"Unknown World";T[N]||(T[N]=[]),T[N].push(R)}),Object.entries(T).sort((R,N)=>N[1].length-R[1].length)},[E]),P=T=>{h(R=>({...R,[T]:!R[T]}))};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx(rH,{searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:E.length,currentPhenomenon:f,onChangePhenomenon:k,showDreamFilters:s==="dreams"}),!1,l.jsxs(qT,{value:s,onValueChange:T=>a(T),className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"px-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs(xy,{className:"w-full h-12 bg-transparent gap-2",children:[l.jsxs(Ii,{value:"dreams",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(Xd,{className:"h-4 w-4"}),l.jsx("span",{children:"Dream Logs"})]}),l.jsxs(Ii,{value:"codex",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(Z0,{className:"h-4 w-4"}),l.jsx("span",{children:"Mythic Codex"})]})]})}),l.jsx(Li,{value:"dreams",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(Jp,{className:"h-full pb-28 relative z-0",children:c?l.jsx(xW,{}):E.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground px-4",children:[l.jsx(J0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):n==="date"?l.jsxs("div",{className:"space-y-4 p-4",children:[l.jsx(ou,{title:"",dreams:j.today,colorClass:"bg-primary",isExpanded:d.today,onToggle:()=>P("today")}),l.jsx(ou,{title:"",dreams:j.thisWeek,colorClass:"bg-blue-500",isExpanded:d.thisWeek,onToggle:()=>P("thisWeek")}),l.jsx(ou,{title:"",dreams:j.thisMonth,colorClass:"bg-emerald-500",isExpanded:d.thisMonth,onToggle:()=>P("thisMonth")}),l.jsx(ou,{title:"",dreams:j.older,colorClass:"bg-muted-foreground/50",isExpanded:d.older,onToggle:()=>P("older")})]}):l.jsx("div",{className:"space-y-4 p-4",children:C.map(([T,R])=>l.jsx(nH,{worldName:T,dreams:R,isExpanded:d[T]??!0,onToggle:()=>P(T)},T))})})}),l.jsx(Li,{value:"codex",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(Jp,{className:"h-full pb-28 relative z-0",children:l.jsx("div",{className:"p-4",children:l.jsx(vH,{})})})})]}),l.jsx(ih,{})]})}function Yw({dreams:e,mode:t}){const n=p.useMemo(()=>{if(e.length===0)return[];const s=[...e].sort((o,c)=>new Date(o.date).getTime()-new Date(c.date).getTime()),a=new Date(s[0].date),i=new Date(s[s.length-1].date);return t==="week"?XU({start:a,end:i},{weekStartsOn:1}).map(c=>{const u=new Date(c);u.setDate(u.getDate()+6);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:Ft(c,"d MMM",{locale:Gs}),count:d,period:c}}).slice(-12):YU({start:a,end:i}).map(c=>{const u=new Date(c);u.setMonth(u.getMonth()+1),u.setDate(0);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:Ft(c,"MMM yy",{locale:Gs}),count:d,period:c}}).slice(-12)},[e,t]),r=Math.max(...n.map(s=>s.count),1);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Q0,{className:"w-4 h-4 text-primary"}),l.jsxs("h2",{className:"text-sm font-semibold",children:[" (",t==="week"?"":"",")"]})]}),l.jsxs("div",{className:"space-y-2",children:[n.map((s,a)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:s.label}),l.jsxs("span",{className:"font-semibold",children:[s.count," "]})]}),l.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s.count/r*100}%`}})})]},a)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})]})}function qH({dreams:e}){const{words:t,totalMentions:n,uniqueCount:r,topWord:s}=p.useMemo(()=>{var E;const i=new Set(["","","","","","","","","","","","","","","","","","","","","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","is","was","were","be","been","are","as"]),o=new Map,c=j=>/[\u0E00-\u0E7F]/.test(j),u=j=>j.normalize("NFC").replace(/^[^\p{L}\p{N}]+|[^\p{L}\p{N}]+$/gu,"").trim(),d=(j,C)=>{const P=u(j);if(!P)return;const T=c(P),R=T?P:P.toLowerCase();if(R.length<(T?2:3)||i.has(R))return;const N=o.get(R);N?(N.count+=1,N.weight+=C):o.set(R,{count:1,weight:C,display:P})},h=(j,C)=>{j&&j.split(/[\s,.:;!?()[\]{}"'\-_/]+/).filter(Boolean).forEach(P=>d(P,C))},f=(j,C)=>{j.forEach(P=>d(P,C))};e.forEach(j=>{h(j.notes||"",1),f(j.environments||[],1.2),f(j.entities||[],1.4),h(j.world||"",1.6)});const m=Array.from(o.entries()).map(([j,C])=>({word:C.display,count:C.count,weight:C.weight})).sort((j,C)=>C.weight-j.weight||C.count-j.count).slice(0,36);if(m.length===0)return{words:[],totalMentions:0,uniqueCount:0,topWord:null};const y=m.map(j=>j.weight),g=Math.max(...y),x=Math.min(...y),v=g-x||1,b=13,w=38,S=j=>j.split("").reduce((C,P,T)=>C+P.charCodeAt(0)*(T+3),0);return{words:m.map((j,C)=>{const P=(j.weight-x)/v,T=Math.pow(P,.72),R=Math.max(.76,1-Math.max(0,j.word.length-12)*.02),N=b+T*(w-b)*R,I=S(j.word),A=C<4?"hero":C<12?"core":"soft";return{word:j.word,count:j.count,weight:j.weight,size:N,tier:A,colorIndex:I%5,rotate:A==="hero"?0:A==="soft"?(I%7-3)*1.5:(I%5-2)*.8}}),totalMentions:m.reduce((j,C)=>j+C.count,0),uniqueCount:m.length,topWord:((E=m[0])==null?void 0:E.word)??null}},[e]),a=[{text:"text-sky-700 dark:text-sky-300",bg:"bg-sky-100/70 dark:bg-sky-900/30",ring:"ring-sky-200/70 dark:ring-sky-800/50",gradient:"linear-gradient(120deg, #38bdf8, #6366f1)"},{text:"text-violet-700 dark:text-violet-300",bg:"bg-violet-100/70 dark:bg-violet-900/30",ring:"ring-violet-200/70 dark:ring-violet-800/50",gradient:"linear-gradient(120deg, #a855f7, #6366f1)"},{text:"text-emerald-700 dark:text-emerald-300",bg:"bg-emerald-100/70 dark:bg-emerald-900/30",ring:"ring-emerald-200/70 dark:ring-emerald-800/50",gradient:"linear-gradient(120deg, #34d399, #38bdf8)"},{text:"text-amber-700 dark:text-amber-300",bg:"bg-amber-100/70 dark:bg-amber-900/30",ring:"ring-amber-200/70 dark:ring-amber-800/50",gradient:"linear-gradient(120deg, #f59e0b, #fb7185)"},{text:"text-rose-700 dark:text-rose-300",bg:"bg-rose-100/70 dark:bg-rose-900/30",ring:"ring-rose-200/70 dark:ring-rose-800/50",gradient:"linear-gradient(120deg, #fb7185, #a855f7)"}];return t.length===0?l.jsxs("div",{className:"card-minimal relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.12), transparent 55%), radial-gradient(circle at 80% 0%, rgba(168, 85, 247, 0.12), transparent 45%)"}}),l.jsxs("div",{className:"relative flex items-center gap-2 mb-3",children:[l.jsx(Wv,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("div",{className:"relative text-sm text-muted-foreground text-center py-8",children:""})]}):l.jsxs("div",{className:"card-minimal relative overflow-hidden space-y-4",children:[l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(circle at 15% 20%, rgba(99, 102, 241, 0.12), transparent 55%), radial-gradient(circle at 80% 0%, rgba(56, 189, 248, 0.12), transparent 45%)"}}),l.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wv,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-muted-foreground",children:[l.jsx(Vt,{className:"w-3 h-3"}),""]})]}),l.jsxs("div",{className:"relative flex flex-wrap gap-2 text-[11px] text-muted-foreground",children:[l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-secondary/70",children:[" ",r]}),l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-secondary/70",children:[" ",n," "]}),s&&l.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-primary/10 text-primary",children:[": ",s]})]}),l.jsx("div",{className:"relative flex flex-wrap gap-2 justify-center items-center py-4 min-h-[220px]",children:t.map(({word:i,count:o,size:c,tier:u,colorIndex:d,rotate:h})=>{const f=a[d],m=u==="hero",y=u==="core";return l.jsx("span",{className:q("cursor-default select-none transition-all duration-200 ease-out",m?"px-1 font-semibold tracking-tight text-transparent bg-clip-text drop-shadow-sm":"px-2.5 py-1 rounded-full ring-1",!m&&f.bg,!m&&f.ring,!m&&f.text),style:{fontSize:`${c}px`,fontWeight:m?600:y?500:400,opacity:m?.95:y?.85:.7,transform:`rotate(${h}deg)`,backgroundImage:m?f.gradient:void 0},title:`${o} `,children:i},i)})})]})}function YH({dreams:e}){const t=p.useMemo(()=>{const n=new Map;return e.forEach(r=>{[...r.environments,...r.entities,r.world,r.timeSystem,r.safetyOverride].forEach(a=>{a&&a!=="unknown"&&a!=="none"&&n.set(a,(n.get(a)||0)+1)})}),Array.from(n.entries()).map(([r,s])=>({tag:r,count:s})).sort((r,s)=>s.count-r.count).slice(0,20)},[e]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Q_,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:""})]}),t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(({tag:n,count:r})=>l.jsxs(Re,{variant:"secondary",className:"text-xs px-3 py-1 gap-2",children:[l.jsx("span",{children:n}),l.jsx("span",{className:"text-primary font-semibold",children:r})]},n))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function XH({dreams:e}){const t=p.useMemo(()=>{const r=[...e].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime()),s=Array.from({length:14},(c,u)=>{const d=eW(new Date,u),h=r.filter(m=>Ft(new Date(m.date),"yyyy-MM-dd")===Ft(d,"yyyy-MM-dd")),f=h.length>0?h.reduce((m,y)=>m+y.threatLevel,0)/h.length:0;return{date:d,label:Ft(d,"d MMM",{locale:Gs}),avgThreat:f,count:h.length}}).reverse(),a=s.slice(-7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),i=s.slice(0,7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),o=a-i;return{data:s,trend:o,recentAvg:a,previousAvg:i}},[e]),n=Math.max(...t.data.map(r=>r.avgThreat),5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pl,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Trends"})]}),t.trend!==0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t.trend>0?"text-red-500":t.trend<0?"text-green-500":"text-muted-foreground"}`,children:[t.trend>0?l.jsx(Pl,{className:"w-3 h-3"}):t.trend<0?l.jsx(Z_,{className:"w-3 h-3"}):l.jsx(K_,{className:"w-3 h-3"}),l.jsx("span",{children:Math.abs(t.trend).toFixed(2)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.recentAvg.toFixed(2)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.previousAvg.toFixed(2)})]})]}),l.jsx("div",{className:"space-y-2",children:t.data.map((r,s)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:r.label}),l.jsx("span",{className:`font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.count>0?r.avgThreat.toFixed(1):"-"})]}),r.count>0&&l.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${r.avgThreat>=4?"bg-red-500":r.avgThreat>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${r.avgThreat/n*100}%`}})})]},s))})]})}function QH({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;e.forEach(o=>{o.environments.forEach(c=>{s.set(c,(s.get(c)||0)+1)})});const a=new Map;e.forEach(o=>{if(o.entities.length>=2){const c=o.entities.sort().join(" + ");a.set(c,(a.get(c)||0)+1)}});const i=new Map;for(let o=0;o<e.length-1;o++){const c=`${e[o].world}  ${e[o+1].world}`;i.set(c,(i.get(c)||0)+1)}return{recurringEnvs:Array.from(s.entries()).filter(([o,c])=>c>=3).map(([o,c])=>({env:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,5),recurringCombos:Array.from(a.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({combo:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3),worldPatterns:Array.from(i.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({seq:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3)}},[e]),r=n.recurringEnvs.length>0||n.recurringCombos.length>0||n.worldPatterns.length>0;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Y_,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Recurring Patterns"})]}),r?l.jsxs("div",{className:"space-y-4",children:[n.recurringEnvs.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringEnvs.map(({env:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:s}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.recurringCombos.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringCombos.map(({combo:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.worldPatterns.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.worldPatterns.map(({seq:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function JH({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;return t.forEach(a=>{const i=a.dreamIds.length;if(i>=2){const o=e.filter(c=>a.dreamIds.includes(c.id)).sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime())[0];s.set(a.name,{count:i,role:a.role,lastSeen:(o==null?void 0:o.date)||""})}}),Array.from(s.entries()).map(([a,i])=>({name:a,...i})).sort((a,i)=>i.count-a.count).slice(0,10)},[e,t]),r=p.useMemo(()=>n.filter(s=>s.count>=3).map(s=>` "${s.name}"  ${s.count} !`),[n]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Entities "})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((s,a)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50/50 dark:bg-blue-950/20 border border-blue-500/50 rounded-lg",children:[l.jsx(F_,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:s})]},a))}),n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(({name:s,count:a,role:i})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:i})]}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" entities "})]})}function ZH({dreams:e}){const t=p.useMemo(()=>{if(e.length===0)return{currentStreak:0,longestStreak:0,totalDays:0,streakDays:[]};const r=[...e].sort((y,g)=>new Date(g.date).getTime()-new Date(y.date).getTime()),s=new Set(r.map(y=>Ft(new Date(y.date),"yyyy-MM-dd")));let a=0,i=new Date;for(i.setHours(0,0,0,0);s.has(Ft(i,"yyyy-MM-dd"));)a++,i.setDate(i.getDate()-1);if(a===0&&(i=new Date,i.setDate(i.getDate()-1),i.setHours(0,0,0,0),s.has(Ft(i,"yyyy-MM-dd"))))for(a=1,i.setDate(i.getDate()-1);s.has(Ft(i,"yyyy-MM-dd"));)a++,i.setDate(i.getDate()-1);const o=new Date(r[r.length-1].date),c=new Date(r[0].date),u=qU({start:o,end:c});let d=0,h=0;u.forEach(y=>{s.has(Ft(y,"yyyy-MM-dd"))?(h++,d=Math.max(d,h)):h=0});const f=[],m=new Date;m.setHours(0,0,0,0);for(let y=0;y<a&&y<7;y++)f.push(new Date(m)),m.setDate(m.getDate()-1);return{currentStreak:a,longestStreak:d,totalDays:s.size,streakDays:f.reverse()}},[e]),n=r=>r>=30?"":r>=14?"":r>=7?"":r>=3?"":"";return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(af,{className:"w-4 h-4 text-orange-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Dream Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("div",{className:"text-4xl mb-2",children:n(t.currentStreak)}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:t.currentStreak}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(L_,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.longestStreak}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(af,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.totalDays}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),t.streakDays.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex gap-1 justify-center",children:t.streakDays.map((r,s)=>l.jsxs("div",{className:"flex flex-col items-center",title:Ft(r,"d MMM yyyy",{locale:Gs}),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:l.jsx(af,{className:"w-4 h-4 text-orange-500"})}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:Ft(r,"d")})]},s))})]}),t.currentStreak===0&&l.jsx("div",{className:"text-center p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" streak ! "})}),t.currentStreak>=7&&l.jsx("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["!  ",t.currentStreak," ","! "]})})]})}function eG(){return l.jsxs("div",{className:"card-minimal space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-4 h-4 rounded"}),l.jsx(me,{className:"h-3 w-20"})]}),l.jsx(me,{className:"h-8 w-12"})]})}function tG(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-5 h-5 rounded"}),l.jsx(me,{className:"h-6 w-40"})]}),l.jsx(me,{className:"h-8 w-8 rounded"})]}),l.jsx(me,{className:"h-10 w-full rounded-lg"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>l.jsx(eG,{},t))}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-4 h-4 rounded"}),l.jsx(me,{className:"h-4 w-32"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-16 h-3"}),l.jsx(me,{className:"flex-1 h-2 rounded-full"}),l.jsx(me,{className:"w-8 h-3"})]},t))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-4 h-4 rounded"}),l.jsx(me,{className:"h-4 w-24"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{className:"w-8 h-8 rounded-full"}),l.jsx(me,{className:"h-4 w-24"})]}),l.jsx(me,{className:"h-5 w-12 rounded-full"})]},t))})]})]})}function nG({totalDreams:e,worldsCount:t,entitiesCount:n,threatsCount:r}){const s={dreams:e*3,worlds:t*.5,entities:n*.5,threats:r*.3,relations:e*.5},i=Object.values(s).reduce((h,f)=>h+f,0)/1024,o=500,c=i/o*100,u=o-i,d=Math.floor(u/(i/e||3))+e;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(z_,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Database Usage"})]}),l.jsxs(Re,{variant:"outline",className:"text-xs",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),l.jsxs("span",{className:"font-semibold",children:[i.toFixed(2)," MB / ",o," MB"]})]}),l.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all rounded-full ${c>80?"bg-red-500":c>60?"bg-orange-500":c>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.toFixed(2),"%    ",u.toFixed(2)," MB"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(V_,{className:"w-3 h-3"}),"Dream Logs"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.dreams.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Qr,{className:"w-3 h-3"}),"Worlds"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.worlds.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Cr,{className:"w-3 h-3"}),"Entities"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.entities.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(to,{className:"w-3 h-3"}),"Threats"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.threats.toFixed(1)," KB"]})]})]}),l.jsxs("div",{className:"pt-2 border-t space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-semibold text-primary",children:["~",d.toLocaleString()," logs"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(d-e).toLocaleString()," logs"]})]})]})}function rG({totalDreams:e,avgThreatLevel:t,threatTrend:n,worldsCount:r,entitiesCount:s}){return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(QS,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Dreams"})]}),l.jsx("p",{className:"text-2xl font-bold",children:e})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Pl,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"})]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-2xl font-bold",children:t}),n!==0&&e>7&&l.jsxs(Re,{variant:n>0?"destructive":"secondary",className:"text-xs",children:[n>0?"":""," ",Math.abs(n).toFixed(1)]})]})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Qr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Worlds"})]}),l.jsx("p",{className:"text-2xl font-bold",children:r})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Cr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Entities"})]}),l.jsx("p",{className:"text-2xl font-bold",children:s})]})]})}function sG({dreams:e,worldCounts:t,timeSystemCounts:n}){const r=e.length,s=e.slice(0,7),a=e.slice(7,14),i=s.length>0?s.reduce((f,m)=>f+m.threatLevel,0)/s.length:0,o=a.length>0?a.reduce((f,m)=>f+m.threatLevel,0)/a.length:0,c=i-o,u=[];c>.5?u.push({type:"warning",text:` ${c.toFixed(1)} `,icon:to}):c<-.5&&u.push({type:"success",text:` ${Math.abs(c).toFixed(1)} `,icon:ic}),n.activated>n.inactive&&u.push({type:"info",text:"Time System ",icon:Wr});const d=s.filter(f=>f.threatLevel>=4).length;d>=3&&u.push({type:"danger",text:` ${d} `,icon:to});const h=t[0];return h&&h.count>r*.3&&u.push({type:"info",text:` "${h.name}"  (${h.count} )`,icon:Qr}),u.length===0?null:l.jsx("div",{className:"space-y-2",children:u.map((f,m)=>l.jsxs("div",{className:`card-minimal flex items-start gap-3 ${f.type==="danger"?"border-red-500/50 bg-red-50/50 dark:bg-red-950/20":f.type==="warning"?"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20":f.type==="success"?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-blue-500/50 bg-blue-50/50 dark:bg-blue-950/20"}`,children:[l.jsx(f.icon,{className:`w-4 h-4 mt-0.5 ${f.type==="danger"?"text-red-500":f.type==="warning"?"text-orange-500":f.type==="success"?"text-green-500":"text-blue-500"}`}),l.jsx("p",{className:"text-sm flex-1",children:f.text})]},m))})}function aG({dreams:e}){const t=e.length,n=[0,1,2,3,4,5].map(r=>({level:r,count:e.filter(s=>s.threatLevel===r).length}));return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pl,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Distribution"})]}),l.jsx("div",{className:"space-y-2",children:n.map(({level:r,count:s})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs w-16",children:["Level ",r]}),l.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${r>=4?"bg-red-500":r>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:s})]},r))})]})}function dt({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,a]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>{a(!0)},t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0) scale(1)":"translateY(16px) scale(0.98)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function iG({worlds:e}){const t=e.map(n=>({name:n.name,count:n.dreamIds.length,stability:n.stability})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Worlds"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(stability ",n.stability,"/5)"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function oG({entities:e}){const t=e.map(n=>({name:n.name,role:n.role,count:n.dreamIds.length})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Entities"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.role,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function lG({threats:e}){const t=e.filter(r=>r.level>=4),n=e.map(r=>({name:r.name,level:r.level,count:r.dreamIds.length})).sort((r,s)=>s.count-r.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(to,{className:"w-4 h-4 text-red-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Analysis"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"High Threats (Level 4-5)"}),l.jsx("span",{className:"font-semibold text-red-500",children:t.length})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Most Common Threats:"}),n.map((r,s)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",s+1]}),l.jsx("span",{children:r.name}),l.jsxs("span",{className:`text-xs ${r.level>=4?"text-red-500":"text-muted-foreground"}`,children:["(level ",r.level,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.count," times"]})]},r.name)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]})}function cG({dreams:e}){const t=e.length,n={inactive:e.filter(r=>r.timeSystem==="inactive").length,activated:e.filter(r=>r.timeSystem==="activated").length,unknown:e.filter(r=>r.timeSystem==="unknown").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Time System Usage"})]}),l.jsx("div",{className:"space-y-2",children:[{label:"Inactive",value:n.inactive,color:"bg-slate-500"},{label:"Activated",value:n.activated,color:"bg-blue-500"},{label:"Unknown",value:n.unknown,color:"bg-muted-foreground"}].map(({label:r,value:s,color:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:r}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:`h-full ${a} rounded-full transition-all`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:s})]})]},r))})]})}function uG({dreams:e}){const t={};e.forEach(r=>{r.environments.forEach(s=>{t[s]=(t[s]||0)+1})});const n=Object.entries(t).sort((r,s)=>s[1]-r[1]).slice(0,10);return n.length===0?null:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nR,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top Environments"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(([r,s])=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-secondary rounded-full",children:[l.jsx("span",{className:"text-sm",children:r}),l.jsx(Re,{variant:"outline",className:"text-xs ml-1",children:s})]},r))})]})}function dG({dreams:e}){const t={none:e.filter(n=>n.safetyOverride==="none").length,helper:e.filter(n=>n.safetyOverride==="helper").length,separation:e.filter(n=>n.safetyOverride==="separation").length,wake:e.filter(n=>n.safetyOverride==="wake").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ic,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Safety Override Usage"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(t).map(([n,r])=>l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1 capitalize",children:n}),l.jsx("p",{className:"text-xl font-bold",children:r})]},n))})]})}function hG(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,a]=p.useState([]),[i,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState(!1),[f,m]=p.useState(new Date),y=p.useCallback(async(C=!1)=>{C?h(!0):u(!0);try{const[P,T,R,N]=await Promise.all([za(),uc(),ch(),m8()]);t(P),r(T),a(R),o(N),m(new Date)}catch(P){console.error("Error loading data:",P)}finally{u(!1),h(!1)}},[]);p.useEffect(()=>{y()},[y]);const g=e.length,x=e.length>0?(e.reduce((C,P)=>C+P.threatLevel,0)/e.length).toFixed(1):"0",v=e.slice(0,7),b=e.slice(7,14),w=v.length>0?v.reduce((C,P)=>C+P.threatLevel,0)/v.length:0,S=b.length>0?b.reduce((C,P)=>C+P.threatLevel,0)/b.length:0,k=w-S,E=n.map(C=>({name:C.name,count:C.dreamIds.length})).sort((C,P)=>P.count-C.count),j={inactive:e.filter(C=>C.timeSystem==="inactive").length,activated:e.filter(C=>C.timeSystem==="activated").length,unknown:e.filter(C=>C.timeSystem==="unknown").length};return c?l.jsx("div",{className:"py-4",children:l.jsx(tG,{})}):l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(dt,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Q0,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{children:"Statistics & Insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:f.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),l.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y(!0),disabled:d,children:l.jsx(ac,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]})]})}),l.jsx(dt,{delay:80,duration:400,children:l.jsxs(qT,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(xy,{className:"grid w-full grid-cols-3",children:[l.jsx(Ii,{value:"overview",children:"Overview"}),l.jsx(Ii,{value:"analytics",children:"Analytics"}),l.jsx(Ii,{value:"patterns",children:"Patterns"})]}),l.jsxs(Li,{value:"overview",className:"space-y-6",children:[l.jsx(dt,{delay:160,duration:400,children:l.jsx(sG,{dreams:e,worldCounts:E,timeSystemCounts:j})}),l.jsx(dt,{delay:240,duration:400,children:l.jsx(nG,{totalDreams:g,worldsCount:n.length,entitiesCount:s.length,threatsCount:i.length})}),l.jsx(dt,{delay:320,duration:400,children:l.jsx(rG,{totalDreams:g,avgThreatLevel:x,threatTrend:k,worldsCount:n.length,entitiesCount:s.length})}),l.jsx(dt,{delay:400,duration:400,children:l.jsx(aG,{dreams:e})}),l.jsx(dt,{delay:480,duration:400,children:l.jsx(iG,{worlds:n})}),l.jsx(dt,{delay:560,duration:400,children:l.jsx(oG,{entities:s})}),l.jsx(dt,{delay:640,duration:400,children:l.jsx(lG,{threats:i})}),l.jsx(dt,{delay:720,duration:400,children:l.jsx(cG,{dreams:e})}),l.jsx(dt,{delay:800,duration:400,children:l.jsx(uG,{dreams:e})}),l.jsx(dt,{delay:880,duration:400,children:l.jsx(dG,{dreams:e})})]}),l.jsxs(Li,{value:"analytics",className:"space-y-6",children:[l.jsx(dt,{delay:100,duration:400,children:l.jsx(Yw,{dreams:e,mode:"week"})}),l.jsx(dt,{delay:180,duration:400,children:l.jsx(Yw,{dreams:e,mode:"month"})}),l.jsx(dt,{delay:260,duration:400,children:l.jsx(XH,{dreams:e})}),l.jsx(dt,{delay:340,duration:400,children:l.jsx(qH,{dreams:e})}),l.jsx(dt,{delay:420,duration:400,children:l.jsx(YH,{dreams:e})}),l.jsx(dt,{delay:500,duration:400,children:l.jsx(ZH,{dreams:e})})]}),l.jsxs(Li,{value:"patterns",className:"space-y-6",children:[l.jsx(dt,{delay:100,duration:400,children:l.jsx(QH,{dreams:e,entities:s})}),l.jsx(dt,{delay:180,duration:400,children:l.jsx(JH,{dreams:e,entities:s})})]})]})})]})}function fG({dreams:e}){const t=p.useMemo(()=>[...e].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()),[e]),n=r=>r>=4?"text-red-500 bg-red-100 dark:bg-red-950":r>=3?"text-orange-500 bg-orange-100 dark:bg-orange-950":"text-primary bg-primary/10";return e.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Wr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),t.map((r,s)=>l.jsxs("div",{className:"relative pl-16 pb-8 last:pb-0",children:[l.jsx("div",{className:q("absolute left-6 w-5 h-5 rounded-full border-4 border-background",n(r.threatLevel))}),l.jsx(cn,{to:`/logs/${r.id}`,children:l.jsxs("div",{className:"card-minimal hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:Ft(new Date(r.date),"d MMMM yyyy",{locale:Gs})})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:r.wakeTime})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Qr,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-semibold",children:r.world})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(to,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Threat Level:"}),l.jsx(Re,{variant:"outline",className:n(r.threatLevel),children:r.threatLevel})]}),r.entities.length>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Cr,{className:"w-3 h-3 text-muted-foreground mt-0.5"}),l.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:r.entities.map(a=>l.jsx(Re,{variant:"secondary",className:"text-xs",children:a},a))})]}),r.environments.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.environments.map(a=>l.jsx(Re,{variant:"outline",className:"text-xs",children:a},a))}),r.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes}),r.safetyOverride!=="none"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(ic,{className:"w-3 h-3 text-orange-500"}),l.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Safety Override: ",r.safetyOverride]})]})]})]})})]},r.id))]})})}function Cs(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^\p{L}\p{N}]+/gu," ").replace(/\s+/g," ").trim():""}function mG(e,t){const n=e.length,r=t.length;if(n===0)return r;if(r===0)return n;const s=new Array(r+1).fill(0).map((a,i)=>i);for(let a=1;a<=n;a++){let i=s[0];s[0]=a;for(let o=1;o<=r;o++){const c=s[o],u=e[a-1]===t[o-1]?0:1;s[o]=Math.min(s[o]+1,s[o-1]+1,i+u),i=c}}return s[r]}function pG(e,t){const n=e.split(" ").filter(i=>i.length>1),r=t.split(" ").filter(i=>i.length>1);if(n.length===0||r.length===0)return 0;const s=new Set(r);return n.filter(i=>s.has(i)).length/Math.max(n.length,r.length)}function jy(e,t){const n=Cs(e),r=Cs(t);if(!n||!r)return!1;if(n===r)return!0;const s=Math.max(n.length,r.length);if(s<=4)return!1;if(pG(n,r)>=.7)return!0;const o=1-mG(n,r)/s,c=s<=7?.88:.84;return o>=c}function Xw(e,t){const n=t.map(a=>({raw:a,norm:Cs(a)})).filter(a=>a.norm.length>0),r=new Set,s=[];for(const a of e){const i=Cs(a);if(!i||r.has(i))continue;n.some(c=>c.norm===i?!0:jy(a,c.raw))&&(s.push(a),r.add(i))}return s}function gG({dreams:e,worlds:t}){const n=p.useMemo(()=>{const r=[],s={world:3,entity:2,environment:1,threat:1,timeSystem:.75,safety:.75,exit:.75},a=3;for(let i=0;i<e.length;i++)for(let o=i+1;o<e.length;o++){const c=e[i],u=e[o],d=[];let h=0;const f=jy(c.world,u.world);if(f){const x=c.world||u.world||"Unknown";d.push(`: ${x}`),h+=s.world}const m=Xw(c.entities||[],u.entities||[]);m.length>0&&(d.push(`: ${m.join(", ")}`),h+=Math.min(m.length,3)*s.entity);const y=Xw(c.environments||[],u.environments||[]);y.length>0&&(d.push(`: ${y.join(", ")}`),h+=Math.min(y.length,3)*s.environment),Math.abs(c.threatLevel-u.threatLevel)<=1&&(d.push(` (${c.threatLevel}-${u.threatLevel})`),h+=s.threat),c.timeSystem===u.timeSystem&&c.timeSystem!=="unknown"&&(d.push(`Time System: ${c.timeSystem}`),h+=s.timeSystem),c.safetyOverride===u.safetyOverride&&c.safetyOverride!=="unknown"&&c.safetyOverride!=="none"&&(d.push(`Safety Override: ${c.safetyOverride}`),h+=s.safety),c.exit===u.exit&&c.exit!=="unknown"&&(d.push(`Exit: ${c.exit}`),h+=s.exit),(f||m.length>0||y.length>0)&&h>=a&&r.push({dream1:c,dream2:u,connections:d,score:h})}return r.sort((i,o)=>o.score-i.score).slice(0,15)},[e]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Ym,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Ym,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length," "]})]}),n.map((r,s)=>l.jsxs("div",{className:"card-minimal",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[": ",r.score.toFixed(1)]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(cn,{to:`/logs/${r.dream1.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Qr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream1.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream1.date).toLocaleDateString("th-TH")}),r.dream1.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream1.entities.slice(0,3).map(a=>l.jsx(Re,{variant:"outline",className:"text-xs",children:a},a))})]})}),l.jsx(cn,{to:`/logs/${r.dream2.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Qr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream2.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream2.date).toLocaleDateString("th-TH")}),r.dream2.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream2.entities.slice(0,3).map(a=>l.jsx(Re,{variant:"outline",className:"text-xs",children:a},a))})]})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:r.connections.map((a,i)=>l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-primary"}),a]},i))})]},s))]})}function yG({dreams:e,worlds:t}){const n=p.useMemo(()=>{const s=new Map;t.forEach(f=>{const m=Cs(f.name);m&&s.set(m,f)});const a=f=>{const m=Cs(f);if(!m)return"";if(s.has(m))return m;for(const y of t)if(jy(y.name,f))return Cs(y.name);return m},i=new Map,o=e.map(f=>{const m=a(f.world);if(m){const y=i.get(m)??[];y.push(f),i.set(m,y)}return{dream:f,key:m}}),c=(f,m)=>({id:`virtual-${f}`,name:(m==null?void 0:m.world)||"Unknown",type:"transient",stability:3,dreamIds:[]}),u={};new Set([...s.keys(),...i.keys()]).forEach(f=>{const m=s.get(f),y=i.get(f)??[],g=y.length>0?y.reduce((w,S)=>w+S.threatLevel,0)/y.length:0,x={};y.forEach(w=>{w.entities.forEach(S=>{const k=Cs(S);k&&(x[k]||(x[k]={label:S,count:0}),x[k].count+=1)})});const v=Object.values(x).filter(w=>w.count>=2).sort((w,S)=>S.count-w.count).map(w=>w.label).slice(0,5),b=m||c(f,y[0]);u[f]={key:f,world:b,dreamCount:y.length,connections:{},avgThreat:g,commonEntities:v}});const h=[...o].sort((f,m)=>new Date(f.dream.date).getTime()-new Date(m.dream.date).getTime());for(let f=0;f<h.length-1;f++){const m=h[f].key,y=h[f+1].key;if(!m||!y||m===y)continue;const g=u[m];g&&(g.connections[y]=(g.connections[y]||0)+1)}return Object.values(u).sort((f,m)=>m.dreamCount-f.dreamCount)},[e,t]),r=p.useMemo(()=>{const s=new Map;return n.forEach(a=>{s.set(a.key,a.world.name)}),s},[n]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(qm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(qm,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(s=>l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Qr,{className:"w-4 h-4 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:s.world.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Re,{variant:"outline",className:"text-xs",children:s.world.type}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:["Stability: ",s.world.stability,"/5"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:s.dreamCount}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${s.avgThreat>=4?"text-red-500":s.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:s.avgThreat.toFixed(1)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"}),l.jsx("p",{className:"text-sm font-semibold",children:Object.keys(s.connections).length})]})]}),s.commonEntities.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:s.commonEntities.map(a=>l.jsx(Re,{variant:"secondary",className:"text-xs",children:a},a))})]}),Object.keys(s.connections).length>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(Pl,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:":"})]}),l.jsx("div",{className:"space-y-1",children:Object.entries(s.connections).sort((a,i)=>i[1]-a[1]).slice(0,3).map(([a,i])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[" ",r.get(a)||a]}),l.jsxs(Re,{variant:"outline",className:"text-xs",children:[i,"x"]})]},a))})]}),s.world.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:s.world.description})]},s.world.id))})]})}function vG({dreams:e,entities:t}){const n=p.useMemo(()=>{const a=[];return t.forEach(i=>{const o=e.filter(f=>i.dreamIds.includes(f.id));if(o.length===0)return;const c=new Set(o.map(f=>f.world)),u=o.reduce((f,m)=>f+m.threatLevel,0)/o.length,d=[...o].sort((f,m)=>new Date(f.date).getTime()-new Date(m.date).getTime()),h=new Map;o.forEach(f=>{f.entities.filter(m=>m!==i.name).forEach(m=>{h.set(m,(h.get(m)||0)+1)})}),a.push({entity:i,appearances:o.length,worlds:c,avgThreat:u,firstSeen:d[0].date,lastSeen:d[d.length-1].date,coAppearances:h})}),a.sort((i,o)=>o.appearances-i.appearances)},[e,t]),r=a=>{switch(a){case"observer":return ZS;case"protector":return ic;case"guide":return q_;case"intruder":return to;default:return Cr}},s=a=>{switch(a){case"observer":return"text-blue-500 bg-blue-100 dark:bg-blue-950";case"protector":return"text-green-500 bg-green-100 dark:bg-green-950";case"guide":return"text-purple-500 bg-purple-100 dark:bg-purple-950";case"intruder":return"text-red-500 bg-red-100 dark:bg-red-950";default:return"text-muted-foreground bg-secondary"}};return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Cr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Cr,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(a=>{const i=r(a.entity.role);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.entity.name}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Re,{className:s(a.entity.role),children:[l.jsx(i,{className:"w-3 h-3 mr-1"}),a.entity.role]})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:a.appearances}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Worlds"}),l.jsx("p",{className:"text-sm font-semibold",children:a.worlds.size})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${a.avgThreat>=4?"text-red-500":a.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:a.avgThreat.toFixed(1)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-appear"}),l.jsx("p",{className:"text-sm font-semibold",children:a.coAppearances.size})]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:Ft(new Date(a.firstSeen),"d MMM yyyy",{locale:Gs})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:Ft(new Date(a.lastSeen),"d MMM yyyy",{locale:Gs})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(a.worlds).map(o=>l.jsx(Re,{variant:"outline",className:"text-xs",children:o},o))})]}),a.coAppearances.size>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"space-y-1",children:Array.from(a.coAppearances.entries()).sort((o,c)=>c[1]-o[1]).slice(0,3).map(([o,c])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:o}),l.jsxs(Re,{variant:"secondary",className:"text-xs",children:[c,"x"]})]},o))})]}),a.entity.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:a.entity.description})]},a.entity.id)})})]})}function xG({dreams:e,worlds:t,entities:n}){const[r,s]=p.useState("timeline"),a=[{id:"timeline",label:"Timeline",icon:Wr},{id:"connected",label:"Connected Dreams",icon:Ym},{id:"map",label:"Universe Map",icon:qm},{id:"characters",label:"Characters",icon:Cr}];return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsx($n,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xd,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{className:"text-xl font-semibold",children:"Story Mode"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," "]})]})}),l.jsx($n,{delay:80,duration:400,children:l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:a.map((i,o)=>l.jsxs("button",{onClick:()=>s(i.id),className:q("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap",r===i.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))})})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:l.jsx("div",{className:"p-4",children:l.jsxs($n,{delay:160,duration:400,children:[r==="timeline"&&l.jsx(fG,{dreams:e}),r==="connected"&&l.jsx(gG,{dreams:e,worlds:t}),r==="map"&&l.jsx(yG,{dreams:e,worlds:t}),r==="characters"&&l.jsx(vG,{dreams:e,entities:n})]})})}),l.jsx(ih,{})]})}function bG(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,a]=p.useState([]),[i,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[u,d,h]=await Promise.all([za(),uc(),ch()]);t(u),r(d),a(h)}catch(u){console.error("Error loading data:",u)}finally{o(!1)}})()},[]),i?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"..."})}):l.jsx(xG,{dreams:e,worlds:n,entities:s})}const wG="modulepreload",SG=function(e){return"/dream-weaver-log/"+e},Qw={},kG=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=SG(c),c in Qw)return;Qw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wG,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function jG(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:a,onRegisterError:i}=e;let o,c,u;const d=async(f=!0)=>{await c,u==null||u()};async function h(){if("serviceWorker"in navigator){if(o=await kG(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/dream-weaver-log/sw.js",{scope:"/dream-weaver-log/",type:"classic"})).catch(f=>{i==null||i(f)}),!o)return;u=()=>{o==null||o.messageSkipWaiting()};{let f=!1;const m=()=>{f=!0,o==null||o.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};o.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"&&y.isExternal?m():!f&&(r==null||r()):y.isUpdate||r==null||r()}),o.addEventListener("waiting",m)}o.register({immediate:t}).then(f=>{a?a("/dream-weaver-log/sw.js",f):s==null||s(f)}).catch(f=>{i==null||i(f)})}}return c=h(),d}const cN=p.createContext(null);function EG({children:e}){const[t,n]=p.useState(!1),[r,s]=p.useState(!1),[a,i]=p.useState(!1),[o,c]=p.useState(null),u=p.useRef(null),d=p.useRef(null);p.useEffect(()=>{"serviceWorker"in navigator&&(d.current=jG({immediate:!0,onNeedRefresh(){n(!0)},onRegisteredSW(y,g){u.current=g??null},onRegisterError(y){console.warn("Service worker registration failed:",y)}}))},[]);const h=async()=>{var y;s(!0),c(Date.now());try{await((y=u.current)==null?void 0:y.update())}finally{s(!1)}},f=async()=>{if(d.current){i(!0);try{await d.current(!0)}finally{i(!1)}}},m=p.useMemo(()=>({updateAvailable:t,isChecking:r,isUpdating:a,lastCheckedAt:o,checkForUpdates:h,applyUpdate:f}),[t,r,a,o]);return l.jsx(cN.Provider,{value:m,children:e})}function CG(){const e=p.useContext(cN);if(!e)throw new Error("useAppUpdate must be used within AppUpdateProvider");return e}const uN="2026.01.31.002";function TG(){const{updateAvailable:e,isChecking:t,isUpdating:n,lastCheckedAt:r,checkForUpdates:s,applyUpdate:a}=CG();return l.jsxs("div",{className:"py-4 space-y-8 pb-20",children:[l.jsx($n,{delay:0,duration:400,children:l.jsx("h1",{children:"About / Safety"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx($n,{delay:80,duration:400,children:l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t5,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-lg font-medium",children:" Dream book"})]}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Dream book by Bon     structured log    "})]})}),l.jsx($n,{delay:120,duration:400,children:l.jsxs("section",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",uN]})]}),l.jsx("div",{className:"flex items-center gap-2",children:e?l.jsxs(Pe,{onClick:a,disabled:n,children:[n?l.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(JS,{className:"h-4 w-4 mr-2"}),n?"...":""]}):l.jsxs(Pe,{variant:"outline",onClick:s,disabled:t,children:[t?l.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(ac,{className:"h-4 w-4 mr-2"}),t?"...":""]})})]}),l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${e?"bg-emerald-400 animate-pulse":"bg-muted-foreground/40"}`}),t?"...":e?" ":""]}),r&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[":"," ",new Date(r).toLocaleString("th-TH")]})]})}),l.jsx($n,{delay:160,duration:400,children:l.jsxs("section",{className:"card-minimal text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dream book by Bon  ",new Date().getFullYear()]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Personal Dream Logging System"})]})})]})]})}const NG=()=>(Fa(),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})),PG=new E3,MG=()=>(p.useEffect(()=>{const{phenomenon:e}=Vl();dd(e),console.log(" Global Moon Theme Applied:",e.name),console.log(` App Version: ${uN} | Build: ${new Date().toISOString()}`)},[]),l.jsx(EG,{children:l.jsx(T3,{client:PG,children:l.jsxs(t3,{children:[l.jsx($R,{}),l.jsx(gA,{}),l.jsx(ED,{basename:"/dream-weaver-log",children:l.jsxs(vx,{children:[l.jsx(qn,{path:"/",element:l.jsx(O$,{})}),l.jsx(qn,{path:"/library",element:l.jsx(KH,{})}),l.jsx(qn,{path:"/story",element:l.jsx(bG,{})}),l.jsx(qn,{path:"/*",element:l.jsx(MD,{children:l.jsxs(vx,{children:[l.jsx(qn,{path:"/logs",element:l.jsx(aF,{})}),l.jsx(qn,{path:"/logs/new",element:l.jsx(NU,{})}),l.jsx(qn,{path:"/logs/:id",element:l.jsx(zU,{})}),l.jsx(qn,{path:"/statistics",element:l.jsx(hG,{})}),l.jsx(qn,{path:"/about",element:l.jsx(TG,{})}),l.jsx(qn,{path:"*",element:l.jsx(NG,{})})]})})})]})})]})})}));bS(document.getElementById("root")).render(l.jsx(MG,{}));
