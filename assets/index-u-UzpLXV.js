var B1=Object.defineProperty;var Nm=e=>{throw TypeError(e)};var U1=(e,t,n)=>t in e?B1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xs=(e,t,n)=>U1(e,typeof t!="symbol"?t+"":t,n),du=(e,t,n)=>t.has(e)||Nm("Cannot "+n);var R=(e,t,n)=>(du(e,t,"read from private field"),n?n.call(e):t.get(e)),Se=(e,t,n)=>t.has(e)?Nm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(du(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(du(e,t,"access private method"),n);var Li=(e,t,n,r)=>({set _(s){oe(e,t,s,n)},get _(){return R(e,t,r)}});function W1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Og={exports:{}},bc={},Ag={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),V1=Symbol.for("react.portal"),H1=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),q1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),Q1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),X1=Symbol.for("react.memo"),Z1=Symbol.for("react.lazy"),Tm=Symbol.iterator;function e2(e){return e===null||typeof e!="object"?null:(e=Tm&&e[Tm]||e["@@iterator"],typeof e=="function"?e:null)}var Ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dg=Object.assign,$g={};function ro(e,t,n){this.props=e,this.context=t,this.refs=$g,this.updater=n||Ig}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lg(){}Lg.prototype=ro.prototype;function Kh(e,t,n){this.props=e,this.context=t,this.refs=$g,this.updater=n||Ig}var Yh=Kh.prototype=new Lg;Yh.constructor=Kh;Dg(Yh,ro.prototype);Yh.isPureReactComponent=!0;var Pm=Array.isArray,Fg=Object.prototype.hasOwnProperty,Qh={current:null},zg={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Fg.call(t,r)&&!zg.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:ki,type:e,key:a,ref:o,props:s,_owner:Qh.current}}function t2(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function n2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mm=/\/+/g;function hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n2(""+e.key):t.toString(36)}function pl(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ki:case V1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+hu(o,0):r,Pm(s)?(n="",e!=null&&(n=e.replace(Mm,"$&/")+"/"),pl(s,t,n,"",function(u){return u})):s!=null&&(Jh(s)&&(s=t2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Pm(e))for(var i=0;i<e.length;i++){a=e[i];var c=r+hu(a,i);o+=pl(a,t,n,c,s)}else if(c=e2(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=r+hu(a,i++),o+=pl(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fi(e,t,n){if(e==null)return e;var r=[],s=0;return pl(e,r,"","",function(a){return t.call(n,a,s++)}),r}function r2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},gl={transition:null},s2={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Qh};function Ug(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Fi,forEach:function(e,t,n){Fi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fi(e,function(){t++}),t},toArray:function(e){return Fi(e,function(t){return t})||[]},only:function(e){if(!Jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ro;ge.Fragment=H1;ge.Profiler=q1;ge.PureComponent=Kh;ge.StrictMode=G1;ge.Suspense=J1;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2;ge.act=Ug;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dg({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Qh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Fg.call(t,c)&&!zg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:ki,type:e.type,key:s,ref:a,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:Y1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K1,_context:e},e.Consumer=e};ge.createElement=Bg;ge.createFactory=function(e){var t=Bg.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Q1,render:e}};ge.isValidElement=Jh;ge.lazy=function(e){return{$$typeof:Z1,_payload:{_status:-1,_result:e},_init:r2}};ge.memo=function(e,t){return{$$typeof:X1,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=gl.transition;gl.transition={};try{e()}finally{gl.transition=t}};ge.unstable_act=Ug;ge.useCallback=function(e,t){return Tt.current.useCallback(e,t)};ge.useContext=function(e){return Tt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Tt.current.useEffect(e,t)};ge.useId=function(){return Tt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Tt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};ge.useRef=function(e){return Tt.current.useRef(e)};ge.useState=function(e){return Tt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Tt.current.useTransition()};ge.version="18.3.1";Ag.exports=ge;var g=Ag.exports;const $=Rg(g),Xh=W1({__proto__:null,default:$},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=g,o2=Symbol.for("react.element"),i2=Symbol.for("react.fragment"),l2=Object.prototype.hasOwnProperty,c2=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u2={key:!0,ref:!0,__self:!0,__source:!0};function Wg(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)l2.call(t,r)&&!u2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:o2,type:e,key:a,ref:o,props:s,_owner:c2.current}}bc.Fragment=i2;bc.jsx=Wg;bc.jsxs=Wg;Og.exports=bc;var l=Og.exports,Vg={exports:{}},Xt={},Hg={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,k){var U=P.length;P.push(k);e:for(;0<U;){var te=U-1>>>1,z=P[te];if(0<s(z,k))P[te]=k,P[U]=z,U=te;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var k=P[0],U=P.pop();if(U!==k){P[0]=U;e:for(var te=0,z=P.length,_=z>>>1;te<_;){var J=2*(te+1)-1,F=P[J],_e=J+1,D=P[_e];if(0>s(F,U))_e<z&&0>s(D,F)?(P[te]=D,P[_e]=U,te=_e):(P[te]=F,P[J]=U,te=J);else if(_e<z&&0>s(D,U))P[te]=D,P[_e]=U,te=_e;else break e}}return k}function s(P,k){var U=P.sortIndex-k.sortIndex;return U!==0?U:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=P)r(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(u)}}function S(P){if(y=!1,w(P),!x)if(n(c)!==null)x=!0,W(E);else{var k=n(u);k!==null&&q(S,k.startTime-P)}}function E(P,k){x=!1,y&&(y=!1,v(N),N=-1),m=!0;var U=h;try{for(w(k),f=n(c);f!==null&&(!(f.expirationTime>k)||P&&!V());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var z=te(f.expirationTime<=k);k=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),w(k)}else r(c);f=n(c)}if(f!==null)var _=!0;else{var J=n(u);J!==null&&q(S,J.startTime-k),_=!1}return _}finally{f=null,h=U,m=!1}}var j=!1,C=null,N=-1,M=5,O=-1;function V(){return!(e.unstable_now()-O<M)}function L(){if(C!==null){var P=e.unstable_now();O=P;var k=!0;try{k=C(!0,P)}finally{k?Y():(j=!1,C=null)}}else j=!1}var Y;if(typeof p=="function")Y=function(){p(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=L,Y=function(){Q.postMessage(null)}}else Y=function(){b(L,0)};function W(P){C=P,j||(j=!0,Y())}function q(P,k){N=b(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,W(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var U=h;h=k;try{return P()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=h;h=P;try{return k()}finally{h=U}},e.unstable_scheduleCallback=function(P,k,U){var te=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,P={id:d++,callback:k,priorityLevel:P,startTime:U,expirationTime:z,sortIndex:-1},U>te?(P.sortIndex=U,t(u,P),n(c)===null&&P===n(u)&&(y?(v(N),N=-1):y=!0,q(S,U-te))):(P.sortIndex=z,t(c,P),x||m||(x=!0,W(E))),P},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(P){var k=h;return function(){var U=h;h=k;try{return P.apply(this,arguments)}finally{h=U}}}})(Gg);Hg.exports=Gg;var d2=Hg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2=g,Jt=d2;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qg=new Set,Wo={};function qs(e,t){Ga(e,t),Ga(e+"Capture",t)}function Ga(e,t){for(Wo[e]=t,e=0;e<t.length;e++)qg.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,f2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},Om={};function m2(e){return gd.call(Om,e)?!0:gd.call(Rm,e)?!1:f2.test(e)?Om[e]=!0:(Rm[e]=!0,!1)}function p2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function g2(e,t,n,r){if(t===null||typeof t>"u"||p2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zh=/[\-:]([a-z])/g;function ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zh,ef);ft[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zh,ef);ft[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zh,ef);ft[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tf(e,t,n,r){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g2(t,n,s,r)&&(n=null),r||s===null?m2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sr=h2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),ma=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),yd=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Qg=Symbol.for("react.offscreen"),Am=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=Am&&e[Am]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,fu;function _o(e){if(fu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fu=t&&t[1]||""}return`
`+fu+e}var mu=!1;function pu(e,t){if(!e||mu)return"";mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==a[i]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{mu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_o(e):""}function y2(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=pu(e.type,!1),e;case 11:return e=pu(e.type.render,!1),e;case 1:return e=pu(e.type,!0),e;default:return""}}function xd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case ma:return"Portal";case yd:return"Profiler";case nf:return"StrictMode";case vd:return"Suspense";case wd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yg:return(e.displayName||"Context")+".Consumer";case Kg:return(e._context.displayName||"Context")+".Provider";case rf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sf:return t=e.displayName||null,t!==null?t:xd(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return xd(e(t))}catch{}}return null}function v2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xd(t);case 8:return t===nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w2(e){var t=Jg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){e._valueTracker||(e._valueTracker=w2(e))}function Xg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bd(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Im(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zg(e,t){t=t.checked,t!=null&&tf(e,"checked",t,!1)}function Sd(e,t){Zg(e,t);var n=ts(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kd(e,t.type,n):t.hasOwnProperty("defaultValue")&&kd(e,t.type,ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kd(e,t,n){(t!=="number"||Dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jo=Array.isArray;function Ca(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ts(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $m(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(jo(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ts(n)}}function ey(e,t){var n=ts(t.value),r=ts(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ty(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ty(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ui,ny=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x2=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){x2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function ry(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function sy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ry(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var b2=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(e,t){if(t){if(b2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function af(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Td=null,Na=null,Ta=null;function Fm(e){if(e=ji(e)){if(typeof Td!="function")throw Error(A(280));var t=e.stateNode;t&&(t=jc(t),Td(e.stateNode,e.type,t))}}function ay(e){Na?Ta?Ta.push(e):Ta=[e]:Na=e}function oy(){if(Na){var e=Na,t=Ta;if(Ta=Na=null,Fm(e),t)for(e=0;e<t.length;e++)Fm(t[e])}}function iy(e,t){return e(t)}function ly(){}var gu=!1;function cy(e,t,n){if(gu)return e(t,n);gu=!0;try{return iy(e,t,n)}finally{gu=!1,(Na!==null||Ta!==null)&&(ly(),oy())}}function Ho(e,t){var n=e.stateNode;if(n===null)return null;var r=jc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Pd=!1;if(pr)try{var po={};Object.defineProperty(po,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Pd=!1}function S2(e,t,n,r,s,a,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ro=!1,$l=null,Ll=!1,Md=null,k2={onError:function(e){Ro=!0,$l=e}};function E2(e,t,n,r,s,a,o,i,c){Ro=!1,$l=null,S2.apply(k2,arguments)}function _2(e,t,n,r,s,a,o,i,c){if(E2.apply(this,arguments),Ro){if(Ro){var u=$l;Ro=!1,$l=null}else throw Error(A(198));Ll||(Ll=!0,Md=u)}}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zm(e){if(Ks(e)!==e)throw Error(A(188))}function j2(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return zm(s),e;if(a===r)return zm(s),t;a=a.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,i=s.child;i;){if(i===n){o=!0,n=s,r=a;break}if(i===r){o=!0,r=s,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,r=s;break}if(i===r){o=!0,r=a,n=s;break}i=i.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function dy(e){return e=j2(e),e!==null?hy(e):null}function hy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hy(e);if(t!==null)return t;e=e.sibling}return null}var fy=Jt.unstable_scheduleCallback,Bm=Jt.unstable_cancelCallback,C2=Jt.unstable_shouldYield,N2=Jt.unstable_requestPaint,Ke=Jt.unstable_now,T2=Jt.unstable_getCurrentPriorityLevel,of=Jt.unstable_ImmediatePriority,my=Jt.unstable_UserBlockingPriority,Fl=Jt.unstable_NormalPriority,P2=Jt.unstable_LowPriority,py=Jt.unstable_IdlePriority,Sc=null,Kn=null;function M2(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Sc,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:A2,R2=Math.log,O2=Math.LN2;function A2(e){return e>>>=0,e===0?32:31-(R2(e)/O2|0)|0}var Wi=64,Vi=4194304;function Co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~s;i!==0?r=Co(i):(a&=o,a!==0&&(r=Co(a)))}else o=n&~s,o!==0?r=Co(o):a!==0&&(r=Co(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pn(t),s=1<<n,r|=e[n],t&=~s;return r}function I2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pn(a),i=1<<o,c=s[o];c===-1?(!(i&n)||i&r)&&(s[o]=I2(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Rd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gy(){var e=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),e}function yu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function $2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function lf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function yy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vy,cf,wy,xy,by,Od=!1,Hi=[],Hr=null,Gr=null,qr=null,Go=new Map,qo=new Map,Ar=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(t.pointerId)}}function go(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ji(t),t!==null&&cf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function F2(e,t,n,r,s){switch(t){case"focusin":return Hr=go(Hr,e,t,n,r,s),!0;case"dragenter":return Gr=go(Gr,e,t,n,r,s),!0;case"mouseover":return qr=go(qr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Go.set(a,go(Go.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,qo.set(a,go(qo.get(a)||null,e,t,n,r,s)),!0}return!1}function Sy(e){var t=Cs(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=uy(n),t!==null){e.blockedOn=t,by(e.priority,function(){wy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ad(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nd=r,n.target.dispatchEvent(r),Nd=null}else return t=ji(n),t!==null&&cf(t),e.blockedOn=n,!1;t.shift()}return!0}function Wm(e,t,n){yl(e)&&n.delete(t)}function z2(){Od=!1,Hr!==null&&yl(Hr)&&(Hr=null),Gr!==null&&yl(Gr)&&(Gr=null),qr!==null&&yl(qr)&&(qr=null),Go.forEach(Wm),qo.forEach(Wm)}function yo(e,t){e.blockedOn===t&&(e.blockedOn=null,Od||(Od=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,z2)))}function Ko(e){function t(s){return yo(s,e)}if(0<Hi.length){yo(Hi[0],e);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hr!==null&&yo(Hr,e),Gr!==null&&yo(Gr,e),qr!==null&&yo(qr,e),Go.forEach(t),qo.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Sy(n),n.blockedOn===null&&Ar.shift()}var Pa=Sr.ReactCurrentBatchConfig,Bl=!0;function B2(e,t,n,r){var s=Ee,a=Pa.transition;Pa.transition=null;try{Ee=1,uf(e,t,n,r)}finally{Ee=s,Pa.transition=a}}function U2(e,t,n,r){var s=Ee,a=Pa.transition;Pa.transition=null;try{Ee=4,uf(e,t,n,r)}finally{Ee=s,Pa.transition=a}}function uf(e,t,n,r){if(Bl){var s=Ad(e,t,n,r);if(s===null)Cu(e,t,r,Ul,n),Um(e,r);else if(F2(s,e,t,n,r))r.stopPropagation();else if(Um(e,r),t&4&&-1<L2.indexOf(e)){for(;s!==null;){var a=ji(s);if(a!==null&&vy(a),a=Ad(e,t,n,r),a===null&&Cu(e,t,r,Ul,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Cu(e,t,r,null,n)}}var Ul=null;function Ad(e,t,n,r){if(Ul=null,e=af(r),e=Cs(e),e!==null)if(t=Ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function ky(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case of:return 1;case my:return 4;case Fl:case P2:return 16;case py:return 536870912;default:return 16}default:return 16}}var Ur=null,df=null,vl=null;function Ey(){if(vl)return vl;var e,t=df,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return vl=s.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Vm(){return!1}function Zt(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gi:Vm,this.isPropagationStopped=Vm,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Zt(so),_i=We({},so,{view:0,detail:0}),W2=Zt(_i),vu,wu,vo,kc=We({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(vu=e.screenX-vo.screenX,wu=e.screenY-vo.screenY):wu=vu=0,vo=e),vu)},movementY:function(e){return"movementY"in e?e.movementY:wu}}),Hm=Zt(kc),V2=We({},kc,{dataTransfer:0}),H2=Zt(V2),G2=We({},_i,{relatedTarget:0}),xu=Zt(G2),q2=We({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),K2=Zt(q2),Y2=We({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q2=Zt(Y2),J2=We({},so,{data:0}),Gm=Zt(J2),X2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eS[e])?!!t[e]:!1}function ff(){return tS}var nS=We({},_i,{key:function(e){if(e.key){var t=X2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rS=Zt(nS),sS=We({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Zt(sS),aS=We({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),oS=Zt(aS),iS=We({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),lS=Zt(iS),cS=We({},kc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uS=Zt(cS),dS=[9,13,27,32],mf=pr&&"CompositionEvent"in window,Oo=null;pr&&"documentMode"in document&&(Oo=document.documentMode);var hS=pr&&"TextEvent"in window&&!Oo,_y=pr&&(!mf||Oo&&8<Oo&&11>=Oo),Km=" ",Ym=!1;function jy(e,t){switch(e){case"keyup":return dS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function fS(e,t){switch(e){case"compositionend":return Cy(t);case"keypress":return t.which!==32?null:(Ym=!0,Km);case"textInput":return e=t.data,e===Km&&Ym?null:e;default:return null}}function mS(e,t){if(ga)return e==="compositionend"||!mf&&jy(e,t)?(e=Ey(),vl=df=Ur=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _y&&t.locale!=="ko"?null:t.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pS[e.type]:t==="textarea"}function Ny(e,t,n,r){ay(r),t=Wl(t,"onChange"),0<t.length&&(n=new hf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Yo=null;function gS(e){Fy(e,0)}function Ec(e){var t=wa(e);if(Xg(t))return e}function yS(e,t){if(e==="change")return t}var Ty=!1;if(pr){var bu;if(pr){var Su="oninput"in document;if(!Su){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Su=typeof Jm.oninput=="function"}bu=Su}else bu=!1;Ty=bu&&(!document.documentMode||9<document.documentMode)}function Xm(){Ao&&(Ao.detachEvent("onpropertychange",Py),Yo=Ao=null)}function Py(e){if(e.propertyName==="value"&&Ec(Yo)){var t=[];Ny(t,Yo,e,af(e)),cy(gS,t)}}function vS(e,t,n){e==="focusin"?(Xm(),Ao=t,Yo=n,Ao.attachEvent("onpropertychange",Py)):e==="focusout"&&Xm()}function wS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(Yo)}function xS(e,t){if(e==="click")return Ec(t)}function bS(e,t){if(e==="input"||e==="change")return Ec(t)}function SS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:SS;function Qo(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gd.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,t){var n=Zm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function My(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?My(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ry(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dl(e.document)}return t}function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kS(e){var t=Ry(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&pf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ep(n,a);var o=ep(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ES=pr&&"documentMode"in document&&11>=document.documentMode,ya=null,Id=null,Io=null,Dd=!1;function tp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dd||ya==null||ya!==Dl(r)||(r=ya,"selectionStart"in r&&pf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Qo(Io,r)||(Io=r,r=Wl(Id,"onSelect"),0<r.length&&(t=new hf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ya)))}function qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var va={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},ku={},Oy={};pr&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function _c(e){if(ku[e])return ku[e];if(!va[e])return e;var t=va[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oy)return ku[e]=t[n];return e}var Ay=_c("animationend"),Iy=_c("animationiteration"),Dy=_c("animationstart"),$y=_c("transitionend"),Ly=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){Ly.set(e,t),qs(t,[e])}for(var Eu=0;Eu<np.length;Eu++){var _u=np[Eu],_S=_u.toLowerCase(),jS=_u[0].toUpperCase()+_u.slice(1);is(_S,"on"+jS)}is(Ay,"onAnimationEnd");is(Iy,"onAnimationIteration");is(Dy,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is($y,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function rp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_2(r,t,void 0,e),e.currentTarget=null}function Fy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==a&&s.isPropagationStopped())break e;rp(s,i,u),a=c}else for(o=0;o<r.length;o++){if(i=r[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==a&&s.isPropagationStopped())break e;rp(s,i,u),a=c}}}if(Ll)throw e=Md,Ll=!1,Md=null,e}function Me(e,t){var n=t[Bd];n===void 0&&(n=t[Bd]=new Set);var r=e+"__bubble";n.has(r)||(zy(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),zy(n,e,r,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Ki]){e[Ki]=!0,qg.forEach(function(n){n!=="selectionchange"&&(CS.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,ju("selectionchange",!1,t))}}function zy(e,t,n,r){switch(ky(t)){case 1:var s=B2;break;case 4:s=U2;break;default:s=uf}n=s.bind(null,t,n,e),s=void 0,!Pd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cu(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;i!==null;){if(o=Cs(i),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}i=i.parentNode}}r=r.return}cy(function(){var u=a,d=af(n),f=[];e:{var h=Ly.get(e);if(h!==void 0){var m=hf,x=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":m=rS;break;case"focusin":x="focus",m=xu;break;case"focusout":x="blur",m=xu;break;case"beforeblur":case"afterblur":m=xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=H2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oS;break;case Ay:case Iy:case Dy:m=K2;break;case $y:m=lS;break;case"scroll":m=W2;break;case"wheel":m=uS;break;case"copy":case"cut":case"paste":m=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qm}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,w;p!==null;){w=p;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Ho(p,v),S!=null&&y.push(Xo(p,S,w)))),b)break;p=p.return}0<y.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Nd&&(x=n.relatedTarget||n.fromElement)&&(Cs(x)||x[gr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Cs(x):null,x!==null&&(b=Ks(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(y=Hm,S="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=qm,S="onPointerLeave",v="onPointerEnter",p="pointer"),b=m==null?h:wa(m),w=x==null?h:wa(x),h=new y(S,p+"leave",m,n,d),h.target=b,h.relatedTarget=w,S=null,Cs(d)===u&&(y=new y(v,p+"enter",x,n,d),y.target=w,y.relatedTarget=b,S=y),b=S,m&&x)t:{for(y=m,v=x,p=0,w=y;w;w=Zs(w))p++;for(w=0,S=v;S;S=Zs(S))w++;for(;0<p-w;)y=Zs(y),p--;for(;0<w-p;)v=Zs(v),w--;for(;p--;){if(y===v||v!==null&&y===v.alternate)break t;y=Zs(y),v=Zs(v)}y=null}else y=null;m!==null&&sp(f,h,m,y,!1),x!==null&&b!==null&&sp(f,b,x,y,!0)}}e:{if(h=u?wa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=yS;else if(Qm(h))if(Ty)E=bS;else{E=wS;var j=vS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=xS);if(E&&(E=E(e,u))){Ny(f,E,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&kd(h,"number",h.value)}switch(j=u?wa(u):window,e){case"focusin":(Qm(j)||j.contentEditable==="true")&&(ya=j,Id=u,Io=null);break;case"focusout":Io=Id=ya=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,tp(f,n,d);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":tp(f,n,d)}var C;if(mf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ga?jy(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(_y&&n.locale!=="ko"&&(ga||N!=="onCompositionStart"?N==="onCompositionEnd"&&ga&&(C=Ey()):(Ur=d,df="value"in Ur?Ur.value:Ur.textContent,ga=!0)),j=Wl(u,N),0<j.length&&(N=new Gm(N,e,null,n,d),f.push({event:N,listeners:j}),C?N.data=C:(C=Cy(n),C!==null&&(N.data=C)))),(C=hS?fS(e,n):mS(e,n))&&(u=Wl(u,"onBeforeInput"),0<u.length&&(d=new Gm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Fy(f,t)})}function Xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ho(e,n),a!=null&&r.unshift(Xo(e,a,s)),a=Ho(e,t),a!=null&&r.push(Xo(e,a,s))),e=e.return}return r}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sp(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=Ho(n,a),c!=null&&o.unshift(Xo(n,c,i))):s||(c=Ho(n,a),c!=null&&o.push(Xo(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var NS=/\r\n?/g,TS=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(NS,`
`).replace(TS,"")}function Yi(e,t,n){if(t=ap(t),ap(e)!==t&&n)throw Error(A(425))}function Vl(){}var $d=null,Ld=null;function Fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(e){return op.resolve(null).then(e).catch(RS)}:zd;function RS(e){setTimeout(function(){throw e})}function Nu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ko(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ip(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Wn="__reactFiber$"+ao,Zo="__reactProps$"+ao,gr="__reactContainer$"+ao,Bd="__reactEvents$"+ao,OS="__reactListeners$"+ao,AS="__reactHandles$"+ao;function Cs(e){var t=e[Wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[Wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ip(e);e!==null;){if(n=e[Wn])return n;e=ip(e)}return t}e=n,n=e.parentNode}return null}function ji(e){return e=e[Wn]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function jc(e){return e[Zo]||null}var Ud=[],xa=-1;function ls(e){return{current:e}}function Oe(e){0>xa||(e.current=Ud[xa],Ud[xa]=null,xa--)}function Te(e,t){xa++,Ud[xa]=e.current,e.current=t}var ns={},St=ls(ns),Dt=ls(!1),Fs=ns;function qa(e,t){var n=e.type.contextTypes;if(!n)return ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $t(e){return e=e.childContextTypes,e!=null}function Hl(){Oe(Dt),Oe(St)}function lp(e,t,n){if(St.current!==ns)throw Error(A(168));Te(St,t),Te(Dt,n)}function By(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,v2(e)||"Unknown",s));return We({},n,r)}function Gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ns,Fs=St.current,Te(St,e),Te(Dt,Dt.current),!0}function cp(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=By(e,t,Fs),r.__reactInternalMemoizedMergedChildContext=e,Oe(Dt),Oe(St),Te(St,e)):Oe(Dt),Te(Dt,n)}var cr=null,Cc=!1,Tu=!1;function Uy(e){cr===null?cr=[e]:cr.push(e)}function IS(e){Cc=!0,Uy(e)}function cs(){if(!Tu&&cr!==null){Tu=!0;var e=0,t=Ee;try{var n=cr;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cr=null,Cc=!1}catch(s){throw cr!==null&&(cr=cr.slice(e+1)),fy(of,cs),s}finally{Ee=t,Tu=!1}}return null}var ba=[],Sa=0,ql=null,Kl=0,nn=[],rn=0,zs=null,dr=1,hr="";function xs(e,t){ba[Sa++]=Kl,ba[Sa++]=ql,ql=e,Kl=t}function Wy(e,t,n){nn[rn++]=dr,nn[rn++]=hr,nn[rn++]=zs,zs=e;var r=dr;e=hr;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var a=32-Pn(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dr=1<<32-Pn(t)+s|n<<s|r,hr=a+e}else dr=1<<a|n<<s|r,hr=e}function gf(e){e.return!==null&&(xs(e,1),Wy(e,1,0))}function yf(e){for(;e===ql;)ql=ba[--Sa],ba[Sa]=null,Kl=ba[--Sa],ba[Sa]=null;for(;e===zs;)zs=nn[--rn],nn[rn]=null,hr=nn[--rn],nn[rn]=null,dr=nn[--rn],nn[rn]=null}var Yt=null,Gt=null,Le=!1,Nn=null;function Vy(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function up(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Gt=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zs!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Gt=null,!0):!1;default:return!1}}function Wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vd(e){if(Le){var t=Gt;if(t){var n=t;if(!up(e,t)){if(Wd(e))throw Error(A(418));t=Kr(n.nextSibling);var r=Yt;t&&up(e,t)?Vy(r,n):(e.flags=e.flags&-4097|2,Le=!1,Yt=e)}}else{if(Wd(e))throw Error(A(418));e.flags=e.flags&-4097|2,Le=!1,Yt=e}}}function dp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Qi(e){if(e!==Yt)return!1;if(!Le)return dp(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fd(e.type,e.memoizedProps)),t&&(t=Gt)){if(Wd(e))throw Hy(),Error(A(418));for(;t;)Vy(e,t),t=Kr(t.nextSibling)}if(dp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gt=Kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Yt?Kr(e.stateNode.nextSibling):null;return!0}function Hy(){for(var e=Gt;e;)e=Kr(e.nextSibling)}function Ka(){Gt=Yt=null,Le=!1}function vf(e){Nn===null?Nn=[e]:Nn.push(e)}var DS=Sr.ReactCurrentBatchConfig;function wo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=s.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hp(e){var t=e._init;return t(e._payload)}function Gy(e){function t(v,p){if(e){var w=v.deletions;w===null?(v.deletions=[p],v.flags|=16):w.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Xr(v,p),v.index=0,v.sibling=null,v}function a(v,p,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<p?(v.flags|=2,p):w):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function i(v,p,w,S){return p===null||p.tag!==6?(p=Du(w,v.mode,S),p.return=v,p):(p=s(p,w),p.return=v,p)}function c(v,p,w,S){var E=w.type;return E===pa?d(v,p,w.props.children,S,w.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mr&&hp(E)===p.type)?(S=s(p,w.props),S.ref=wo(v,p,w),S.return=v,S):(S=jl(w.type,w.key,w.props,null,v.mode,S),S.ref=wo(v,p,w),S.return=v,S)}function u(v,p,w,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=$u(w,v.mode,S),p.return=v,p):(p=s(p,w.children||[]),p.return=v,p)}function d(v,p,w,S,E){return p===null||p.tag!==7?(p=Ls(w,v.mode,S,E),p.return=v,p):(p=s(p,w),p.return=v,p)}function f(v,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Du(""+p,v.mode,w),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zi:return w=jl(p.type,p.key,p.props,null,v.mode,w),w.ref=wo(v,null,p),w.return=v,w;case ma:return p=$u(p,v.mode,w),p.return=v,p;case Mr:var S=p._init;return f(v,S(p._payload),w)}if(jo(p)||mo(p))return p=Ls(p,v.mode,w,null),p.return=v,p;Ji(v,p)}return null}function h(v,p,w,S){var E=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:i(v,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zi:return w.key===E?c(v,p,w,S):null;case ma:return w.key===E?u(v,p,w,S):null;case Mr:return E=w._init,h(v,p,E(w._payload),S)}if(jo(w)||mo(w))return E!==null?null:d(v,p,w,S,null);Ji(v,w)}return null}function m(v,p,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,i(p,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zi:return v=v.get(S.key===null?w:S.key)||null,c(p,v,S,E);case ma:return v=v.get(S.key===null?w:S.key)||null,u(p,v,S,E);case Mr:var j=S._init;return m(v,p,w,j(S._payload),E)}if(jo(S)||mo(S))return v=v.get(w)||null,d(p,v,S,E,null);Ji(p,S)}return null}function x(v,p,w,S){for(var E=null,j=null,C=p,N=p=0,M=null;C!==null&&N<w.length;N++){C.index>N?(M=C,C=null):M=C.sibling;var O=h(v,C,w[N],S);if(O===null){C===null&&(C=M);break}e&&C&&O.alternate===null&&t(v,C),p=a(O,p,N),j===null?E=O:j.sibling=O,j=O,C=M}if(N===w.length)return n(v,C),Le&&xs(v,N),E;if(C===null){for(;N<w.length;N++)C=f(v,w[N],S),C!==null&&(p=a(C,p,N),j===null?E=C:j.sibling=C,j=C);return Le&&xs(v,N),E}for(C=r(v,C);N<w.length;N++)M=m(C,v,N,w[N],S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?N:M.key),p=a(M,p,N),j===null?E=M:j.sibling=M,j=M);return e&&C.forEach(function(V){return t(v,V)}),Le&&xs(v,N),E}function y(v,p,w,S){var E=mo(w);if(typeof E!="function")throw Error(A(150));if(w=E.call(w),w==null)throw Error(A(151));for(var j=E=null,C=p,N=p=0,M=null,O=w.next();C!==null&&!O.done;N++,O=w.next()){C.index>N?(M=C,C=null):M=C.sibling;var V=h(v,C,O.value,S);if(V===null){C===null&&(C=M);break}e&&C&&V.alternate===null&&t(v,C),p=a(V,p,N),j===null?E=V:j.sibling=V,j=V,C=M}if(O.done)return n(v,C),Le&&xs(v,N),E;if(C===null){for(;!O.done;N++,O=w.next())O=f(v,O.value,S),O!==null&&(p=a(O,p,N),j===null?E=O:j.sibling=O,j=O);return Le&&xs(v,N),E}for(C=r(v,C);!O.done;N++,O=w.next())O=m(C,v,N,O.value,S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?N:O.key),p=a(O,p,N),j===null?E=O:j.sibling=O,j=O);return e&&C.forEach(function(L){return t(v,L)}),Le&&xs(v,N),E}function b(v,p,w,S){if(typeof w=="object"&&w!==null&&w.type===pa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zi:e:{for(var E=w.key,j=p;j!==null;){if(j.key===E){if(E=w.type,E===pa){if(j.tag===7){n(v,j.sibling),p=s(j,w.props.children),p.return=v,v=p;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mr&&hp(E)===j.type){n(v,j.sibling),p=s(j,w.props),p.ref=wo(v,j,w),p.return=v,v=p;break e}n(v,j);break}else t(v,j);j=j.sibling}w.type===pa?(p=Ls(w.props.children,v.mode,S,w.key),p.return=v,v=p):(S=jl(w.type,w.key,w.props,null,v.mode,S),S.ref=wo(v,p,w),S.return=v,v=S)}return o(v);case ma:e:{for(j=w.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(v,p.sibling),p=s(p,w.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=$u(w,v.mode,S),p.return=v,v=p}return o(v);case Mr:return j=w._init,b(v,p,j(w._payload),S)}if(jo(w))return x(v,p,w,S);if(mo(w))return y(v,p,w,S);Ji(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,w),p.return=v,v=p):(n(v,p),p=Du(w,v.mode,S),p.return=v,v=p),o(v)):n(v,p)}return b}var Ya=Gy(!0),qy=Gy(!1),Yl=ls(null),Ql=null,ka=null,wf=null;function xf(){wf=ka=Ql=null}function bf(e){var t=Yl.current;Oe(Yl),e._currentValue=t}function Hd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){Ql=e,wf=ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(wf!==e)if(e={context:e,memoizedValue:t,next:null},ka===null){if(Ql===null)throw Error(A(308));ka=e,Ql.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ns=null;function Sf(e){Ns===null?Ns=[e]:Ns.push(e)}function Ky(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sf(t)):(n.next=s.next,s.next=n),t.interleaved=n,yr(e,r)}function yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yr(e,n)}return s=r.interleaved,s===null?(t.next=t,Sf(r)):(t.next=s.next,s.next=t),r.interleaved=t,yr(e,n)}function xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lf(e,n)}}function fp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jl(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==o&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,i=a;do{var h=i.lane,m=i.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,y=i;switch(h=t,m=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=We({},f,h);break e;case 2:Rr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Us|=o,e.lanes=o,e.memoizedState=f}}function mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Ci={},Yn=ls(Ci),ei=ls(Ci),ti=ls(Ci);function Ts(e){if(e===Ci)throw Error(A(174));return e}function Ef(e,t){switch(Te(ti,t),Te(ei,e),Te(Yn,Ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_d(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_d(t,e)}Oe(Yn),Te(Yn,t)}function Qa(){Oe(Yn),Oe(ei),Oe(ti)}function Qy(e){Ts(ti.current);var t=Ts(Yn.current),n=_d(t,e.type);t!==n&&(Te(ei,e),Te(Yn,n))}function _f(e){ei.current===e&&(Oe(Yn),Oe(ei))}var ze=ls(0);function Xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pu=[];function jf(){for(var e=0;e<Pu.length;e++)Pu[e]._workInProgressVersionPrimary=null;Pu.length=0}var bl=Sr.ReactCurrentDispatcher,Mu=Sr.ReactCurrentBatchConfig,Bs=0,Be=null,nt=null,at=null,Zl=!1,Do=!1,ni=0,$S=0;function gt(){throw Error(A(321))}function Cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function Nf(e,t,n,r,s,a){if(Bs=a,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?BS:US,e=n(r,s),Do){a=0;do{if(Do=!1,ni=0,25<=a)throw Error(A(301));a+=1,at=nt=null,t.updateQueue=null,bl.current=WS,e=n(r,s)}while(Do)}if(bl.current=ec,t=nt!==null&&nt.next!==null,Bs=0,at=nt=Be=null,Zl=!1,t)throw Error(A(300));return e}function Tf(){var e=ni!==0;return ni=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Be.memoizedState=at=e:at=at.next=e,at}function dn(){if(nt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=at===null?Be.memoizedState:at.next;if(t!==null)at=t,nt=e;else{if(e===null)throw Error(A(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?Be.memoizedState=at=e:at=at.next=e}return at}function ri(e,t){return typeof t=="function"?t(e):t}function Ru(e){var t=dn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=nt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var i=o=null,c=null,u=a;do{var d=u.lane;if((Bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,o=r):c=c.next=f,Be.lanes|=d,Us|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=i,Rn(r,t.memoizedState)||(It=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Be.lanes|=a,Us|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ou(e){var t=dn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Rn(a,t.memoizedState)||(It=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Jy(){}function Xy(e,t){var n=Be,r=dn(),s=t(),a=!Rn(r.memoizedState,s);if(a&&(r.memoizedState=s,It=!0),r=r.queue,Pf(tv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,si(9,ev.bind(null,n,r,s,t),void 0,null),ot===null)throw Error(A(349));Bs&30||Zy(n,t,s)}return s}function Zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ev(e,t,n,r){t.value=n,t.getSnapshot=r,nv(t)&&rv(e)}function tv(e,t,n){return n(function(){nv(t)&&rv(e)})}function nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function rv(e){var t=yr(e,1);t!==null&&Mn(t,e,1,-1)}function pp(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=zS.bind(null,Be,e),[t.memoizedState,e]}function si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sv(){return dn().memoizedState}function Sl(e,t,n,r){var s=Fn();Be.flags|=e,s.memoizedState=si(1|t,n,void 0,r===void 0?null:r)}function Nc(e,t,n,r){var s=dn();r=r===void 0?null:r;var a=void 0;if(nt!==null){var o=nt.memoizedState;if(a=o.destroy,r!==null&&Cf(r,o.deps)){s.memoizedState=si(t,n,a,r);return}}Be.flags|=e,s.memoizedState=si(1|t,n,a,r)}function gp(e,t){return Sl(8390656,8,e,t)}function Pf(e,t){return Nc(2048,8,e,t)}function av(e,t){return Nc(4,2,e,t)}function ov(e,t){return Nc(4,4,e,t)}function iv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lv(e,t,n){return n=n!=null?n.concat([e]):null,Nc(4,4,iv.bind(null,t,e),n)}function Mf(){}function cv(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uv(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dv(e,t,n){return Bs&21?(Rn(n,t)||(n=gy(),Be.lanes|=n,Us|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n)}function LS(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=Mu.transition;Mu.transition={};try{e(!1),t()}finally{Ee=n,Mu.transition=r}}function hv(){return dn().memoizedState}function FS(e,t,n){var r=Jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fv(e))mv(t,n);else if(n=Ky(e,t,n,r),n!==null){var s=Nt();Mn(n,e,r,s),pv(n,t,r)}}function zS(e,t,n){var r=Jr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fv(e))mv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,Rn(i,o)){var c=t.interleaved;c===null?(s.next=s,Sf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ky(e,t,s,r),n!==null&&(s=Nt(),Mn(n,e,r,s),pv(n,t,r))}}function fv(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function mv(e,t){Do=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lf(e,n)}}var ec={readContext:un,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},BS={readContext:un,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:gp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,iv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FS.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:pp,useDebugValue:Mf,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=pp(!1),t=e[0];return e=LS.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Fn();if(Le){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ot===null)throw Error(A(349));Bs&30||Zy(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,gp(tv.bind(null,r,a,e),[e]),r.flags|=2048,si(9,ev.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=ot.identifierPrefix;if(Le){var n=hr,r=dr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$S++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},US={readContext:un,useCallback:cv,useContext:un,useEffect:Pf,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:uv,useReducer:Ru,useRef:sv,useState:function(){return Ru(ri)},useDebugValue:Mf,useDeferredValue:function(e){var t=dn();return dv(t,nt.memoizedState,e)},useTransition:function(){var e=Ru(ri)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Jy,useSyncExternalStore:Xy,useId:hv,unstable_isNewReconciler:!1},WS={readContext:un,useCallback:cv,useContext:un,useEffect:Pf,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:uv,useReducer:Ou,useRef:sv,useState:function(){return Ou(ri)},useDebugValue:Mf,useDeferredValue:function(e){var t=dn();return nt===null?t.memoizedState=e:dv(t,nt.memoizedState,e)},useTransition:function(){var e=Ou(ri)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Jy,useSyncExternalStore:Xy,useId:hv,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tc={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=Jr(e),a=fr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Yr(e,a,s),t!==null&&(Mn(t,e,s,r),xl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=Jr(e),a=fr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Yr(e,a,s),t!==null&&(Mn(t,e,s,r),xl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=Jr(e),s=fr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yr(e,s,r),t!==null&&(Mn(t,e,r,n),xl(t,e,r))}};function yp(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Qo(n,r)||!Qo(s,a):!0}function gv(e,t,n){var r=!1,s=ns,a=t.contextType;return typeof a=="object"&&a!==null?a=un(a):(s=$t(t)?Fs:St.current,r=t.contextTypes,a=(r=r!=null)?qa(e,s):ns),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function vp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function qd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},kf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=un(a):(a=$t(t)?Fs:St.current,s.context=qa(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tc.enqueueReplaceState(s,s.state,null),Jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var n="",r=t;do n+=y2(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VS=typeof WeakMap=="function"?WeakMap:Map;function yv(e,t,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nc||(nc=!0,sh=r),Kd(e,t)},n}function vv(e,t,n){n=fr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Kd(e,t),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=s5.bind(null,e,t,n),t.then(e,e))}function xp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fr(-1,1),t.tag=2,Yr(n,t,1))),n.lanes|=1),e)}var HS=Sr.ReactCurrentOwner,It=!1;function jt(e,t,n,r){t.child=e===null?qy(t,null,n,r):Ya(t,e.child,n,r)}function Sp(e,t,n,r,s){n=n.render;var a=t.ref;return Ma(t,s),r=Nf(e,t,n,r,a,s),n=Tf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Le&&n&&gf(t),t.flags|=1,jt(e,t,r,s),t.child)}function kp(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ff(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wv(e,t,a,r,s)):(e=jl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(o,r)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=Xr(a,r),e.ref=t.ref,e.return=t,t.child=e}function wv(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Qo(a,r)&&e.ref===t.ref)if(It=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,vr(e,t,s)}return Yd(e,t,n,r,s)}function xv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(_a,Bt),Bt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(_a,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Te(_a,Bt),Bt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Te(_a,Bt),Bt|=r;return jt(e,t,s,n),t.child}function bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yd(e,t,n,r,s){var a=$t(n)?Fs:St.current;return a=qa(t,a),Ma(t,s),n=Nf(e,t,n,r,a,s),r=Tf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Le&&r&&gf(t),t.flags|=1,jt(e,t,n,s),t.child)}function Ep(e,t,n,r,s){if($t(n)){var a=!0;Gl(t)}else a=!1;if(Ma(t,s),t.stateNode===null)kl(e,t),gv(t,n,r),qd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=$t(n)?Fs:St.current,u=qa(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||c!==u)&&vp(t,o,r,u),Rr=!1;var h=t.memoizedState;o.state=h,Jl(t,r,o,s),c=t.memoizedState,i!==r||h!==c||Dt.current||Rr?(typeof d=="function"&&(Gd(t,n,d,r),c=t.memoizedState),(i=Rr||yp(t,n,i,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Yy(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:bn(t.type,i),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=un(c):(c=$t(n)?Fs:St.current,c=qa(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||h!==c)&&vp(t,o,r,c),Rr=!1,h=t.memoizedState,o.state=h,Jl(t,r,o,s);var x=t.memoizedState;i!==f||h!==x||Dt.current||Rr?(typeof m=="function"&&(Gd(t,n,m,r),x=t.memoizedState),(u=Rr||yp(t,n,u,r,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Qd(e,t,n,r,a,s)}function Qd(e,t,n,r,s,a){bv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&cp(t,n,!1),vr(e,t,a);r=t.stateNode,HS.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,i,a)):jt(e,t,i,a),t.memoizedState=r.state,s&&cp(t,n,!0),t.child}function Sv(e){var t=e.stateNode;t.pendingContext?lp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lp(e,t.context,!1),Ef(e,t.containerInfo)}function _p(e,t,n,r,s){return Ka(),vf(s),t.flags|=256,jt(e,t,n,r),t.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function kv(e,t,n){var r=t.pendingProps,s=ze.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(ze,s&1),e===null)return Vd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Rc(o,r,0,null),e=Ls(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xd(n),t.memoizedState=Jd,e):Rf(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return GS(e,t,o,r,i,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=Xr(i,a):(a=Ls(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Xd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Jd,r}return a=e.child,e=a.sibling,r=Xr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rf(e,t){return t=Rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,n,r){return r!==null&&vf(r),Ya(t,e.child,null,n),e=Rf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GS(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Au(Error(A(422))),Xi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),a=Ls(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ya(t,e.child,null,o),t.child.memoizedState=Xd(o),t.memoizedState=Jd,a);if(!(t.mode&1))return Xi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(A(419)),r=Au(a,r,void 0),Xi(e,t,o,r)}if(i=(o&e.childLanes)!==0,It||i){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,yr(e,s),Mn(r,e,s,-1))}return Lf(),r=Au(Error(A(421))),Xi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=a5.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Gt=Kr(s.nextSibling),Yt=t,Le=!0,Nn=null,e!==null&&(nn[rn++]=dr,nn[rn++]=hr,nn[rn++]=zs,dr=e.id,hr=e.overflow,zs=t),t=Rf(t,r.children),t.flags|=4096,t)}function jp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hd(e.return,t,n)}function Iu(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ev(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(jt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,n,t);else if(e.tag===19)jp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Xl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Iu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Iu(t,!0,n,null,a);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Us|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qS(e,t,n){switch(t.tag){case 3:Sv(t),Ka();break;case 5:Qy(t);break;case 1:$t(t.type)&&Gl(t);break;case 4:Ef(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(Yl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?kv(e,t,n):(Te(ze,ze.current&1),e=vr(e,t,n),e!==null?e.sibling:null);Te(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ev(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,xv(e,t,n)}return vr(e,t,n)}var _v,Zd,jv,Cv;_v=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zd=function(){};jv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ts(Yn.current);var a=null;switch(n){case"input":s=bd(e,s),r=bd(e,r),a=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),a=[];break;case"textarea":s=Ed(e,s),r=Ed(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vl)}jd(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),a||i===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Cv=function(e,t,n,r){n!==r&&(t.flags|=4)};function xo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function KS(e,t,n){var r=t.pendingProps;switch(yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return $t(t.type)&&Hl(),yt(t),null;case 3:return r=t.stateNode,Qa(),Oe(Dt),Oe(St),jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(ih(Nn),Nn=null))),Zd(e,t),yt(t),null;case 5:_f(t);var s=Ts(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)jv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return yt(t),null}if(e=Ts(Yn.current),Qi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Wn]=t,r[Zo]=a,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<No.length;s++)Me(No[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Im(r,a),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Me("invalid",r);break;case"textarea":$m(r,a),Me("invalid",r)}jd(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Yi(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Yi(r.textContent,i,e),s=["children",""+i]):Wo.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Bi(r),Dm(r,a,!0);break;case"textarea":Bi(r),Lm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Vl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ty(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wn]=t,e[Zo]=r,_v(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cd(n,r),n){case"dialog":Me("cancel",e),Me("close",e),s=r;break;case"iframe":case"object":case"embed":Me("load",e),s=r;break;case"video":case"audio":for(s=0;s<No.length;s++)Me(No[s],e);s=r;break;case"source":Me("error",e),s=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=r;break;case"details":Me("toggle",e),s=r;break;case"input":Im(e,r),s=bd(e,r),Me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Me("invalid",e);break;case"textarea":$m(e,r),s=Ed(e,r),Me("invalid",e);break;default:s=r}jd(n,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?sy(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ny(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vo(e,c):typeof c=="number"&&Vo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Me("scroll",e):c!=null&&tf(e,a,c,o))}switch(n){case"input":Bi(e),Dm(e,r,!1);break;case"textarea":Bi(e),Lm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ts(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ca(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Cv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Ts(ti.current),Ts(Yn.current),Qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wn]=t,(a=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:Yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yi(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=t,t.stateNode=r}return yt(t),null;case 13:if(Oe(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Gt!==null&&t.mode&1&&!(t.flags&128))Hy(),Ka(),t.flags|=98560,a=!1;else if(a=Qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Wn]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),a=!1}else Nn!==null&&(ih(Nn),Nn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?rt===0&&(rt=3):Lf())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Qa(),Zd(e,t),e===null&&Jo(t.stateNode.containerInfo),yt(t),null;case 10:return bf(t.type._context),yt(t),null;case 17:return $t(t.type)&&Hl(),yt(t),null;case 19:if(Oe(ze),a=t.memoizedState,a===null)return yt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)xo(a,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xl(e),o!==null){for(t.flags|=128,xo(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(ze,ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ke()>Xa&&(t.flags|=128,r=!0,xo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Xl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Le)return yt(t),null}else 2*Ke()-a.renderingStartTime>Xa&&n!==1073741824&&(t.flags|=128,r=!0,xo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=ze.current,Te(ze,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return $f(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function YS(e,t){switch(yf(t),t.tag){case 1:return $t(t.type)&&Hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(),Oe(Dt),Oe(St),jf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _f(t),null;case 13:if(Oe(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(ze),null;case 4:return Qa(),null;case 10:return bf(t.type._context),null;case 22:case 23:return $f(),null;case 24:return null;default:return null}}var Zi=!1,xt=!1,QS=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function eh(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var Cp=!1;function JS(e,t){if($d=Bl,e=Ry(),pf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(i=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(i=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:e,selectionRange:n},Bl=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:bn(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(S){Ge(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return x=Cp,Cp=!1,x}function $o(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&eh(t,n,a)}s=s.next}while(s!==r)}}function Pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function th(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nv(e){var t=e.alternate;t!==null&&(e.alternate=null,Nv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[Zo],delete t[Bd],delete t[OS],delete t[AS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tv(e){return e.tag===5||e.tag===3||e.tag===4}function Np(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vl));else if(r!==4&&(e=e.child,e!==null))for(nh(e,t,n),e=e.sibling;e!==null;)nh(e,t,n),e=e.sibling}function rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rh(e,t,n),e=e.sibling;e!==null;)rh(e,t,n),e=e.sibling}var ut=null,jn=!1;function _r(e,t,n){for(n=n.child;n!==null;)Pv(e,t,n),n=n.sibling}function Pv(e,t,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:xt||Ea(n,t);case 6:var r=ut,s=jn;ut=null,_r(e,t,n),ut=r,jn=s,ut!==null&&(jn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(jn?(e=ut,n=n.stateNode,e.nodeType===8?Nu(e.parentNode,n):e.nodeType===1&&Nu(e,n),Ko(e)):Nu(ut,n.stateNode));break;case 4:r=ut,s=jn,ut=n.stateNode.containerInfo,jn=!0,_r(e,t,n),ut=r,jn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&eh(n,t,o),s=s.next}while(s!==r)}_r(e,t,n);break;case 1:if(!xt&&(Ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ge(n,t,i)}_r(e,t,n);break;case 21:_r(e,t,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,_r(e,t,n),xt=r):_r(e,t,n);break;default:_r(e,t,n)}}function Tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QS),t.forEach(function(r){var s=o5.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:ut=i.stateNode,jn=!1;break e;case 3:ut=i.stateNode.containerInfo,jn=!0;break e;case 4:ut=i.stateNode.containerInfo,jn=!0;break e}i=i.return}if(ut===null)throw Error(A(160));Pv(a,o,s),ut=null,jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mv(t,e),t=t.sibling}function Mv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Ln(e),r&4){try{$o(3,e,e.return),Pc(3,e)}catch(y){Ge(e,e.return,y)}try{$o(5,e,e.return)}catch(y){Ge(e,e.return,y)}}break;case 1:pn(t,e),Ln(e),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(pn(t,e),Ln(e),r&512&&n!==null&&Ea(n,n.return),e.flags&32){var s=e.stateNode;try{Vo(s,"")}catch(y){Ge(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Zg(s,a),Cd(i,o);var u=Cd(i,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sy(s,f):d==="dangerouslySetInnerHTML"?ny(s,f):d==="children"?Vo(s,f):tf(s,d,f,u)}switch(i){case"input":Sd(s,a);break;case"textarea":ey(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ca(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ca(s,!!a.multiple,a.defaultValue,!0):Ca(s,!!a.multiple,a.multiple?[]:"",!1))}s[Zo]=a}catch(y){Ge(e,e.return,y)}}break;case 6:if(pn(t,e),Ln(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){Ge(e,e.return,y)}}break;case 3:if(pn(t,e),Ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(y){Ge(e,e.return,y)}break;case 4:pn(t,e),Ln(e);break;case 13:pn(t,e),Ln(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(If=Ke())),r&4&&Tp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(u=xt)||d,pn(t,e),xt=u):pn(t,e),Ln(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,m=h.child,h.tag){case 0:case 11:case 14:case 15:$o(4,h,h.return);break;case 1:Ea(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Ge(r,n,y)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){Mp(f);continue}}m!==null?(m.return=h,H=m):Mp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=ry("display",o))}catch(y){Ge(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ge(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),Ln(e),r&4&&Tp(e);break;case 21:break;default:pn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tv(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vo(s,""),r.flags&=-33);var a=Np(e);rh(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Np(e);nh(e,i,o);break;default:throw Error(A(161))}}catch(c){Ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XS(e,t,n){H=e,Rv(e)}function Rv(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zi;if(!o){var i=s.alternate,c=i!==null&&i.memoizedState!==null||xt;i=Zi;var u=xt;if(Zi=o,(xt=c)&&!u)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Rp(s):c!==null?(c.return=o,H=c):Rp(s);for(;a!==null;)H=a,Rv(a),a=a.sibling;H=s,Zi=i,xt=u}Pp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,H=a):Pp(e)}}function Pp(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||Pc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&mp(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mp(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}xt||t.flags&512&&th(t)}catch(h){Ge(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Mp(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Rp(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pc(4,t)}catch(c){Ge(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ge(t,s,c)}}var a=t.return;try{th(t)}catch(c){Ge(t,a,c)}break;case 5:var o=t.return;try{th(t)}catch(c){Ge(t,o,c)}}}catch(c){Ge(t,t.return,c)}if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}var ZS=Math.ceil,tc=Sr.ReactCurrentDispatcher,Of=Sr.ReactCurrentOwner,cn=Sr.ReactCurrentBatchConfig,be=0,ot=null,Ze=null,ht=0,Bt=0,_a=ls(0),rt=0,ai=null,Us=0,Mc=0,Af=0,Lo=null,At=null,If=0,Xa=1/0,ir=null,nc=!1,sh=null,Qr=null,el=!1,Wr=null,rc=0,Fo=0,ah=null,El=-1,_l=0;function Nt(){return be&6?Ke():El!==-1?El:El=Ke()}function Jr(e){return e.mode&1?be&2&&ht!==0?ht&-ht:DS.transition!==null?(_l===0&&(_l=gy()),_l):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:ky(e.type)),e):1}function Mn(e,t,n,r){if(50<Fo)throw Fo=0,ah=null,Error(A(185));Ei(e,n,r),(!(be&2)||e!==ot)&&(e===ot&&(!(be&2)&&(Mc|=n),rt===4&&Ir(e,ht)),Lt(e,r),n===1&&be===0&&!(t.mode&1)&&(Xa=Ke()+500,Cc&&cs()))}function Lt(e,t){var n=e.callbackNode;D2(e,t);var r=zl(e,e===ot?ht:0);if(r===0)n!==null&&Bm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bm(n),t===1)e.tag===0?IS(Op.bind(null,e)):Uy(Op.bind(null,e)),MS(function(){!(be&6)&&cs()}),n=null;else{switch(yy(r)){case 1:n=of;break;case 4:n=my;break;case 16:n=Fl;break;case 536870912:n=py;break;default:n=Fl}n=zv(n,Ov.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ov(e,t){if(El=-1,_l=0,be&6)throw Error(A(327));var n=e.callbackNode;if(Ra()&&e.callbackNode!==n)return null;var r=zl(e,e===ot?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sc(e,r);else{t=r;var s=be;be|=2;var a=Iv();(ot!==e||ht!==t)&&(ir=null,Xa=Ke()+500,$s(e,t));do try{n5();break}catch(i){Av(e,i)}while(!0);xf(),tc.current=a,be=s,Ze!==null?t=0:(ot=null,ht=0,t=rt)}if(t!==0){if(t===2&&(s=Rd(e),s!==0&&(r=s,t=oh(e,s))),t===1)throw n=ai,$s(e,0),Ir(e,r),Lt(e,Ke()),n;if(t===6)Ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!e5(s)&&(t=sc(e,r),t===2&&(a=Rd(e),a!==0&&(r=a,t=oh(e,a))),t===1))throw n=ai,$s(e,0),Ir(e,r),Lt(e,Ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:bs(e,At,ir);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=If+500-Ke(),10<t)){if(zl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zd(bs.bind(null,e,At,ir),t);break}bs(e,At,ir);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Pn(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZS(r/1960))-r,10<r){e.timeoutHandle=zd(bs.bind(null,e,At,ir),r);break}bs(e,At,ir);break;case 5:bs(e,At,ir);break;default:throw Error(A(329))}}}return Lt(e,Ke()),e.callbackNode===n?Ov.bind(null,e):null}function oh(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=sc(e,t),e!==2&&(t=At,At=n,t!==null&&ih(t)),e}function ih(e){At===null?At=e:At.push.apply(At,e)}function e5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Af,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function Op(e){if(be&6)throw Error(A(327));Ra();var t=zl(e,0);if(!(t&1))return Lt(e,Ke()),null;var n=sc(e,t);if(e.tag!==0&&n===2){var r=Rd(e);r!==0&&(t=r,n=oh(e,r))}if(n===1)throw n=ai,$s(e,0),Ir(e,t),Lt(e,Ke()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,At,ir),Lt(e,Ke()),null}function Df(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Xa=Ke()+500,Cc&&cs())}}function Ws(e){Wr!==null&&Wr.tag===0&&!(be&6)&&Ra();var t=be;be|=1;var n=cn.transition,r=Ee;try{if(cn.transition=null,Ee=1,e)return e()}finally{Ee=r,cn.transition=n,be=t,!(be&6)&&cs()}}function $f(){Bt=_a.current,Oe(_a)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,PS(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hl();break;case 3:Qa(),Oe(Dt),Oe(St),jf();break;case 5:_f(r);break;case 4:Qa();break;case 13:Oe(ze);break;case 19:Oe(ze);break;case 10:bf(r.type._context);break;case 22:case 23:$f()}n=n.return}if(ot=e,Ze=e=Xr(e.current,null),ht=Bt=t,rt=0,ai=null,Af=Mc=Us=0,At=Lo=null,Ns!==null){for(t=0;t<Ns.length;t++)if(n=Ns[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Ns=null}return e}function Av(e,t){do{var n=Ze;try{if(xf(),bl.current=ec,Zl){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zl=!1}if(Bs=0,at=nt=Be=null,Do=!1,ni=0,Of.current=null,n===null||n.return===null){rt=1,ai=t,Ze=null;break}e:{var a=e,o=n.return,i=n,c=t;if(t=ht,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=xp(o);if(m!==null){m.flags&=-257,bp(m,o,i,a,t),m.mode&1&&wp(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){wp(a,u,t),Lf();break e}c=Error(A(426))}}else if(Le&&i.mode&1){var b=xp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bp(b,o,i,a,t),vf(Ja(c,i));break e}}a=c=Ja(c,i),rt!==4&&(rt=2),Lo===null?Lo=[a]:Lo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=yv(a,c,t);fp(a,v);break e;case 1:i=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qr===null||!Qr.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=vv(a,i,t);fp(a,S);break e}}a=a.return}while(a!==null)}$v(n)}catch(E){t=E,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function Iv(){var e=tc.current;return tc.current=ec,e===null?ec:e}function Lf(){(rt===0||rt===3||rt===2)&&(rt=4),ot===null||!(Us&268435455)&&!(Mc&268435455)||Ir(ot,ht)}function sc(e,t){var n=be;be|=2;var r=Iv();(ot!==e||ht!==t)&&(ir=null,$s(e,t));do try{t5();break}catch(s){Av(e,s)}while(!0);if(xf(),be=n,tc.current=r,Ze!==null)throw Error(A(261));return ot=null,ht=0,rt}function t5(){for(;Ze!==null;)Dv(Ze)}function n5(){for(;Ze!==null&&!C2();)Dv(Ze)}function Dv(e){var t=Fv(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?$v(e):Ze=t,Of.current=null}function $v(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YS(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Ze=null;return}}else if(n=KS(n,t,Bt),n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);rt===0&&(rt=5)}function bs(e,t,n){var r=Ee,s=cn.transition;try{cn.transition=null,Ee=1,r5(e,t,n,r)}finally{cn.transition=s,Ee=r}return null}function r5(e,t,n,r){do Ra();while(Wr!==null);if(be&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if($2(e,a),e===ot&&(Ze=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,zv(Fl,function(){return Ra(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=cn.transition,cn.transition=null;var o=Ee;Ee=1;var i=be;be|=4,Of.current=null,JS(e,n),Mv(n,e),kS(Ld),Bl=!!$d,Ld=$d=null,e.current=n,XS(n),N2(),be=i,Ee=o,cn.transition=a}else e.current=n;if(el&&(el=!1,Wr=e,rc=s),a=e.pendingLanes,a===0&&(Qr=null),M2(n.stateNode),Lt(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nc)throw nc=!1,e=sh,sh=null,e;return rc&1&&e.tag!==0&&Ra(),a=e.pendingLanes,a&1?e===ah?Fo++:(Fo=0,ah=e):Fo=0,cs(),null}function Ra(){if(Wr!==null){var e=yy(rc),t=cn.transition,n=Ee;try{if(cn.transition=null,Ee=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,rc=0,be&6)throw Error(A(331));var s=be;for(be|=4,H=e.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:$o(8,d,a)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,m=d.return;if(Nv(d),d===u){H=null;break}if(h!==null){h.return=m,H=h;break}H=m}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$o(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,H=v;break e}H=a.return}}var p=e.current;for(H=p;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=p;H!==null;){if(i=H,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Pc(9,i)}}catch(E){Ge(i,i.return,E)}if(i===o){H=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,H=S;break e}H=i.return}}if(be=s,cs(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Sc,e)}catch{}r=!0}return r}finally{Ee=n,cn.transition=t}}return!1}function Ap(e,t,n){t=Ja(n,t),t=yv(e,t,1),e=Yr(e,t,1),t=Nt(),e!==null&&(Ei(e,1,t),Lt(e,t))}function Ge(e,t,n){if(e.tag===3)Ap(e,e,n);else for(;t!==null;){if(t.tag===3){Ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){e=Ja(n,e),e=vv(t,e,1),t=Yr(t,e,1),e=Nt(),t!==null&&(Ei(t,1,e),Lt(t,e));break}}t=t.return}}function s5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,ot===e&&(ht&n)===n&&(rt===4||rt===3&&(ht&130023424)===ht&&500>Ke()-If?$s(e,0):Af|=n),Lt(e,t)}function Lv(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var n=Nt();e=yr(e,t),e!==null&&(Ei(e,t,n),Lt(e,n))}function a5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lv(e,n)}function o5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Lv(e,n)}var Fv;Fv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)It=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return It=!1,qS(e,t,n);It=!!(e.flags&131072)}else It=!1,Le&&t.flags&1048576&&Wy(t,Kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kl(e,t),e=t.pendingProps;var s=qa(t,St.current);Ma(t,n),s=Nf(null,t,r,e,s,n);var a=Tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(a=!0,Gl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kf(t),s.updater=Tc,t.stateNode=s,s._reactInternals=t,qd(t,r,e,n),t=Qd(null,t,r,!0,a,n)):(t.tag=0,Le&&a&&gf(t),jt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=l5(r),e=bn(r,e),s){case 0:t=Yd(null,t,r,e,n);break e;case 1:t=Ep(null,t,r,e,n);break e;case 11:t=Sp(null,t,r,e,n);break e;case 14:t=kp(null,t,r,bn(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Yd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Ep(e,t,r,s,n);case 3:e:{if(Sv(t),e===null)throw Error(A(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Yy(e,t),Jl(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ja(Error(A(423)),t),t=_p(e,t,r,n,s);break e}else if(r!==s){s=Ja(Error(A(424)),t),t=_p(e,t,r,n,s);break e}else for(Gt=Kr(t.stateNode.containerInfo.firstChild),Yt=t,Le=!0,Nn=null,n=qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===s){t=vr(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return Qy(t),e===null&&Vd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Fd(r,s)?o=null:a!==null&&Fd(r,a)&&(t.flags|=32),bv(e,t),jt(e,t,o,n),t.child;case 6:return e===null&&Vd(t),null;case 13:return kv(e,t,n);case 4:return Ef(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ya(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Sp(e,t,r,s,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Te(Yl,r._currentValue),r._currentValue=o,a!==null)if(Rn(a.value,o)){if(a.children===s.children&&!Dt.current){t=vr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=fr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Hd(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Hd(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ma(t,n),s=un(s),r=r(s),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,s=bn(r,t.pendingProps),s=bn(r.type,s),kp(e,t,r,s,n);case 15:return wv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),kl(e,t),t.tag=1,$t(r)?(e=!0,Gl(t)):e=!1,Ma(t,n),gv(t,r,s),qd(t,r,s,n),Qd(null,t,r,!0,e,n);case 19:return Ev(e,t,n);case 22:return xv(e,t,n)}throw Error(A(156,t.tag))};function zv(e,t){return fy(e,t)}function i5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new i5(e,t,n,r)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l5(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rf)return 11;if(e===sf)return 14}return 2}function Xr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Ff(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pa:return Ls(n.children,s,a,t);case nf:o=8,s|=8;break;case yd:return e=an(12,n,t,s|2),e.elementType=yd,e.lanes=a,e;case vd:return e=an(13,n,t,s),e.elementType=vd,e.lanes=a,e;case wd:return e=an(19,n,t,s),e.elementType=wd,e.lanes=a,e;case Qg:return Rc(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kg:o=10;break e;case Yg:o=9;break e;case rf:o=11;break e;case sf:o=14;break e;case Mr:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=an(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ls(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function Rc(e,t,n,r){return e=an(22,e,r,t),e.elementType=Qg,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function $u(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c5(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zf(e,t,n,r,s,a,o,i,c){return e=new c5(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=an(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(a),e}function u5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bv(e){if(!e)return ns;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if($t(n))return By(e,n,t)}return t}function Uv(e,t,n,r,s,a,o,i,c){return e=zf(n,r,!0,e,s,a,o,i,c),e.context=Bv(null),n=e.current,r=Nt(),s=Jr(n),a=fr(r,s),a.callback=t??null,Yr(n,a,s),e.current.lanes=s,Ei(e,s,r),Lt(e,r),e}function Oc(e,t,n,r){var s=t.current,a=Nt(),o=Jr(s);return n=Bv(n),t.context===null?t.context=n:t.pendingContext=n,t=fr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yr(s,t,o),e!==null&&(Mn(e,s,o,a),xl(e,s,o)),o}function ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bf(e,t){Ip(e,t),(e=e.alternate)&&Ip(e,t)}function d5(){return null}var Wv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uf(e){this._internalRoot=e}Ac.prototype.render=Uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Oc(e,t,null,null)};Ac.prototype.unmount=Uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){Oc(null,e,null,null)}),t[gr]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=xy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&Sy(e)}};function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function h5(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=ac(o);a.call(u)}}var o=Uv(t,r,e,0,null,!1,!1,"",Dp);return e._reactRootContainer=o,e[gr]=o.current,Jo(e.nodeType===8?e.parentNode:e),Ws(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=ac(c);i.call(u)}}var c=zf(e,0,!1,null,null,!1,!1,"",Dp);return e._reactRootContainer=c,e[gr]=c.current,Jo(e.nodeType===8?e.parentNode:e),Ws(function(){Oc(t,c,n,r)}),c}function Dc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var i=s;s=function(){var c=ac(o);i.call(c)}}Oc(t,o,e,s)}else o=h5(n,t,e,s,r);return ac(o)}vy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Co(t.pendingLanes);n!==0&&(lf(t,n|1),Lt(t,Ke()),!(be&6)&&(Xa=Ke()+500,cs()))}break;case 13:Ws(function(){var r=yr(e,1);if(r!==null){var s=Nt();Mn(r,e,1,s)}}),Bf(e,1)}};cf=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var n=Nt();Mn(t,e,134217728,n)}Bf(e,134217728)}};wy=function(e){if(e.tag===13){var t=Jr(e),n=yr(e,t);if(n!==null){var r=Nt();Mn(n,e,t,r)}Bf(e,t)}};xy=function(){return Ee};by=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Td=function(e,t,n){switch(t){case"input":if(Sd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=jc(r);if(!s)throw Error(A(90));Xg(r),Sd(r,s)}}}break;case"textarea":ey(e,n);break;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}};iy=Df;ly=Ws;var f5={usingClientEntryPoint:!1,Events:[ji,wa,jc,ay,oy,Df]},bo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m5={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dy(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||d5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Sc=tl.inject(m5),Kn=tl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f5;Xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(t))throw Error(A(200));return u5(e,t,null,n)};Xt.createRoot=function(e,t){if(!Wf(e))throw Error(A(299));var n=!1,r="",s=Wv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zf(e,1,!1,null,null,n,!1,r,s),e[gr]=t.current,Jo(e.nodeType===8?e.parentNode:e),new Uf(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=dy(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Ws(e)};Xt.hydrate=function(e,t,n){if(!Ic(t))throw Error(A(200));return Dc(null,e,t,!0,n)};Xt.hydrateRoot=function(e,t,n){if(!Wf(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Wv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Uv(t,null,e,1,n??null,s,!1,a,o),e[gr]=t.current,Jo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ac(t)};Xt.render=function(e,t,n){if(!Ic(t))throw Error(A(200));return Dc(null,e,t,!1,n)};Xt.unmountComponentAtNode=function(e){if(!Ic(e))throw Error(A(40));return e._reactRootContainer?(Ws(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};Xt.unstable_batchedUpdates=Df;Xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ic(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Dc(e,t,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function Vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vv)}catch(e){console.error(e)}}Vv(),Vg.exports=Xt;var Ys=Vg.exports;const Hv=Rg(Ys);var Gv,$p=Ys;Gv=$p.createRoot,$p.hydrateRoot;const p5=1,g5=1e6;let Lu=0;function y5(){return Lu=(Lu+1)%Number.MAX_SAFE_INTEGER,Lu.toString()}const Fu=new Map,Lp=e=>{if(Fu.has(e))return;const t=setTimeout(()=>{Fu.delete(e),zo({type:"REMOVE_TOAST",toastId:e})},g5);Fu.set(e,t)},v5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,p5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Lp(n):e.toasts.forEach(r=>{Lp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cl=[];let Nl={toasts:[]};function zo(e){Nl=v5(Nl,e),Cl.forEach(t=>{t(Nl)})}function Tl({...e}){const t=y5(),n=s=>zo({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>zo({type:"DISMISS_TOAST",toastId:t});return zo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function w5(){const[e,t]=g.useState(Nl);return g.useEffect(()=>(Cl.push(t),()=>{const n=Cl.indexOf(t);n>-1&&Cl.splice(n,1)}),[e]),{...e,toast:Tl,dismiss:n=>zo({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Fp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qv(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Fp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Fp(e[s],null)}}}}function Ie(...e){return g.useCallback(qv(...e),e)}function us(e,t=[]){let n=[];function r(a,o){const i=g.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:m,...x}=f,y=((v=h==null?void 0:h[e])==null?void 0:v[c])||i,b=g.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:b,children:m})};u.displayName=a+"Provider";function d(f,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[c])||i,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>g.createContext(o));return function(i){const c=(i==null?void 0:i[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return s.scopeName=e,[r,x5(s,...t)]}function x5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...i,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function oi(e){const t=S5(e),n=g.forwardRef((r,s)=>{const{children:a,...o}=r,i=g.Children.toArray(a),c=i.find(E5);if(c){const u=c.props.children,d=i.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var b5=oi("Slot");function S5(e){const t=g.forwardRef((n,r)=>{const{children:s,...a}=n;if(g.isValidElement(s)){const o=j5(s),i=_5(a,s.props);return s.type!==g.Fragment&&(i.ref=r?qv(r,o):o),g.cloneElement(s,i)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kv=Symbol("radix.slottable");function k5(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Kv,t}function E5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kv}function _5(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...i)=>{const c=a(...i);return s(...i),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function j5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Vf(e){const t=e+"CollectionProvider",[n,r]=us(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:v}=y,p=$.useRef(null),w=$.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:w,collectionRef:p,children:v})};o.displayName=t;const i=e+"CollectionSlot",c=oi(i),u=$.forwardRef((y,b)=>{const{scope:v,children:p}=y,w=a(i,v),S=Ie(b,w.collectionRef);return l.jsx(c,{ref:S,children:p})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=oi(d),m=$.forwardRef((y,b)=>{const{scope:v,children:p,...w}=y,S=$.useRef(null),E=Ie(b,S),j=a(d,v);return $.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:E,children:p})});m.displayName=d;function x(y){const b=a(e+"CollectionConsumer",y);return $.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,C)=>w.indexOf(j.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var C5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=C5.reduce((e,t)=>{const n=oi(`Primitive.${t}`),r=g.forwardRef((s,a)=>{const{asChild:o,...i}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yv(e,t){e&&Ys.flushSync(()=>e.dispatchEvent(t))}function hn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function N5(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var T5="DismissableLayer",lh="dismissableLayer.update",P5="dismissableLayer.pointerDownOutside",M5="dismissableLayer.focusOutside",zp,Qv=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$c=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:i,...c}=e,u=g.useContext(Qv),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=Ie(t,C=>f(C)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),p=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=p>=v,E=O5(C=>{const N=C.target,M=[...u.branches].some(O=>O.contains(N));!S||M||(s==null||s(C),o==null||o(C),C.defaultPrevented||i==null||i())},h),j=A5(C=>{const N=C.target;[...u.branches].some(O=>O.contains(N))||(a==null||a(C),o==null||o(C),C.defaultPrevented||i==null||i())},h);return N5(C=>{p===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},h),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Bp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zp)}},[d,h,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Bp())},[d,u]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(lh,C),()=>document.removeEventListener(lh,C)},[]),l.jsx(me.div,{...c,ref:x,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,j.onFocusCapture),onBlurCapture:se(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,E.onPointerDownCapture)})});$c.displayName=T5;var R5="DismissableLayerBranch",Jv=g.forwardRef((e,t)=>{const n=g.useContext(Qv),r=g.useRef(null),s=Ie(t,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(me.div,{...e,ref:s})});Jv.displayName=R5;function O5(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let c=function(){Xv(P5,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function A5(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=g.useRef(!1);return g.useEffect(()=>{const s=a=>{a.target&&!r.current&&Xv(M5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bp(){const e=new CustomEvent(lh);document.dispatchEvent(e)}function Xv(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Yv(s,a):s.dispatchEvent(a)}var I5=$c,D5=Jv,mt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},$5="Portal",Hf=g.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[s,a]=g.useState(!1);mt(()=>a(!0),[]);const o=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return o?Hv.createPortal(l.jsx(me.div,{...r,ref:t}),o):null});Hf.displayName=$5;function L5(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Ni=e=>{const{present:t,children:n}=e,r=F5(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=Ie(r.ref,z5(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:a}):null};Ni.displayName="Presence";function F5(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),a=g.useRef("none"),o=e?"mounted":"unmounted",[i,c]=L5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=nl(r.current);a.current=i==="mounted"?u:"none"},[i]),mt(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=nl(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=nl(r.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(a.current=nl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function nl(e){return(e==null?void 0:e.animationName)||"none"}function z5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B5=Xh[" useInsertionEffect ".trim().toString()]||mt;function Za({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=U5({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=g.useCallback(d=>{var f;if(i){const h=W5(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[i,e,a,o]);return[c,u]}function U5({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),a=g.useRef(t);return B5(()=>{a.current=t},[t]),g.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function W5(e){return typeof e=="function"}var Zv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V5="VisuallyHidden",Lc=g.forwardRef((e,t)=>l.jsx(me.span,{...e,ref:t,style:{...Zv,...e.style}}));Lc.displayName=V5;var H5=Lc,Gf="ToastProvider",[qf,G5,q5]=Vf("Toast"),[ew]=us("Toast",[q5]),[K5,Fc]=ew(Gf),tw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[i,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gf}\`. Expected non-empty \`string\`.`),l.jsx(qf.Provider,{scope:t,children:l.jsx(K5,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};tw.displayName=Gf;var nw="ToastViewport",Y5=["F8"],ch="toast.viewportPause",uh="toast.viewportResume",rw=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Y5,label:s="Notifications ({hotkey})",...a}=e,o=Fc(nw,n),i=G5(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Ie(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const b=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=c.current,v=f.current;if(x&&b&&v){const p=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(ch);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(uh);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!b.contains(j.relatedTarget)&&w()},E=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",p),b.addEventListener("focusout",S),b.addEventListener("pointermove",p),b.addEventListener("pointerleave",E),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",p),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",p),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:b})=>{const p=i().map(w=>{const S=w.ref.current,E=[S,...lk(S)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?p.reverse():p).flat()},[i]);return g.useEffect(()=>{const b=f.current;if(b){const v=p=>{var E,j,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const N=document.activeElement,M=p.shiftKey;if(p.target===b&&M){(E=u.current)==null||E.focus();return}const L=y({tabbingDirection:M?"backwards":"forwards"}),Y=L.findIndex(I=>I===N);zu(L.slice(Y+1))?p.preventDefault():M?(j=u.current)==null||j.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[i,y]),l.jsxs(D5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(dh,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});zu(b)}}),l.jsx(qf.Slot,{scope:n,children:l.jsx(me.ol,{tabIndex:-1,...a,ref:h})}),x&&l.jsx(dh,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});zu(b)}})]})});rw.displayName=nw;var sw="ToastFocusProxy",dh=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Fc(sw,n);return l.jsx(Lc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const i=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(i))&&r()}})});dh.displayName=sw;var Ti="Toast",Q5="toast.swipeStart",J5="toast.swipeMove",X5="toast.swipeCancel",Z5="toast.swipeEnd",aw=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[i,c]=Za({prop:r,defaultProp:s??!0,onChange:a,caller:Ti});return l.jsx(Ni,{present:n||i,children:l.jsx(nk,{open:i,...o,ref:t,onClose:()=>c(!1),onPause:hn(e.onPause),onResume:hn(e.onResume),onSwipeStart:se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});aw.displayName=Ti;var[ek,tk]=ew(Ti,{onClose(){}}),nk=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:i,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,y=Fc(Ti,n),[b,v]=g.useState(null),p=Ie(t,I=>v(I)),w=g.useRef(null),S=g.useRef(null),E=s||y.duration,j=g.useRef(0),C=g.useRef(E),N=g.useRef(0),{onToastAdd:M,onToastRemove:O}=y,V=hn(()=>{var Q;(b==null?void 0:b.contains(document.activeElement))&&((Q=y.viewport)==null||Q.focus()),o()}),L=g.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout(V,I))},[V]);g.useEffect(()=>{const I=y.viewport;if(I){const Q=()=>{L(C.current),u==null||u()},W=()=>{const q=new Date().getTime()-j.current;C.current=C.current-q,window.clearTimeout(N.current),c==null||c()};return I.addEventListener(ch,W),I.addEventListener(uh,Q),()=>{I.removeEventListener(ch,W),I.removeEventListener(uh,Q)}}},[y.viewport,E,c,u,L]),g.useEffect(()=>{a&&!y.isClosePausedRef.current&&L(E)},[a,E,y.isClosePausedRef,L]),g.useEffect(()=>(M(),()=>O()),[M,O]);const Y=g.useMemo(()=>b?hw(b):null,[b]);return y.viewport?l.jsxs(l.Fragment,{children:[Y&&l.jsx(rk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),l.jsx(ek,{scope:n,onClose:V,children:Ys.createPortal(l.jsx(qf.ItemSlot,{scope:n,children:l.jsx(I5,{asChild:!0,onEscapeKeyDown:se(i,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,I=>{I.key==="Escape"&&(i==null||i(I.nativeEvent),I.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:se(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:se(e.onPointerMove,I=>{if(!w.current)return;const Q=I.clientX-w.current.x,W=I.clientY-w.current.y,q=!!S.current,P=["left","right"].includes(y.swipeDirection),k=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,U=P?k(0,Q):0,te=P?0:k(0,W),z=I.pointerType==="touch"?10:2,_={x:U,y:te},J={originalEvent:I,delta:_};q?(S.current=_,rl(J5,f,J,{discrete:!1})):Up(_,y.swipeDirection,z)?(S.current=_,rl(Q5,d,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(Q)>z||Math.abs(W)>z)&&(w.current=null)}),onPointerUp:se(e.onPointerUp,I=>{const Q=S.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),S.current=null,w.current=null,Q){const q=I.currentTarget,P={originalEvent:I,delta:Q};Up(Q,y.swipeDirection,y.swipeThreshold)?rl(Z5,m,P,{discrete:!0}):rl(X5,h,P,{discrete:!0}),q.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),rk=e=>{const{__scopeToast:t,children:n,...r}=e,s=Fc(Ti,t),[a,o]=g.useState(!1),[i,c]=g.useState(!1);return ok(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:l.jsx(Hf,{asChild:!0,children:l.jsx(Lc,{...r,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},sk="ToastTitle",ow=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(me.div,{...r,ref:t})});ow.displayName=sk;var ak="ToastDescription",iw=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(me.div,{...r,ref:t})});iw.displayName=ak;var lw="ToastAction",cw=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(dw,{altText:n,asChild:!0,children:l.jsx(Kf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${lw}\`. Expected non-empty \`string\`.`),null)});cw.displayName=lw;var uw="ToastClose",Kf=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=tk(uw,n);return l.jsx(dw,{asChild:!0,children:l.jsx(me.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});Kf.displayName=uw;var dw=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function hw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ik(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...hw(r))}}),t}function rl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Yv(s,a):s.dispatchEvent(a)}var Up=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function ok(e=()=>{}){const t=hn(e);mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ik(e){return e.nodeType===e.ELEMENT_NODE}function lk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var ck=tw,fw=rw,mw=aw,pw=ow,gw=iw,yw=cw,vw=Kf;function ww(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ww(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ww(e))&&(r&&(r+=" "),r+=t);return r}const Wp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vp=xw,zc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Wp(d)||Wp(f);return s[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...a,...i}[y]):{...a,...i}[y]===b})?[...u,f,h]:u},[]);return Vp(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...i},c)=>g.createElement("svg",{ref:c,...dk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bw("lucide",s),...i},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=g.forwardRef(({className:r,...s},a)=>g.createElement(hk,{ref:a,iconNode:t,className:bw(`lucide-${uk(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=re("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=re("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=re("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=re("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=re("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=re("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=re("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Xf="-",Ak=e=>{const t=Dk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const i=o.split(Xf);return i[0]===""&&i.length!==1&&i.shift(),Mw(i,t)||Ik(o)},getConflictingClassGroupIds:(o,i)=>{const c=n[o]||[];return i&&r[o]?[...c,...r[o]]:c}}},Mw=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Mw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Xf);return(o=t.validators.find(({validator:i})=>i(a)))==null?void 0:o.classGroupId},qp=/^\[(.+)\]$/,Ik=e=>{if(qp.test(e)){const t=qp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Dk=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Lk(Object.entries(e.classGroups),n).forEach(([a,o])=>{mh(o,r,a,t)}),r},mh=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Kp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if($k(s)){mh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{mh(o,Kp(t,a),n,r)})})},Kp=(e,t)=>{let n=e;return t.split(Xf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$k=e=>e.isThemeGetter,Lk=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,i])=>[t+o,i])):a);return[n,s]}):e,Fk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},Rw="!",zk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=i=>{const c=[];let u=0,d=0,f;for(let b=0;b<i.length;b++){let v=i[b];if(u===0){if(v===s&&(r||i.slice(b,b+a)===t)){c.push(i.slice(d,b)),d=b+a;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?i:i.substring(d),m=h.startsWith(Rw),x=m?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}};return n?i=>n({className:i,parseClassName:o}):o},Bk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Uk=e=>({cache:Fk(e.cacheSize),parseClassName:zk(e),...Ak(e)}),Wk=/\s+/,Vk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(Wk);let i="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let x=!!m,y=r(x?h.substring(0,m):h);if(!y){if(!x){i=u+(i.length>0?" "+i:i);continue}if(y=r(h),!y){i=u+(i.length>0?" "+i:i);continue}x=!1}const b=Bk(d).join(":"),v=f?b+Rw:b,p=v+y;if(a.includes(p))continue;a.push(p);const w=s(y,x);for(let S=0;S<w.length;++S){const E=w[S];a.push(v+E)}i=u+(i.length>0?" "+i:i)}return i};function Hk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ow(t))&&(r&&(r+=" "),r+=n);return r}const Ow=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ow(e[r]))&&(n&&(n+=" "),n+=t);return n};function Gk(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Uk(u),r=n.cache.get,s=n.cache.set,a=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=Vk(c,n);return s(c,d),d}return function(){return a(Hk.apply(null,arguments))}}const Pe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Aw=/^\[(?:([a-z-]+):)?(.+)\]$/i,qk=/^\d+\/\d+$/,Kk=new Set(["px","full","screen"]),Yk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=e=>Oa(e)||Kk.has(e)||qk.test(e),jr=e=>oo(e,"length",iE),Oa=e=>!!e&&!Number.isNaN(Number(e)),Uu=e=>oo(e,"number",Oa),So=e=>!!e&&Number.isInteger(Number(e)),eE=e=>e.endsWith("%")&&Oa(e.slice(0,-1)),le=e=>Aw.test(e),Cr=e=>Yk.test(e),tE=new Set(["length","size","percentage"]),nE=e=>oo(e,tE,Iw),rE=e=>oo(e,"position",Iw),sE=new Set(["image","url"]),aE=e=>oo(e,sE,cE),oE=e=>oo(e,"",lE),ko=()=>!0,oo=(e,t,n)=>{const r=Aw.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},iE=e=>Qk.test(e)&&!Jk.test(e),Iw=()=>!1,lE=e=>Xk.test(e),cE=e=>Zk.test(e),uE=()=>{const e=Pe("colors"),t=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),a=Pe("borderRadius"),o=Pe("borderSpacing"),i=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),h=Pe("gap"),m=Pe("gradientColorStops"),x=Pe("gradientColorStopPositions"),y=Pe("inset"),b=Pe("margin"),v=Pe("opacity"),p=Pe("padding"),w=Pe("saturate"),S=Pe("scale"),E=Pe("sepia"),j=Pe("skew"),C=Pe("space"),N=Pe("translate"),M=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",le,t],L=()=>[le,t],Y=()=>["",ar,jr],I=()=>["auto",Oa,le],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",le],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Oa,le];return{cacheSize:500,separator:":",theme:{colors:[ko],spacing:[ar,jr],blur:["none","",Cr,le],brightness:te(),borderColor:[e],borderRadius:["none","","full",Cr,le],borderSpacing:L(),borderWidth:Y(),contrast:te(),grayscale:k(),hueRotate:te(),invert:k(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[eE,jr],inset:V(),margin:V(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:k(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Cr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),le]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",So,le]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",So,le]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",So,le]},le]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[So,le]},le]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[Cr]},Cr]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cr,jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uu]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Oa,Uu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,jr]}],"underline-offset":[{"underline-offset":["auto",ar,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),rE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ar,le]}],"outline-w":[{outline:[ar,jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ar,jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cr,oE]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cr,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[So,le]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ar,jr,Uu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dE=Gk(uE);function ue(...e){return dE(xw(e))}const hE=ck,Dw=g.forwardRef(({className:e,...t},n)=>l.jsx(fw,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Dw.displayName=fw.displayName;const fE=zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$w=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(mw,{ref:r,className:ue(fE({variant:t}),e),...n}));$w.displayName=mw.displayName;const mE=g.forwardRef(({className:e,...t},n)=>l.jsx(yw,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));mE.displayName=yw.displayName;const Lw=g.forwardRef(({className:e,...t},n)=>l.jsx(vw,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Uc,{className:"h-4 w-4"})}));Lw.displayName=vw.displayName;const Fw=g.forwardRef(({className:e,...t},n)=>l.jsx(pw,{ref:n,className:ue("text-sm font-semibold",e),...t}));Fw.displayName=pw.displayName;const zw=g.forwardRef(({className:e,...t},n)=>l.jsx(gw,{ref:n,className:ue("text-sm opacity-90",e),...t}));zw.displayName=gw.displayName;function pE(){const{toasts:e}=w5();return l.jsxs(hE,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return l.jsxs($w,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Fw,{children:n}),r&&l.jsx(zw,{children:r})]}),s,l.jsx(Lw,{})]},t)}),l.jsx(Dw,{})]})}var Yp=["light","dark"],gE="(prefers-color-scheme: dark)",yE=g.createContext(void 0),vE={setTheme:e=>{},themes:[]},wE=()=>{var e;return(e=g.useContext(yE))!=null?e:vE};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:i,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Yp.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,y=!1,b=!0)=>{let v=o?o[x]:x,p=y?x+"|| ''":`'${v}'`,w="";return s&&b&&!y&&Yp.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?y||v?w+=`c.add(${p})`:w+="null":v&&(w+=`d[s](n,${p})`),w},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${gE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var xE=e=>{switch(e){case"success":return kE;case"info":return _E;case"warning":return EE;case"error":return jE;default:return null}},bE=Array(12).fill(0),SE=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},bE.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_E=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NE=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ph=1,TE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ph++,a=this.toasts.find(i=>i.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:n}),{...i,...e,id:s,dismissible:o,title:n}):i):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],$.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(ME(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),i=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ph++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ot=new TE,PE=(e,t)=>{let n=(t==null?void 0:t.id)||ph++;return Ot.addToast({title:e,...t,id:n}),n},ME=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RE=PE,OE=()=>Ot.toasts,AE=()=>Ot.getActiveToasts(),Ut=Object.assign(RE,{success:Ot.success,info:Ot.info,warning:Ot.warning,error:Ot.error,custom:Ot.custom,message:Ot.message,promise:Ot.promise,dismiss:Ot.dismiss,loading:Ot.loading},{getHistory:OE,getToasts:AE});function IE(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}IE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sl(e){return e.label!==void 0}var DE=3,$E="32px",LE="16px",Qp=4e3,FE=356,zE=14,BE=20,UE=200;function gn(...e){return e.filter(Boolean).join(" ")}function WE(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var VE=e=>{var t,n,r,s,a,o,i,c,u,d,f;let{invert:h,toast:m,unstyled:x,interacting:y,setHeights:b,visibleToasts:v,heights:p,index:w,toasts:S,expanded:E,removeToast:j,defaultRichColors:C,closeButton:N,style:M,cancelButtonStyle:O,actionButtonStyle:V,className:L="",descriptionClassName:Y="",duration:I,position:Q,gap:W,loadingIcon:q,expandByDefault:P,classNames:k,icons:U,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:z}=e,[_,J]=$.useState(null),[F,_e]=$.useState(null),[D,ye]=$.useState(!1),[Ce,de]=$.useState(!1),[ie,ve]=$.useState(!1),[qe,kt]=$.useState(!1),[fn,In]=$.useState(!1),[Zn,ps]=$.useState(0),[er,T]=$.useState(0),B=$.useRef(m.duration||I||Qp),ae=$.useRef(null),De=$.useRef(null),ne=w===0,X=w+1<=v,Mt=m.type,Er=m.dismissible!==!1,fe=m.className||"",fo=m.descriptionClassName||"",tr=$.useMemo(()=>p.findIndex(K=>K.toastId===m.id)||0,[p,m.id]),gs=$.useMemo(()=>{var K;return(K=m.closeButton)!=null?K:N},[m.closeButton,N]),Rt=$.useMemo(()=>m.duration||I||Qp,[m.duration,I]),Ye=$.useRef(0),it=$.useRef(0),nr=$.useRef(0),Et=$.useRef(null),[rr,sr]=Q.split("-"),Dn=$.useMemo(()=>p.reduce((K,pe,xe)=>xe>=tr?K:K+pe.height,0),[p,tr]),ys=NE(),he=m.invert||h,we=Mt==="loading";it.current=$.useMemo(()=>tr*W+Dn,[tr,Dn]),$.useEffect(()=>{B.current=Rt},[Rt]),$.useEffect(()=>{ye(!0)},[]),$.useEffect(()=>{let K=De.current;if(K){let pe=K.getBoundingClientRect().height;return T(pe),b(xe=>[{toastId:m.id,height:pe,position:m.position},...xe]),()=>b(xe=>xe.filter(st=>st.toastId!==m.id))}},[b,m.id]),$.useLayoutEffect(()=>{if(!D)return;let K=De.current,pe=K.style.height;K.style.height="auto";let xe=K.getBoundingClientRect().height;K.style.height=pe,T(xe),b(st=>st.find(Qe=>Qe.toastId===m.id)?st.map(Qe=>Qe.toastId===m.id?{...Qe,height:xe}:Qe):[{toastId:m.id,height:xe,position:m.position},...st])},[D,m.title,m.description,b,m.id]);let je=$.useCallback(()=>{de(!0),ps(it.current),b(K=>K.filter(pe=>pe.toastId!==m.id)),setTimeout(()=>{j(m)},UE)},[m,j,b,it]);$.useEffect(()=>{if(m.promise&&Mt==="loading"||m.duration===1/0||m.type==="loading")return;let K;return E||y||z&&ys?(()=>{if(nr.current<Ye.current){let pe=new Date().getTime()-Ye.current;B.current=B.current-pe}nr.current=new Date().getTime()})():B.current!==1/0&&(Ye.current=new Date().getTime(),K=setTimeout(()=>{var pe;(pe=m.onAutoClose)==null||pe.call(m,m),je()},B.current)),()=>clearTimeout(K)},[E,y,m,Mt,z,ys,je]),$.useEffect(()=>{m.delete&&je()},[je,m.delete]);function $e(){var K,pe,xe;return U!=null&&U.loading?$.createElement("div",{className:gn(k==null?void 0:k.loader,(K=m==null?void 0:m.classNames)==null?void 0:K.loader,"sonner-loader"),"data-visible":Mt==="loading"},U.loading):q?$.createElement("div",{className:gn(k==null?void 0:k.loader,(pe=m==null?void 0:m.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Mt==="loading"},q):$.createElement(SE,{className:gn(k==null?void 0:k.loader,(xe=m==null?void 0:m.classNames)==null?void 0:xe.loader),visible:Mt==="loading"})}return $.createElement("li",{tabIndex:0,ref:De,className:gn(L,fe,k==null?void 0:k.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[Mt],(n=m==null?void 0:m.classNames)==null?void 0:n[Mt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":D,"data-promise":!!m.promise,"data-swiped":fn,"data-removed":Ce,"data-visible":X,"data-y-position":rr,"data-x-position":sr,"data-index":w,"data-front":ne,"data-swiping":ie,"data-dismissible":Er,"data-type":Mt,"data-invert":he,"data-swipe-out":qe,"data-swipe-direction":F,"data-expanded":!!(E||P&&D),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Ce?Zn:it.current}px`,"--initial-height":P?"auto":`${er}px`,...M,...m.style},onDragEnd:()=>{ve(!1),J(null),Et.current=null},onPointerDown:K=>{we||!Er||(ae.current=new Date,ps(it.current),K.target.setPointerCapture(K.pointerId),K.target.tagName!=="BUTTON"&&(ve(!0),Et.current={x:K.clientX,y:K.clientY}))},onPointerUp:()=>{var K,pe,xe,st;if(qe||!Er)return;Et.current=null;let Qe=Number(((K=De.current)==null?void 0:K.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((pe=De.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mn=new Date().getTime()-((xe=ae.current)==null?void 0:xe.getTime()),Ft=_==="x"?Qe:en,$n=Math.abs(Ft)/mn;if(Math.abs(Ft)>=BE||$n>.11){ps(it.current),(st=m.onDismiss)==null||st.call(m,m),_e(_==="x"?Qe>0?"right":"left":en>0?"down":"up"),je(),kt(!0),In(!1);return}ve(!1),J(null)},onPointerMove:K=>{var pe,xe,st,Qe;if(!Et.current||!Er||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let en=K.clientY-Et.current.y,mn=K.clientX-Et.current.x,Ft=(xe=e.swipeDirections)!=null?xe:WE(Q);!_&&(Math.abs(mn)>1||Math.abs(en)>1)&&J(Math.abs(mn)>Math.abs(en)?"x":"y");let $n={x:0,y:0};_==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&en<0||Ft.includes("bottom")&&en>0)&&($n.y=en):_==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&mn<0||Ft.includes("right")&&mn>0)&&($n.x=mn),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&In(!0),(st=De.current)==null||st.style.setProperty("--swipe-amount-x",`${$n.x}px`),(Qe=De.current)==null||Qe.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},gs&&!m.jsx?$.createElement("button",{"aria-label":te,"data-disabled":we,"data-close-button":!0,onClick:we||!Er?()=>{}:()=>{var K;je(),(K=m.onDismiss)==null||K.call(m,m)},className:gn(k==null?void 0:k.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=U==null?void 0:U.close)!=null?a:CE):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,Mt||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:gn(k==null?void 0:k.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||$e():null,m.type!=="loading"?m.icon||(U==null?void 0:U[Mt])||xE(Mt):null):null,$.createElement("div",{"data-content":"",className:gn(k==null?void 0:k.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},$.createElement("div",{"data-title":"",className:gn(k==null?void 0:k.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:gn(Y,fo,k==null?void 0:k.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&sl(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:K=>{var pe,xe;sl(m.cancel)&&Er&&((xe=(pe=m.cancel).onClick)==null||xe.call(pe,K),je())},className:gn(k==null?void 0:k.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&sl(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:K=>{var pe,xe;sl(m.action)&&((xe=(pe=m.action).onClick)==null||xe.call(pe,K),!K.defaultPrevented&&je())},className:gn(k==null?void 0:k.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Jp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function HE(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",i=a?LE:$E;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=i:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(i)}),n}var GE=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:x=DE,toastOptions:y,dir:b=Jp(),gap:v=zE,loadingIcon:p,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[j,C]=$.useState([]),N=$.useMemo(()=>Array.from(new Set([r].concat(j.filter(z=>z.position).map(z=>z.position)))),[j,r]),[M,O]=$.useState([]),[V,L]=$.useState(!1),[Y,I]=$.useState(!1),[Q,W]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=$.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=$.useRef(null),U=$.useRef(!1),te=$.useCallback(z=>{C(_=>{var J;return(J=_.find(F=>F.id===z.id))!=null&&J.delete||Ot.dismiss(z.id),_.filter(({id:F})=>F!==z.id)})},[]);return $.useEffect(()=>Ot.subscribe(z=>{if(z.dismiss){C(_=>_.map(J=>J.id===z.id?{...J,delete:!0}:J));return}setTimeout(()=>{Hv.flushSync(()=>{C(_=>{let J=_.findIndex(F=>F.id===z.id);return J!==-1?[..._.slice(0,J),{..._[J],...z},..._.slice(J+1)]:[z,..._]})})})}),[]),$.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:_})=>{W(_?"dark":"light")})}catch{z.addListener(({matches:J})=>{try{W(J?"dark":"light")}catch(F){console.error(F)}})}},[d]),$.useEffect(()=>{j.length<=1&&L(!1)},[j]),$.useEffect(()=>{let z=_=>{var J,F;s.every(_e=>_[_e]||_.code===_e)&&(L(!0),(J=q.current)==null||J.focus()),_.code==="Escape"&&(document.activeElement===q.current||(F=q.current)!=null&&F.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),$.useEffect(()=>{if(q.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,U.current=!1)}},[q.current]),$.createElement("section",{ref:t,"aria-label":`${S} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((z,_)=>{var J;let[F,_e]=z.split("-");return j.length?$.createElement("ol",{key:z,dir:b==="auto"?Jp():b,tabIndex:-1,ref:q,className:i,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":F,"data-lifted":V&&j.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((J=M[0])==null?void 0:J.height)||0}px`,"--width":`${FE}px`,"--gap":`${v}px`,...m,...HE(c,u)},onBlur:D=>{U.current&&!D.currentTarget.contains(D.relatedTarget)&&(U.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||U.current||(U.current=!0,k.current=D.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{Y||L(!1)},onDragEnd:()=>L(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(D=>!D.position&&_===0||D.position===z).map((D,ye)=>{var Ce,de;return $.createElement(VE,{key:D.id,icons:w,index:ye,toast:D,defaultRichColors:f,duration:(Ce=y==null?void 0:y.duration)!=null?Ce:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:x,closeButton:(de=y==null?void 0:y.closeButton)!=null?de:o,interacting:Y,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:te,toasts:j.filter(ie=>ie.position==D.position),heights:M.filter(ie=>ie.position==D.position),setHeights:O,expandByDefault:a,gap:v,loadingIcon:p,expanded:V,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const qE=({...e})=>{const{theme:t="system"}=wE();return l.jsx(GE,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var KE=Xh[" useId ".trim().toString()]||(()=>{}),YE=0;function Pi(e){const[t,n]=g.useState(KE());return mt(()=>{n(r=>r??String(YE++))},[e]),t?`radix-${t}`:""}const QE=["top","right","bottom","left"],ss=Math.min,Wt=Math.max,ic=Math.round,al=Math.floor,Qn=e=>({x:e,y:e}),JE={left:"right",right:"left",bottom:"top",top:"bottom"},XE={start:"end",end:"start"};function gh(e,t,n){return Wt(e,ss(t,n))}function wr(e,t){return typeof e=="function"?e(t):e}function xr(e){return e.split("-")[0]}function io(e){return e.split("-")[1]}function Zf(e){return e==="x"?"y":"x"}function em(e){return e==="y"?"height":"width"}const ZE=new Set(["top","bottom"]);function qn(e){return ZE.has(xr(e))?"y":"x"}function tm(e){return Zf(qn(e))}function e_(e,t,n){n===void 0&&(n=!1);const r=io(e),s=tm(e),a=em(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=lc(o)),[o,lc(o)]}function t_(e){const t=lc(e);return[yh(e),t,yh(t)]}function yh(e){return e.replace(/start|end/g,t=>XE[t])}const Xp=["left","right"],Zp=["right","left"],n_=["top","bottom"],r_=["bottom","top"];function s_(e,t,n){switch(e){case"top":case"bottom":return n?t?Zp:Xp:t?Xp:Zp;case"left":case"right":return t?n_:r_;default:return[]}}function a_(e,t,n,r){const s=io(e);let a=s_(xr(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(yh)))),a}function lc(e){return e.replace(/left|right|bottom|top/g,t=>JE[t])}function o_(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bw(e){return typeof e!="number"?o_(e):{top:e,right:e,bottom:e,left:e}}function cc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function e0(e,t,n){let{reference:r,floating:s}=e;const a=qn(t),o=tm(t),i=em(o),c=xr(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[i]/2-s[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(io(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const i_=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=e0(u,r,c),h=r,m={},x=0;for(let y=0;y<i.length;y++){const{name:b,fn:v}=i[y],{x:p,y:w,data:S,reset:E}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=p??d,f=w??f,m={...m,[b]:{...m[b],...S}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=e0(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function ci(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=wr(t,e),x=Bw(m),b=i[h?f==="floating"?"reference":"floating":f],v=cc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=cc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:p,offsetParent:w,strategy:c}):p);return{top:(v.top-E.top+x.top)/S.y,bottom:(E.bottom-v.bottom+x.bottom)/S.y,left:(v.left-E.left+x.left)/S.x,right:(E.right-v.right+x.right)/S.x}}const l_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=wr(e,t)||{};if(u==null)return{};const f=Bw(d),h={x:n,y:r},m=tm(s),x=em(m),y=await o.getDimensions(u),b=m==="y",v=b?"top":"left",p=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=a.reference[x]+a.reference[m]-h[m]-a.floating[x],E=h[m]-a.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=i.floating[w]||a.floating[x]);const N=S/2-E/2,M=C/2-y[x]/2-1,O=ss(f[v],M),V=ss(f[p],M),L=O,Y=C-y[x]-V,I=C/2-y[x]/2+N,Q=gh(L,I,Y),W=!c.arrow&&io(s)!=null&&I!==Q&&a.reference[x]/2-(I<L?O:V)-y[x]/2<0,q=W?I<L?I-L:I-Y:0;return{[m]:h[m]+q,data:{[m]:Q,centerOffset:I-Q-q,...W&&{alignmentOffset:q}},reset:W}}}),c_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=wr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=xr(s),p=qn(i),w=xr(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(w||!y?[lc(i)]:t_(i)),j=x!=="none";!h&&j&&E.push(...a_(i,y,x,S));const C=[i,...E],N=await ci(t,b),M=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&M.push(N[v]),f){const I=e_(s,o,S);M.push(N[I[0]],N[I[1]])}if(O=[...O,{placement:s,overflows:M}],!M.every(I=>I<=0)){var V,L;const I=(((V=a.flip)==null?void 0:V.index)||0)+1,Q=C[I];if(Q&&(!(f==="alignment"?p!==qn(Q):!1)||O.every(P=>P.overflows[0]>0&&qn(P.placement)===p)))return{data:{index:I,overflows:O},reset:{placement:Q}};let W=(L=O.filter(q=>q.overflows[0]<=0).sort((q,P)=>q.overflows[1]-P.overflows[1])[0])==null?void 0:L.placement;if(!W)switch(m){case"bestFit":{var Y;const q=(Y=O.filter(P=>{if(j){const k=qn(P.placement);return k===p||k==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(k=>k>0).reduce((k,U)=>k+U,0)]).sort((P,k)=>P[1]-k[1])[0])==null?void 0:Y[0];q&&(W=q);break}case"initialPlacement":W=i;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function t0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function n0(e){return QE.some(t=>e[t]>=0)}const u_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=wr(e,t);switch(r){case"referenceHidden":{const a=await ci(t,{...s,elementContext:"reference"}),o=t0(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:n0(o)}}}case"escaped":{const a=await ci(t,{...s,altBoundary:!0}),o=t0(a,n.floating);return{data:{escapedOffsets:o,escaped:n0(o)}}}default:return{}}}}},Uw=new Set(["left","top"]);async function d_(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=xr(n),i=io(n),c=qn(n)==="y",u=Uw.has(o)?-1:1,d=a&&c?-1:1,f=wr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof x=="number"&&(m=i==="end"?x*-1:x),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const h_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:i}=t,c=await d_(t,e);return o===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},f_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:i={fn:b=>{let{x:v,y:p}=b;return{x:v,y:p}}},...c}=wr(e,t),u={x:n,y:r},d=await ci(t,c),f=qn(xr(s)),h=Zf(f);let m=u[h],x=u[f];if(a){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",p=m+d[b],w=m-d[v];m=gh(p,m,w)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",p=x+d[b],w=x-d[v];x=gh(p,x,w)}const y=i.fn({...t,[h]:m,[f]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:a,[f]:o}}}}}},m_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=wr(e,t),d={x:n,y:r},f=qn(s),h=Zf(f);let m=d[h],x=d[f];const y=wr(i,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+b.mainAxis,E=a.reference[h]+a.reference[w]-b.mainAxis;m<S?m=S:m>E&&(m=E)}if(u){var v,p;const w=h==="y"?"width":"height",S=Uw.has(xr(s)),E=a.reference[f]-a.floating[w]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:b.crossAxis),j=a.reference[f]+a.reference[w]+(S?0:((p=o.offset)==null?void 0:p[f])||0)-(S?b.crossAxis:0);x<E?x=E:x>j&&(x=j)}return{[h]:m,[f]:x}}}},p_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:i}=t,{apply:c=()=>{},...u}=wr(e,t),d=await ci(t,u),f=xr(s),h=io(s),m=qn(s)==="y",{width:x,height:y}=a.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(v=f,b=h==="end"?"top":"bottom");const p=y-d.top-d.bottom,w=x-d.left-d.right,S=ss(y-d[b],p),E=ss(x-d[v],w),j=!t.middlewareData.shift;let C=S,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),j&&!h){const O=Wt(d.left,0),V=Wt(d.right,0),L=Wt(d.top,0),Y=Wt(d.bottom,0);m?N=x-2*(O!==0||V!==0?O+V:Wt(d.left,d.right)):C=y-2*(L!==0||Y!==0?L+Y:Wt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const M=await o.getDimensions(i.floating);return x!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Wc(){return typeof window<"u"}function lo(e){return Ww(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xn(e){var t;return(t=(Ww(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ww(e){return Wc()?e instanceof Node||e instanceof Qt(e).Node:!1}function On(e){return Wc()?e instanceof Element||e instanceof Qt(e).Element:!1}function Jn(e){return Wc()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function r0(e){return!Wc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}const g_=new Set(["inline","contents"]);function Mi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=An(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!g_.has(s)}const y_=new Set(["table","td","th"]);function v_(e){return y_.has(lo(e))}const w_=[":popover-open",":modal"];function Vc(e){return w_.some(t=>{try{return e.matches(t)}catch{return!1}})}const x_=["transform","translate","scale","rotate","perspective"],b_=["transform","translate","scale","rotate","perspective","filter"],S_=["paint","layout","strict","content"];function nm(e){const t=rm(),n=On(e)?An(e):e;return x_.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||b_.some(r=>(n.willChange||"").includes(r))||S_.some(r=>(n.contain||"").includes(r))}function k_(e){let t=as(e);for(;Jn(t)&&!to(t);){if(nm(t))return t;if(Vc(t))return null;t=as(t)}return null}function rm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E_=new Set(["html","body","#document"]);function to(e){return E_.has(lo(e))}function An(e){return Qt(e).getComputedStyle(e)}function Hc(e){return On(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function as(e){if(lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||r0(e)&&e.host||Xn(e);return r0(t)?t.host:t}function Vw(e){const t=as(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jn(t)&&Mi(t)?t:Vw(t)}function ui(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Vw(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Qt(s);if(a){const i=vh(o);return t.concat(o,o.visualViewport||[],Mi(s)?s:[],i&&n?ui(i):[])}return t.concat(s,ui(s,[],n))}function vh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hw(e){const t=An(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jn(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,i=ic(n)!==a||ic(r)!==o;return i&&(n=a,r=o),{width:n,height:r,$:i}}function sm(e){return On(e)?e:e.contextElement}function Aa(e){const t=sm(e);if(!Jn(t))return Qn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Hw(t);let o=(a?ic(n.width):n.width)/r,i=(a?ic(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const __=Qn(0);function Gw(e){const t=Qt(e);return!rm()||!t.visualViewport?__:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qt(e)?!1:t}function Vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=sm(e);let o=Qn(1);t&&(r?On(r)&&(o=Aa(r)):o=Aa(e));const i=j_(a,n,r)?Gw(a):Qn(0);let c=(s.left+i.x)/o.x,u=(s.top+i.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Qt(a),m=r&&On(r)?Qt(r):r;let x=h,y=vh(x);for(;y&&r&&m!==x;){const b=Aa(y),v=y.getBoundingClientRect(),p=An(y),w=v.left+(y.clientLeft+parseFloat(p.paddingLeft))*b.x,S=v.top+(y.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=S,x=Qt(y),y=vh(x)}}return cc({width:d,height:f,x:c,y:u})}function am(e,t){const n=Hc(e).scrollLeft;return t?t.left+n:Vs(Xn(e)).left+n}function qw(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:am(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function C_(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=Xn(r),i=t?Vc(t.floating):!1;if(r===o||i&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Qn(1);const d=Qn(0),f=Jn(r);if((f||!f&&!a)&&((lo(r)!=="body"||Mi(o))&&(c=Hc(r)),Jn(r))){const m=Vs(r);u=Aa(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!a?qw(o,c,!0):Qn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function N_(e){return Array.from(e.getClientRects())}function T_(e){const t=Xn(e),n=Hc(e),r=e.ownerDocument.body,s=Wt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Wt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+am(e);const i=-n.scrollTop;return An(r).direction==="rtl"&&(o+=Wt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:i}}function P_(e,t){const n=Qt(e),r=Xn(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,i=0,c=0;if(s){a=s.width,o=s.height;const u=rm();(!u||u&&t==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:i,y:c}}const M_=new Set(["absolute","fixed"]);function R_(e,t){const n=Vs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Jn(e)?Aa(e):Qn(1),o=e.clientWidth*a.x,i=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:i,x:c,y:u}}function s0(e,t,n){let r;if(t==="viewport")r=P_(e,n);else if(t==="document")r=T_(Xn(e));else if(On(t))r=R_(t,n);else{const s=Gw(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cc(r)}function Kw(e,t){const n=as(e);return n===t||!On(n)||to(n)?!1:An(n).position==="fixed"||Kw(n,t)}function O_(e,t){const n=t.get(e);if(n)return n;let r=ui(e,[],!1).filter(i=>On(i)&&lo(i)!=="body"),s=null;const a=An(e).position==="fixed";let o=a?as(e):e;for(;On(o)&&!to(o);){const i=An(o),c=nm(o);!c&&i.position==="fixed"&&(s=null),(a?!c&&!s:!c&&i.position==="static"&&!!s&&M_.has(s.position)||Mi(o)&&!c&&Kw(e,o))?r=r.filter(d=>d!==o):s=i,o=as(o)}return t.set(e,r),r}function A_(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Vc(t)?[]:O_(t,this._c):[].concat(n),r],i=o[0],c=o.reduce((u,d)=>{const f=s0(t,d,s);return u.top=Wt(f.top,u.top),u.right=ss(f.right,u.right),u.bottom=ss(f.bottom,u.bottom),u.left=Wt(f.left,u.left),u},s0(t,i,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function I_(e){const{width:t,height:n}=Hw(e);return{width:t,height:n}}function D_(e,t,n){const r=Jn(t),s=Xn(t),a=n==="fixed",o=Vs(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const c=Qn(0);function u(){c.x=am(s)}if(r||!r&&!a)if((lo(t)!=="body"||Mi(s))&&(i=Hc(t)),r){const m=Vs(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?qw(s,i):Qn(0),f=o.left+i.scrollLeft-c.x-d.x,h=o.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Wu(e){return An(e).position==="static"}function a0(e,t){if(!Jn(e)||An(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xn(e)===n&&(n=n.ownerDocument.body),n}function Yw(e,t){const n=Qt(e);if(Vc(e))return n;if(!Jn(e)){let s=as(e);for(;s&&!to(s);){if(On(s)&&!Wu(s))return s;s=as(s)}return n}let r=a0(e,t);for(;r&&v_(r)&&Wu(r);)r=a0(r,t);return r&&to(r)&&Wu(r)&&!nm(r)?n:r||k_(e)||n}const $_=async function(e){const t=this.getOffsetParent||Yw,n=this.getDimensions,r=await n(e.floating);return{reference:D_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L_(e){return An(e).direction==="rtl"}const F_={convertOffsetParentRelativeRectToViewportRelativeRect:C_,getDocumentElement:Xn,getClippingRect:A_,getOffsetParent:Yw,getElementRects:$_,getClientRects:N_,getDimensions:I_,getScale:Aa,isElement:On,isRTL:L_};function Qw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function z_(e,t){let n=null,r;const s=Xn(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function o(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(i||t(),!h||!m)return;const x=al(f),y=al(s.clientWidth-(d+h)),b=al(s.clientHeight-(f+m)),v=al(d),w={rootMargin:-x+"px "+-y+"px "+-b+"px "+-v+"px",threshold:Wt(0,ss(1,c))||1};let S=!0;function E(j){const C=j[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Qw(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return o(!0),a}function B_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=sm(e),d=s||a?[...u?ui(u):[],...ui(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=u&&i?z_(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[p]=v;p&&p.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,y=c?Vs(e):null;c&&b();function b(){const v=Vs(e);y&&!Qw(y,v)&&n(),y=v,x=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(p=>{s&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const U_=h_,W_=f_,V_=c_,H_=p_,G_=u_,o0=l_,q_=m_,K_=(e,t,n)=>{const r=new Map,s={platform:F_,...n},a={...s.platform,_c:r};return i_(e,t,{...s,platform:a})};var Y_=typeof document<"u",Q_=function(){},Pl=Y_?g.useLayoutEffect:Q_;function uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!uc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!uc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Jw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function i0(e,t){const n=Jw(e);return Math.round(t*n)/n}function Vu(e){const t=g.useRef(e);return Pl(()=>{t.current=e}),t}function J_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(r);uc(h,r)||m(r);const[x,y]=g.useState(null),[b,v]=g.useState(null),p=g.useCallback(P=>{P!==j.current&&(j.current=P,y(P))},[]),w=g.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),S=a||x,E=o||b,j=g.useRef(null),C=g.useRef(null),N=g.useRef(d),M=c!=null,O=Vu(c),V=Vu(s),L=Vu(u),Y=g.useCallback(()=>{if(!j.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};V.current&&(P.platform=V.current),K_(j.current,C.current,P).then(k=>{const U={...k,isPositioned:L.current!==!1};I.current&&!uc(N.current,U)&&(N.current=U,Ys.flushSync(()=>{f(U)}))})},[h,t,n,V,L]);Pl(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const I=g.useRef(!1);Pl(()=>(I.current=!0,()=>{I.current=!1}),[]),Pl(()=>{if(S&&(j.current=S),E&&(C.current=E),S&&E){if(O.current)return O.current(S,E,Y);Y()}},[S,E,Y,O,M]);const Q=g.useMemo(()=>({reference:j,floating:C,setReference:p,setFloating:w}),[p,w]),W=g.useMemo(()=>({reference:S,floating:E}),[S,E]),q=g.useMemo(()=>{const P={position:n,left:0,top:0};if(!W.floating)return P;const k=i0(W.floating,d.x),U=i0(W.floating,d.y);return i?{...P,transform:"translate("+k+"px, "+U+"px)",...Jw(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:U}},[n,i,W.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:Y,refs:Q,elements:W,floatingStyles:q}),[d,Y,Q,W,q])}const X_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?o0({element:r.current,padding:s}).fn(n):{}:r?o0({element:r,padding:s}).fn(n):{}}}},Z_=(e,t)=>({...U_(e),options:[e,t]}),ej=(e,t)=>({...W_(e),options:[e,t]}),tj=(e,t)=>({...q_(e),options:[e,t]}),nj=(e,t)=>({...V_(e),options:[e,t]}),rj=(e,t)=>({...H_(e),options:[e,t]}),sj=(e,t)=>({...G_(e),options:[e,t]}),aj=(e,t)=>({...X_(e),options:[e,t]});var oj="Arrow",Xw=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(me.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xw.displayName=oj;var ij=Xw;function Zw(e){const[t,n]=g.useState(void 0);return mt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,i;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,i=u.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var om="Popper",[ex,Gc]=us(om),[lj,tx]=ex(om),nx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return l.jsx(lj,{scope:t,anchor:r,onAnchorChange:s,children:n})};nx.displayName=om;var rx="PopperAnchor",sx=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=tx(rx,n),o=g.useRef(null),i=Ie(t,o);return g.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(me.div,{...s,ref:i})});sx.displayName=rx;var im="PopperContent",[cj,uj]=ex(im),ax=g.forwardRef((e,t)=>{var D,ye,Ce,de,ie,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=e,b=tx(im,n),[v,p]=g.useState(null),w=Ie(t,qe=>p(qe)),[S,E]=g.useState(null),j=Zw(S),C=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,M=r+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],L=V.length>0,Y={padding:O,boundary:V.filter(hj),altBoundary:L},{refs:I,floatingStyles:Q,placement:W,isPositioned:q,middlewareData:P}=J_({strategy:"fixed",placement:M,whileElementsMounted:(...qe)=>B_(...qe,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[Z_({mainAxis:s+N,alignmentAxis:o}),c&&ej({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tj():void 0,...Y}),c&&nj({...Y}),rj({...Y,apply:({elements:qe,rects:kt,availableWidth:fn,availableHeight:In})=>{const{width:Zn,height:ps}=kt.reference,er=qe.floating.style;er.setProperty("--radix-popper-available-width",`${fn}px`),er.setProperty("--radix-popper-available-height",`${In}px`),er.setProperty("--radix-popper-anchor-width",`${Zn}px`),er.setProperty("--radix-popper-anchor-height",`${ps}px`)}}),S&&aj({element:S,padding:i}),fj({arrowWidth:C,arrowHeight:N}),h&&sj({strategy:"referenceHidden",...Y})]}),[k,U]=lx(W),te=hn(x);mt(()=>{q&&(te==null||te())},[q,te]);const z=(D=P.arrow)==null?void 0:D.x,_=(ye=P.arrow)==null?void 0:ye.y,J=((Ce=P.arrow)==null?void 0:Ce.centerOffset)!==0,[F,_e]=g.useState();return mt(()=>{v&&_e(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:q?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(de=P.transformOrigin)==null?void 0:de.x,(ie=P.transformOrigin)==null?void 0:ie.y].join(" "),...((ve=P.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(cj,{scope:n,placedSide:k,onArrowChange:E,arrowX:z,arrowY:_,shouldHideArrow:J,children:l.jsx(me.div,{"data-side":k,"data-align":U,...y,ref:w,style:{...y.style,animation:q?void 0:"none"}})})})});ax.displayName=im;var ox="PopperArrow",dj={top:"bottom",right:"left",bottom:"top",left:"right"},ix=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=uj(ox,r),o=dj[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(ij,{...s,ref:n,style:{...s.style,display:"block"}})})});ix.displayName=ox;function hj(e){return e!==null}var fj=e=>({name:"transformOrigin",options:e,fn(t){var b,v,p;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,i=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=lx(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+i/2,m=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=o?f:`${h}px`,y=`${-c}px`):u==="top"?(x=o?f:`${h}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=o?f:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=o?f:`${m}px`),{data:{x,y}}}});function lx(e){const[t,n="center"]=e.split("-");return[t,n]}var mj=nx,cx=sx,ux=ax,dx=ix,[qc]=us("Tooltip",[Gc]),lm=Gc(),hx="TooltipProvider",pj=700,l0="tooltip.open",[gj,fx]=qc(hx),mx=e=>{const{__scopeTooltip:t,delayDuration:n=pj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=g.useRef(!0),i=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(gj,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:g.useCallback(u=>{i.current=u},[]),disableHoverableContent:s,children:a})};mx.displayName=hx;var px="Tooltip",[BI,Kc]=qc(px),wh="TooltipTrigger",yj=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Kc(wh,n),a=fx(wh,n),o=lm(n),i=g.useRef(null),c=Ie(t,i,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(cx,{asChild:!0,...o,children:l.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(e.onBlur,s.onClose),onClick:se(e.onClick,s.onClose)})})});yj.displayName=wh;var vj="TooltipPortal",[UI,wj]=qc(vj,{forceMount:void 0}),no="TooltipContent",gx=g.forwardRef((e,t)=>{const n=wj(no,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=Kc(no,e.__scopeTooltip);return l.jsx(Ni,{present:r||o.open,children:o.disableHoverableContent?l.jsx(yx,{side:s,...a,ref:t}):l.jsx(xj,{side:s,...a,ref:t})})}),xj=g.forwardRef((e,t)=>{const n=Kc(no,e.__scopeTooltip),r=fx(no,e.__scopeTooltip),s=g.useRef(null),a=Ie(t,s),[o,i]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{i(null),f(!1)},[f]),m=g.useCallback((x,y)=>{const b=x.currentTarget,v={x:x.clientX,y:x.clientY},p=_j(v,b.getBoundingClientRect()),w=jj(v,p),S=Cj(y.getBoundingClientRect()),E=Tj([...w,...S]);i(E),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const x=b=>m(b,d),y=b=>m(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[c,d,m,h]),g.useEffect(()=>{if(o){const x=y=>{const b=y.target,v={x:y.clientX,y:y.clientY},p=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!Nj(v,o);p?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),l.jsx(yx,{...e,ref:a})}),[bj,Sj]=qc(px,{isInside:!1}),kj=k5("TooltipContent"),yx=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...i}=e,c=Kc(no,n),u=lm(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(l0,d),()=>document.removeEventListener(l0,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx($c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(ux,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(kj,{children:r}),l.jsx(bj,{scope:n,isInside:!0,children:l.jsx(H5,{id:c.contentId,role:"tooltip",children:s||r})})]})})});gx.displayName=no;var vx="TooltipArrow",Ej=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=lm(n);return Sj(vx,n).isInside?null:l.jsx(dx,{...s,...r,ref:t})});Ej.displayName=vx;function _j(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jj(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Cj(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Nj(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const i=t[a],c=t[o],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function Tj(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Pj(t)}function Pj(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Mj=mx,wx=gx;const Rj=Mj,Oj=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(wx,{ref:r,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Oj.displayName=wx.displayName;var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qc=typeof window>"u"||"Deno"in globalThis;function Sn(){}function Aj(e,t){return typeof e=="function"?e(t):e}function Ij(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xh(e,t){return typeof e=="function"?e(t):e}function $j(e,t){return typeof e=="function"?e(t):e}function c0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:i}=e;if(o){if(r){if(t.queryHash!==cm(o,t.options))return!1}else if(!hi(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||a&&!a(t))}function u0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(di(t.options.mutationKey)!==di(a))return!1}else if(!hi(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function cm(e,t){return((t==null?void 0:t.queryKeyHashFn)||di)(e)}function di(e){return JSON.stringify(e,(t,n)=>bh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function hi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>hi(e[n],t[n])):!1}function xx(e,t){if(e===t)return e;const n=d0(e)&&d0(t);if(n||bh(e)&&bh(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,i=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(i[f]=void 0,u++):(i[f]=xx(e[f],t[f]),i[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:i}return t}function d0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bh(e){if(!h0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!h0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lj(e){return new Promise(t=>{setTimeout(t,e)})}function Fj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xx(e,t):t}function zj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Bj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var um=Symbol();function bx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===um?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ms,$r,La,Eg,Uj=(Eg=class extends Yc{constructor(){super();Se(this,Ms);Se(this,$r);Se(this,La);oe(this,La,t=>{if(!Qc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,$r)||this.setEventListener(R(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,$r))==null||t.call(this),oe(this,$r,void 0))}setEventListener(t){var n;oe(this,La,t),(n=R(this,$r))==null||n.call(this),oe(this,$r,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,Ms)!==t&&(oe(this,Ms,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,Ms)=="boolean"?R(this,Ms):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ms=new WeakMap,$r=new WeakMap,La=new WeakMap,Eg),Sx=new Uj,Fa,Lr,za,_g,Wj=(_g=class extends Yc{constructor(){super();Se(this,Fa,!0);Se(this,Lr);Se(this,za);oe(this,za,t=>{if(!Qc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Lr)||this.setEventListener(R(this,za))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Lr))==null||t.call(this),oe(this,Lr,void 0))}setEventListener(t){var n;oe(this,za,t),(n=R(this,Lr))==null||n.call(this),oe(this,Lr,t(this.setOnline.bind(this)))}setOnline(t){R(this,Fa)!==t&&(oe(this,Fa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,Fa)}},Fa=new WeakMap,Lr=new WeakMap,za=new WeakMap,_g),dc=new Wj;function Vj(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Hj(e){return Math.min(1e3*2**e,3e4)}function kx(e){return(e??"online")==="online"?dc.isOnline():!0}var Ex=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Hu(e){return e instanceof Ex}function _x(e){let t=!1,n=0,r=!1,s;const a=Vj(),o=y=>{var b;r||(h(new Ex(y)),(b=e.abort)==null||b.call(e))},i=()=>{t=!0},c=()=>{t=!1},u=()=>Sx.isFocused()&&(e.networkMode==="always"||dc.isOnline())&&e.canRun(),d=()=>kx(e.networkMode)&&e.canRun(),f=y=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,y),s==null||s(),a.resolve(y))},h=y=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,y),s==null||s(),a.reject(y))},m=()=>new Promise(y=>{var b;s=v=>{(r||u())&&y(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;s=void 0,r||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(r)return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var j;if(r)return;const p=e.retry??(Qc?0:3),w=e.retryDelay??Hj,S=typeof w=="function"?w(n,v):w,E=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,v);if(t||!E){h(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),Lj(S).then(()=>u()?void 0:m()).then(()=>{t?h(v):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:i,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),a)}}var Gj=e=>setTimeout(e,0);function qj(){let e=[],t=0,n=i=>{i()},r=i=>{i()},s=Gj;const a=i=>{t?e.push(i):s(()=>{n(i)})},o=()=>{const i=e;e=[],i.length&&s(()=>{r(()=>{i.forEach(c=>{n(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||o()}return c},batchCalls:i=>(...c)=>{a(()=>{i(...c)})},schedule:a,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{s=i}}}var Ct=qj(),Rs,jg,jx=(jg=class{constructor(){Se(this,Rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ij(this.gcTime)&&oe(this,Rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qc?1/0:5*60*1e3))}clearGcTimeout(){R(this,Rs)&&(clearTimeout(R(this,Rs)),oe(this,Rs,void 0))}},Rs=new WeakMap,jg),Ba,Os,tn,As,vt,bi,Is,En,or,Cg,Kj=(Cg=class extends jx{constructor(t){super();Se(this,En);Se(this,Ba);Se(this,Os);Se(this,tn);Se(this,As);Se(this,vt);Se(this,bi);Se(this,Is);oe(this,Is,!1),oe(this,bi,t.defaultOptions),this.setOptions(t.options),this.observers=[],oe(this,As,t.client),oe(this,tn,R(this,As).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,oe(this,Ba,Qj(this.options)),this.state=t.state??R(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,vt))==null?void 0:t.promise}setOptions(t){this.options={...R(this,bi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,tn).remove(this)}setData(t,n){const r=Fj(this.state.data,t,this.options);return pt(this,En,or).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pt(this,En,or).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,vt))==null?void 0:r.promise;return(s=R(this,vt))==null||s.cancel(t),n?n.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ba))}isActive(){return this.observers.some(t=>$j(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===um||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,vt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,vt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,vt)&&(R(this,Is)?R(this,vt).cancel({revert:!0}):R(this,vt).cancelRetry()),this.scheduleGc()),R(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,En,or).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,vt))return R(this,vt).continueRetry(),R(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(oe(this,Is,!0),r.signal)})},a=()=>{const h=bx(this.options,n),x=(()=>{const y={client:R(this,As),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return oe(this,Is,!1),this.options.persister?this.options.persister(h,x,this):h(x)},i=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,As),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(i,this),oe(this,Os,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&pt(this,En,or).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,x,y,b;Hu(h)&&h.silent||pt(this,En,or).call(this,{type:"error",error:h}),Hu(h)||((x=(m=R(this,tn).config).onError)==null||x.call(m,h,this),(b=(y=R(this,tn).config).onSettled)==null||b.call(y,this.state.data,h,this)),this.scheduleGc()};return oe(this,vt,_x({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,x,y,b;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(x=(m=R(this,tn).config).onSuccess)==null||x.call(m,h,this),(b=(y=R(this,tn).config).onSettled)==null||b.call(y,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{pt(this,En,or).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{pt(this,En,or).call(this,{type:"pause"})},onContinue:()=>{pt(this,En,or).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),R(this,vt).start()}},Ba=new WeakMap,Os=new WeakMap,tn=new WeakMap,As=new WeakMap,vt=new WeakMap,bi=new WeakMap,Is=new WeakMap,En=new WeakSet,or=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Yj(r.data,this.options),fetchMeta:t.meta??null};case"success":return oe(this,Os,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Hu(s)&&s.revert&&R(this,Os)?{...R(this,Os),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,tn).notify({query:this,type:"updated",action:t})})},Cg);function Yj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zn,Ng,Jj=(Ng=class extends Yc{constructor(t={}){super();Se(this,zn);this.config=t,oe(this,zn,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??cm(s,n);let o=this.get(a);return o||(o=new Kj({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){R(this,zn).has(t.queryHash)||(R(this,zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,zn).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,zn).get(t)}getAll(){return[...R(this,zn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>c0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>c0(t,r)):n}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zn=new WeakMap,Ng),Bn,_t,Ds,Un,Tr,Tg,Xj=(Tg=class extends jx{constructor(t){super();Se(this,Un);Se(this,Bn);Se(this,_t);Se(this,Ds);this.mutationId=t.mutationId,oe(this,_t,t.mutationCache),oe(this,Bn,[]),this.state=t.state||Zj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Bn).includes(t)||(R(this,Bn).push(t),this.clearGcTimeout(),R(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){oe(this,Bn,R(this,Bn).filter(n=>n!==t)),this.scheduleGc(),R(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():R(this,_t).remove(this))}continue(){var t;return((t=R(this,Ds))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,c,u,d,f,h,m,x,y,b,v,p,w,S,E,j,C,N;const n=()=>{pt(this,Un,Tr).call(this,{type:"continue"})};oe(this,Ds,_x({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,O)=>{pt(this,Un,Tr).call(this,{type:"failed",failureCount:M,error:O})},onPause:()=>{pt(this,Un,Tr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,_t).canRun(this)}));const r=this.state.status==="pending",s=!R(this,Ds).canStart();try{if(r)n();else{pt(this,Un,Tr).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=R(this,_t).config).onMutate)==null?void 0:o.call(a,t,this));const O=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,t));O!==this.state.context&&pt(this,Un,Tr).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const M=await R(this,Ds).start();return await((d=(u=R(this,_t).config).onSuccess)==null?void 0:d.call(u,M,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,M,t,this.state.context)),await((x=(m=R(this,_t).config).onSettled)==null?void 0:x.call(m,M,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,M,null,t,this.state.context)),pt(this,Un,Tr).call(this,{type:"success",data:M}),M}catch(M){try{throw await((p=(v=R(this,_t).config).onError)==null?void 0:p.call(v,M,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,M,t,this.state.context)),await((j=(E=R(this,_t).config).onSettled)==null?void 0:j.call(E,void 0,M,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,M,t,this.state.context)),M}finally{pt(this,Un,Tr).call(this,{type:"error",error:M})}}finally{R(this,_t).runNext(this)}}},Bn=new WeakMap,_t=new WeakMap,Ds=new WeakMap,Un=new WeakSet,Tr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ct.batch(()=>{R(this,Bn).forEach(r=>{r.onMutationUpdate(t)}),R(this,_t).notify({mutation:this,type:"updated",action:t})})},Tg);function Zj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ur,_n,Si,Pg,eC=(Pg=class extends Yc{constructor(t={}){super();Se(this,ur);Se(this,_n);Se(this,Si);this.config=t,oe(this,ur,new Set),oe(this,_n,new Map),oe(this,Si,0)}build(t,n,r){const s=new Xj({mutationCache:this,mutationId:++Li(this,Si)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){R(this,ur).add(t);const n=ol(t);if(typeof n=="string"){const r=R(this,_n).get(n);r?r.push(t):R(this,_n).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,ur).delete(t)){const n=ol(t);if(typeof n=="string"){const r=R(this,_n).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&R(this,_n).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ol(t);if(typeof n=="string"){const r=R(this,_n).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ol(t);if(typeof n=="string"){const s=(r=R(this,_n).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ct.batch(()=>{R(this,ur).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,ur).clear(),R(this,_n).clear()})}getAll(){return Array.from(R(this,ur))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>u0(n,r))}findAll(t={}){return this.getAll().filter(n=>u0(t,n))}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ct.batch(()=>Promise.all(t.map(n=>n.continue().catch(Sn))))}},ur=new WeakMap,_n=new WeakMap,Si=new WeakMap,Pg);function ol(e){var t;return(t=e.options.scope)==null?void 0:t.id}function f0(e){return{onFetch:(t,n)=>{var d,f,h,m,x;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=bx(t.options,t.fetchOptions),p=async(w,S,E)=>{if(y)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:S,direction:E?"backward":"forward",meta:t.options.meta};return b(V),V})(),N=await v(C),{maxPages:M}=t.options,O=E?Bj:zj;return{pages:O(w.pages,N,M),pageParams:O(w.pageParams,S,M)}};if(s&&a.length){const w=s==="backward",S=w?tC:m0,E={pages:a,pageParams:o},j=S(r,E);i=await p(E,j,w)}else{const w=e??a.length;do{const S=c===0?o[0]??r.initialPageParam:m0(r,i);if(c>0&&S==null)break;i=await p(i,S),c++}while(c<w)}return i};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function m0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ve,Fr,zr,Ua,Wa,Br,Va,Ha,Mg,nC=(Mg=class{constructor(e={}){Se(this,Ve);Se(this,Fr);Se(this,zr);Se(this,Ua);Se(this,Wa);Se(this,Br);Se(this,Va);Se(this,Ha);oe(this,Ve,e.queryCache||new Jj),oe(this,Fr,e.mutationCache||new eC),oe(this,zr,e.defaultOptions||{}),oe(this,Ua,new Map),oe(this,Wa,new Map),oe(this,Br,0)}mount(){Li(this,Br)._++,R(this,Br)===1&&(oe(this,Va,Sx.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ve).onFocus())})),oe(this,Ha,dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ve).onOnline())})))}unmount(){var e,t;Li(this,Br)._--,R(this,Br)===0&&((e=R(this,Va))==null||e.call(this),oe(this,Va,void 0),(t=R(this,Ha))==null||t.call(this),oe(this,Ha,void 0))}isFetching(e){return R(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,Fr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=R(this,Ve).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,Ve).get(r.queryHash),a=s==null?void 0:s.state.data,o=Aj(t,a);if(o!==void 0)return R(this,Ve).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ct.batch(()=>R(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,Ve);Ct.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,Ve);return Ct.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ct.batch(()=>R(this,Ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(e,t={}){return Ct.batch(()=>(R(this,Ve).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ct.batch(()=>R(this,Ve).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Sn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,Ve).build(this,t);return n.isStaleByTime(xh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sn).catch(Sn)}fetchInfiniteQuery(e){return e.behavior=f0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sn).catch(Sn)}ensureInfiniteQueryData(e){return e.behavior=f0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dc.isOnline()?R(this,Fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Ve)}getMutationCache(){return R(this,Fr)}getDefaultOptions(){return R(this,zr)}setDefaultOptions(e){oe(this,zr,e)}setQueryDefaults(e,t){R(this,Ua).set(di(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Ua).values()],n={};return t.forEach(r=>{hi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){R(this,Wa).set(di(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Wa).values()],n={};return t.forEach(r=>{hi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,zr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===um&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,zr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Ve).clear(),R(this,Fr).clear()}},Ve=new WeakMap,Fr=new WeakMap,zr=new WeakMap,Ua=new WeakMap,Wa=new WeakMap,Br=new WeakMap,Va=new WeakMap,Ha=new WeakMap,Mg),rC=g.createContext(void 0),sC=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(rC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const p0="popstate";function aC(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:i}=r.location;return Sh("",{pathname:a,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hc(s)}return iC(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oC(){return Math.random().toString(36).substr(2,8)}function g0(e,t){return{usr:e.state,key:e.key,idx:t}}function Sh(e,t,n,r){return n===void 0&&(n=null),fi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?co(t):t,{state:n,key:t&&t.key||r||oC()})}function hc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iC(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,i=Vr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(fi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){i=Vr.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:i,location:y.location,delta:v})}function h(b,v){i=Vr.Push;let p=Sh(y.location,b,v);u=d()+1;let w=g0(p,u),S=y.createHref(p);try{o.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}a&&c&&c({action:i,location:y.location,delta:1})}function m(b,v){i=Vr.Replace;let p=Sh(y.location,b,v);u=d();let w=g0(p,u),S=y.createHref(p);o.replaceState(w,"",S),a&&c&&c({action:i,location:y.location,delta:0})}function x(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:hc(b);return p=p.replace(/ $/,"%20"),et(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let y={get action(){return i},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(p0,f),c=b,()=>{s.removeEventListener(p0,f),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(b){return o.go(b)}};return y}var y0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(y0||(y0={}));function lC(e,t,n){return n===void 0&&(n="/"),cC(e,t,n)}function cC(e,t,n,r){let s=typeof t=="string"?co(t):t,a=dm(s.pathname||"/",n);if(a==null)return null;let o=Nx(e);uC(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=SC(a);i=wC(o[c],u)}return i}function Nx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zr([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nx(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:yC(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,o);else for(let c of Tx(a.path))s(a,o,c)}),t}function Tx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=Tx(r.join("/")),i=[];return i.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function uC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dC=/^:[\w-]+$/,hC=3,fC=2,mC=1,pC=10,gC=-2,v0=e=>e==="*";function yC(e,t){let n=e.split("/"),r=n.length;return n.some(v0)&&(r+=gC),t&&(r+=fC),n.filter(s=>!v0(s)).reduce((s,a)=>s+(dC.test(a)?hC:a===""?mC:pC),r)}function vC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function wC(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=xC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Zr([a,f.pathname]),pathnameBase:jC(Zr([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Zr([a,f.pathnameBase]))}return o}function xC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=i[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=i[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function bC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function SC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?co(e):e;return{pathname:n?n.startsWith("/")?n:EC(n,t):t,search:CC(r),hash:NC(s)}}function EC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _C(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Px(e,t){let n=_C(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=co(e):(s=fi({},e),et(!s.pathname||!s.pathname.includes("?"),Gu("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Gu("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Gu("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=kC(s,i),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),jC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rx=["post","put","patch","delete"];new Set(Rx);const PC=["get",...Rx];new Set(PC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}const hm=g.createContext(null),MC=g.createContext(null),Qs=g.createContext(null),Jc=g.createContext(null),ds=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Ox=g.createContext(null);function RC(e,t){let{relative:n}=t===void 0?{}:t;Ri()||et(!1);let{basename:r,navigator:s}=g.useContext(Qs),{hash:a,pathname:o,search:i}=Ix(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Zr([r,o])),s.createHref({pathname:c,search:i,hash:a})}function Ri(){return g.useContext(Jc)!=null}function hs(){return Ri()||et(!1),g.useContext(Jc).location}function Ax(e){g.useContext(Qs).static||g.useLayoutEffect(e)}function fm(){let{isDataRoute:e}=g.useContext(ds);return e?GC():OC()}function OC(){Ri()||et(!1);let e=g.useContext(hm),{basename:t,future:n,navigator:r}=g.useContext(Qs),{matches:s}=g.useContext(ds),{pathname:a}=hs(),o=JSON.stringify(Px(s,n.v7_relativeSplatPath)),i=g.useRef(!1);return Ax(()=>{i.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=Mx(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function AC(){let{matches:e}=g.useContext(ds),t=e[e.length-1];return t?t.params:{}}function Ix(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Qs),{matches:s}=g.useContext(ds),{pathname:a}=hs(),o=JSON.stringify(Px(s,r.v7_relativeSplatPath));return g.useMemo(()=>Mx(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function IC(e,t){return DC(e,t)}function DC(e,t,n,r){Ri()||et(!1);let{navigator:s}=g.useContext(Qs),{matches:a}=g.useContext(ds),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=hs(),d;if(t){var f;let b=typeof t=="string"?co(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||et(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=lC(e,{pathname:m}),y=BC(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Zr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Zr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&y?g.createElement(Jc.Provider,{value:{location:mi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vr.Pop}},y):y}function $C(){let e=HC(),t=TC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const LC=g.createElement($C,null);class FC extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(ds.Provider,{value:this.props.routeContext},g.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zC(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ds.Provider,{value:t},r)}function BC(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,y=null,b=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||LC,c&&(u<0&&h===0?(qC("route-fallback"),x=!0,b=null):u===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),p=()=>{let w;return m?w=y:x?w=b:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(zC,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(FC,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var Dx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dx||{}),$x=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($x||{});function UC(e){let t=g.useContext(hm);return t||et(!1),t}function WC(e){let t=g.useContext(MC);return t||et(!1),t}function VC(e){let t=g.useContext(ds);return t||et(!1),t}function Lx(e){let t=VC(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function HC(){var e;let t=g.useContext(Ox),n=WC(),r=Lx();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function GC(){let{router:e}=UC(Dx.UseNavigateStable),t=Lx($x.UseNavigateStable),n=g.useRef(!1);return Ax(()=>{n.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,mi({fromRouteId:t},a)))},[e,t])}const w0={};function qC(e,t,n){w0[e]||(w0[e]=!0)}function KC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yn(e){et(!1)}function YC(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vr.Pop,navigator:a,static:o=!1,future:i}=e;Ri()&&et(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:mi({v7_relativeSplatPath:!1},i)}),[c,i,a,o]);typeof r=="string"&&(r=co(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,y=g.useMemo(()=>{let b=dm(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:x},navigationType:s}},[c,d,f,h,m,x,s]);return y==null?null:g.createElement(Qs.Provider,{value:u},g.createElement(Jc.Provider,{children:n,value:y}))}function x0(e){let{children:t,location:n}=e;return IC(kh(t),n)}new Promise(()=>{});function kh(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let a=[...t,s];if(r.type===g.Fragment){n.push.apply(n,kh(r.props.children,a));return}r.type!==yn&&et(!1),!r.props.index||!r.props.children||et(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kh(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eh.apply(this,arguments)}function QC(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function JC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XC(e,t){return e.button===0&&(!t||t==="_self")&&!JC(e)}const ZC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eN="6";try{window.__reactRouterVersion=eN}catch{}const tN="startTransition",b0=Xh[tN];function nN(e){let{basename:t,children:n,future:r,window:s}=e,a=g.useRef();a.current==null&&(a.current=aC({window:s,v5Compat:!0}));let o=a.current,[i,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&b0?b0(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>KC(r),[r]),g.createElement(YC,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const rN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=QC(t,ZC),{basename:m}=g.useContext(Qs),x,y=!1;if(typeof u=="string"&&sN.test(u)&&(x=u,rN))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=dm(S.pathname,m);S.origin===w.origin&&E!=null?u=E+S.search+S.hash:y=!0}catch{}let b=RC(u,{relative:s}),v=aN(u,{replace:o,state:i,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||v(w)}return g.createElement("a",Eh({},h,{href:x||b,onClick:y||a?r:p,ref:n,target:c}))});var S0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(S0||(S0={}));var k0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k0||(k0={}));function aN(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,c=fm(),u=hs(),d=Ix(e,{relative:o});return g.useCallback(f=>{if(XC(f,n)){f.preventDefault();let h=r!==void 0?r:hc(u)===hc(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[u,c,d,r,s,n,e,a,o,i])}const oN=[{path:"/",icon:bk,label:"Home"},{path:"/logs",icon:pk,label:"Logs"},{path:"/library",icon:Qf,label:"Library"},{path:"/story",icon:kw,label:"Story"},{path:"/statistics",icon:Yf,label:"Stats"},{path:"/about",icon:_w,label:"About"}],E0={superBloodMoon:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.95), rgba(80, 10, 10, 0.9), rgba(100, 20, 20, 0.8))",borderTop:"1px solid rgba(255, 50, 50, 0.6)",boxShadow:"0 -10px 40px rgba(220, 20, 60, 0.6), 0 -2px 10px rgba(255, 0, 0, 0.4), inset 0 2px 20px rgba(255, 50, 50, 0.2)",animation:"bloodPulse 3s ease-in-out infinite",backdropFilter:"blur(20px) saturate(150%)"},superBlueBloodMoon:{background:"linear-gradient(135deg, rgba(20, 0, 40, 0.95), rgba(60, 20, 80, 0.9), rgba(100, 40, 120, 0.8))",borderTop:"1px solid rgba(200, 100, 255, 0.6)",borderImage:"linear-gradient(90deg, transparent, rgba(200, 100, 255, 1), rgba(100, 200, 255, 1), transparent) 1",boxShadow:"0 -10px 40px rgba(120, 20, 220, 0.6), 0 -2px 10px rgba(200, 100, 255, 0.4), inset 0 2px 20px rgba(200, 100, 255, 0.2)",animation:"royalShimmer 4s ease-in-out infinite",backdropFilter:"blur(20px) saturate(180%)"},lunarTransientPhenomena:{background:"linear-gradient(to top, rgba(10, 10, 20, 0.95), rgba(30, 30, 60, 0.9))",borderTop:"1px solid rgba(150, 255, 255, 0.8)",boxShadow:"0 -5px 30px rgba(100, 255, 255, 0.5), 0 0 15px rgba(100, 255, 255, 0.3), inset 0 0 20px rgba(100, 255, 255, 0.1)",animation:"electricGlitch 3s steps(5) infinite",backdropFilter:"blur(15px) brightness(1.2)"},hybridEclipse:{background:"linear-gradient(to top, rgba(20, 10, 0, 0.95), rgba(60, 40, 10, 0.9))",borderTop:"1px solid rgba(255, 200, 100, 0.8)",boxShadow:"0 -5px 35px rgba(255, 160, 50, 0.6), 0 0 15px rgba(255, 200, 100, 0.4), inset 0 2px 10px rgba(255, 200, 100, 0.2)",animation:"eclipsePulse 4s ease-in-out infinite",backdropFilter:"blur(18px) contrast(1.1)"},stillMoon:{background:"linear-gradient(to top, rgba(200, 220, 255, 0.15), rgba(255, 255, 255, 0.05))",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 -5px 30px rgba(200, 230, 255, 0.4), inset 0 0 30px rgba(200, 230, 255, 0.2)",backdropFilter:"blur(30px) brightness(1.1)",animation:"stillFreeze 10s linear infinite"},echoMoon:{background:"linear-gradient(to top, rgba(30, 15, 60, 0.98), rgba(15, 5, 30, 0.98))",backgroundSize:"200% 100%",borderTop:"2px solid rgba(180, 130, 255, 0.8)",borderImage:"repeating-linear-gradient(90deg, rgba(160, 100, 255, 0.5) 0, rgba(200, 150, 255, 1) 20px, rgba(160, 100, 255, 0.5) 40px) 1",boxShadow:`
      0 -5px 25px rgba(140, 70, 255, 0.6),
      0 -10px 50px rgba(124, 58, 237, 0.3),
      inset 0 4px 20px rgba(200, 160, 255, 0.2)
    `,animation:"echoRipple 3s infinite linear",backdropFilter:"blur(25px)"},brokenMoon:{background:"linear-gradient(to top, rgba(10, 10, 12, 0.95), rgba(30, 30, 35, 0.9))",borderTop:"2px dashed rgba(255, 255, 255, 0.4)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1)",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px)",backdropFilter:"blur(15px) grayscale(0.8)"},emptySky:{background:"#050505",borderTop:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 -10px 50px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 255, 255, 0.1) inset",backdropFilter:"blur(50px) brightness(0.5)"},crystalMoon:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(200, 240, 255, 0.2))",borderTop:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 -5px 35px rgba(200, 240, 255, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(25px) contrast(1.2)",animation:"crystalFacet 5s ease-in-out infinite"},arcticMoon:{background:"linear-gradient(to top, rgba(20, 40, 60, 0.9), rgba(50, 100, 150, 0.8))",borderTop:"1px solid rgba(150, 230, 255, 0.8)",boxShadow:"0 -8px 30px rgba(100, 200, 255, 0.5), inset 0 0 20px rgba(150, 230, 255, 0.3)",backdropFilter:"blur(20px) brightness(1.1)"},shatteredMoon:{background:"linear-gradient(to top, rgba(20, 20, 25, 0.95), rgba(50, 50, 60, 0.9))",borderTop:"1px double rgba(255, 255, 255, 0.5)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.25), inset 0 0 10px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)"},cosmicVoyageMoon:{background:"linear-gradient(to top, rgba(30, 10, 60, 0.95), rgba(60, 20, 100, 0.9))",borderTop:"1px solid rgba(200, 100, 255, 0.7)",boxShadow:"0 -8px 35px rgba(150, 50, 255, 0.5), inset 0 0 15px rgba(200, 100, 255, 0.2)",backdropFilter:"blur(20px)"},nebulaDreamMoon:{background:"linear-gradient(to top, rgba(40, 20, 60, 0.95), rgba(80, 40, 100, 0.9))",borderTop:"1px solid rgba(255, 150, 255, 0.7)",boxShadow:"0 -8px 35px rgba(255, 100, 255, 0.5), 0 0 20px rgba(255, 100, 255, 0.2) inset",backdropFilter:"blur(20px)",animation:"nebulaSwirl 6s ease-in-out infinite"}};function Xc(){const e=hs(),[t,n]=g.useState(null);g.useEffect(()=>{const s=document.documentElement.getAttribute("data-mythic-theme");n(s);const a=new MutationObserver(()=>{const o=document.documentElement.getAttribute("data-mythic-theme");n(o)});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["data-mythic-theme"]}),()=>a.disconnect()},[]);const r=t&&E0[t]?{...E0[t]}:void 0;if(r){const s=r.animation||"";r.animation=`mythicThemeEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards${s?`, ${s}`:""}`}return l.jsxs("nav",{className:ue("mythic-bottom-nav fixed bottom-0 left-0 right-0 border-t z-20",!t&&"bg-background"),style:r,children:[t==="hybridEclipse"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255, 220, 120, 0.8) 50%, transparent)",animation:"goldenWave 3s ease-in-out infinite"}}),t==="arcticMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1026] via-[#1b2735] to-[#090a0f]"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 50% 40%, white 10%, transparent 0), radial-gradient(2px 2px at 80% 20%, white 10%, transparent 0), radial-gradient(1px 1px at 30% 70%, white 20%, transparent 0)",backgroundSize:"200px 200px"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{background:"linear-gradient(120deg, rgba(0,255,150,0.3), rgba(0,0,0,0), rgba(150,0,255,0.3))",backgroundSize:"200% 200%",animation:"auroraShift 15s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-80 mix-blend-screen",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(0, 255, 180, 0.5), transparent 70%), linear-gradient(90deg, transparent, rgba(50, 255, 200, 0.3), transparent)",filter:"blur(15px)",transformOrigin:"bottom center",animation:"auroraWave 8s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-70 mix-blend-screen",style:{background:"radial-gradient(ellipse at 80% 80%, rgba(220, 50, 255, 0.4), transparent 60%)",filter:"blur(20px)",transformOrigin:"bottom center",animation:"auroraWave 12s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute top-0 left-0 w-[200%] h-full opacity-50 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.8), rgba(180, 100, 255, 0.6), transparent)",transform:"skewX(-20deg)",backgroundSize:"200% 100%",animation:"borderFlow 6s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`twinkle ${Math.random()*3+2}s ease-in-out infinite`,opacity:Math.random()*.8+.2}},a)),l.jsx("div",{className:"absolute inset-0 z-40 mix-blend-overlay pointer-events-none",style:{background:"radial-gradient(circle at 50% -20%, rgba(200, 255, 255, 0.8), transparent 70%)",animation:"auroraFlare 18s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute z-20",style:{top:-Math.random()*100-50+"%",right:Math.random()*100-20+"%",width:Math.random()*120+80+"px",height:"2px",opacity:0,background:`linear-gradient(to right, transparent, ${Math.random()>.5?"white":"#a5f3fc"}, transparent)`,filter:`drop-shadow(0 0 ${Math.random()*3+2}px ${Math.random()>.5?"white":"cyan"})`,animation:`shootingStar ${Math.random()*5+3}s linear infinite ${Math.random()*10}s both`,transform:"rotate(-45deg)"}},a)),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40px] z-10",style:{background:"linear-gradient(to top, rgba(100, 200, 255, 0.2), transparent)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-50 opacity-90",style:{background:"linear-gradient(90deg, transparent, #00ffcc, #bd00ff, #00ffcc, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 10px rgba(0, 255, 200, 0.6), 0 0 20px rgba(189, 0, 255, 0.4)"}}),l.jsx("div",{className:"absolute top-[2px] left-0 right-0 h-[1px] z-40 opacity-50 mix-blend-overlay",style:{background:"white"}})]}),t==="echoMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, rgba(20, 10, 40, 0.6), transparent)"}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute rounded-full border border-white/30",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out"}}),l.jsx("div",{className:"absolute rounded-full border border-white/20",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 1s"}}),l.jsx("div",{className:"absolute rounded-full border border-white/10",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 2s"}})]}),l.jsx("div",{className:"absolute left-[20%] top-[40%] rounded-full border border-white/20",style:{width:"50px",height:"50px",animation:"waterRipple 4s infinite ease-out 0.5s"}}),l.jsx("div",{className:"absolute right-[20%] top-[30%] rounded-full border border-white/20",style:{width:"60px",height:"60px",animation:"waterRipple 5s infinite ease-out 2.5s"}}),[...Array(5)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[1px]",style:{width:Math.random()*3+1+"px",height:Math.random()*3+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`echoParticle ${Math.random()*2+2}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-20",style:{background:"linear-gradient(90deg, rgba(160, 100, 255, 0), rgba(200, 160, 255, 0.8), rgba(255, 255, 255, 1), rgba(200, 160, 255, 0.8), rgba(160, 100, 255, 0))",backgroundSize:"200% 100%",animation:"liquidBorder 3s linear infinite",boxShadow:"0 2px 10px rgba(180, 130, 255, 0.5)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 40% 60%, rgba(180, 0, 50, 0.5), transparent 50%)",filter:"blur(20px)",animation:"plasmaFlow 10s ease-in-out infinite alternate"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 60% 40%, rgba(50, 60, 200, 0.6), transparent 50%)",filter:"blur(15px)",animation:"plasmaFlow 8s ease-in-out infinite alternate-reverse"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`starFloat ${Math.random()*10+10}s infinite linear, starTwinkle ${Math.random()*1+.5}s infinite ease-in-out alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(255, 50, 50, 0.8), rgba(200, 100, 255, 1), rgba(50, 100, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"flowRight 3s linear infinite",boxShadow:"0 0 15px rgba(200, 50, 200, 0.6)"}})]}),t==="hybridEclipse"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0a0500]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-40 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 180, 50, 0.3), rgba(255, 220, 100, 0.5), rgba(255, 180, 50, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 10s linear infinite"}}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 140, 0, 0.2), transparent)",backgroundSize:"25% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 7s linear infinite reverse"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E")`,mixBlendMode:"overlay"}}),[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-yellow-100 blur-[1px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 5px rgba(255, 200, 50, 0.8)",animation:`starFloat ${Math.random()*5+3}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(200, 120, 20, 0), rgba(255, 200, 100, 1), rgba(200, 120, 20, 0), transparent)",backgroundSize:"200% 100%",animation:"flowRight 4s linear infinite",boxShadow:"0 1px 15px rgba(255, 160, 50, 0.5)"}})]}),t==="brokenMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0c0c16]/98"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent 0, transparent 20px, rgba(160, 160, 200, 0.1) 21px, transparent 22px), repeating-linear-gradient(-45deg, transparent 0, transparent 35px, rgba(160, 160, 200, 0.1) 36px, transparent 37px)",animation:"voidCracks 5s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 mix-blend-color-dodge opacity-20",style:{background:"linear-gradient(90deg, transparent, rgba(100, 100, 255, 0.2), transparent)",backgroundSize:"200% 100%",animation:"flowRight 0.2s steps(4) infinite",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}}),[...Array(10)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/40",style:{width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`shardFloat ${Math.random()*4+2}s linear infinite ${Math.random()*2}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(150, 150, 200, 0.5), rgba(200, 200, 255, 0.9), rgba(150, 150, 200, 0.5), transparent)",boxShadow:"0 0 10px rgba(180, 180, 255, 0.4)",animation:"glitchBorder 3s infinite"}})]}),t==="cosmicVoyageMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0b0515]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-50 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(100, 20, 200, 0.3), rgba(60, 20, 150, 0.5), rgba(100, 20, 200, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 5s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute w-[2px] bg-white rounded-full mix-blend-screen opacity-40",style:{height:Math.random()*30+10+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`warpSpeed ${Math.random()*2+1.5}s linear infinite ${Math.random()*3}s`,boxShadow:"0 0 2px rgba(200, 200, 255, 0.5)"}},a)),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-white rounded-full opacity-60",style:{top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`pulse ${Math.random()*2+1}s ease-in-out infinite`}},`star-${a}`)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 opacity-40",style:{background:"linear-gradient(90deg, transparent, #8a2be2, transparent)"}}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-screen",style:{background:"linear-gradient(90deg, transparent, rgba(150, 50, 255, 0), rgba(255, 200, 255, 1) 50%, rgba(150, 50, 255, 0), transparent)",backgroundSize:"200% 100%",boxShadow:"0 0 20px rgba(220, 150, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.5)",animation:"mistFlow 1.5s linear infinite"}})]}),t==="crystalMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0f1525]/90"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{background:"linear-gradient(135deg, rgba(200, 240, 255, 0.1), rgba(255, 200, 250, 0.15), rgba(200, 240, 255, 0.1), transparent)",backgroundSize:"200% 200%",animation:"prismReflect 5s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/20 border border-white/40",style:{width:Math.random()*8+4+"px",height:Math.random()*8+4+"px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`crystalFloat ${Math.random()*4+3}s ease-in-out infinite ${Math.random()*2}s`,backdropFilter:"blur(2px)"}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 bg-white/40"}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.5), rgba(255, 165, 0, 0.5), rgba(255, 255, 0, 0.5), rgba(0, 255, 0, 0.5), rgba(0, 0, 255, 0.5), rgba(238, 130, 238, 0.5), transparent)",backgroundSize:"200% 100%",animation:"prismFlow 3s linear infinite, rainbowBorder 6s linear infinite"}})]}),t==="stillMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#b3e5fc] via-[#e1f5fe] to-[#ffffff]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjgiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuNSIvPjwvc3ZnPg==')",filter:"contrast(180%)"}}),l.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[150%] bg-white/20 backdrop-blur-sm z-10",style:{clipPath:"polygon(0 0, 100% 0, 80% 100%, 0 100%)",boxShadow:"inset 0 0 20px rgba(255,255,255,0.5)"}}),l.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[150%] bg-white/10 backdrop-blur-md z-10",style:{clipPath:"polygon(20% 0, 100% 0, 100% 100%, 0 100%)",borderLeft:"1px solid rgba(255,255,255,0.4)"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white z-20",style:{width:Math.random()<.2?"3px":"1.5px",height:Math.random()<.2?"3px":"1.5px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.4,boxShadow:"0 0 4px rgba(255,255,255,0.9)",animation:`pulse ${Math.random()*4+2}s ease-in-out infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 bg-white",style:{boxShadow:"0 0 15px rgba(200, 240, 255, 1), 0 0 30px rgba(200, 240, 255, 0.6)"}})]}),t==="nebulaDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#1a0b2e]/95 backdrop-blur-md"}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 0, 150, 0.3), transparent 60%), radial-gradient(circle at 70% 50%, rgba(0, 200, 255, 0.3), transparent 60%)",filter:"blur(10px)",animation:"nebulaPulse 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjAyIiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=')",animation:"mistFlow 10s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.8+.2,animation:`stardustTwinkle ${Math.random()*2+1}s ease-in-out infinite ${Math.random()}s`,boxShadow:`0 0 ${Math.random()*4+2}px ${a%2===0?"#ff00ff":"#00ffff"}`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",boxShadow:"0 0 15px rgba(255, 0, 255, 0.5), 0 0 30px rgba(0, 255, 255, 0.3)"}})]}),t==="superBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 3s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(50, 0, 0, 0.8), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 20% 20%, #ffaaaa 10%, transparent 0), radial-gradient(1.5px 1.5px at 60% 80%, #ff4444 10%, transparent 0)",backgroundSize:"200px 200px",animation:"pulse 4s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 35% 35%, #800000 0%, #500000 40%, #2a0a0a 100%)",boxShadow:"0 0 60px rgba(255, 30, 30, 0.6), inset -10px -10px 40px rgba(0,0,0,0.9)",filter:"contrast(1.2) brightness(1.2)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-60 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(0,0,0,0.7) 4%, transparent 12%), radial-gradient(circle at 65% 60%, rgba(0,0,0,0.6) 8%, transparent 20%), radial-gradient(circle at 45% 75%, rgba(0,0,0,0.5) 5%, transparent 15%), radial-gradient(circle at 80% 30%, rgba(0,0,0,0.6) 3%, transparent 10%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 20px rgba(255, 100, 100, 0.8), 0 0 10px rgba(255, 50, 50, 0.5)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-overlay",style:{background:"radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.6), transparent 70%)",animation:"flashPulse 4s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.6), transparent)",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-red-600/20 blur-xl",style:{width:Math.random()*100+50+"px",height:Math.random()*100+50+"px",bottom:"-50px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*10+10}s linear infinite reverse`}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #ff0000, #ff4444, #ff0000, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(255, 0, 0, 0.6)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(80, 0, 100, 0.4), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(1.5px 1.5px at 20% 20%, #aaddff 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 80%, #ffaaaa 10%, transparent 0)",backgroundSize:"250px 250px",animation:"pulse 5s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 30% 30%, #1e1b4b 0%, #4c0519 60%, #000000 100%)",boxShadow:"0 0 60px rgba(100, 50, 255, 0.4), inset -10px -10px 50px rgba(100, 0, 50, 0.8)",filter:"contrast(1.3) brightness(1.1)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-50 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 30% 40%, rgba(50,50,100,0.5) 5%, transparent 15%), radial-gradient(circle at 70% 60%, rgba(100,50,50,0.5) 8%, transparent 20%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 10px 10px 30px rgba(100, 150, 255, 0.6), inset -10px -10px 30px rgba(255, 50, 100, 0.4)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-color-dodge",style:{background:"radial-gradient(circle at 50% 50%, rgba(120, 50, 255, 0.4), transparent 70%)",animation:"flashPulse 5s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(20, 0, 40, 0.4), transparent)"},children:[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full blur-md",style:{backgroundColor:a%2===0?"#60a5fa":"#f43f5e",width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",bottom:"-20px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*8+8}s linear infinite reverse`,opacity:.6}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #3b82f6, #a855f7, #ef4444, #a855f7, #3b82f6, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(168, 85, 247, 0.6)"}})]}),(t==="brokenMoon"||t==="shatteredMoon")&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#020205]"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] h-[12px] z-20",style:{background:"linear-gradient(90deg, #2e004d, #ffffff, #2e004d)",clipPath:"polygon(0% 45%, 10% 30%, 20% 60%, 30% 35%, 40% 65%, 50% 20%, 60% 70%, 70% 30%, 80% 60%, 90% 40%, 100% 50%, 100% 55%, 90% 45%, 80% 65%, 70% 35%, 60% 75%, 50% 25%, 40% 70%, 30% 40%, 20% 65%, 10% 35%, 0% 55%)",filter:"drop-shadow(0 0 10px rgba(100, 150, 255, 0.8)) drop-shadow(0 0 20px rgba(180, 50, 255, 0.6))",animation:"pulse 3s ease-in-out infinite alternate"},children:l.jsx("div",{className:"absolute inset-0 bg-white opacity-80 mix-blend-overlay",style:{animation:"flashPulse 0.1s infinite alternate"}})}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[60px] z-10 opacity-30",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(100, 200, 255, 0.4) 0%, transparent 70%)",filter:"blur(10px)",animation:"pulse 4s ease-in-out infinite"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full z-30",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 4px white",opacity:Math.random()*.7+.3,animation:`twinkle ${Math.random()*2+1}s infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#a855f7] to-transparent opacity-50"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#3b82f6] to-transparent opacity-50"})]}),t==="lunarTransientPhenomena"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 1.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]/95 backdrop-blur-xl"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",maskImage:"radial-gradient(circle at 50% 50%, black 40%, transparent 80%)"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute top-0 h-[2px] bg-gradient-to-r from-transparent via-[#00ffcc] to-transparent",style:{width:"30%",top:a*20+"%",opacity:.7,animation:`dataStream ${Math.random()*2+2}s linear infinite ${Math.random()*2}s`,boxShadow:"0 0 8px #00ffcc"}},a)),l.jsx("div",{className:"absolute top-0 h-[3px] w-[50%] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",animation:"laserScan 3s linear infinite",boxShadow:"0 0 15px rgba(255, 0, 255, 0.8)"}}),l.jsx("div",{className:"absolute inset-0 bg-white/10 mix-blend-overlay",style:{animation:"flashPulse 4s infinite random"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/20"})]}),t==="emptySky"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 4s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 50% 50%, rgba(70, 0, 150, 0.2), transparent 60%)",filter:"blur(20px)"}}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 40%, #b080ff 10%, transparent 0), radial-gradient(2px 2px at 40% 80%, white 10%, transparent 0)",backgroundSize:"300px 300px",animation:"accretionSpin 120s linear infinite"}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] z-10 pointer-events-none rounded-full",style:{background:"radial-gradient(circle, transparent 30%, rgba(150, 50, 255, 0.05) 40%, transparent 70%)",backdropFilter:"blur(2px) contrast(1.1)",transform:"scale(1.2)"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] pointer-events-none z-40 flex items-center justify-center scale-60",children:[l.jsx("div",{className:"absolute w-[280px] h-[280px] rounded-full opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 50% 50%, transparent 60%, rgba(120, 50, 255, 0.6) 65%, transparent 70%)",animation:"diskPulse 4s ease-in-out infinite",filter:"blur(4px)"}}),l.jsx("div",{className:"absolute w-[160px] h-[160px] rounded-full z-20",style:{background:"conic-gradient(from 0deg, #4c1d95 0%, #8b5cf6 25%, #ffffff 50%, #8b5cf6 75%, #4c1d95 100%)",maskImage:"radial-gradient(transparent 64%, black 66%)",WebkitMaskImage:"radial-gradient(transparent 64%, black 66%)",animation:"accretionSpin 0.9s linear infinite",boxShadow:"0 0 30px rgba(139, 92, 246, 0.6)"}}),l.jsx("div",{className:"absolute w-[150px] h-[150px] rounded-full z-10 bg-black box-border border border-purple-500/30"})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 opacity-100",style:{background:"linear-gradient(90deg, transparent 0%, #4c1d95 20%, #8b5cf6 45%, #ffffff 50%, #8b5cf6 55%, #4c1d95 80%, transparent 100%)",backgroundSize:"200% 100%",animation:"borderFlow 0.4s linear infinite",boxShadow:"0 0 15px rgba(139, 92, 246, 0.7)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[40px] z-20 opacity-30 pointer-events-none",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(150, 50, 255, 0.5), transparent 70%)"}}),[...Array(12)].map((s,a)=>l.jsx("div",{className:"absolute bg-zinc-800 rounded-full z-20 opacity-80",style:{width:Math.random()*4+2+"px",height:Math.random()*3+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*15+10}s linear infinite`,boxShadow:"inset 1px 1px 2px rgba(0,0,0,0.8)"}},a))]}),l.jsx("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto relative z-50",children:oN.map(({path:s,icon:a,label:o})=>{const i=e.pathname===s||s!=="/"&&e.pathname.startsWith(s);return l.jsxs(bt,{to:s,className:ue("mythic-nav-item flex flex-col items-center justify-center gap-1 px-3 py-2 transition-colors min-w-[60px] relative",i?"text-primary bg-primary/10 rounded-lg mythic-nav-active":"text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg"),style:t==="cosmicVoyageMoon"&&i?{background:"transparent"}:void 0,children:[t==="cosmicVoyageMoon"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(45deg, transparent, rgba(128, 144, 192, 0.3), transparent)",boxShadow:"0 0 15px rgba(100, 100, 255, 0.4)",animation:"pulse 2s ease-in-out infinite"}}),t==="superBloodMoon"&&i&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 20px rgba(220, 20, 60, 0.5), inset 0 0 10px rgba(255, 50, 80, 0.2)",animation:"bloodGlow 2s ease-in-out infinite"}})}),t==="lunarTransientPhenomena"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 15px rgba(200, 168, 248, 0.6), 0 0 5px rgba(255, 255, 255, 0.8)",animation:"electricSpark 0.5s steps(5) infinite"}}),t==="crystalMoon"&&i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(220, 240, 255, 0.12), rgba(200, 230, 255, 0.15), rgba(240, 250, 255, 0.1))",boxShadow:"inset 0 0 15px rgba(255, 255, 255, 0.3), 0 0 20px rgba(220, 240, 255, 0.4)",animation:"crystalSparkle 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%), radial-gradient(circle at 70% 50%, rgba(200, 230, 255, 0.15) 0%, transparent 50%)",animation:"crystalSparkle 3s ease-in-out infinite reverse"}})]}),t==="nebulaDreamMoon"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10 overflow-hidden",children:l.jsx("div",{style:{position:"absolute",inset:"-20%",background:"radial-gradient(circle, rgba(184, 136, 216, 0.3) 0%, transparent 70%)",animation:"nebulaRotate 8s linear infinite"}})}),t==="emptySky"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at center, rgba(40, 40, 60, 0.3) 0%, rgba(20, 20, 40, 0.2) 50%, transparent 100%)",boxShadow:"inset 0 0 15px rgba(10, 10, 25, 0.5), 0 0 10px rgba(30, 30, 50, 0.4)",animation:"voidDrift 4s ease-in-out infinite"}}),l.jsx(a,{className:ue("w-5 h-5 transition-all duration-300",t&&i&&"drop-shadow-lg"),style:t&&i?{filter:t==="superBloodMoon"?"drop-shadow(0 0 6px rgba(220, 20, 60, 0.8))":t==="emptySky"?"drop-shadow(0 0 5px rgba(60, 60, 80, 0.7))":t==="lunarTransientPhenomena"?"drop-shadow(0 0 6px rgba(200, 168, 248, 0.8))":t==="crystalMoon"?"drop-shadow(0 0 6px rgba(224, 240, 255, 0.8))":t==="arcticMoon"?"drop-shadow(0 0 6px rgba(144, 220, 255, 0.8))":t==="nebulaDreamMoon"?"drop-shadow(0 0 6px rgba(184, 136, 216, 0.8))":void 0,animation:t==="lunarTransientPhenomena"?"iconFlicker 0.3s steps(3) infinite":void 0}:void 0}),l.jsx("span",{className:"text-[10px] font-medium",children:o})]},s)})})]})}function iN({children:e}){return hs(),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("header",{className:"border-b border-border sticky top-0 bg-background z-10",children:l.jsx("div",{className:"container-app py-3",children:l.jsxs(bt,{to:"/",className:"text-lg font-semibold",children:["Dream book"," ",l.jsx("span",{className:"text-muted-foreground font-normal",children:"by Bon"})]})})}),l.jsx("main",{className:"flex-1 container-app",children:e}),l.jsx(Xc,{})]})}var Vn=function(){return Vn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vn.apply(this,arguments)};function uo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function lN(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function i(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})}function cN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const uN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class dN extends mm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _0 extends mm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j0 extends mm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _h;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_h||(_h={}));class hN{constructor(t,{headers:n={},customFetch:r,region:s=_h.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=uN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return lN(this,arguments,void 0,function*(n,r={}){var s;let a,o;try{const{headers:i,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const x=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let y;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const v=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:y,signal:b}).catch(E=>{throw new dN(E)}),p=v.headers.get("x-relay-error");if(p&&p==="true")throw new _0(v);if(!v.ok)throw new j0(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof j0||i instanceof _0?i.context:void 0}}finally{a&&clearTimeout(a)}})}}var fN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},mN=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,i=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(n.method!=="HEAD"){var m;const v=await a.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?i=v:i=JSON.parse(v))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(i)&&(i.length>1?(o={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,c=null,u=406,d="Not Acceptable"):i.length===1?i=i[0]:i=null)}else{var x;const y=await a.text();try{o=JSON.parse(y),Array.isArray(o)&&a.status===404&&(i=[],o=null,u=200,d="OK")}catch{a.status===404&&y===""?(u=204,d="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new fN(o)}return{error:o,data:i,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let i="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";i=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,i+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,y&&(i+=` (${y})`),c!=null&&c.stack&&(i+=`
${c.stack}`)}else{var m;i=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:i,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},pN=class extends mN{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}={}){var o;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${i};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const C0=new RegExp("[,()]");var da=class extends pN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&C0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&C0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},gN=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:i,headers:c}=this.cloneRequestState();return i.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new da({method:s,url:i,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(i.length>0){const c=[...new Set(i)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new da({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var a;const o="POST",{url:i,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&i.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);i.searchParams.set("columns",d.join(","))}}return new da({method:o,url:i,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new da({method:r,url:s,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new da({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},yN=class Fx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){var o;let i;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=r&&Object.values(n).some(d);f?(i="POST",u=n):r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([m,x])=>x!==void 0).map(([m,x])=>[m,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([m,x])=>{c.searchParams.append(m,x)})):(i="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new da({method:i,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class vN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wN="2.91.0",xN=`realtime-js/${wN}`,bN="1.0.0",zx="2.0.0",N0=zx,jh=1e4,SN=1e3,kN=100;var Or;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Or||(Or={}));var tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tt||(tt={}));var Cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cn||(Cn={}));var Ch;(function(e){e.websocket="websocket"})(Ch||(Ch={}));var _s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_s||(_s={}));class EN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,a;const o=t.topic,i=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+i.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(m),y=0;x.setUint8(y++,this.KINDS.userBroadcastPush),x.setUint8(y++,c.length),x.setUint8(y++,i.length),x.setUint8(y++,o.length),x.setUint8(y++,u.length),x.setUint8(y++,f.length),x.setUint8(y++,n),Array.from(c,v=>x.setUint8(y++,v.charCodeAt(0))),Array.from(i,v=>x.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>x.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>x.setUint8(y++,v.charCodeAt(0))),Array.from(f,v=>x.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,a,o,i,c]=r;return n({join_ref:s,ref:a,topic:o,event:i,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),i=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+a));c=c+a;const f=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=i===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Bx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const T0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=_N(o,e,t,s),a),{}):{}},_N=(e,t,n,r)=>{const s=t.find(i=>i.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?Ux(a,o):Nh(o)},Ux=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return TN(t,n)}switch(e){case Ne.bool:return jN(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return CN(t);case Ne.json:case Ne.jsonb:return NN(t);case Ne.timestamp:return PN(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Nh(t);default:return Nh(t)}},Nh=e=>e,jN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},TN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(i=>Ux(t,i))}return e},PN=e=>typeof e=="string"?e.replace(" ","T"):e,Wx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qu{constructor(t,n,r={},s=jh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P0||(P0={}));class Bo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bo.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Bo.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bo.syncDiff(this.state,s,a,o),i())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),i={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(i[u]=x),y.length>0&&(c[u]=y)}else i[u]=d}),this.syncDiff(a,{joins:i,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(i,c)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(c),d.length>0){const f=t[i].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[i].unshift(...h)}r(i,d,c)}),this.map(o,(i,c)=>{let u=t[i];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[i]=u,s(i,u,c),u.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M0||(M0={}));var Uo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Uo||(Uo={}));var lr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lr||(lr={}));class ja{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new Bx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Bo(this),this.broadcastEndpointURL=Wx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:o,presence:i,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(lr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(lr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(lr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,v=[];for(let p=0;p<b;p++){const w=y[p],{filter:{event:S,schema:E,table:j,filter:C}}=w,N=m&&m[p];if(N&&N.event===S&&ja.isFilterValueEqual(N.schema,E)&&ja.isFilterValueEqual(N.table,j)&&ja.isFilterValueEqual(N.filter,C))v.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=tt.errored,t==null||t(lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(lr.SUBSCRIBED);return}}).receive("error",m=>{this.state=tt.errored,t==null||t(lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===tt.joined&&t===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(i.status===202)return{success:!0};let c=i.statusText;try{const u=await i.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,i,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(i=(o=this.params)===null||o===void 0?void 0:o.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new qu(this,Cn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qu(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:i,error:c,leave:u,join:d}=Cn;if(r&&[i,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,y,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var x,y,b,v,p,w,S,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,C=(x=m.filter)===null||x===void 0?void 0:x.event;return j&&((y=n.ids)===null||y===void 0?void 0:y.includes(j))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((p=n.data)===null||p===void 0?void 0:p.table))}else{const j=(S=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return j==="*"||j===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:b,commit_timestamp:v,type:p,errors:w}=x;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ja.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=T0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=T0(t.columns,t.old_record)),n}}const Ku=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MN=[1e3,2e3,5e3,1e4],RN=1e4,ON=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jh,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.vsn=N0,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new EN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ch.websocket}`,this.httpEndpoint=Wx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return _s.Connecting;case Or.open:return _s.Open;case Or.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new ja(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:a,ref:o}=n,i=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${i}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Or.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ON],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:xN};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Cn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,o,i,c,u,d,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:jh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:il.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(i=t==null?void 0:t.heartbeatCallback)!==null&&i!==void 0?i:Ku,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:N0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>MN[x-1]||RN,this.vsn){case bN:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,y)=>y(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,y)=>y(JSON.parse(x));break;case zx:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var pi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IN(e,t,n){const r=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&r.searchParams.set(s,a);return r.toString()}async function DN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $N(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:a,headers:o}){const i=IN(e.baseUrl,r,s),c=await DN(e.auth),u=await t(i,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,x=m==null?void 0:m.error;throw new pi((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function ll(e){return e.join("")}var LN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ll(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(e.namespace)}`}),!0}catch(t){if(t instanceof pi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof pi&&n.status===409)return;throw n}}};function ea(e){return e.join("")}var FN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ea(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof pi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof pi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},zN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$N({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new LN(this.client,t),this.tableOps=new FN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Zc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var BN=class extends Zc{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Th=class extends Zc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const pm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UN=()=>Response,Ph=e=>{if(Array.isArray(e))return e.map(n=>Ph(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Ph(r)}),t},WN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},VN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function HN(e,t){if(gi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GN(e){var t=HN(e,"string");return gi(t)=="symbol"?t:t+""}function qN(e,t,n){return(t=GN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(r){qN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Yu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},KN=async(e,t,n)=>{e instanceof await UN()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,a=(r==null?void 0:r.statusCode)||s+"";t(new BN(Yu(r),s,a))}).catch(r=>{t(new Th(Yu(r),r))}):t(new Th(Yu(e),e))},YN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(WN(r)?(s.headers=ee({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ee(ee({},s),n))};async function Oi(e,t,n,r,s,a){return new Promise((o,i)=>{e(n,YN(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>KN(c,i,r))})}async function yi(e,t,n,r){return Oi(e,"GET",t,n,r)}async function kn(e,t,n,r,s){return Oi(e,"POST",t,r,s,n)}async function Mh(e,t,n,r,s){return Oi(e,"PUT",t,r,s,n)}async function QN(e,t,n,r){return Oi(e,"HEAD",t,ee(ee({},n),{},{noResolveJson:!0}),r)}async function gm(e,t,n,r,s){return Oi(e,"DELETE",t,r,s,n)}var JN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};let Vx;Vx=Symbol.toStringTag;var XN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Vx]="BlobDownloadBuilder",this.promise=null}asStream(){return new JN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};const ZN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let a;const o=ee(ee({},O0),r);let i=ee(ee({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=n,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,c&&(i["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(i=ee(ee({},i),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Mh:kn)(s.fetch,`${s.url}/object/${d}`,a,ee({headers:i},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),i=new URL(s.url+`/object/upload/sign/${o}`);i.searchParams.set("token",t);try{let c;const u=ee({upsert:O0.upsert},r),d=ee(ee({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Mh(s.fetch,i.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Fe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ee({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await kn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+a.url),i=o.searchParams.get("token");if(!i)throw new Zc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await kn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await kn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),a=await kn(r.fetch,`${r.url}/object/sign/${s}`,ee({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await kn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>ee(ee({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>yi(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new XN(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Ph(await yi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await QN(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Fe(r)&&r instanceof Th){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let i=r.join("&");return i!==""&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${i}`)}}}async remove(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ee(ee(ee({},ZN),t),{},{prefix:e||""});return{data:await kn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ee({},e);return{data:await kn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Hx="2.91.0",Gx={"X-Client-Info":`storage-js/${Hx}`};var tT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ee(ee({},Gx),t),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await yi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await yi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await kn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Mh(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await kn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ee(ee({},Gx),t),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await kn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await yi(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!VN(e))throw new Zc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new zN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...i)=>{try{return{data:await o.apply(s,i),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const ym={"X-Client-Info":`storage-js/${Hx}`,"Content-Type":"application/json"};var qx=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Qu=class extends qx{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rT=class extends qx{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const vm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aT=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new Qu(A0(a),r,o))}).catch(()=>{const a=r+"";t(new Qu(s.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new Qu(s.statusText||`HTTP ${r} error`,r,a))}}else t(new rT(A0(e),e))},oT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(sT(r)?(s.headers=ee({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ee(ee({},s),n)):s};async function iT(e,t,n,r,s,a){return new Promise((o,i)=>{e(n,oT(t,r,s,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>aT(c,i,r))})}async function Ht(e,t,n,r,s){return iT(e,"POST",t,r,s,n)}var lT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ee(ee({},ym),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}},cT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ee(ee({},ym),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ht(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},uT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ee(ee({},ym),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},dT=class extends uT{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hT(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},hT=class extends lT{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new fT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fT=class extends cT{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},mT=class extends tT{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new eT(this.url,this.headers,e,this.fetch)}get vectors(){return new dT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nT(this.url+"/iceberg",this.headers,this.fetch)}};const Kx="2.91.0",ha=30*1e3,Rh=3,Ju=Rh*ha,pT="http://localhost:9999",gT="supabase.auth.token",yT={"X-Client-Info":`gotrue-js/${Kx}`},Oh="X-Supabase-Api-Version",Yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wT=10*60*1e3;class vi extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xT extends vi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bT(e){return G(e)&&e.name==="AuthApiError"}class js extends vi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kr extends vi{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class zt extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ST(e){return G(e)&&e.name==="AuthSessionMissingError"}class ta extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ul extends kr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kT(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class I0 extends kr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ET extends kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ah extends kr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xu(e){return G(e)&&e.name==="AuthRetryableFetchError"}class D0 extends kr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ih extends kr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),_T=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$0.length;t+=1)e[$0[t].charCodeAt(0)]=-2;for(let t=0;t<fc.length;t+=1)e[fc[t].charCodeAt(0)]=t;return e})();function L0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fc[r]),t.queuedBits-=6}}function Qx(e,t,n){const r=_T[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{NT(o,r,n)};for(let o=0;o<e.length;o+=1)Qx(e.charCodeAt(o),s,a);return t.join("")}function jT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CT(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jT(r,t)}}function NT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ia(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function TT(e){const t=[];return CT(e,n=>t.push(n)),new Uint8Array(t)}function Ps(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>L0(s,n,r)),L0(null,n,r),t.join("")}function PT(e){return Math.round(Date.now()/1e3)+e}function MT(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},Jx=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function RT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Xx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ws=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lt=async(e,t)=>{await e.removeItem(t)};class eu{constructor(){this.promise=new eu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}eu.promiseConstructor=Promise;function Zu(e){const t=e.split(".");if(t.length!==3)throw new Ih("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vT.test(t[r]))throw new Ih("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:Ia(t[2]),raw:{header:t[0],payload:t[1]}}}async function AT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IT(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function DT(e){return("0"+e.toString(16)).substr(-2)}function $T(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,DT).join("")}async function LT(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function FT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(e,t,n=!1){const r=$T();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await fa(e,`${t}-code-verifier`,s);const a=await FT(r);return[a,r===a?"plain":"s256"]}const zT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BT(e){const t=e.headers.get(Oh);if(!t||!t.match(zT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ra(e){if(!VT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ed(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HT(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function z0(e){return JSON.parse(JSON.stringify(e))}const Ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GT=[502,503,504];async function B0(e){var t;if(!OT(e))throw new Ah(Ss(e),0);if(GT.includes(e.status))throw new Ah(Ss(e),e.status);let n;try{n=await e.json()}catch(a){throw new js(Ss(a),a)}let r;const s=BT(e);if(s&&s.getTime()>=Yx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new D0(Ss(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new D0(Ss(n),e.status,n.weak_password.reasons);throw new xT(Ss(n),e.status||500,r)}const qT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Z(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Oh]||(a[Oh]=Yx["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await KT(e,t,n+i,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function KT(e,t,n,r,s,a){const o=qT(t,r,s,a);let i;try{i=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Ah(Ss(c),0)}if(i.ok||await B0(i),r!=null&&r.noResolveJson)return i;try{return await i.json()}catch(c){await B0(c)}}function vn(e){var t;let n=null;JT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=PT(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function U0(e){const t=vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YT(e){return{data:e,error:null}}function QT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=uo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:i,user:c},error:null}}function W0(e){return e}function JT(e){return e.access_token&&e.refresh_token&&e.expires_in}const td=["global","local","others"];class XT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Xx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=td[0]){if(td.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${td.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=uo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:QT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:W0});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ra(t);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ra(t);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ra(t);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ra(t.userId);try{const{data:n,error:r}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ra(t.userId),ra(t.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,o,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:W0});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}}function V0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const sa={debug:!!(globalThis&&Jx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZT extends Zx{}async function eP(e,t,n){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nP(e){return parseInt(e,16)}function rP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function sP(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:i,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=eb(e.address),x=d?`${d}://${r}`:r,y=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${m}

${y}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),i&&(v+=`
Not Before: ${i.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}v+=p}return`${b}
${v}`}class Je extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class mc extends Je{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function aP({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tb(o)){if(a.rp.id!==o)return new Je({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function oP({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(tb(r)){if(n.rpId!==r)return new Je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iP{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lP=new iP;function cP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=uo(e,["challenge","user","excludeCredentials"]),a=Ia(t).buffer,o=Object.assign(Object.assign({},n),{id:Ia(n.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:a,user:o});if(r&&r.length>0){i.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];i.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ia(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function uP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=uo(e,["challenge","allowCredentials"]),s=Ia(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const i=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},i),{id:Ia(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return a}function dP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ps(new Uint8Array(s.authenticatorData)),clientDataJSON:Ps(new Uint8Array(s.clientDataJSON)),signature:Ps(new Uint8Array(s.signature)),userHandle:s.userHandle?Ps(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function H0(){var e,t;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mc("Browser returned unexpected credential type",t)}:{data:null,error:new mc("Empty credential response",t)}}catch(t){return{data:null,error:aP({error:t,options:e})}}}async function mP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mc("Browser returned unexpected credential type",t)}:{data:null,error:new mc("Empty credential response",t)}}catch(t){return{data:null,error:oP({error:t,options:e})}}}const pP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const i=r[a];t(i)?r[a]=pc(i,o):r[a]=pc(o)}else r[a]=o}return r}function yP(e,t){return pc(pP,e,t||{})}function vP(e,t){return pc(gP,e,t||{})}class wP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:o,error:i}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:i};const c=s??lP.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=yP(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await fP({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=vP(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await mP(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new js("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new vi("rpId is required for WebAuthn authentication")};try{if(!H0())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:o,error:i}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!o)return{data:null,error:i};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new js("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new vi("rpId is required for WebAuthn registration")};try{if(!H0())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:o,error:i}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:i};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new js("Unexpected error in register",o)}}}}tP();const xP={url:pT,storageKey:gT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function G0(e,t,n){return await n()}const aa={};class wi{get jwks(){var t,n;return(n=(t=aa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=aa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},xP),t);if(this.storageKey=a.storageKey,this.instanceID=(n=wi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,wi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ct()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new XT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Xx(a.fetch),this.lock=a.lock||G0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=eP:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Jx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=V0(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ct()&&(n=RT(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ct()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kT(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?this._returnResult({error:n}):this._returnResult({error:new js("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vn}),{data:o,error:i}=a;if(i||!o)return this._returnResult({data:{user:null,session:null},error:i});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await na(this.storage,this.storageKey)),a=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:vn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vn})}else throw new cl("You must provide either an email or phone number and a password");const{data:o,error:i}=a;if(i||!o)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:i}=t;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:U0})}else if("phone"in t){const{phone:a,password:o,options:i}=t;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:U0})}else throw new cl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new ta;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,o,i,c,u,d,f,h;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:y,wallet:b,statement:v,options:p}=t;let w;if(ct())if(typeof b=="object")w=b;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")w=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=eb(E[0]);let C=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const M=await w.request({method:"eth_chainId"});C=nP(M)}const N={domain:S.host,address:j,statement:v,uri:S.href,version:"1",chainId:C,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=sP(N),x=await w.request({method:"personal_sign",params:[rP(m),j]})}try{const{data:y,error:b}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vn});if(b)throw b;if(!y||!y.session||!y.user){const v=new ta;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(G(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,a,o,i,c,u,d,f,h,m;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:p,options:w}=t;let S;if(ct())if(typeof v=="object")S=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:b,error:v}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ps(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:vn});if(v)throw v;if(!b||!b.session||!b.user){const p=new ta;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(G(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ET;const{data:a,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vn});if(await lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const i=new ta;return this._returnResult({data:{user:null,session:null,redirectType:null},error:i})}return a.session&&(await this._saveSession(a.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",a.session)},0)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,i=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vn}),{data:c,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ta;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:i,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await na(this.storage,this.storageKey));const{error:f}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:i,options:c}=t,{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new cl("You must provide either an email or phone number.")}catch(i){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:i}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:vn});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,a,o;try{let i=null,c=null;this.flowType==="pkce"&&([i,c]=await na(this.storage,this.storageKey));const u=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:YT});return!((a=u.data)===null||a===void 0)&&a.url&&ct()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(i){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zt;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(G(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:i}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:i})}throw new cl("You must provide either an email or phone number and a type")}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ju:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ws(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ed()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=HT(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dr}):await this._useSession(async n=>{var r,s,a;const{data:o,error:i}=n;if(i)throw i;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Dr})})}catch(n){if(G(n))return ST(n)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new zt;const o=s.session;let i=null,c=null;this.flowType==="pkce"&&t.email!=null&&([i,c]=await na(this.storage,this.storageKey));const{data:u,error:d}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:c}),jwt:o.access_token,xform:Dr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Zu(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:i,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i)return{data:{user:null,session:null},error:null};a=i}else{const{data:i,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:i}=n;if(i)throw i;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ct())throw new ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I0("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:i,expires_at:c,token_type:u}=t;if(!a||!i||!o||!u)throw new ul("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(i);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:i}=await this.admin.signOut(o,t);if(i&&!(bT(i)&&(i.status===404||i.status===401||i.status===403)))return this._returnResult({error:i})}return t!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=MT(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await na(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,i,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ct()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(G(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:o,provider:i,token:c,access_token:u,nonce:d}=t,f=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:i,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:vn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ta}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await lt(this.storage,`${this.storageKey}-code-verifier`),G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IT(async s=>(s>0&&await AT(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Xu(a)&&Date.now()+o-r<ha})}catch(r){if(this._debug(n,"error",r),G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ws(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await fa(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ed()}else if(s&&!s.user&&!s.user){const o=await ws(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await lt(this.storage,this.storageKey+"-user"),await fa(this.storage,this.storageKey,s)):s.user=ed()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ju;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ju}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:i}=await this._getUser(s.access_token);!i&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eu;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new zt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const i={data:a.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(a){if(this._debug(s,"error",a),G(a)){const o={data:null,error:a};return Xu(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let i=0;i<a.length;i+=1)console.error(a[i]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=z0(s);await fa(this.storage,this.storageKey,a)}else{const s=z0(n);await fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ha);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ha}ms, refresh threshold is ${Rh} ticks`),s<=Rh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await na(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dP(t.webauthn.credential_response):hP(t.webauthn.credential_response)})}:{code:t.code}),{data:i,error:c}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:c}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:i}=o;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:cP(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:uP(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Zu(r.access_token);let o=null;a.aal&&(o=a.aal);let i=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(i="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new zt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:i=>({data:i,error:null})});return o.data&&o.data.redirect_url&&ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new zt});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:i=>({data:i,error:null})});return o.data&&o.data.redirect_url&&ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new zt})})}catch(t){if(G(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+wT>s)return r;const{data:a,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(i=>i.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:i,payload:c}}=Zu(r);n!=null&&n.allowExpired||UT(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=WT(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,TT(`${i}.${c}`)))throw new Ih("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}}wi.nextInstanceID={};const bP=wi,SP="2.91.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const kP={"X-Client-Info":`supabase-js-${To}/${SP}`},EP={headers:kP},_P={schema:"public"},jP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CP={};function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function NP(e,t){if(xi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TP(e){var t=NP(e,"string");return xi(t)=="symbol"?t:t+""}function PP(e,t,n){return(t=TP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(r){PP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const MP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RP=()=>Headers,OP=(e,t,n)=>{const r=MP(n),s=RP();return async(a,o)=>{var i;const c=(i=await t())!==null&&i!==void 0?i:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,He(He({},o),{},{headers:u}))}};function AP(e){return e.endsWith("/")?e:e+"/"}function IP(e,t){var n,r;const{db:s,auth:a,realtime:o,global:i}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:He(He({},c),s),auth:He(He({},u),a),realtime:He(He({},d),o),storage:{},global:He(He(He({},f),i),{},{headers:He(He({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function DP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $P=class extends bP{constructor(e){super(e)}},LP=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const a=DP(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,i={db:_P,realtime:CP,auth:He(He({},jP),{},{storageKey:o}),global:EP},c=IP(n??{},i);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=OP(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new yN(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:a,flowType:o,lock:i,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $P({url:this.authUrl.href,headers:He(He({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:i,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new AN(this.realtimeUrl.href,He(He({},e),{},{params:He(He({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FP=(e,t,n)=>new LP(e,t,n);function zP(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}zP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BP="https://rapxqrjhrehfhqsafovf.supabase.co",UP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co",Xe=FP(BP,UP,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function Js(){const{data:e,error:t}=await Xe.from("dream_logs").select(`
      *,
      world:worlds(id, name),
      entities:dream_log_entities(entity:entities(id, name))
    `).order("date",{ascending:!1});return t?(console.error("Error fetching dream logs:",t),[]):(e||[]).map(n=>{var r,s;return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:((r=n.world)==null?void 0:r.name)||"",timeSystem:n.time_system,environments:n.environments||[],entities:((s=n.entities)==null?void 0:s.map(a=>{var o;return(o=a.entity)==null?void 0:o.name}).filter(Boolean))||[],threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}})}async function nb(e){let t=null;if(e.world){const{data:s}=await Xe.from("worlds").select("id").eq("name",e.world).maybeSingle();if(s)t=s.id;else{const{data:a}=await Xe.from("worlds").insert({name:e.world,type:"transient",stability:3}).select("id").single();t=(a==null?void 0:a.id)||null}}const{data:n,error:r}=await Xe.from("dream_logs").insert({dream_id:"",date:e.date,wake_time:e.wakeTime,world_id:t,time_system:e.timeSystem,environments:e.environments,threat_level:e.threatLevel,safety_override:e.safetyOverride,exit:e.exit,notes:e.notes}).select().single();if(r||!n)return console.error("Error adding dream log:",r),null;for(const s of e.entities){let a;const{data:o}=await Xe.from("entities").select("id").eq("name",s).maybeSingle();if(o)a=o.id;else{const{data:i}=await Xe.from("entities").insert({name:s,role:"observer"}).select("id").single();a=(i==null?void 0:i.id)||""}a&&await Xe.from("dream_log_entities").insert({dream_log_id:n.id,entity_id:a})}return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:e.world,timeSystem:n.time_system,environments:n.environments||[],entities:e.entities,threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}}async function WP(e,t){const{data:n}=await Xe.from("dream_logs").select("*").eq("dream_id",e).single();if(!n)return null;let r=n.world_id;if(t.world){const{data:i}=await Xe.from("worlds").select("id").eq("name",t.world).maybeSingle();if(i)r=i.id;else{const{data:c}=await Xe.from("worlds").insert({name:t.world,type:"transient",stability:3}).select("id").single();r=(c==null?void 0:c.id)||r}}const{data:s,error:a}=await Xe.from("dream_logs").update({world_id:r,time_system:t.timeSystem||n.time_system,environments:t.environments||n.environments,threat_level:t.threatLevel!==void 0?t.threatLevel:n.threat_level,safety_override:t.safetyOverride||n.safety_override,exit:t.exit||n.exit,notes:t.notes!==void 0?t.notes:n.notes}).eq("dream_id",e).select().single();if(a||!s)return console.error("Error updating dream log:",a),null;if(t.entities){await Xe.from("dream_log_entities").delete().eq("dream_log_id",s.id);for(const i of t.entities){let c;const{data:u}=await Xe.from("entities").select("id").eq("name",i).maybeSingle();if(u)c=u.id;else{const{data:d}=await Xe.from("entities").insert({name:i,role:"observer"}).select("id").single();c=(d==null?void 0:d.id)||""}c&&await Xe.from("dream_log_entities").insert({dream_log_id:s.id,entity_id:c})}}let o=t.world||"";if(!o&&r){const{data:i}=await Xe.from("worlds").select("name").eq("id",r).maybeSingle();o=(i==null?void 0:i.name)||""}return{id:s.dream_id,date:s.date,wakeTime:s.wake_time,world:o,timeSystem:s.time_system,environments:s.environments||[],entities:t.entities||[],threatLevel:s.threat_level,safetyOverride:s.safety_override,exit:s.exit,notes:s.notes||void 0,createdAt:s.created_at}}async function VP(e){const{error:t}=await Xe.from("dream_logs").delete().eq("dream_id",e);return!t}async function Ai(){const{data:e,error:t}=await Xe.from("worlds").select(`
      *,
      dream_logs(dream_id)
    `).order("name");return t?(console.error("Error fetching worlds:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,type:n.type,stability:n.stability,description:n.description||void 0,dreamIds:((r=n.dream_logs)==null?void 0:r.map(s=>s.dream_id))||[]}})}async function tu(){const{data:e,error:t}=await Xe.from("entities").select(`
      *,
      dream_log_entities(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching entities:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,role:n.role,description:n.description||void 0,dreamIds:((r=n.dream_log_entities)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function HP(){const{data:e,error:t}=await Xe.from("threats").select(`
      *,
      dream_log_threats(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching threats:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,level:n.level,response:n.response||void 0,dreamIds:((r=n.dream_log_threats)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function GP(e,t,n,r){const s=await fetch("https://rapxqrjhrehfhqsafovf.supabase.co/functions/v1/suggest-tags",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co"},body:JSON.stringify({text:e,existingWorlds:t,existingEntities:n,existingEnvironments:r})});return s.ok?s.json():{world:null,environments:[],entities:[],threatLevel:0,safetyOverride:"unknown",exit:"unknown",timeSystem:"unknown"}}const qP={newMoon:{id:"newMoon",name:"",nameEn:"New Moon",rarity:"normal",moonTint:"#2a2a3a",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#5a5a7a",transitionSpeed:35,starDensity:1,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.2,emotionTag:"new_beginning",subtitle:""},waxingCrescent:{id:"waxingCrescent",name:"",nameEn:"Waxing Crescent",rarity:"normal",moonTint:"#D8D8E8",skyPalette:["#0a0e27","#1a1e37","#2a2e47"],uiAccent:"#8888a8",transitionSpeed:30,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.22,emotionTag:"growing",subtitle:" "},firstQuarter:{id:"firstQuarter",name:"",nameEn:"First Quarter",rarity:"normal",moonTint:"#E0E0F0",skyPalette:["#0c1028","#1c2038","#2c3048"],uiAccent:"#9090b0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"balanced",subtitle:""},waxingGibbous:{id:"waxingGibbous",name:"",nameEn:"Waxing Gibbous",rarity:"normal",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#9898c8",transitionSpeed:30,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.28,emotionTag:"anticipation",subtitle:""},fullMoon:{id:"fullMoon",name:"",nameEn:"Full Moon",rarity:"normal",moonTint:"#E6E6FA",skyPalette:["#0a0e27","#1a1e3e","#2a2e4e"],uiAccent:"#9090c0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"peaceful",subtitle:""},waningGibbous:{id:"waningGibbous",name:"",nameEn:"Waning Gibbous",rarity:"normal",moonTint:"#D0D0E0",skyPalette:["#0a0e25","#1a1e35","#2a2e45"],uiAccent:"#8080a0",transitionSpeed:32,starDensity:.82,cloudOpacity:.28,cloudSpeed:.95,shootingStarChance:.23,emotionTag:"reflection",subtitle:""},lastQuarter:{id:"lastQuarter",name:"",nameEn:"Last Quarter",rarity:"normal",moonTint:"#C8C8D8",skyPalette:["#0b0f26","#1b1f36","#2b2f46"],uiAccent:"#7878a8",transitionSpeed:33,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.2,emotionTag:"letting_go",subtitle:""},waningCrescent:{id:"waningCrescent",name:"",nameEn:"Waning Crescent",rarity:"normal",moonTint:"#B8B8C8",skyPalette:["#080c24","#181c34","#282c44"],uiAccent:"#6868a0",transitionSpeed:35,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"fading",subtitle:" "},penumbralEclipse:{id:"penumbralEclipse",name:"",nameEn:"Penumbral Lunar Eclipse",rarity:"rare",moonTint:"#A8A8B8",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#7878a8",transitionSpeed:40,starDensity:.85,cloudOpacity:.25,cloudSpeed:.8,shootingStarChance:.3,emotionTag:"subtle_change",subtitle:""},partialEclipse:{id:"partialEclipse",name:"",nameEn:"Partial Lunar Eclipse",rarity:"very_rare",moonTint:"#987070",skyPalette:["#150a0a","#251a1a","#352a2a"],uiAccent:"#a87878",transitionSpeed:45,starDensity:.75,cloudOpacity:.35,cloudSpeed:1,shootingStarChance:.35,emotionTag:"partial_shadow",subtitle:""},totalEclipse:{id:"totalEclipse",name:"",nameEn:"Total Lunar Eclipse",rarity:"legendary",moonTint:"#8B4545",skyPalette:["#1a0a0a","#2a1a1a","#3a2a2a"],uiAccent:"#a85555",transitionSpeed:45,starDensity:.7,cloudOpacity:.4,cloudSpeed:1.2,shootingStarChance:.4,specialEffect:"bloodRing",effectIntensity:.75,emotionTag:"intense",subtitle:""},superBloodMoon:{id:"superBloodMoon",name:"",nameEn:"Super Blood Moon",rarity:"mythic",moonTint:"#A03030",skyPalette:["#200505","#301515","#402525"],uiAccent:"#c84040",transitionSpeed:50,starDensity:.65,cloudOpacity:.45,cloudSpeed:1.3,shootingStarChance:.5,specialEffect:"meteorShower",effectIntensity:.9,emotionTag:"dramatic",subtitle:"",moonSize:1.5},superBlueBloodMoon:{id:"superBlueBloodMoon",name:"",nameEn:"Super Blue Blood Moon",rarity:"mythic",moonTint:"#B84060",skyPalette:["#1a0510","#2a1520","#3a2530"],uiAccent:"#d85080",transitionSpeed:60,starDensity:.95,cloudOpacity:.35,cloudSpeed:1.4,shootingStarChance:.6,specialEffect:"meteorShower",effectIntensity:.7,emotionTag:"once_in_lifetime",subtitle:"",moonSize:1.5},lunarTransientPhenomena:{id:"lunarTransientPhenomena",name:"",nameEn:"Lunar Transient Phenomena",rarity:"mythic",moonTint:"#E8D8FF",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#c8a8f8",transitionSpeed:55,starDensity:.9,cloudOpacity:.2,cloudSpeed:.9,shootingStarChance:.45,specialEffect:"flash",effectIntensity:.8,emotionTag:"mysterious_flash",subtitle:"",moonSize:1.4},hybridEclipse:{id:"hybridEclipse",name:"",nameEn:"Hybrid Eclipse",rarity:"mythic",moonTint:"#D8A860",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#e8b870",transitionSpeed:58,starDensity:.7,cloudOpacity:.3,cloudSpeed:1.1,shootingStarChance:.35,specialEffect:"fog",effectIntensity:.7,emotionTag:"dual_nature",subtitle:"",moonSize:1.4},supermoon:{id:"supermoon",name:"",nameEn:"Supermoon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2c","#1a1e3c","#2a2e4c"],uiAccent:"#a0a0d0",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"grand",subtitle:""},micromoon:{id:"micromoon",name:"",nameEn:"Micromoon",rarity:"rare",moonTint:"#C0C0D0",skyPalette:["#0a0e22","#1a1e32","#2a2e42"],uiAccent:"#7070a0",transitionSpeed:38,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.2,emotionTag:"distant",subtitle:""},perigeeMoon:{id:"perigeeMoon",name:"",nameEn:"Perigee Moon",rarity:"rare",moonTint:"#F8F8FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#a8a8d8",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.15,shootingStarChance:.32,emotionTag:"close",subtitle:""},apogeeMoon:{id:"apogeeMoon",name:"",nameEn:"Apogee Moon",rarity:"rare",moonTint:"#B0B0C0",skyPalette:["#0a0e20","#1a1e30","#2a2e40"],uiAccent:"#6060a0",transitionSpeed:40,starDensity:.95,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.18,emotionTag:"far",subtitle:""},earthshine:{id:"earthshine",name:"",nameEn:"Earthshine Moon",rarity:"rare",moonTint:"#FFE4B5",skyPalette:["#0d0a1f","#1d1a2f","#2d2a3f"],uiAccent:"#d4a574",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.35,emotionTag:"warm",subtitle:""},moonHalo:{id:"moonHalo",name:"",nameEn:"Moon Halo",rarity:"very_rare",moonTint:"#E0E0FA",skyPalette:["#0a0e28","#1a1e38","#2a2e48"],uiAccent:"#9898c8",transitionSpeed:42,starDensity:.8,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.28,emotionTag:"mystical",subtitle:""},moonCorona:{id:"moonCorona",name:"",nameEn:"Moon Corona",rarity:"very_rare",moonTint:"#D8D8F8",skyPalette:["#0a0e29","#1a1e39","#2a2e49"],uiAccent:"#8888c8",transitionSpeed:43,starDensity:.75,cloudOpacity:.45,cloudSpeed:.85,shootingStarChance:.3,emotionTag:"crowned",subtitle:""},coloredMoon:{id:"coloredMoon",name:"",nameEn:"Colored Moon",rarity:"rare",moonTint:"#E8C8D8",skyPalette:["#0c0a1e","#1c1a2e","#2c2a3e"],uiAccent:"#b898a8",transitionSpeed:38,starDensity:.85,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.27,emotionTag:"colorful",subtitle:""},moonIllusion:{id:"moonIllusion",name:"",nameEn:"Moon Illusion",rarity:"rare",moonTint:"#F8E8D8",skyPalette:["#0d0b1d","#1d1b2d","#2d2b3d"],uiAccent:"#c8b898",transitionSpeed:37,starDensity:.8,cloudOpacity:.35,cloudSpeed:1.05,shootingStarChance:.25,emotionTag:"illusory",subtitle:""},blueMoon:{id:"blueMoon",name:"",nameEn:"Blue Moon",rarity:"very_rare",moonTint:"#B0C8E0",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#8098c0",transitionSpeed:45,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.33,emotionTag:"rare",subtitle:""},blackMoon:{id:"blackMoon",name:"",nameEn:"Black Moon",rarity:"very_rare",moonTint:"#1a1a2e",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#4a4a6a",transitionSpeed:50,starDensity:1,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,emotionTag:"mysterious",subtitle:""},harvestMoon:{id:"harvestMoon",name:"",nameEn:"Harvest Moon",rarity:"rare",moonTint:"#FFD8A0",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#d8a870",transitionSpeed:38,starDensity:.75,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,specialEffect:"fireflies",effectIntensity:.6,emotionTag:"abundant",subtitle:""},hunterMoon:{id:"hunterMoon",name:"",nameEn:"Hunter Moon",rarity:"rare",moonTint:"#E8B878",skyPalette:["#1a1208","#2a2218","#3a3228"],uiAccent:"#c89858",transitionSpeed:38,starDensity:.8,cloudOpacity:.25,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"alert",subtitle:""},pinkMoon:{id:"pinkMoon",name:"",nameEn:"Pink Moon",rarity:"rare",moonTint:"#FFD8E8",skyPalette:["#1a0e18","#2a1e28","#3a2e38"],uiAccent:"#d8a8b8",transitionSpeed:35,starDensity:.85,cloudOpacity:.3,cloudSpeed:.95,shootingStarChance:.27,emotionTag:"gentle",subtitle:""},wolfMoon:{id:"wolfMoon",name:"",nameEn:"Wolf Moon",rarity:"rare",moonTint:"#D8D8E8",skyPalette:["#0a0e24","#1a1e34","#2a2e44"],uiAccent:"#9898b8",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.25,emotionTag:"wild",subtitle:""},snowMoon:{id:"snowMoon",name:"",nameEn:"Snow Moon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#b0b0d0",transitionSpeed:42,starDensity:.95,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.22,specialEffect:"snow",effectIntensity:.7,emotionTag:"cold",subtitle:""},strawberryMoon:{id:"strawberryMoon",name:"",nameEn:"Strawberry Moon",rarity:"rare",moonTint:"#FFE0D0",skyPalette:["#1a0e0e","#2a1e1e","#3a2e2e"],uiAccent:"#d8b0a0",transitionSpeed:36,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,emotionTag:"sweet",subtitle:""},stillMoon:{id:"stillMoon",name:"",nameEn:"Still Moon",rarity:"mythic",moonTint:"#B0C4DE",skyPalette:["#0f0f1f","#1f1f2f","#2f2f3f"],uiAccent:"#7090b0",transitionSpeed:60,starDensity:.6,cloudOpacity:.5,cloudSpeed:.1,shootingStarChance:0,specialEffect:"frozenTime",effectIntensity:.75,emotionTag:"frozen",subtitle:"",moonSize:1.4},fadingMoon:{id:"fadingMoon",name:"",nameEn:"Fading Moon",rarity:"legendary",moonTint:"#A0A0B0",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#707090",transitionSpeed:55,starDensity:.7,cloudOpacity:.45,cloudSpeed:.6,shootingStarChance:.15,specialEffect:"fadeParticles",effectIntensity:.7,emotionTag:"disappearing",subtitle:" "},veiledMoon:{id:"veiledMoon",name:"",nameEn:"Veiled Moon",rarity:"very_rare",moonTint:"#C0C0D0",skyPalette:["#0c0c1c","#1c1c2c","#2c2c3c"],uiAccent:"#8080a0",transitionSpeed:48,starDensity:.65,cloudOpacity:.6,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"obscured",subtitle:""},echoMoon:{id:"echoMoon",name:"",nameEn:"Echo Moon",rarity:"mythic",moonTint:"#D0D0E8",skyPalette:["#0e0e1e","#1e1e2e","#2e2e3e"],uiAccent:"#9090b8",transitionSpeed:52,starDensity:.75,cloudOpacity:.35,cloudSpeed:.9,shootingStarChance:.25,specialEffect:"echo",effectIntensity:.75,emotionTag:"repeating",subtitle:"",moonSize:1.4},silentMoon:{id:"silentMoon",name:"",nameEn:"Silent Moon",rarity:"legendary",moonTint:"#A8A8C8",skyPalette:["#08081a","#18182a","#28283a"],uiAccent:"#6868a8",transitionSpeed:58,starDensity:0,cloudOpacity:.2,cloudSpeed:.5,shootingStarChance:0,specialEffect:"silence",effectIntensity:.8,emotionTag:"silent",subtitle:" "},brokenMoon:{id:"brokenMoon",name:"",nameEn:"Broken Moon",rarity:"mythic",moonTint:"#9898B8",skyPalette:["#0a0a1c","#1a1a2c","#2a2a3c"],uiAccent:"#6868a8",transitionSpeed:54,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.2,emotionTag:"fractured",subtitle:"",moonSize:1.4},emptySky:{id:"emptySky",name:"",nameEn:"Empty Sky",rarity:"mythic",moonTint:"#404050",skyPalette:["#000000","#050510","#0a0a20"],uiAccent:"#505070",transitionSpeed:60,starDensity:0,cloudOpacity:0,cloudSpeed:0,shootingStarChance:0,specialEffect:"voidRipples",effectIntensity:.6,emotionTag:"void",subtitle:"",moonSize:1.4},dreamMoon:{id:"dreamMoon",name:"",nameEn:"Dream Moon",rarity:"legendary",moonTint:"#C8B8D8",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#a888c8",transitionSpeed:50,starDensity:.85,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.35,specialEffect:"dreamDust",effectIntensity:.75,emotionTag:"dreamy",subtitle:""},whisperingMoon:{id:"whisperingMoon",name:"",nameEn:"Whispering Moon",rarity:"very_rare",moonTint:"#D8C8E8",skyPalette:["#0c0a1c","#1c1a2c","#2c2a3c"],uiAccent:"#b898d8",transitionSpeed:46,starDensity:.8,cloudOpacity:.35,cloudSpeed:.85,shootingStarChance:.28,emotionTag:"whispering",subtitle:""},forgottenMoon:{id:"forgottenMoon",name:"",nameEn:"Forgotten Moon",rarity:"legendary",moonTint:"#888898",skyPalette:["#0a0a18","#1a1a28","#2a2a38"],uiAccent:"#585878",transitionSpeed:56,starDensity:.5,cloudOpacity:.5,cloudSpeed:.4,shootingStarChance:.1,specialEffect:"memoryFragments",effectIntensity:.65,emotionTag:"forgotten",subtitle:""},mirrorMoon:{id:"mirrorMoon",name:"",nameEn:"Mirror Moon",rarity:"very_rare",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:.9,cloudOpacity:.25,cloudSpeed:1,shootingStarChance:.3,emotionTag:"reflective",subtitle:""},twilightMoon:{id:"twilightMoon",name:"",nameEn:"Twilight Moon",rarity:"rare",moonTint:"#C8B8D8",skyPalette:["#1a1428","#2a2438","#3a3448"],uiAccent:"#9888b8",transitionSpeed:40,starDensity:.7,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.25,emotionTag:"transition",subtitle:""},ancientMoon:{id:"ancientMoon",name:"",nameEn:"Ancient Moon",rarity:"legendary",moonTint:"#B8A888",skyPalette:["#1a1408","#2a2418","#3a3428"],uiAccent:"#988868",transitionSpeed:52,starDensity:.85,cloudOpacity:.3,cloudSpeed:.6,shootingStarChance:.22,specialEffect:"ancientRunes",effectIntensity:.7,emotionTag:"ancient",subtitle:""},crystalMoon:{id:"crystalMoon",name:"",nameEn:"Crystal Moon",rarity:"mythic",moonTint:"#E0F0FF",skyPalette:["#0a0e30","#1a1e40","#2a2e50"],uiAccent:"#b0c0e0",transitionSpeed:48,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:.4,specialEffect:"prismLights",effectIntensity:.9,emotionTag:"crystalline",subtitle:"",moonSize:1.5},shadowMoon:{id:"shadowMoon",name:"",nameEn:"Shadow Moon",rarity:"very_rare",moonTint:"#606078",skyPalette:["#050510","#151520","#252530"],uiAccent:"#404068",transitionSpeed:50,starDensity:.6,cloudOpacity:.5,cloudSpeed:.7,shootingStarChance:.15,emotionTag:"shadowy",subtitle:""},luminousMoon:{id:"luminousMoon",name:"",nameEn:"Luminous Moon",rarity:"legendary",moonTint:"#F8F8FF",skyPalette:["#0a0e32","#1a1e42","#2a2e52"],uiAccent:"#c8c8f0",transitionSpeed:46,starDensity:.95,cloudOpacity:.2,cloudSpeed:1.1,shootingStarChance:.38,specialEffect:"lightRays",effectIntensity:.8,emotionTag:"radiant",subtitle:""},arcticMoon:{id:"arcticMoon",name:"",nameEn:"Arctic Moon",rarity:"mythic",moonTint:"#D0E8F8",skyPalette:["#000814","#001428","#00243c"],uiAccent:"#90c0d8",transitionSpeed:50,starDensity:.9,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,specialEffect:"aurora",effectIntensity:.85,emotionTag:"ethereal",subtitle:"",moonSize:1.4},meteorShowerMoon:{id:"meteorShowerMoon",name:"",nameEn:"Meteor Shower Moon",rarity:"legendary",moonTint:"#E8E8FF",skyPalette:["#0a0a20","#1a1a30","#2a2a40"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:0,specialEffect:"shootingStars",effectIntensity:.85,emotionTag:"spectacular",subtitle:""},shatteredMoon:{id:"shatteredMoon",name:"",nameEn:"Shattered Moon",rarity:"mythic",moonTint:"#E8E8F8",skyPalette:["#0a0a1f","#141428","#1e1e38"],uiAccent:"#9898c8",transitionSpeed:52,starDensity:.85,cloudOpacity:.15,cloudSpeed:.4,shootingStarChance:.22,moonSize:1.6,specialEffect:"shattered",effectIntensity:1,emotionTag:"broken",subtitle:""},cosmicVoyageMoon:{id:"cosmicVoyageMoon",name:"",nameEn:"Cosmic Voyage Moon",rarity:"mythic",moonTint:"#E0E8FF",skyPalette:["#000510","#001020","#001530"],uiAccent:"#8090C0",transitionSpeed:55,starDensity:.95,cloudOpacity:.05,cloudSpeed:.3,shootingStarChance:.25,moonSize:1.3,specialEffect:"starfield",effectIntensity:1,emotionTag:"cosmic",subtitle:""},nebulaDreamMoon:{id:"nebulaDreamMoon",name:"",nameEn:"Nebula Dream Moon",rarity:"mythic",moonTint:"#F0D8FF",skyPalette:["#0a0515","#150a25","#200f35"],uiAccent:"#B888D8",transitionSpeed:58,starDensity:.9,cloudOpacity:.1,cloudSpeed:.4,shootingStarChance:.2,moonSize:1.5,specialEffect:"nebula",effectIntensity:.9,emotionTag:"dreamy",subtitle:""}},KP=()=>Object.values(qP),K0={normal:70,rare:20,very_rare:15,legendary:10,mythic:5},YP=()=>{const e=KP(),t=e.reduce((r,s)=>r+K0[s.rarity],0);let n=Math.random()*t;for(const r of e)if(n-=K0[r.rarity],n<=0)return r;return e[0]},gc=()=>{const e="dreambook_moon_phenomenon",t=sessionStorage.getItem(e);if(t)try{const r=JSON.parse(t);if(r&&r.id)return r}catch(r){console.error("Failed to parse stored phenomenon:",r)}const n=YP();return sessionStorage.setItem(e,JSON.stringify(n)),n},QP=()=>{sessionStorage.removeItem("dreambook_moon_phenomenon")},nd=(e,t)=>{e=e.replace("#","");const n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16),a=Math.min(255,Math.floor(n*t)),o=Math.min(255,Math.floor(r*t)),i=Math.min(255,Math.floor(s*t));return`#${a.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`},wm=e=>{const t=document.documentElement,n=e.transitionSpeed;t.style.setProperty("--sky-transition-duration",`${n*.8}s`),t.style.setProperty("--moon-transition-duration",`${n}s`),t.style.setProperty("--ui-transition-duration",`${n*1.5}s`),t.style.setProperty("--moon-accent",e.uiAccent);const r=rb(e.uiAccent);if(r){const s=JP(r.r,r.g,r.b);if(e.rarity==="mythic"){t.setAttribute("data-mythic-theme",e.id),console.log(` Applied Mythic Theme: ${e.id}`),console.log(" Attribute set on:",t),console.log(` Check CSS selector: :root[data-mythic-theme="${e.id}"]`);const f={superBloodMoon:{background:"0 50% 5%",foreground:"0 100% 95%",card:"0 50% 8%",primary:"0 84% 60%",bgColor:"#100505"},superBlueBloodMoon:{background:"270 50% 5%",foreground:"270 100% 95%",card:"270 50% 8%",primary:"290 80% 60%",bgColor:"#1a0520"},lunarTransientPhenomena:{background:"250 50% 4%",foreground:"250 100% 95%",card:"250 50% 7%",primary:"260 100% 70%",bgColor:"#050510"},hybridEclipse:{background:"30 40% 5%",foreground:"40 80% 90%",card:"30 40% 8%",primary:"40 100% 60%",bgColor:"#1a1008"},stillMoon:{background:"210 50% 10%",foreground:"210 20% 95%",card:"210 30% 15%",primary:"210 80% 70%",bgColor:"#0f1f2f"},echoMoon:{background:"240 20% 8%",foreground:"240 20% 90%",card:"240 20% 12%",primary:"245 40% 70%",bgColor:"#0e0e1e"},brokenMoon:{background:"250 15% 8%",foreground:"250 15% 90%",card:"250 15% 11%",primary:"255 30% 65%",bgColor:"#0a0a1c"},emptySky:{background:"0 0% 0%",foreground:"0 0% 80%",card:"0 0% 5%",primary:"0 0% 60%",bgColor:"#000000"},crystalMoon:{background:"220 50% 8%",foreground:"220 50% 95%",card:"220 40% 12%",primary:"200 80% 70%",bgColor:"#0a0e30"},arcticMoon:{background:"200 60% 6%",foreground:"200 50% 95%",card:"200 50% 10%",primary:"190 90% 65%",bgColor:"#001428"},shatteredMoon:{background:"260 20% 8%",foreground:"260 20% 90%",card:"260 20% 12%",primary:"250 50% 60%",bgColor:"#0a0a1f"},cosmicVoyageMoon:{background:"230 60% 4%",foreground:"230 40% 95%",card:"230 50% 8%",primary:"220 80% 70%",bgColor:"#000510"},nebulaDreamMoon:{background:"280 40% 8%",foreground:"280 40% 95%",card:"280 40% 12%",primary:"290 70% 70%",bgColor:"#150a25"}}[e.id];f&&(t.style.setProperty("--background",f.background),t.style.setProperty("--foreground",f.foreground),t.style.setProperty("--card",f.card),t.style.setProperty("--card-foreground",f.foreground),t.style.setProperty("--primary",f.primary),t.style.setProperty("--primary-foreground","0 0% 100%"),document.body.style.backgroundColor=f.bgColor,console.log(" Mythic theme colors applied via JavaScript"));return}else t.removeAttribute("data-mythic-theme"),console.log(` Moon Rarity: ${e.rarity} - Using dynamic theme`);t.style.setProperty("--primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--primary-foreground","0 0% 100%"),t.style.setProperty("--accent",`${s.h} ${s.s}% ${Math.min(s.l+10,95)}%`),t.style.setProperty("--accent-foreground",`${s.h} ${s.s}% ${Math.max(s.l-40,10)}%`),t.style.setProperty("--ring",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--border",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--input",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--card",`${s.h} ${Math.max(s.s-50,15)}% 95%`),t.style.setProperty("--card-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--popover",`${s.h} ${Math.max(s.s-50,15)}% 96%`),t.style.setProperty("--popover-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--secondary",`${s.h} ${Math.max(s.s-40,20)}% 90%`),t.style.setProperty("--secondary-foreground",`${s.h} ${s.s}% ${Math.max(s.l-30,10)}%`),t.style.setProperty("--muted",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--muted-foreground",`${s.h} ${Math.max(s.s-40,15)}% 45%`),t.style.setProperty("--background",`${s.h} ${Math.max(s.s-50,20)}% 92%`),t.style.setProperty("--foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-background",`${s.h} ${Math.max(s.s-50,20)}% 93%`),t.style.setProperty("--sidebar-foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--sidebar-primary-foreground","0 0% 100%"),t.style.setProperty("--sidebar-accent",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--sidebar-accent-foreground",`${s.h} ${Math.max(s.s-50,15)}% 10%`),t.style.setProperty("--sidebar-border",`${s.h} ${Math.max(s.s-30,10)}% 85%`),t.style.setProperty("--sidebar-ring",`${s.h} ${s.s}% ${s.l}%`);const a=rd(e.uiAccent,1.2);t.style.setProperty("--moon-text",a);const o=rd(e.uiAccent,.6);t.style.setProperty("--moon-placeholder",o);const i=`rgba(${r.r}, ${r.g}, ${r.b}, 0.2)`;t.style.setProperty("--moon-divider",i),t.style.setProperty("--moon-caret",e.uiAccent);const c=`rgba(${r.r}, ${r.g}, ${r.b}, 0.3)`;t.style.setProperty("--moon-selection",c);const u=rd(e.uiAccent,1.1);t.style.setProperty("--moon-button-hover",u)}console.log(" Applied complete system-wide moon theme:",e.name)},rb=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},JP=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let a=0,o=0;const i=(r+s)/2;if(r!==s){const c=r-s;switch(o=i>.5?c/(2-r-s):c/(r+s),r){case e:a=((t-n)/c+(t<n?6:0))/6;break;case t:a=((n-e)/c+2)/6;break;case n:a=((e-t)/c+4)/6;break}}return{h:Math.round(a*360),s:Math.round(o*100),l:Math.round(i*100)}},rd=(e,t)=>{const n=rb(e);if(!n)return e;const r=Math.min(255,Math.floor(n.r*t)),s=Math.min(255,Math.floor(n.g*t)),a=Math.min(255,Math.floor(n.b*t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},Ml=(e,t,n)=>{const r=Y0(e),s=Y0(t);if(!r||!s)return e;const a=Math.round(r.r+(s.r-r.r)*n),o=Math.round(r.g+(s.g-r.g)*n),i=Math.round(r.b+(s.b-r.b)*n);return eM(a,o,i)},XP=(e,t,n)=>[Ml(e[0],t[0],n),Ml(e[1],t[1],n),Ml(e[2],t[2],n)];class ZP{constructor(){Xs(this,"startTime",0);Xs(this,"duration",0);Xs(this,"fromPhenomenon",null);Xs(this,"toPhenomenon",null);Xs(this,"isTransitioning",!1)}start(t,n){this.fromPhenomenon=t,this.toPhenomenon=n,this.duration=n.transitionSpeed*1e3,this.startTime=Date.now(),this.isTransitioning=!0}getProgress(){if(!this.isTransitioning)return 1;const t=Date.now()-this.startTime,n=Math.min(t/this.duration,1);return n>=1&&(this.isTransitioning=!1),n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}getCurrentSkyPalette(){if(!this.fromPhenomenon||!this.toPhenomenon)return null;const t=this.getProgress();return XP(this.fromPhenomenon.skyPalette,this.toPhenomenon.skyPalette,t)}getCurrentMoonTint(){if(!this.fromPhenomenon||!this.toPhenomenon)return null;const t=this.getProgress();return Ml(this.fromPhenomenon.moonTint,this.toPhenomenon.moonTint,t)}isActive(){return this.isTransitioning}}const Y0=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},eM=(e,t,n)=>`#${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`,tM=()=>[],Q0=(e,t,n=40)=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*8+4,opacity:1,lifetime:0,maxLifetime:30+Math.random()*20}},nM=(e,t)=>t.map(n=>{if(n.lifetime++,n.opacity=1-n.lifetime/n.maxLifetime,n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size);r.addColorStop(0,`rgba(255,255,255,${n.opacity})`),r.addColorStop(.5,`rgba(200,200,255,${n.opacity*.6})`),r.addColorStop(1,"rgba(150,150,255,0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size,0,Math.PI*2),e.fill()}return n}).filter(n=>n.lifetime<n.maxLifetime),sd=(e=20,t="#B84060",n="#d85080",r=.01,s=.02)=>Array.from({length:e},(a,o)=>({angle:Math.PI*2*o/e,distance:50+Math.random()*30,size:Math.random()*3+1,speed:r+Math.random()*(s-r),color:o%2===0?t:n,opacity:Math.random()*.5+.3})),rM=(e,t,n,r)=>{t.forEach(s=>{s.angle+=s.speed;const a=n+Math.cos(s.angle)*s.distance,o=r+Math.sin(s.angle)*s.distance,i=e.createRadialGradient(a,o,0,a,o,s.size*2);i.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${s.color}00`),e.fillStyle=i,e.beginPath(),e.arc(a,o,s.size*2,0,Math.PI*2),e.fill(),e.fillStyle=s.color,e.globalAlpha=s.opacity,e.beginPath(),e.arc(a,o,s.size,0,Math.PI*2),e.fill(),e.globalAlpha=1})},J0=(e,t,n=40)=>Array.from({length:50},()=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*1.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*4+1.5,opacity:Math.random()*.9+.3,twinklePhase:Math.random()*Math.PI*2,twinkleSpeed:.03+Math.random()*.05}}),sM=(e,t)=>{t.forEach(n=>{n.twinklePhase+=n.twinkleSpeed;const r=(Math.sin(n.twinklePhase)+1)/2,s=n.opacity*r;if(s>.1){e.save(),e.translate(n.x,n.y),e.rotate(n.twinklePhase*.2);const a=e.createRadialGradient(0,0,0,0,0,n.size*6),o=n.twinklePhase*50%360;a.addColorStop(0,`hsla(${o}, 70%, 85%, ${s*.4})`),a.addColorStop(.3,`hsla(${o+60}, 60%, 80%, ${s*.3})`),a.addColorStop(.6,`hsla(${o+120}, 50%, 75%, ${s*.2})`),a.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=a,e.beginPath(),e.arc(0,0,n.size*6,0,Math.PI*2),e.fill();const i=e.createRadialGradient(0,0,0,0,0,n.size*4);i.addColorStop(0,`rgba(240, 248, 255, ${s})`),i.addColorStop(.4,`rgba(200, 220, 255, ${s*.7})`),i.addColorStop(.7,`rgba(176, 192, 224, ${s*.4})`),i.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,n.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s*.8})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*1.2,f=Math.sin(u)*n.size*1.2;c===0?e.moveTo(d,f):e.lineTo(d,f)}e.closePath(),e.fill(),e.fillStyle=`rgba(200, 220, 255, ${s*.6})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*.6,f=Math.sin(u)*n.size*.6;c===0?e.moveTo(d,f):e.lineTo(d,f)}e.closePath(),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s})`,e.beginPath(),e.arc(0,0,n.size*.3,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(240, 248, 255, ${s*.9})`,e.lineWidth=1.5,e.lineCap="round";for(let c=0;c<6;c++){const u=c*Math.PI/3,d=n.size*6;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.strokeStyle=`rgba(200, 220, 255, ${s*.5})`,e.lineWidth=.8;for(let c=0;c<12;c++){const u=c*Math.PI/6+Math.PI/12,d=n.size*4;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.restore()}})},aM=e=>{const t=["#00ff88","#00ddaa","#00ccbb"];return Array.from({length:3},(n,r)=>({y:e*.3+r*80,amplitude:25+Math.random()*20,frequency:.003+Math.random()*.004,phase:Math.random()*Math.PI*2,speed:.004+Math.random()*.005,color:t[r],opacity:.08+Math.random()*.06}))},oM=(e,t,n)=>{t.forEach((r,s)=>{r.phase+=r.speed;const a=r.opacity*(1+Math.sin(r.phase*.5)*.3);e.beginPath(),e.moveTo(0,r.y);for(let c=0;c<=n;c+=2){const u=r.y+Math.sin(c*r.frequency+r.phase)*r.amplitude,d=Math.sin(c*r.frequency*2+r.phase*1.5)*(r.amplitude*.3),f=Math.sin(c*r.frequency*4+r.phase*2)*(r.amplitude*.15),h=Math.sin(c*.05+r.phase*3)*5;e.lineTo(c,u+d+f+h)}const o=e.createLinearGradient(0,r.y,n,r.y);o.addColorStop(0,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),o.addColorStop(.25,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),o.addColorStop(.5,`${r.color}${Math.floor(a*255).toString(16).padStart(2,"0")}`),o.addColorStop(.75,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),e.strokeStyle=o,e.lineWidth=70,e.lineCap="round",e.lineJoin="round",e.shadowBlur=40,e.shadowColor=r.color,e.stroke(),e.shadowBlur=0;const i=e.createLinearGradient(0,r.y-r.amplitude*2,0,r.y+r.amplitude*3);if(i.addColorStop(0,`${r.color}00`),i.addColorStop(.2,`${r.color}${Math.floor(a*.5*255).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${r.color}${Math.floor(a*.8*255).toString(16).padStart(2,"0")}`),i.addColorStop(.8,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${r.color}00`),e.strokeStyle=i,e.lineWidth=50,e.globalAlpha=.6,e.stroke(),e.globalAlpha=1,Math.random()<.3)for(let c=0;c<3;c++){const u=Math.random()*n,d=r.y+Math.sin(u*r.frequency+r.phase)*r.amplitude,f=2+Math.random()*3,h=e.createRadialGradient(u,d,0,u,d,f*3);h.addColorStop(0,`rgba(255, 255, 255, ${a*.6})`),h.addColorStop(.5,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${r.color}00`),e.fillStyle=h,e.beginPath(),e.arc(u,d,f*3,0,Math.PI*2),e.fill()}})},iM=(e,t,n=20)=>Array.from({length:n},()=>{const r=Math.random()*e,s=t*.5+Math.random()*t*.4;return{x:r,y:s,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2+Math.random()*2,opacity:0,blinkPhase:Math.random()*Math.PI*2,blinkSpeed:.05+Math.random()*.05,targetX:r,targetY:s}}),lM=(e,t,n,r)=>{t.forEach(s=>{if(s.blinkPhase+=s.blinkSpeed,s.opacity=Math.max(0,Math.sin(s.blinkPhase))*.8,Math.random()<.02&&(s.targetX=Math.random()*n,s.targetY=r*.5+Math.random()*r*.4),s.vx+=(s.targetX-s.x)*.001,s.vy+=(s.targetY-s.y)*.001,s.vx*=.95,s.vy*=.95,s.x+=s.vx,s.y+=s.vy,s.opacity>0){const a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*3);a.addColorStop(0,`rgba(255,255,150,${s.opacity})`),a.addColorStop(.5,`rgba(255,200,100,${s.opacity*.5})`),a.addColorStop(1,"rgba(255,200,100,0)"),e.fillStyle=a,e.beginPath(),e.arc(s.x,s.y,s.size*3,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255,255,200,${s.opacity})`,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill()}})},cM=(e,t=50)=>Array.from({length:t},()=>({x:Math.random()*e,y:Math.random()*-100,size:Math.random()*3+1,speed:Math.random()*.5+.3,drift:(Math.random()-.5)*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.6+.4})),uM=(e,t,n,r)=>{t.forEach(s=>{s.y+=s.speed,s.x+=s.drift,s.rotation+=s.rotationSpeed,s.y>r&&(s.y=-10,s.x=Math.random()*n),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.globalAlpha=s.opacity,e.strokeStyle="#ffffff",e.lineWidth=1,e.lineCap="round";for(let a=0;a<6;a++)e.rotate(Math.PI/3),e.beginPath(),e.moveTo(0,0),e.lineTo(0,s.size*2),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(-s.size*.5,s.size*1.5),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(s.size*.5,s.size*1.5),e.stroke();e.restore()})},dM=(e,t)=>{const n=["#f0e8e0","#e8d8d0","#d8c8c0"];return Array.from({length:5},(r,s)=>({x:-e-Math.random()*e*.5,y:t*.5+s*40,width:e*2.5,height:100+s*20,speed:.06+s*.04,opacity:.1+s*.04,color:n[s%n.length],wave:Math.random()*Math.PI*2,waveSpeed:.01+Math.random()*.01}))},hM=(e,t,n)=>{t.forEach((r,s)=>{r.x+=r.speed,r.wave+=r.waveSpeed,r.x>n*.3&&(r.x=-r.width);const a=Math.sin(r.wave)*15,o=r.y+a,i=e.createRadialGradient(r.x+r.width*.5,o+r.height*.5,0,r.x+r.width*.5,o+r.height*.5,r.width*.6);if(i.addColorStop(0,`${r.color}${Math.floor(r.opacity*255*.5).toString(16).padStart(2,"0")}`),i.addColorStop(.3,`${r.color}${Math.floor(r.opacity*255*.9).toString(16).padStart(2,"0")}`),i.addColorStop(.7,`${r.color}${Math.floor(r.opacity*255*.4).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${r.color}00`),e.save(),e.globalCompositeOperation="lighter",e.fillStyle=i,e.fillRect(r.x,o,r.width,r.height),r.x>0?e.fillRect(r.x-r.width,o,r.width,r.height):r.x+r.width<n,e.fillRect(r.x-r.width,o,r.width,r.height),e.restore(),s%2===0&&Math.random()<.02){const c=r.x+Math.random()*r.width,u=o+Math.random()*r.height,d=e.createRadialGradient(c,u,0,c,u,3);d.addColorStop(0,"rgba(255,255,255,0.3)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=d,e.beginPath(),e.arc(c,u,3,0,Math.PI*2),e.fill()}e.restore()})},fM=(e,t,n=15)=>{const r=["#ff9966","#ffcc66","#ff6666","#ffaa88","#ff8844"];return Array.from({length:n},(s,a)=>({x:e*.5+Math.random()*e*.5,y:-Math.random()*300-a*20,vx:-4-Math.random()*3,vy:6+Math.random()*3,length:50+Math.random()*80,opacity:.8+Math.random()*.2,color:r[Math.floor(Math.random()*r.length)],active:a<n*.6}))},mM=(e,t,n,r)=>{t.forEach(s=>{if(!s.active){Math.random()<.02&&(s.active=!0);return}s.x+=s.vx,s.y+=s.vy,(s.x<-s.length||s.y>r+50)&&(s.x=n*.7+Math.random()*n*.3,s.y=-Math.random()*200,s.active=!0),e.save(),e.globalAlpha=s.opacity;const a=e.createLinearGradient(s.x,s.y,s.x-s.vx*10,s.y-s.vy*10);a.addColorStop(0,s.color),a.addColorStop(.5,`${s.color}aa`),a.addColorStop(1,`${s.color}00`),e.strokeStyle=a,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*10,s.y-s.vy*10),e.stroke();const o=e.createRadialGradient(s.x,s.y,0,s.x,s.y,6);o.addColorStop(0,"#fff"),o.addColorStop(.3,s.color),o.addColorStop(1,`${s.color}00`),e.fillStyle=o,e.beginPath(),e.arc(s.x,s.y,6,0,Math.PI*2),e.fill(),e.restore()})},pM=(e,t,n=40)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,opacity:0,lifetime:0,maxLifetime:240+Math.random()*180,freezePoint:40+Math.random()*30,isFrozen:!1,trailLength:Math.random()*30+15,color:Math.random()>.5?"#B0C4DE":"#7090b0",rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,frozenIntensity:Math.random()*.5+.5})),gM=(e,t)=>{t.forEach(n=>{if(n.lifetime++,n.lifetime<20?(n.opacity=n.lifetime/20,n.y-=.5):n.lifetime>=n.freezePoint&&n.lifetime<n.freezePoint+150?(n.isFrozen||(n.isFrozen=!0,n.rotationSpeed=0),n.opacity=.9*n.frozenIntensity):n.lifetime>=n.freezePoint+150?n.opacity=Math.max(0,1-(n.lifetime-n.freezePoint-150)/90):(n.opacity=.7,n.y-=.4,n.rotation+=n.rotationSpeed),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.y=Math.random()*e.canvas.height,n.x=Math.random()*e.canvas.width,n.freezePoint=40+Math.random()*30,n.isFrozen=!1,n.rotation=Math.random()*Math.PI*2,n.rotationSpeed=(Math.random()-.5)*.02),n.opacity>0){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),!n.isFrozen&&n.lifetime>=20&&n.lifetime<n.freezePoint){const a=e.createLinearGradient(0,0,0,n.trailLength);a.addColorStop(0,`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${n.color}${Math.floor(n.opacity*100).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${n.color}00`),e.strokeStyle=a,e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n.trailLength),e.stroke()}const r=n.isFrozen?n.size*4:n.size*3,s=e.createRadialGradient(0,0,0,0,0,r);s.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),s.addColorStop(.3,`${n.color}${Math.floor(n.opacity*180).toString(16).padStart(2,"0")}`),s.addColorStop(1,`${n.color}00`),e.fillStyle=s,e.beginPath(),e.arc(0,0,r,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*230).toString(16).padStart(2,"0")}`,e.beginPath();for(let a=0;a<6;a++){const o=Math.PI/3*a,i=Math.cos(o)*n.size,c=Math.sin(o)*n.size;a===0?e.moveTo(i,c):e.lineTo(i,c)}if(e.closePath(),e.fill(),e.fillStyle=`#ffffff${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(0,0,n.size*.5,0,Math.PI*2),e.fill(),n.isFrozen){e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.8})`,e.lineWidth=1.5;for(let o=0;o<6;o++){const i=Math.PI/3*o,c=n.size*3.5;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(i)*c,Math.sin(i)*c),e.stroke(),e.fillStyle=`rgba(220, 235, 255, ${n.opacity*.9})`,e.beginPath(),e.arc(Math.cos(i)*c,Math.sin(i)*c,2,0,Math.PI*2),e.fill()}const a=n.size*2.5+Math.sin(n.lifetime*.05)*n.size*.3;e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.5})`,e.lineWidth=2,e.beginPath(),e.arc(0,0,a,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(220, 235, 255, ${n.opacity*.3})`,e.lineWidth=1,e.beginPath(),e.arc(0,0,a*.6,0,Math.PI*2),e.stroke();for(let o=0;o<4;o++){const i=Math.PI/2*o+n.lifetime*.01,c=a*1.2,u=Math.cos(i)*c,d=Math.sin(i)*c;e.fillStyle=`rgba(255, 255, 255, ${n.opacity*.7})`,e.beginPath(),e.arc(u,d,1.5,0,Math.PI*2),e.fill()}}e.restore()}})},yM=()=>[],vM=(e,t,n)=>({radius:n*.5,maxRadius:n*5+Math.random()*n*3,opacity:1,lifetime:0,maxLifetime:120+Math.random()*80,centerX:e,centerY:t,speed:.8+Math.random()*.6,thickness:2+Math.random()*2}),wM=(e,t,n,r)=>t.map(s=>{s.lifetime++,s.radius+=s.speed;const a=20,o=s.maxLifetime-40;if(s.lifetime<a?s.opacity=s.lifetime/a:s.lifetime>o?s.opacity=Math.max(0,1-(s.lifetime-o)/40):s.opacity=.6+Math.sin(s.lifetime*.1)*.2,s.opacity>0){e.strokeStyle=`rgba(80, 80, 112, ${s.opacity*.4})`,e.lineWidth=s.thickness,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(64, 64, 80, ${s.opacity*.6})`,e.lineWidth=s.thickness*.5,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius-s.thickness,0,Math.PI*2),e.stroke();const i=e.createRadialGradient(s.centerX,s.centerY,s.radius-s.thickness*3,s.centerX,s.centerY,s.radius+s.thickness*2);if(i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(.4,`rgba(0, 0, 0, ${s.opacity*.15})`),i.addColorStop(.6,`rgba(0, 0, 0, ${s.opacity*.15})`),i.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=i,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.fill(),s.lifetime%8===0&&s.opacity>.3)for(let u=0;u<3;u++){const d=Math.random()*Math.PI*2,f=s.centerX+Math.cos(d)*s.radius,h=s.centerY+Math.sin(d)*s.radius,m=e.createRadialGradient(f,h,0,f,h,3);m.addColorStop(0,`rgba(112, 144, 176, ${s.opacity*.8})`),m.addColorStop(1,"rgba(112, 144, 176, 0)"),e.fillStyle=m,e.beginPath(),e.arc(f,h,3,0,Math.PI*2),e.fill()}}return s}).filter(s=>s.lifetime<s.maxLifetime),xM=(e,t,n=12)=>{const r=[];for(let s=0;s<n;s++){const a=Math.PI*2/n*s+(Math.random()-.5)*.4,o=60+Math.random()*45;r.push({x:e+Math.cos(a)*o,y:t+Math.sin(a)*o,size:5+Math.random()*8,angle:a,distance:o,orbitSpeed:8e-4+Math.random()*.0015,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.025,opacity:.7+Math.random()*.3})}return r},X0=(e,t,n=25)=>{const r=[];for(let s=0;s<n;s++){const a=Math.random()*Math.PI*2,o=.15+Math.random()*.3;r.push({x:e+(Math.random()-.5)*90,y:t+(Math.random()-.5)*90,vx:Math.cos(a)*o,vy:Math.sin(a)*o,size:.8+Math.random()*1.5,opacity:.2+Math.random()*.3,life:0,maxLife:120+Math.random()*120})}return r},bM=(e,t,n,r,s)=>{t.forEach(a=>{a.angle+=a.orbitSpeed,a.rotation+=a.rotationSpeed,a.x=n+Math.cos(a.angle)*a.distance,a.y=r+Math.sin(a.angle)*a.distance,e.save(),e.translate(a.x,a.y),e.rotate(a.rotation),e.fillStyle=`rgba(0, 0, 0, ${a.opacity*.4})`,e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.6)",e.beginPath();const o=5+Math.floor(Math.random()*3);for(let c=0;c<o;c++){const u=Math.PI*2/o*c,d=a.size*(.8+Math.random()*.5),f=Math.cos(u)*d,h=Math.sin(u)*d;c===0?e.moveTo(f,h):e.lineTo(f,h)}e.closePath(),e.fill(),e.fillStyle=`${s}${Math.floor(a.opacity*255).toString(16).padStart(2,"0")}`,e.shadowBlur=8,e.shadowColor=s,e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${a.opacity*.6})`,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 0.8)",e.stroke();const i=e.createRadialGradient(0,0,0,0,0,a.size*.6);i.addColorStop(0,`rgba(255, 255, 255, ${a.opacity*.4})`),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=i,e.shadowBlur=0,e.beginPath(),e.arc(0,0,a.size*.6,0,Math.PI*2),e.fill(),e.restore()})},SM=(e,t,n,r,s)=>{t.forEach(a=>{a.x+=a.vx,a.y+=a.vy,a.life++;const o=1-a.life/a.maxLife,i=a.opacity*o;if(a.life<a.maxLife&&i>.01){const c=e.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size*4);c.addColorStop(0,`${n}${Math.floor(i*.8*255).toString(16).padStart(2,"0")}`),c.addColorStop(.5,`${n}${Math.floor(i*.3*255).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${n}00`),e.fillStyle=c,e.beginPath(),e.arc(a.x,a.y,a.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`${n}${Math.floor(i*255).toString(16).padStart(2,"0")}`,e.shadowBlur=5,e.shadowColor=n,e.beginPath(),e.arc(a.x,a.y,a.size,0,Math.PI*2),e.fill(),e.shadowBlur=0,Math.random()<.15&&(e.fillStyle=`rgba(255, 255, 255, ${i*.8})`,e.beginPath(),e.arc(a.x,a.y,a.size*.5,0,Math.PI*2),e.fill())}if(a.life>=a.maxLife){if(r!==void 0&&s!==void 0){const c=Math.random()*Math.PI*2,u=70+Math.random()*30;a.x=r+Math.cos(c)*u,a.y=s+Math.sin(c)*u;const d=.15+Math.random()*.35,f=Math.random()*Math.PI*2;a.vx=Math.cos(f)*d,a.vy=Math.sin(f)*d}a.life=0,a.opacity=.35+Math.random()*.45}})},kM=(e,t,n,r=4)=>Array.from({length:r},(s,a)=>({x:e,y:t,radius:n,opacity:.6-a*.15,delay:a*15,scale:1+a*.15,phaseOffset:0})),EM=(e,t,n,r,s,a)=>{t.forEach((o,i)=>{o.phaseOffset+=.001;const c=n,u=r+Math.sin(s-o.phaseOffset*50)*3;o.x+=(c-o.x)*(.05/(i+1)),o.y+=(u-o.y)*(.05/(i+1));const d=o.radius*o.scale,f=e.createRadialGradient(o.x,o.y,d*.3,o.x,o.y,d*2);f.addColorStop(0,`${a}${Math.floor(o.opacity*.4*255).toString(16).padStart(2,"0")}`),f.addColorStop(.5,`${a}${Math.floor(o.opacity*.2*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${a}00`),e.fillStyle=f,e.beginPath(),e.arc(o.x,o.y,d*2,0,Math.PI*2),e.fill();const h=e.createRadialGradient(o.x-d*.25,o.y-d*.25,0,o.x,o.y,d);h.addColorStop(0,`${a}${Math.floor(o.opacity*.8*255).toString(16).padStart(2,"0")}`),h.addColorStop(.7,`${a}${Math.floor(o.opacity*.5*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${a}${Math.floor(o.opacity*.2*255).toString(16).padStart(2,"0")}`),e.fillStyle=h,e.beginPath(),e.arc(o.x,o.y,d,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${o.opacity*.3})`,e.lineWidth=1.5,e.beginPath(),e.arc(o.x-d*.3,o.y-d*.3,d*.6,Math.PI,Math.PI*2),e.stroke();const m=(Date.now()/1e3+i*.5)%2;for(let x=0;x<3;x++){const y=d*(1.2+m*.5+x*.3),b=o.opacity*(1-m/2)*.4;b>.05&&(e.strokeStyle=`rgba(208, 208, 232, ${b})`,e.lineWidth=2,e.beginPath(),e.arc(o.x,o.y,y,0,Math.PI*2),e.stroke())}})},_M=e=>Array.from({length:3},(t,n)=>({radius:e*(1.15+n*.2),opacity:.6-n*.15,pulsePhase:Math.PI*2*n/3,thickness:3-n*.5})),jM=(e,t,n,r)=>{t.forEach(s=>{s.pulsePhase+=.02;const a=Math.sin(s.pulsePhase)*.2+.8,o=s.opacity*a;e.strokeStyle=`rgba(160, 48, 48, ${o})`,e.lineWidth=s.thickness,e.shadowBlur=10,e.shadowColor=`rgba(200, 64, 64, ${o})`,e.beginPath(),e.arc(n,r,s.radius,0,Math.PI*2),e.stroke(),e.shadowBlur=0})},CM=(e,t,n=30)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*4+2,opacity:Math.random()*.8+.2,fadeSpeed:.002+Math.random()*.003,lifetime:0,maxLifetime:200+Math.random()*200})),NM=(e,t)=>{t.forEach(n=>{if(n.x+=n.vx,n.y+=n.vy,n.lifetime++,n.opacity-=n.fadeSpeed,(n.lifetime>=n.maxLifetime||n.opacity<=0)&&(n.x=Math.random()*e.canvas.width,n.y=Math.random()*e.canvas.height,n.opacity=Math.random()*.8+.2,n.lifetime=0),n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*3);r.addColorStop(0,`rgba(160, 160, 176, ${n.opacity})`),r.addColorStop(.5,`rgba(160, 160, 176, ${n.opacity*.5})`),r.addColorStop(1,"rgba(160, 160, 176, 0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*3,0,Math.PI*2),e.fill()}})},TM=()=>[],PM=(e,t,n,r,s)=>(Math.random()<.015&&t.push({radius:s,opacity:.6,lifetime:0,maxLifetime:120}),t.map(a=>(a.lifetime++,a.radius+=1,a.opacity=(1-a.lifetime/a.maxLifetime)*.6,a.lifetime<a.maxLifetime&&a.opacity>.05&&(e.strokeStyle=`rgba(168, 168, 200, ${a.opacity})`,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.arc(n,r,a.radius,0,Math.PI*2),e.stroke(),e.setLineDash([])),a)).filter(a=>a.lifetime<a.maxLifetime)),MM=(e,t,n=40)=>{const r=["#C8B8D8","#B8A8C8","#D8C8E8"];return Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.4,vy:-.2-Math.random()*.3,size:Math.random()*3+1.5,opacity:Math.random()*.7+.3,color:r[Math.floor(Math.random()*r.length)],floatPhase:Math.random()*Math.PI*2,floatSpeed:.02+Math.random()*.03}))},RM=(e,t)=>{t.forEach(n=>{n.floatPhase+=n.floatSpeed,n.x+=n.vx+Math.sin(n.floatPhase)*.3,n.y+=n.vy,n.y<-10&&(n.y=e.canvas.height+10,n.x=Math.random()*e.canvas.width),n.x<-10&&(n.x=e.canvas.width+10),n.x>e.canvas.width+10&&(n.x=-10);const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*2.5);r.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),r.addColorStop(.5,`${n.color}${Math.floor(n.opacity*128).toString(16).padStart(2,"0")}`),r.addColorStop(1,`${n.color}00`),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*2.5,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(n.x,n.y,n.size*.8,0,Math.PI*2),e.fill()})},OM=(e,t,n=25)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*6+3,opacity:Math.random()*.4+.2,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,lifetime:0,maxLifetime:300+Math.random()*300,fragmentType:Math.floor(Math.random()*3)})),AM=(e,t)=>{t.forEach(n=>{n.x+=n.vx,n.y+=n.vy,n.rotation+=n.rotationSpeed,n.lifetime++,n.x<0&&(n.x=e.canvas.width),n.x>e.canvas.width&&(n.x=0),n.y<0&&(n.y=e.canvas.height),n.y>e.canvas.height&&(n.y=0),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.opacity=Math.random()*.4+.2);const r=n.lifetime<60?n.lifetime/60:(n.maxLifetime-n.lifetime)/60,s=Math.min(n.opacity,r);if(s>.05){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),e.globalAlpha=s,e.strokeStyle="#888898",e.fillStyle="rgba(136, 136, 152, 0.3)",e.lineWidth=1.5,e.beginPath(),n.fragmentType===0)e.moveTo(0,-n.size),e.lineTo(n.size,n.size),e.lineTo(-n.size,n.size);else if(n.fragmentType===1)e.rect(-n.size/2,-n.size/2,n.size,n.size);else for(let a=0;a<5;a++){const o=Math.PI*2*a/5-Math.PI/2,i=Math.cos(o)*n.size,c=Math.sin(o)*n.size;a===0?e.moveTo(i,c):e.lineTo(i,c)}e.closePath(),e.fill(),e.stroke(),e.restore()}})},IM=(e,t,n)=>{const r=["","","","","",""];return Array.from({length:6},(s,a)=>({x:e,y:t,symbol:r[a],size:12+Math.random()*8,opacity:.6+Math.random()*.3,rotation:0,pulsePhase:Math.PI*2*a/6,orbitAngle:Math.PI*2*a/6,orbitSpeed:.005+Math.random()*.003,orbitRadius:n*(1.4+Math.random()*.3)}))},DM=(e,t,n,r)=>{t.forEach(s=>{s.orbitAngle+=s.orbitSpeed,s.pulsePhase+=.02,s.rotation+=.01;const a=n+Math.cos(s.orbitAngle)*s.orbitRadius,o=r+Math.sin(s.orbitAngle)*s.orbitRadius,i=Math.sin(s.pulsePhase)*.3+.7,c=s.opacity*i,u=e.createRadialGradient(a,o,0,a,o,s.size*2);u.addColorStop(0,`rgba(184, 168, 136, ${c*.5})`),u.addColorStop(1,"rgba(184, 168, 136, 0)"),e.fillStyle=u,e.beginPath(),e.arc(a,o,s.size*2,0,Math.PI*2),e.fill(),e.save(),e.translate(a,o),e.rotate(s.rotation),e.fillStyle=`rgba(184, 168, 136, ${c})`,e.font=`${s.size}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(s.symbol,0,0),e.restore()})},$M=(e=12)=>Array.from({length:e},(t,n)=>({angle:Math.PI*2*n/e,length:50+Math.random()*30,opacity:.3+Math.random()*.4,width:2+Math.random()*3,pulsePhase:Math.random()*Math.PI*2,speed:.02+Math.random()*.02})),LM=(e,t,n,r,s)=>{if(!isFinite(n)||!isFinite(r)||!isFinite(s)){console.warn("Invalid moon parameters in drawLightRays:",{moonX:n,moonY:r,moonRadius:s});return}t.forEach(a=>{a.pulsePhase+=a.speed,a.angle+=.003;const o=Math.sin(a.pulsePhase)*.4+.6,i=a.opacity*o,c=n+Math.cos(a.angle)*s,u=r+Math.sin(a.angle)*s,d=n+Math.cos(a.angle)*(s+a.length),f=r+Math.sin(a.angle)*(s+a.length);if(!isFinite(c)||!isFinite(u)||!isFinite(d)||!isFinite(f))return;const h=e.createLinearGradient(c,u,d,f);h.addColorStop(0,`rgba(248, 248, 255, ${i})`),h.addColorStop(.5,`rgba(248, 248, 255, ${i*.6})`),h.addColorStop(1,"rgba(248, 248, 255, 0)"),e.strokeStyle=h,e.lineWidth=a.width,e.lineCap="round",e.beginPath(),e.moveTo(c,u),e.lineTo(d,f),e.stroke()})},FM=()=>[],zM=(e,t,n,r)=>{if(Math.random()<.3){const s=Math.PI/4+Math.random()*(Math.PI/6),a=15+Math.random()*10;t.push({x:Math.random()*n,y:-50-Math.random()*100,vx:Math.cos(s)*a,vy:Math.sin(s)*a,length:50+Math.random()*50,opacity:Math.random()*.4+.6,trailLength:100+Math.random()*80,color:"#FFFFFF"})}return t.map(s=>{if(s.x+=s.vx,s.y+=s.vy,s.opacity-=.008,s.opacity>.05){const a=e.createLinearGradient(s.x,s.y,s.x-s.vx*3,s.y-s.vy*3);a.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${s.color}${Math.floor(s.opacity*128).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${s.color}00`),e.strokeStyle=a,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*3,s.y-s.vy*3),e.stroke(),e.fillStyle=`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(s.x,s.y,2,0,Math.PI*2),e.fill()}return s}).filter(s=>s.opacity>.05&&s.x<n+50&&s.y<r+50)},BM=()=>{const e=["rgba(220, 240, 255, 0.9)","rgba(255, 255, 255, 0.95)","rgba(200, 230, 255, 0.85)","rgba(240, 250, 255, 0.9)"],t=["hexagon","diamond","triangle"];return Array.from({length:12},(n,r)=>({angle:Math.PI*2*r/12,distance:80+r%3*20,size:8+Math.random()*8,rotation:Math.random()*Math.PI*2,rotationSpeed:.02+Math.random()*.03,orbitSpeed:.008+Math.random()*.004,opacity:.6+Math.random()*.3,color:e[r%e.length],pulsePhase:Math.random()*Math.PI*2,shardType:t[r%3]}))},UM=(e,t,n,r,s)=>{e.save(),t.forEach(o=>{o.angle+=o.orbitSpeed,o.rotation+=o.rotationSpeed,o.pulsePhase+=.03;const i=n+Math.cos(o.angle)*(s+o.distance),c=r+Math.sin(o.angle)*(s+o.distance),u=o.opacity*(.8+.2*Math.sin(o.pulsePhase));if(e.save(),e.translate(i,c),e.rotate(o.rotation),e.globalCompositeOperation="screen",e.shadowBlur=15,e.shadowColor=o.color,e.fillStyle=o.color.replace(/[\d.]+\)$/g,`${u})`),e.strokeStyle=`rgba(255, 255, 255, ${u*.8})`,e.lineWidth=1.5,e.beginPath(),o.shardType==="hexagon"){for(let d=0;d<6;d++){const f=Math.PI/3*d,h=Math.cos(f)*o.size,m=Math.sin(f)*o.size;d===0?e.moveTo(h,m):e.lineTo(h,m)}e.closePath()}else o.shardType==="diamond"?(e.moveTo(0,-o.size),e.lineTo(o.size*.6,0),e.lineTo(0,o.size),e.lineTo(-o.size*.6,0),e.closePath()):(e.moveTo(0,-o.size),e.lineTo(o.size*.866,o.size*.5),e.lineTo(-o.size*.866,o.size*.5),e.closePath());e.fill(),e.stroke(),e.globalCompositeOperation="lighter",e.fillStyle=`rgba(255, 255, 255, ${u*.6})`,e.beginPath(),e.arc(0,0,o.size*.3,0,Math.PI*2),e.fill(),e.restore()});const a=e.createRadialGradient(n,r,s*.8,n,r,s*1.5);a.addColorStop(0,"rgba(220, 240, 255, 0.15)"),a.addColorStop(.6,"rgba(200, 230, 255, 0.08)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),e.globalCompositeOperation="screen",e.fillStyle=a,e.beginPath(),e.arc(n,r,s*1.5,0,Math.PI*2),e.fill(),e.restore()},WM=(e=120)=>Array.from({length:e},()=>({x:(Math.random()-.5)*2,y:(Math.random()-.5)*2,z:Math.random(),speed:.001+Math.random()*.002,size:1+Math.random()*2,brightness:.3+Math.random()*.7})),VM=(e,t,n,r)=>{const s=n/2,a=r/2;return t.map(o=>{o.z+=o.speed,o.z>=1&&(o.x=(Math.random()-.5)*2,o.y=(Math.random()-.5)*2,o.z=0);const i=o.z*2,c=s+o.x*s*i,u=a+o.y*a*i,d=o.size*(.5+o.z*1.5),f=o.brightness*o.z,h=o.z-o.speed,m=h*2,x=s+o.x*s*m,y=a+o.y*a*m;if(h>0){const v=e.createLinearGradient(x,y,c,u);v.addColorStop(0,"rgba(255, 255, 255, 0)"),v.addColorStop(1,`rgba(255, 255, 255, ${f*.6})`),e.strokeStyle=v,e.lineWidth=d*.5,e.lineCap="round",e.beginPath(),e.moveTo(x,y),e.lineTo(c,u),e.stroke()}const b=e.createRadialGradient(c,u,0,c,u,d*2);return b.addColorStop(0,`rgba(255, 255, 255, ${f})`),b.addColorStop(.5,`rgba(200, 220, 255, ${f*.5})`),b.addColorStop(1,"rgba(200, 220, 255, 0)"),e.fillStyle=b,e.beginPath(),e.arc(c,u,d*2,0,Math.PI*2),e.fill(),o})},HM=(e,t,n=4)=>{const r=[["#FF6B9D","#C44569","#8B3A62"],["#4A90E2","#7B68EE","#9370DB"],["#00D9FF","#0099CC","#006699"],["#FF8C42","#FF6B35","#C44536"],["#6BCF7F","#4ECDC4","#44A08D"]];return Array.from({length:n},()=>{const s=r[Math.floor(Math.random()*r.length)];return{x:Math.random()*e,y:Math.random()*t,size:150+Math.random()*250,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*5e-4,colors:s,opacity:.15+Math.random()*.15,pulsePhase:Math.random()*Math.PI*2,pulseSpeed:.01+Math.random()*.01}})},GM=(e,t,n,r,s=0,a=0)=>t.map(o=>{o.rotation+=o.rotationSpeed,o.pulsePhase+=o.pulseSpeed;const i=Math.sin(o.pulsePhase)*.2+.8,c=o.size*i,u=o.opacity*i,d=o.x+s*.1,f=o.y+a*.1,h=(d%n+n)%n,m=(f%r+r)%r;return e.save(),e.translate(h,m),e.rotate(o.rotation),o.colors.forEach((x,y)=>{const b=c*(1-y*.2),v=u*(1-y*.3),p=e.createRadialGradient(0,0,0,0,0,b);p.addColorStop(0,`${x}${Math.floor(v*255).toString(16).padStart(2,"0")}`),p.addColorStop(.4,`${x}${Math.floor(v*.6*255).toString(16).padStart(2,"0")}`),p.addColorStop(.7,`${x}${Math.floor(v*.3*255).toString(16).padStart(2,"0")}`),p.addColorStop(1,`${x}00`),e.fillStyle=p,e.fillRect(-b,-b,b*2,b*2)}),e.restore(),o}),Z0=(e=new Date)=>{const t=new Date("2000-01-06T18:14:00Z"),n=29.530588853,s=(e.getTime()-t.getTime())/(1e3*60*60*24)%n,a=s/n,o=(1-Math.cos(a*Math.PI*2))/2;let i,c;return a<.033||a>.967?(i="New Moon",c=""):a<.216?(i="Waxing Crescent",c=""):a<.283?(i="First Quarter",c=""):a<.467?(i="Waxing Gibbous",c=""):a<.533?(i="Full Moon",c=""):a<.717?(i="Waning Gibbous",c=""):a<.783?(i="Last Quarter",c=""):(i="Waning Crescent",c=""),{phase:a,phaseName:i,phaseNameTh:c,illumination:o,age:s}},qM=(e,t,n,r,s)=>{if(Math.abs(s-.5)<.01)return;e.save(),e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.clip();const a="rgba(5, 10, 25, 0.85)",o="rgba(5, 10, 25, 0.5)";if(s<.5){const i=s*2,c=r*(1-i),u=e.createLinearGradient(t-r,n,t-r+c*2.2,n);u.addColorStop(0,a),u.addColorStop(.4,a),u.addColorStop(.7,o),u.addColorStop(1,"rgba(5, 10, 25, 0)"),e.fillStyle=u,e.fillRect(t-r,n-r,c*2.2,r*2)}else if(s>.5){const i=1-(s-.5)*2,c=r*(1-i),u=e.createLinearGradient(t+r-c*2.2,n,t+r,n);u.addColorStop(0,"rgba(5, 10, 25, 0)"),u.addColorStop(.3,o),u.addColorStop(.6,a),u.addColorStop(1,a),e.fillStyle=u,e.fillRect(t+r-c*2.2,n-r,c*2.2,r*2)}e.restore()};function KM(){const e=g.useRef(null),t=g.useRef([]),n=g.useRef([]),r=g.useRef([]),s=g.useRef(),a=g.useRef({x:0,y:0,phase:0}),o=g.useRef(0),i=g.useRef([]),c=g.useRef([]),u=g.useRef([]),d=g.useRef([]),f=g.useRef([]),h=g.useRef([]),m=g.useRef([]),x=g.useRef([]),y=g.useRef([]),b=g.useRef([]),v=g.useRef([]),p=g.useRef([]),w=g.useRef([]),S=g.useRef([]),E=g.useRef([]),j=g.useRef([]),C=g.useRef([]),N=g.useRef([]),M=g.useRef([]),O=g.useRef([]),V=g.useRef([]),L=g.useRef([]),Y=g.useRef([]),I=g.useRef([]),Q=g.useRef(Z0()),W=g.useRef({x:0,y:0});g.useRef(new Date().getHours());const q=g.useRef(Date.now()),P=g.useRef({x:0,y:0}),[k,U]=g.useState(null);g.useRef(new ZP),g.useEffect(()=>{const z=_=>{let J=0,F=0;_ instanceof MouseEvent?(J=(_.clientX/window.innerWidth-.5)*20,F=(_.clientY/window.innerHeight-.5)*20):window.DeviceOrientationEvent&&_ instanceof DeviceOrientationEvent&&(_.gamma!==null&&(J=Math.max(-20,Math.min(20,_.gamma/2))),_.beta!==null&&(F=Math.max(-20,Math.min(20,(_.beta-45)/2)))),P.current={x:J,y:F}};return window.addEventListener("mousemove",z),window.addEventListener("deviceorientation",z),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("deviceorientation",z)}},[]),g.useEffect(()=>{const z=gc();U(z),wm(z),console.log(" Moon Phenomenon:",z.name,`(${z.rarity})`)},[]),g.useEffect(()=>{if(!k)return;const z=e.current;if(!z)return;const _=z.getContext("2d");if(!_)return;(()=>{const T=z.getBoundingClientRect();z.width=T.width*window.devicePixelRatio,z.height=T.height*window.devicePixelRatio,_.scale(window.devicePixelRatio,window.devicePixelRatio)})();const F=z.getBoundingClientRect();t.current=Array.from({length:Math.floor(120*k.starDensity)},()=>({x:Math.random()*F.width,y:Math.random()*F.height*.6,size:Math.random()*2+.5,opacity:Math.random()*.8+.2,twinkleSpeed:Math.random()*.02+.01,twinklePhase:Math.random()*Math.PI*2})),n.current=Array.from({length:5},()=>({x:Math.random()*F.width,y:F.height*.2+Math.random()*F.height*.3,width:Math.random()*100+80,height:Math.random()*40+30,speed:(Math.random()*.15+.05)*k.cloudSpeed,opacity:(Math.random()*.15+.1)*k.cloudOpacity}));const _e=["#FFFFFF","#FFE4B5","#87CEEB","#DDA0DD","#F0E68C","#98FB98","#FFB6C1","#B0E0E6","#FFDAB9","#E6E6FA"];r.current=Array.from({length:10},(T,B)=>({x:F.width+Math.random()*100,y:Math.random()*F.height*.6,length:Math.random()*60+40,speed:Math.random()*1.5+1,angle:Math.PI/4+(Math.random()-.5)*.3,color:_e[B],opacity:Math.random()*.3+.7,isActive:!1,trailLength:Math.random()*80+60})),a.current={x:F.width*.7,y:F.height*.25,phase:0};const D=a.current;k.id==="superBlueBloodMoon"?c.current=sd(20,"#B84060","#d85080"):k.id==="brokenMoon"?c.current=sd(25,"#9898B8","#6868a8",.008,.015):k.id==="emptySky"&&(c.current=sd(30,"#606080","#707090",.008,.012));const ye=k.effectIntensity||.5,de=40*(k.moonSize||1),ie={normal:0,rare:.3,very_rare:.5,legendary:.75,mythic:1}[k.rarity];k.rarity!=="normal"&&k.specialEffect&&(k.specialEffect==="flash"?i.current=tM():k.specialEffect==="sparkle"?u.current=J0(D.x,D.y,60):k.specialEffect==="echo"?w.current=kM(D.x,D.y,de,4):k.specialEffect==="aurora"?d.current=aM(F.height):k.specialEffect==="fireflies"?f.current=iM(F.width,F.height,Math.floor((10+ye*20)*ie)):k.specialEffect==="snow"?h.current=cM(F.width,Math.floor((30+ye*70)*ie)):k.specialEffect==="fog"?m.current=dM(F.width,F.height):k.specialEffect==="meteorShower"?b.current=fM(F.width,F.height,Math.floor((10+ye*15)*ie)):k.specialEffect==="frozenTime"?v.current=pM(F.width,F.height,Math.floor((20+ye*20)*ie)):k.specialEffect==="voidRipples"?p.current=yM():k.specialEffect==="shattered"?(x.current=xM(D.x,D.y,12),y.current=X0(D.x,D.y,25)):k.specialEffect==="bloodRing"?S.current=_M(de):k.specialEffect==="fadeParticles"?E.current=CM(F.width,F.height):k.specialEffect==="silence"?j.current=TM():k.specialEffect==="dreamDust"?C.current=MM(F.width,F.height):k.specialEffect==="memoryFragments"?N.current=OM(F.width,F.height):k.specialEffect==="ancientRunes"?M.current=IM(D.x,D.y,de):k.specialEffect==="lightRays"?O.current=$M():k.specialEffect==="shootingStars"?V.current=FM():k.specialEffect==="starfield"?L.current=WM(150):k.specialEffect==="nebula"?Y.current=HM(F.width,F.height,5):k.specialEffect==="prismLights"&&(I.current=BM())),Q.current=Z0(),console.log(" Moon Phase:",Q.current.phaseNameTh,`(${Math.round(Q.current.illumination*100)}% illuminated)`);const qe=()=>{W.current={x:window.scrollX,y:window.scrollY}};window.addEventListener("scroll",qe,{passive:!0});const kt=()=>{const T=_.createLinearGradient(0,0,0,F.height);T.addColorStop(0,k.skyPalette[0]),T.addColorStop(.5,k.skyPalette[1]),T.addColorStop(1,k.skyPalette[2]),_.fillStyle=T,_.fillRect(0,0,F.width,F.height)},fn=()=>{if(k.starDensity===0)return;const T=P.current.x*.5,B=P.current.y*.5;t.current.forEach(ae=>{ae.twinklePhase+=ae.twinkleSpeed;const De=ae.opacity*(Math.sin(ae.twinklePhase)*.5+.5),ne=ae.x+T,X=ae.y+B;_.beginPath(),_.arc(ne,X,ae.size,0,Math.PI*2),_.fillStyle=`rgba(255,255,255,${De})`,_.fill(),ae.size>1.5&&(_.beginPath(),_.arc(ne,X,ae.size*2,0,Math.PI*2),_.fillStyle=`rgba(255,255,255,${De*.2})`,_.fill())})},In=()=>{const T=a.current;T.phase+=.005;const B=Math.sin(T.phase)*3,ae=P.current.x*.8,De=P.current.y*.8,ne=T.x+ae,X=T.y+De,Mt=40,Er={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[k.rarity],fe=Mt*(k.moonSize||1)*Er,fo=k.moonTint,tr=_.createRadialGradient(ne,X+B,0,ne,X+B,fe*1.5);tr.addColorStop(0,`${fo}50`),tr.addColorStop(.5,`${fo}26`),tr.addColorStop(1,`${fo}00`),_.fillStyle=tr,_.beginPath(),_.arc(ne,X+B,fe*1.5,0,Math.PI*2),_.fill();const gs=_.createLinearGradient(ne-fe,X+B-fe,ne+fe,X+B+fe);if(gs.addColorStop(0,k.moonTint),gs.addColorStop(.3,nd(k.moonTint,.9)),gs.addColorStop(.6,nd(k.moonTint,.8)),gs.addColorStop(1,nd(k.moonTint,.7)),_.fillStyle=gs,_.beginPath(),_.arc(ne,X+B,fe,0,Math.PI*2),_.fill(),k.rarity==="mythic"){const Rt=_.createRadialGradient(ne,X+B,fe*.7,ne,X+B,fe*1.8);Rt.addColorStop(0,`${k.uiAccent}00`),Rt.addColorStop(.3,`${k.uiAccent}40`),Rt.addColorStop(.6,`${k.uiAccent}20`),Rt.addColorStop(1,`${k.uiAccent}00`),_.fillStyle=Rt,_.beginPath(),_.arc(ne,X+B,fe*1.8,0,Math.PI*2),_.fill(),_.strokeStyle=`${k.uiAccent}60`,_.lineWidth=2,_.beginPath(),_.arc(ne,X+B,fe-1,0,Math.PI*2),_.stroke();const Ye=T.phase*2,it=(Math.sin(Ye)*.15+.25)*255,nr=Math.floor(it).toString(16).padStart(2,"0"),Et=_.createRadialGradient(ne-fe*.3,X+B-fe*.3,0,ne-fe*.3,X+B-fe*.3,fe*.6);Et.addColorStop(0,`#ffffff${nr}`),Et.addColorStop(1,"#ffffff00"),_.fillStyle=Et,_.beginPath(),_.arc(ne,X+B,fe,0,Math.PI*2),_.fill()}if(k.id==="lunarTransientPhenomena"){const Rt=T.phase*3,Ye=Math.sin(Rt)*.3+.7,it=_.createRadialGradient(ne,X+B,fe*.5,ne,X+B,fe*3);it.addColorStop(0,`${k.uiAccent}${Math.floor(Ye*120).toString(16).padStart(2,"0")}`),it.addColorStop(.3,`${k.uiAccent}${Math.floor(Ye*80).toString(16).padStart(2,"0")}`),it.addColorStop(.6,`${k.uiAccent}${Math.floor(Ye*40).toString(16).padStart(2,"0")}`),it.addColorStop(1,`${k.uiAccent}00`),_.fillStyle=it,_.beginPath(),_.arc(ne,X+B,fe*3,0,Math.PI*2),_.fill();const nr=T.phase*4,Et=(Math.sin(nr)*60+280)%360;_.strokeStyle=`hsla(${Et}, 80%, 70%, ${Ye*.8})`,_.lineWidth=3,_.beginPath(),_.arc(ne,X+B,fe+2,0,Math.PI*2),_.stroke();const rr=_.createRadialGradient(ne,X+B,0,ne,X+B,fe*.8);rr.addColorStop(0,`rgba(255, 255, 255, ${Ye*.4})`),rr.addColorStop(.5,`${k.uiAccent}${Math.floor(Ye*100).toString(16).padStart(2,"0")}`),rr.addColorStop(1,`${k.uiAccent}00`),_.fillStyle=rr,_.beginPath(),_.arc(ne,X+B,fe*.8,0,Math.PI*2),_.fill();const sr=12,Dn=fe*2;for(let ys=0;ys<sr;ys++){const he=ys/sr*Math.PI*2+T.phase,we=ne+Math.cos(he)*Dn,je=X+B+Math.sin(he)*Dn,$e=_.createRadialGradient(we,je,0,we,je,4);$e.addColorStop(0,`${k.uiAccent}${Math.floor(Ye*200).toString(16).padStart(2,"0")}`),$e.addColorStop(1,`${k.uiAccent}00`),_.fillStyle=$e,_.beginPath(),_.arc(we,je,4,0,Math.PI*2),_.fill()}}if(qM(_,ne,X+B,fe,Q.current.phase),k.id==="crystalMoon"){_.save();const Rt=8;for(let he=0;he<Rt;he++){const we=Math.PI*2*he/Rt+T.phase*.3,je=Math.PI*2*(he+1)/Rt+T.phase*.3,$e=fe*.95,K=fe*.6,pe=ne+Math.cos(we)*$e,xe=X+B+Math.sin(we)*$e,st=ne+Math.cos(je)*$e,Qe=X+B+Math.sin(je)*$e,en=ne+Math.cos(je)*K,mn=X+B+Math.sin(je)*K,Ft=ne+Math.cos(we)*K,$n=X+B+Math.sin(we)*K,Di=he%2===0?.08:.04,$i=_.createLinearGradient(pe,xe,ne,X+B);$i.addColorStop(0,`rgba(255, 255, 255, ${Di})`),$i.addColorStop(.5,`rgba(200, 230, 255, ${Di*.8})`),$i.addColorStop(1,`rgba(180, 220, 255, ${Di*.5})`),_.fillStyle=$i,_.strokeStyle=`rgba(220, 240, 255, ${.15+Di})`,_.lineWidth=.5,_.beginPath(),_.moveTo(pe,xe),_.lineTo(st,Qe),_.lineTo(en,mn),_.lineTo(Ft,$n),_.closePath(),_.fill(),_.stroke()}const Ye=16;for(let he=0;he<Ye;he++){const we=Math.PI*2*he/Ye-T.phase*.2,je=fe*.6,$e=fe*.35,K=ne+Math.cos(we)*je,pe=X+B+Math.sin(we)*je,xe=ne+Math.cos(we+Math.PI/Ye)*$e,st=X+B+Math.sin(we+Math.PI/Ye)*$e,Qe=ne+Math.cos(we-Math.PI/Ye)*$e,en=X+B+Math.sin(we-Math.PI/Ye)*$e,mn=he%3===0?.06:he%3===1?.04:.02;_.fillStyle=`rgba(200, 230, 255, ${mn})`,_.strokeStyle="rgba(220, 240, 255, 0.1)",_.lineWidth=.3,_.beginPath(),_.moveTo(K,pe),_.lineTo(xe,st),_.lineTo(Qe,en),_.closePath(),_.fill(),_.stroke()}const it=8,nr=fe*.35;_.strokeStyle="rgba(255, 255, 255, 0.25)",_.lineWidth=.8,_.beginPath();for(let he=0;he<=it;he++){const we=Math.PI*2*he/it,je=ne+Math.cos(we)*nr,$e=X+B+Math.sin(we)*nr;he===0?_.moveTo(je,$e):_.lineTo(je,$e)}_.closePath(),_.stroke();const Et=24;for(let he=0;he<Et;he++){const we=Math.PI*2*he/Et,je=fe*.15,$e=fe*.95,K=he%2===0?.12:.06;_.strokeStyle=`rgba(220, 240, 255, ${K})`,_.lineWidth=.3,_.beginPath(),_.moveTo(ne+Math.cos(we)*je,X+B+Math.sin(we)*je),_.lineTo(ne+Math.cos(we)*$e,X+B+Math.sin(we)*$e),_.stroke()}const rr=20;for(let he=0;he<rr;he++){const we=Math.PI*2*he/rr+T.phase*(he%3),je=.2+he%5*.15,$e=fe*je,K=ne+Math.cos(we)*$e,pe=X+B+Math.sin(we)*$e,xe=Math.sin(T.phase*4+he*.5)*.5+.5,st=(.8+xe*1.2)*(he%3===0?1.2:.8),Qe=_.createRadialGradient(K,pe,0,K,pe,st*2.5);Qe.addColorStop(0,`rgba(255, 255, 255, ${.5*xe})`),Qe.addColorStop(.4,`rgba(220, 240, 255, ${.3*xe})`),Qe.addColorStop(1,"rgba(200, 230, 255, 0)"),_.fillStyle=Qe,_.beginPath(),_.arc(K,pe,st*2.5,0,Math.PI*2),_.fill()}const sr=_.createRadialGradient(ne,X+B,0,ne,X+B,fe*.25);sr.addColorStop(0,"rgba(255, 255, 255, 0.3)"),sr.addColorStop(.5,"rgba(240, 250, 255, 0.2)"),sr.addColorStop(1,"rgba(220, 240, 255, 0)"),_.fillStyle=sr,_.beginPath(),_.arc(ne,X+B,fe*.25,0,Math.PI*2),_.fill();const Dn=fe*.6;_.lineWidth=2,_.lineCap="round",[0,Math.PI/2,Math.PI,Math.PI*1.5].forEach(he=>{const we=_.createLinearGradient(ne,X+B,ne+Math.cos(he)*Dn,X+B+Math.sin(he)*Dn);we.addColorStop(0,"rgba(255, 255, 255, 0.3)"),we.addColorStop(1,"rgba(255, 255, 255, 0)"),_.strokeStyle=we,_.beginPath(),_.moveTo(ne,X+B),_.lineTo(ne+Math.cos(he)*Dn,X+B+Math.sin(he)*Dn),_.stroke()}),_.restore()}},Zn=()=>{k.cloudOpacity!==0&&n.current.forEach(T=>{k.cloudSpeed>.2&&(T.x+=T.speed,T.x>F.width+T.width&&(T.x=-T.width)),_.fillStyle=`rgba(150,150,180,${T.opacity*.6})`,_.beginPath(),_.ellipse(T.x+5,T.y+5,T.width/2,T.height/2,0,0,Math.PI*2),_.fill();const B=_.createRadialGradient(T.x,T.y-T.height*.3,0,T.x,T.y,T.width/2);B.addColorStop(0,`rgba(230,230,250,${T.opacity})`),B.addColorStop(.6,`rgba(200,200,230,${T.opacity*.8})`),B.addColorStop(1,`rgba(180,180,210,${T.opacity*.5})`),_.fillStyle=B,_.beginPath(),_.ellipse(T.x,T.y,T.width/2,T.height/2,0,0,Math.PI*2),_.fill(),[{x:-.4,y:-.3,w:.35,h:.5},{x:-.2,y:-.4,w:.3,h:.45},{x:.2,y:-.35,w:.32,h:.48},{x:.4,y:-.25,w:.3,h:.45}].forEach(ae=>{const De=_.createRadialGradient(T.x+T.width*ae.x,T.y+T.height*ae.y,0,T.x+T.width*ae.x,T.y+T.height*ae.y,T.width*ae.w);De.addColorStop(0,`rgba(240,240,255,${T.opacity})`),De.addColorStop(.7,`rgba(210,210,240,${T.opacity*.7})`),De.addColorStop(1,`rgba(190,190,220,${T.opacity*.3})`),_.fillStyle=De,_.beginPath(),_.ellipse(T.x+T.width*ae.x,T.y+T.height*ae.y,T.width*ae.w,T.height*ae.h,0,0,Math.PI*2),_.fill()})})},ps=()=>{if(k.shootingStarChance!==0&&(r.current.forEach(T=>{if(!T.isActive)return;if(T.x-=Math.cos(T.angle)*T.speed,T.y+=Math.sin(T.angle)*T.speed,T.x<-T.trailLength||T.y>F.height+T.trailLength){T.isActive=!1;return}_.save();const B=_.createLinearGradient(T.x,T.y,T.x+Math.cos(T.angle)*T.trailLength,T.y-Math.sin(T.angle)*T.trailLength);B.addColorStop(0,T.color),B.addColorStop(.5,`${T.color}88`),B.addColorStop(1,`${T.color}00`),_.strokeStyle=B,_.lineWidth=2,_.lineCap="round",_.globalAlpha=T.opacity,_.beginPath(),_.moveTo(T.x,T.y),_.lineTo(T.x+Math.cos(T.angle)*T.trailLength,T.y-Math.sin(T.angle)*T.trailLength),_.stroke();const ae=_.createRadialGradient(T.x,T.y,0,T.x,T.y,8);ae.addColorStop(0,"#FFFFFF"),ae.addColorStop(.3,T.color),ae.addColorStop(1,`${T.color}00`),_.fillStyle=ae,_.beginPath(),_.arc(T.x,T.y,8,0,Math.PI*2),_.fill(),_.fillStyle="#FFFFFF",_.beginPath(),_.arc(T.x,T.y,2,0,Math.PI*2),_.fill(),_.restore()}),o.current++,o.current>3600+Math.random()*3600)){o.current=0;const T=r.current.map((B,ae)=>B.isActive?-1:ae).filter(B=>B!==-1);if(T.length>0){const ae=Math.random()<k.shootingStarChance&&T.length>=3?Math.min(Math.floor(Math.random()*3)+3,T.length):1;for(let De=0;De<ae;De++){const ne=T.splice(Math.floor(Math.random()*T.length),1)[0],X=r.current[ne];X.isActive=!0,X.x=F.width+Math.random()*100,X.y=-50-Math.random()*100}}}},er=()=>{if(_.clearRect(0,0,F.width,F.height),kt(),k.specialEffect==="nebula"&&Y.current.length>0&&(Y.current=GM(_,Y.current,F.width,F.height,W.current.x,W.current.y)),k.specialEffect==="starfield"&&L.current.length>0&&(L.current=VM(_,L.current,F.width,F.height)),k.specialEffect&&(k.specialEffect==="aurora"&&d.current.length>0&&oM(_,d.current,F.width),k.specialEffect==="fog"&&m.current.length>0&&hM(_,m.current,F.width)),fn(),k.specialEffect==="echo"&&w.current.length>0){const T=a.current;EM(_,w.current,T.x,T.y,T.phase,k.moonTint)}if(k.specialEffect==="fireflies"&&f.current.length>0&&lM(_,f.current,F.width,F.height),In(),k.specialEffect==="shattered"){const T=a.current,B=Date.now();B-q.current>1e4&&(y.current=X0(T.x,T.y,25),q.current=B),y.current.length>0&&SM(_,y.current,k.moonTint,T.x,T.y),x.current.length>0&&bM(_,x.current,T.x,T.y,k.moonTint)}if(k.specialEffect){if(k.specialEffect==="flash"&&i.current.length>=0){const T=a.current;if(Math.random()<.025){const ae=40*(k.moonSize||1);i.current.push(Q0(T.x,T.y,ae))}i.current=nM(_,i.current)}if(k.specialEffect==="sparkle"&&u.current.length>0&&sM(_,u.current),k.specialEffect==="bloodRing"&&S.current.length>0){const T=a.current;jM(_,S.current,T.x,T.y)}if(k.specialEffect==="fadeParticles"&&E.current.length>0&&NM(_,E.current),k.specialEffect==="silence"&&j.current.length>=0){const T=a.current,ae=40*(k.moonSize||1);j.current=PM(_,j.current,T.x,T.y,ae)}if(k.specialEffect==="dreamDust"&&C.current.length>0&&RM(_,C.current),k.specialEffect==="memoryFragments"&&N.current.length>0&&AM(_,N.current),k.specialEffect==="ancientRunes"&&M.current.length>0){const T=a.current;DM(_,M.current,T.x,T.y)}if(k.specialEffect==="lightRays"&&O.current.length>0){const T=a.current,B=40,ae={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[k.rarity],De=B*(k.moonSize||1)*ae;LM(_,O.current,T.x,T.y,De)}if(k.specialEffect==="prismLights"&&I.current.length>0){const T=a.current,B=40,ae={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[k.rarity],De=B*(k.moonSize||1)*ae;UM(_,I.current,T.x,T.y,De)}k.specialEffect==="shootingStars"&&V.current.length>=0&&(a.current,40*(k.moonSize||1),V.current=zM(_,V.current,F.width,F.height))}if((k.id==="superBlueBloodMoon"||k.id==="brokenMoon"||k.id==="emptySky")&&c.current.length>0){const T=a.current;rM(_,c.current,T.x,T.y)}if(Zn(),k.specialEffect&&(k.specialEffect==="snow"&&h.current.length>0&&uM(_,h.current,F.width,F.height),k.specialEffect==="meteorShower"&&b.current.length>0&&mM(_,b.current,F.width,F.height),k.specialEffect==="frozenTime"&&v.current.length>0&&gM(_,v.current)),k.specialEffect==="voidRipples"){const T=a.current,ae=40*(k.moonSize||1);Math.random()<.015&&p.current.push(vM(T.x,T.y+Math.sin(T.phase)*3,ae)),p.current=wM(_,p.current,T.x,T.y)}ps(),s.current=requestAnimationFrame(er)};return er(),()=>{s.current&&cancelAnimationFrame(s.current),window.removeEventListener("scroll",qe)}},[k]);const te=z=>{if(!e.current||!k)return;const _=e.current.getBoundingClientRect(),J=(z.clientX-_.left)*window.devicePixelRatio,F=(z.clientY-_.top)*window.devicePixelRatio,_e=a.current,D=P.current.x*.8,ye=P.current.y*.8,Ce=_e.x+D,de=_e.y+Math.sin(_e.phase)*3+ye,ie=40,ve={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[k.rarity],qe=ie*(k.moonSize||1)*ve;if(Math.sqrt(Math.pow(J-Ce,2)+Math.pow(F-de,2))<qe*1.5){navigator.vibrate&&navigator.vibrate(20),i.current.push(Q0(Ce,de));const fn=J0(Ce,de,15);u.current=[...u.current,...fn]}};return l.jsxs("div",{className:"relative w-full h-[60vh] min-h-[400px] overflow-hidden",children:[l.jsx("canvas",{ref:e,onClick:te,className:"absolute inset-0 w-full h-full cursor-pointer",style:{width:"100%",height:"100%"}}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-6 pt-10",children:[l.jsx("h1",{className:`font-bold text-white mb-2 tracking-wide transition-all duration-500 ${(k==null?void 0:k.rarity)==="mythic"?"text-6xl":(k==null?void 0:k.rarity)==="legendary"||(k==null?void 0:k.rarity)==="very_rare"?"text-5xl":((k==null?void 0:k.rarity)==="rare","text-4xl")}`,style:{fontFamily:(k==null?void 0:k.rarity)==="mythic"?k.id==="superBloodMoon"?"'Cinzel', serif":k.id==="superBlueBloodMoon"?"'UnifrakturMaguntia', cursive":k.id==="lunarTransientPhenomena"?"'Orbitron', sans-serif":k.id==="hybridEclipse"?"'Spectral', serif":k.id==="stillMoon"?"'Abril Fatface', serif":k.id==="echoMoon"?"'Righteous', cursive":k.id==="brokenMoon"?"'Creepster', cursive":k.id==="emptySky"?"'Nosifer', cursive":k.id==="crystalMoon"?"'Poiret One', cursive":k.id==="shatteredMoon"?"'Creepster', cursive":"'Cinzel', serif":(k==null?void 0:k.rarity)==="legendary"?"'Playfair Display', serif":(k==null?void 0:k.rarity)==="very_rare"?"'Cormorant Garamond', serif":(k==null?void 0:k.rarity)==="rare"?k.id==="snowMoon"?"'Mountains of Christmas', cursive":"'Philosopher', sans-serif":"'Inter', sans-serif",textShadow:(k==null?void 0:k.rarity)==="mythic"?`0 0 5px ${k.uiAccent}99, 0 0 12px ${k.uiAccent}55, 0 3px 8px rgba(0, 0, 0, 0.8)`:(k==null?void 0:k.rarity)==="legendary"?`0 0 12px ${k.uiAccent}, 0 0 25px ${k.uiAccent}aa, 0 4px 10px rgba(0, 0, 0, 0.8)`:(k==null?void 0:k.rarity)==="very_rare"?`0 0 20px ${k.uiAccent}aa, 0 0 40px ${k.uiAccent}66, 0 4px 8px rgba(0, 0, 0, 0.6)`:(k==null?void 0:k.rarity)==="rare"?"0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 4px 8px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)",color:(k==null?void 0:k.rarity)==="mythic"||(k==null?void 0:k.rarity)==="legendary"?k.id==="emptySky"||k.id==="brokenMoon"?"#ffffff":k.uiAccent:"#ffffff",animation:(k==null?void 0:k.rarity)==="mythic"?"pulse 3s ease-in-out infinite":(k==null?void 0:k.rarity)==="legendary"?"pulse 4s ease-in-out infinite":"none"},children:"Dream book"}),k&&l.jsx("p",{className:`italic font-light transition-all duration-500 ${k.rarity==="mythic"?"text-xl":(k.rarity==="legendary","text-lg")}`,style:{fontFamily:k.rarity==="mythic"||k.rarity==="legendary"?"'Cormorant Garamond', serif":k.rarity==="very_rare"?"'Philosopher', sans-serif":"'Inter', sans-serif",textShadow:k.rarity==="mythic"?`0 0 12px ${k.uiAccent}aa, 0 0 25px ${k.uiAccent}44, 0 2px 6px rgba(0, 0, 0, 0.7)`:k.rarity==="legendary"?`0 0 15px ${k.uiAccent}99, 0 2px 5px rgba(0, 0, 0, 0.6)`:k.rarity==="very_rare"?`0 0 12px ${k.uiAccent}66, 0 2px 4px rgba(0, 0, 0, 0.5)`:"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)",color:k.rarity==="mythic"||k.rarity==="legendary"?k.uiAccent:"rgba(255, 255, 255, 0.95)"},children:k.subtitle})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background via-background/50 to-transparent pointer-events-none"})]})}function ce({className:e,...t}){return l.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",e),...t})}function sb({compact:e}){return e?l.jsxs("div",{className:"card-minimal flex items-center gap-3",children:[l.jsx(ce,{className:"w-10 h-10 rounded-full shrink-0"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(ce,{className:"h-4 w-24"}),l.jsx(ce,{className:"h-3 w-32"})]}),l.jsx(ce,{className:"h-6 w-6 rounded-full"})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"h-4 w-20"}),l.jsx(ce,{className:"h-5 w-5 rounded-full"})]}),l.jsx(ce,{className:"h-4 w-16"})]}),l.jsx(ce,{className:"h-5 w-32"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ce,{className:"h-5 w-16 rounded-full"}),l.jsx(ce,{className:"h-5 w-20 rounded-full"}),l.jsx(ce,{className:"h-5 w-14 rounded-full"})]}),l.jsx(ce,{className:"h-12 w-full"})]})}function YM(){return l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{className:"h-8 w-32"}),l.jsx(ce,{className:"h-4 w-48"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ce,{className:"h-[120px] w-full rounded-md"}),l.jsx(ce,{className:"h-10 w-full rounded-md"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:[...Array(3)].map((e,t)=>l.jsx(ce,{className:"h-12 w-full rounded-md"},t))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ce,{className:"h-5 w-24"}),l.jsx(ce,{className:"h-4 w-16"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((e,t)=>l.jsx(sb,{compact:!0},t))})]})]})}function QM({onRefresh:e,threshold:t=80,resistance:n=2.5}){const r=g.useRef(null),[s,a]=g.useState(0),[o,i]=g.useState(!1),[c,u]=g.useState(!1),d=g.useRef(0),f=g.useRef(0),h=g.useCallback(y=>{if(o)return;const b=r.current;b&&b.scrollTop<=0&&(d.current=y.touches[0].clientY,u(!0))},[o]),m=g.useCallback(y=>{if(!c||o)return;f.current=y.touches[0].clientY;const b=Math.max(0,(f.current-d.current)/n);b>0&&(y.preventDefault(),a(b))},[c,o,n]),x=g.useCallback(async()=>{if(!(!c||o)){if(u(!1),s>=t){i(!0),a(t);try{await e()}catch(y){console.error("Refresh failed:",y)}finally{i(!1),a(0)}}else a(0);d.current=0,f.current=0}},[c,o,s,t,e]);return g.useEffect(()=>{const y=r.current;if(y)return y.addEventListener("touchstart",h,{passive:!0}),y.addEventListener("touchmove",m,{passive:!1}),y.addEventListener("touchend",x,{passive:!0}),()=>{y.removeEventListener("touchstart",h),y.removeEventListener("touchmove",m),y.removeEventListener("touchend",x)}},[h,m,x]),{containerRef:r,pullDistance:s,isRefreshing:o,isPulling:c}}function ab({children:e,onRefresh:t,className:n}){const{containerRef:r,pullDistance:s,isRefreshing:a,isPulling:o}=QM({onRefresh:t,threshold:80}),i=Math.min(s/80,1),c=s>10||a;return l.jsxs("div",{ref:r,className:ue("relative overflow-auto",n),style:{touchAction:o?"none":"auto"},children:[l.jsx("div",{className:ue("absolute left-0 right-0 flex justify-center transition-all duration-200 z-10",c?"opacity-100":"opacity-0"),style:{top:-40+s,transform:`translateY(${Math.min(s,60)}px)`},children:l.jsx("div",{className:ue("flex items-center justify-center w-10 h-10 rounded-full","bg-primary/10 backdrop-blur-sm border border-primary/20","shadow-lg"),children:a?l.jsx(Nw,{className:"w-5 h-5 text-primary animate-spin"}):l.jsx(fk,{className:ue("w-5 h-5 text-primary transition-transform duration-200",i>=1&&"rotate-180"),style:{transform:`rotate(${i*180}deg)`,opacity:i}})})}),l.jsx("div",{style:{transform:`translateY(${a?60:s*.5}px)`,transition:o?"none":"transform 0.2s ease-out"},children:e})]})}const Dh=(e,t)=>t.some(n=>e instanceof n);let eg,tg;function JM(){return eg||(eg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XM(){return tg||(tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $h=new WeakMap,ad=new WeakMap,nu=new WeakMap;function ZM(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(yc(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return nu.set(t,e),t}function eR(e){if($h.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});$h.set(e,t)}let Lh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $h.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ob(e){Lh=e(Lh)}function tR(e){return XM().includes(e)?function(...t){return e.apply(Fh(this),t),yc(this.request)}:function(...t){return yc(e.apply(Fh(this),t))}}function nR(e){return typeof e=="function"?tR(e):(e instanceof IDBTransaction&&eR(e),Dh(e,JM())?new Proxy(e,Lh):e)}function yc(e){if(e instanceof IDBRequest)return ZM(e);if(ad.has(e))return ad.get(e);const t=nR(e);return t!==e&&(ad.set(e,t),nu.set(t,e)),t}const Fh=e=>nu.get(e),rR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],od=new Map;function ng(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(od.get(t))return od.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=sR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rR.includes(n)))return;const a=async function(o,...i){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(i.shift())),(await Promise.all([u[n](...i),s&&c.done]))[0]};return od.set(t,a),a}ob(e=>({...e,get:(t,n,r)=>ng(t,n)||e.get(t,n,r),has:(t,n)=>!!ng(t,n)||e.has(t,n)}));const aR=["continue","continuePrimaryKey","advance"],rg={},zh=new WeakMap,ib=new WeakMap,oR={get(e,t){if(!aR.includes(t))return e[t];let n=rg[t];return n||(n=rg[t]=function(...r){zh.set(this,ib.get(this)[t](...r))}),n}};async function*iR(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,oR);for(ib.set(n,t),nu.set(n,Fh(t));t;)yield n,t=await(zh.get(n)||t.continue()),zh.delete(n)}function sg(e,t){return t===Symbol.asyncIterator&&Dh(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Dh(e,[IDBIndex,IDBObjectStore])}ob(e=>({...e,get(t,n,r){return sg(t,n)?iR:e.get(t,n,r)},has(t,n){return sg(t,n)||e.has(t,n)}}));function lR(){return navigator.onLine}function cR(e){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}function uR(){const[e,t]=g.useState(lR());return g.useEffect(()=>cR(t),[]),e}function lb(){const e=uR(),[t,n]=g.useState(!1),[r,s]=g.useState(!1);return g.useEffect(()=>{if(!e)s(!0);else if(r){n(!0);const a=setTimeout(()=>{n(!1),s(!1)},3e3);return()=>clearTimeout(a)}},[e,r]),e&&!t?null:l.jsx("div",{className:ue("fixed top-16 left-1/2 -translate-x-1/2 z-50","flex items-center gap-2 px-4 py-2 rounded-full","text-sm font-medium shadow-lg","animate-in slide-in-from-top duration-300",e?"bg-green-500/90 text-white":"bg-yellow-500/90 text-yellow-950"),children:e?l.jsxs(l.Fragment,{children:[l.jsx(Rk,{className:"w-4 h-4"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(Mk,{className:"w-4 h-4"}),l.jsx("span",{children:""})]})})}function dR(){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl",children:""}),l.jsx("p",{className:"text-muted-foreground",children:""})]})}const hR=zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?b5:"button";return l.jsx(o,{className:ue(hR({variant:t,size:n,className:e})),ref:a,...s})});Re.displayName="Button";const ru=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ru.displayName="Textarea";const sn=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));sn.displayName="Input";const fR=zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...n}){return l.jsx("div",{className:ue(fR({variant:t}),e),...n})}function mR({suggestions:e,editing:t,analyzing:n,onToggleEdit:r,onConfirm:s,onCancel:a,onUpdate:o}){var i,c;return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pw,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"AI "})]}),l.jsx(Re,{variant:"ghost",size:"sm",onClick:r,children:t?l.jsx(oc,{className:"w-4 h-4"}):l.jsx(Jf,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),t?l.jsx(sn,{value:e.world,onChange:u=>o("world",u.target.value),className:"mt-1 h-8"}):l.jsx(Ae,{variant:"secondary",children:e.world})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsxs(Ae,{variant:e.threatLevel>=3?"destructive":"secondary",children:["Level ",e.threatLevel]})]}),((i=e.entities)==null?void 0:i.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Entities: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.entities.map((u,d)=>l.jsx(Ae,{variant:"outline",children:u},d))})]}),((c=e.environments)==null?void 0:c.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Environments: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.environments.map((u,d)=>l.jsx(Ae,{variant:"outline",children:u},d))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Re,{onClick:s,disabled:n,className:"flex-1 gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(jw,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(oc,{className:"w-4 h-4"}),""]})}),l.jsx(Re,{variant:"outline",onClick:a,children:l.jsx(Uc,{className:"w-4 h-4"})})]})]})}function pR({existingWorlds:e,existingEntities:t,onDreamSaved:n}){const[r,s]=g.useState(""),[a,o]=g.useState(!1),[i,c]=g.useState(null),[u,d]=g.useState(!1),[f,h]=g.useState(!1),m=async()=>{if(!r.trim()){Ut.error("");return}o(!0);try{const v=await GP(r,e,t,["fog","sea","mountain","city","tunnel","rain","night","sunset","forest","building"]);c(v),d(!0),Ut.success("! ")}catch(v){console.error("Error analyzing:",v),Ut.error("")}finally{o(!1)}},x=async()=>{if(i){o(!0);try{const v=new Date;if(await nb({date:v.toISOString().split("T")[0],wakeTime:v.toTimeString().slice(0,5),world:i.world||"Unknown",timeSystem:i.timeSystem||"unknown",environments:i.environments||[],entities:i.entities||[],threatLevel:i.threatLevel||0,safetyOverride:i.safetyOverride||"unknown",exit:i.exit||"unknown",notes:r})){Ut.success("! ",{description:`: ${i.world} | Threat: ${i.threatLevel}`}),s(""),c(null),d(!1),h(!1);const w=await Js();n(w.slice(0,5))}else Ut.error("")}catch(v){console.error("Error saving:",v),Ut.error("")}finally{o(!1)}}},y=()=>{d(!1),c(null),h(!1)},b=(v,p)=>{c(w=>w?{...w,[v]:p}:null)};return l.jsxs("div",{className:"space-y-3",children:[l.jsx(ru,{placeholder:"... ",value:r,onChange:v=>s(v.target.value),className:"min-h-[120px] resize-none",disabled:u}),u&&i&&l.jsx(mR,{suggestions:i,editing:f,analyzing:a,onToggleEdit:()=>h(!f),onConfirm:x,onCancel:y,onUpdate:b}),!u&&l.jsx(Re,{onClick:m,disabled:a||!r.trim(),className:"w-full gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx(jw,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Pw,{className:"w-4 h-4"}),""]})})]})}function gR(){return l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(Re,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(bt,{to:"/logs/new",children:[l.jsx(Cw,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:" ()"})]})}),l.jsx(Re,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(bt,{to:"/library",children:[l.jsx(Qf,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:""})]})}),l.jsx(Re,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(bt,{to:"/logs",children:[l.jsx(kk,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:""})]})})]})}const ag={0:{border:"border-l-4 border-l-muted-foreground/30",bg:"bg-card",badge:"bg-muted text-muted-foreground"},1:{border:"border-l-4 border-l-emerald-500",bg:"bg-gradient-to-r from-emerald-500/5 to-transparent",badge:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"},2:{border:"border-l-4 border-l-yellow-500",bg:"bg-gradient-to-r from-yellow-500/5 to-transparent",badge:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400"},3:{border:"border-l-4 border-l-orange-500",bg:"bg-gradient-to-r from-orange-500/8 to-transparent",badge:"bg-orange-500/20 text-orange-700 dark:text-orange-400"},4:{border:"border-l-4 border-l-red-500",bg:"bg-gradient-to-r from-red-500/10 to-transparent",badge:"bg-red-500/20 text-red-700 dark:text-red-400"},5:{border:"border-l-4 border-l-rose-600",bg:"bg-gradient-to-r from-rose-600/15 to-transparent",badge:"bg-rose-600/25 text-rose-700 dark:text-rose-400 font-semibold"}},yR={0:"",1:"",2:"",3:"",4:"",5:""};function cb({dream:e,compact:t,showEdit:n=!1}){const r=new Date(e.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),s=ag[e.threatLevel]||ag[0];return l.jsxs("div",{className:"relative group",children:[l.jsxs(bt,{to:`/logs/${e.id}`,className:ue("block rounded-lg p-4 transition-all duration-200","border border-border hover:border-primary/30","hover:shadow-md hover:-translate-y-0.5",s.border,s.bg),children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e.id}),l.jsxs("span",{className:ue("inline-flex items-center justify-center gap-1 px-2 py-0.5 text-xs rounded-full",s.badge),children:[l.jsx("span",{className:"text-[10px]",children:yR[e.threatLevel]}),e.threatLevel]})]}),l.jsx("p",{className:"font-medium truncate",children:e.world}),!t&&e.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.wakeTime})]})]}),!t&&e.environments.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.environments.slice(0,4).map(a=>l.jsx("span",{className:"tag",children:a},a)),e.environments.length>4&&l.jsxs("span",{className:"tag",children:["+",e.environments.length-4]})]})]}),n&&l.jsx(bt,{to:`/logs/${e.id}`,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>a.stopPropagation(),children:l.jsx(Re,{size:"icon",variant:"ghost",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",children:l.jsx(Jf,{className:"w-3 h-3"})})})]})}function vR({dreams:e}){return e.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Re,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(bt,{to:"/logs/new",children:""})})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsx(bt,{to:"/logs",className:"text-sm text-primary hover:underline",children:""})]}),l.jsx("div",{className:"space-y-2",children:e.map(t=>l.jsx(cb,{dream:t,compact:!0},t.id))})]})}function wR(){const[e,t]=g.useState([]),[n,r]=g.useState(!0),[s,a]=g.useState([]),[o,i]=g.useState([]),c=g.useCallback(async()=>{try{const[d,f,h]=await Promise.all([Js(),Ai(),tu()]);t(d.slice(0,5)),a(f.map(m=>m.name)),i(h.map(m=>m.name))}catch(d){console.error("Error loading data:",d)}finally{r(!1)}},[]);g.useEffect(()=>{c()},[c]);const u=g.useCallback(async()=>{await c(),Ut.success("")},[c]);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(lb,{}),l.jsx(KM,{}),l.jsx(ab,{onRefresh:u,className:"flex-1",children:l.jsxs("div",{className:"space-y-8 py-4 container-app",children:[l.jsx(dR,{}),l.jsx(pR,{existingWorlds:s,existingEntities:o,onDreamSaved:t}),l.jsx(gR,{}),n?l.jsx(YM,{}):l.jsx(vR,{dreams:e})]})}),l.jsx(Xc,{})]})}function og(e,[t,n]){return Math.min(n,Math.max(t,e))}var xR=g.createContext(void 0);function xm(e){const t=g.useContext(xR);return e||t||"ltr"}var id=0;function bR(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ig()),document.body.insertAdjacentElement("beforeend",e[1]??ig()),id++,()=>{id===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),id--}},[])}function ig(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ld="focusScope.autoFocusOnMount",cd="focusScope.autoFocusOnUnmount",lg={bubbles:!1,cancelable:!0},SR="FocusScope",ub=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[i,c]=g.useState(null),u=hn(s),d=hn(a),f=g.useRef(null),h=Ie(t,y=>c(y)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(w){if(m.paused||!i)return;const S=w.target;i.contains(S)?f.current=S:Pr(f.current,{select:!0})},b=function(w){if(m.paused||!i)return;const S=w.relatedTarget;S!==null&&(i.contains(S)||Pr(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Pr(i)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const p=new MutationObserver(v);return i&&p.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),p.disconnect()}}},[r,i,m.paused]),g.useEffect(()=>{if(i){ug.add(m);const y=document.activeElement;if(!i.contains(y)){const v=new CustomEvent(ld,lg);i.addEventListener(ld,u),i.dispatchEvent(v),v.defaultPrevented||(kR(NR(db(i)),{select:!0}),document.activeElement===y&&Pr(i))}return()=>{i.removeEventListener(ld,u),setTimeout(()=>{const v=new CustomEvent(cd,lg);i.addEventListener(cd,d),i.dispatchEvent(v),v.defaultPrevented||Pr(y??document.body,{select:!0}),i.removeEventListener(cd,d),ug.remove(m)},0)}}},[i,u,d,m]);const x=g.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const p=y.currentTarget,[w,S]=ER(p);w&&S?!y.shiftKey&&v===S?(y.preventDefault(),n&&Pr(w,{select:!0})):y.shiftKey&&v===w&&(y.preventDefault(),n&&Pr(S,{select:!0})):v===p&&y.preventDefault()}},[n,r,m.paused]);return l.jsx(me.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});ub.displayName=SR;function kR(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pr(r,{select:t}),document.activeElement!==n)return}function ER(e){const t=db(e),n=cg(t,e),r=cg(t.reverse(),e);return[n,r]}function db(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cg(e,t){for(const n of e)if(!_R(n,{upTo:t}))return n}function _R(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jR(e){return e instanceof HTMLInputElement&&"select"in e}function Pr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jR(e)&&t&&e.select()}}var ug=CR();function CR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dg(e,t),e.unshift(t)},remove(t){var n;e=dg(e,t),(n=e[0])==null||n.resume()}}}function dg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function NR(e){return e.filter(t=>t.tagName!=="A")}function hb(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var TR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oa=new WeakMap,dl=new WeakMap,hl={},ud=0,fb=function(e){return e&&(e.host||fb(e.parentNode))},PR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MR=function(e,t,n,r){var s=PR(t,Array.isArray(e)?e:[e]);hl[n]||(hl[n]=new WeakMap);var a=hl[n],o=[],i=new Set,c=new Set(s),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",y=(oa.get(h)||0)+1,b=(a.get(h)||0)+1;oa.set(h,y),a.set(h,b),o.push(h),y===1&&x&&dl.set(h,!0),b===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),i.clear(),ud++,function(){o.forEach(function(f){var h=oa.get(f)-1,m=a.get(f)-1;oa.set(f,h),a.set(f,m),h||(dl.has(f)||f.removeAttribute(r),dl.delete(f)),m||f.removeAttribute(n)}),ud--,ud||(oa=new WeakMap,oa=new WeakMap,dl=new WeakMap,hl={})}},RR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=TR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),MR(r,s,n,"aria-hidden")):function(){return null}},Rl="right-scroll-bar-position",Ol="width-before-scroll-bar",OR="with-scroll-bars-hidden",AR="--removed-body-scroll-bar-size";function dd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IR(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var DR=typeof window<"u"?g.useLayoutEffect:g.useEffect,hg=new WeakMap;function $R(e,t){var n=IR(null,function(r){return e.forEach(function(s){return dd(s,r)})});return DR(function(){var r=hg.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(i){a.has(i)||dd(i,null)}),a.forEach(function(i){s.has(i)||dd(i,o)})}hg.set(n,e)},[e]),n}function LR(e){return e}function FR(e,t){t===void 0&&(t=LR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var i=n;n=[],i.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function zR(e){e===void 0&&(e={});var t=FR(null);return t.options=Vn({async:!0,ssr:!1},e),t}var mb=function(e){var t=e.sideCar,n=uo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Vn({},n))};mb.isSideCarExport=!0;function BR(e,t){return e.useMedium(t),mb}var pb=zR(),hd=function(){},su=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:hd,onWheelCapture:hd,onTouchMoveCapture:hd}),s=r[0],a=r[1],o=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,y=e.inert,b=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,w=e.gapMode,S=uo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,j=$R([n,t]),C=Vn(Vn({},S),s);return g.createElement(g.Fragment,null,d&&g.createElement(E,{sideCar:pb,removeScrollBar:u,shards:f,noRelative:m,noIsolation:x,inert:y,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(i),Vn(Vn({},C),{ref:j})):g.createElement(p,Vn({},C,{className:c,ref:j}),i))});su.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};su.classNames={fullWidth:Ol,zeroRight:Rl};var UR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UR();return t&&e.setAttribute("nonce",t),e}function VR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WR())&&(VR(t,n),HR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qR=function(){var e=GR();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gb=function(){var e=qR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},KR={left:0,top:0,right:0,gap:0},fd=function(e){return parseInt(e||"",10)||0},YR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fd(n),fd(r),fd(s)]},QR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KR;var t=YR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},JR=gb(),Da="data-scroll-locked",XR=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(OR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rl,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ol,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Da,`] {
    `).concat(AR,": ").concat(i,`px;
  }
`)},fg=function(){var e=parseInt(document.body.getAttribute(Da)||"0",10);return isFinite(e)?e:0},ZR=function(){g.useEffect(function(){return document.body.setAttribute(Da,(fg()+1).toString()),function(){var e=fg()-1;e<=0?document.body.removeAttribute(Da):document.body.setAttribute(Da,e.toString())}},[])},eO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;ZR();var a=g.useMemo(function(){return QR(s)},[s]);return g.createElement(JR,{styles:XR(a,!t,s,n?"":"!important")})},Bh=!1;if(typeof window<"u")try{var fl=Object.defineProperty({},"passive",{get:function(){return Bh=!0,!0}});window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Bh=!1}var ia=Bh?{passive:!1}:!1,tO=function(e){return e.tagName==="TEXTAREA"},yb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!tO(e)&&n[t]==="visible")},nO=function(e){return yb(e,"overflowY")},rO=function(e){return yb(e,"overflowX")},mg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vb(e,r);if(s){var a=wb(e,r),o=a[1],i=a[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vb=function(e,t){return e==="v"?nO(t):rO(t)},wb=function(e,t){return e==="v"?sO(t):aO(t)},oO=function(e,t){return e==="h"&&t==="rtl"?-1:1},iO=function(e,t,n,r,s){var a=oO(e,window.getComputedStyle(t).direction),o=a*r,i=n.target,c=t.contains(i),u=!1,d=o>0,f=0,h=0;do{if(!i)break;var m=wb(e,i),x=m[0],y=m[1],b=m[2],v=y-b-a*x;(x||v)&&vb(e,i)&&(f+=v,h+=x);var p=i.parentNode;i=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pg=function(e){return[e.deltaX,e.deltaY]},gg=function(e){return e&&"current"in e?e.current:e},lO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uO=0,la=[];function dO(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(uO++)[0],a=g.useState(gb)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=cN([e.lockRef.current],(e.shards||[]).map(gg),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=g.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=ml(y),p=n.current,w="deltaX"in y?y.deltaX:p[0]-v[0],S="deltaY"in y?y.deltaY:p[1]-v[1],E,j=y.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var N=mg(C,j);if(!N)return!0;if(N?E=C:(E=C==="v"?"h":"v",N=mg(C,j)),!N)return!1;if(!r.current&&"changedTouches"in y&&(w||S)&&(r.current=E),!E)return!0;var M=r.current||E;return iO(M,b,y,M==="h"?w:S)},[]),c=g.useCallback(function(y){var b=y;if(!(!la.length||la[la.length-1]!==a)){var v="deltaY"in b?pg(b):ml(b),p=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&lO(E.delta,v)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(gg).filter(Boolean).filter(function(E){return E.contains(b.target)}),S=w.length>0?i(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(y,b,v,p){var w={name:y,delta:b,target:v,should:p,shadowParent:hO(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=g.useCallback(function(y){n.current=ml(y),r.current=void 0},[]),f=g.useCallback(function(y){u(y.type,pg(y),y.target,i(y,e.lockRef.current))},[]),h=g.useCallback(function(y){u(y.type,ml(y),y.target,i(y,e.lockRef.current))},[]);g.useEffect(function(){return la.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ia),document.addEventListener("touchmove",c,ia),document.addEventListener("touchstart",d,ia),function(){la=la.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,ia),document.removeEventListener("touchmove",c,ia),document.removeEventListener("touchstart",d,ia)}},[]);var m=e.removeScrollBar,x=e.inert;return g.createElement(g.Fragment,null,x?g.createElement(a,{styles:cO(s)}):null,m?g.createElement(eO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fO=BR(pb,dO);var xb=g.forwardRef(function(e,t){return g.createElement(su,Vn({},e,{ref:t,sideCar:fO}))});xb.classNames=su.classNames;var mO=[" ","Enter","ArrowUp","ArrowDown"],pO=[" ","Enter"],Hs="Select",[au,ou,gO]=Vf(Hs),[ho]=us(Hs,[gO,Gc]),iu=Gc(),[yO,fs]=ho(Hs),[vO,wO]=ho(Hs),bb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:i,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,y=iu(t),[b,v]=g.useState(null),[p,w]=g.useState(null),[S,E]=g.useState(!1),j=xm(u),[C,N]=Za({prop:r,defaultProp:s??!1,onChange:a,caller:Hs}),[M,O]=Za({prop:o,defaultProp:i,onChange:c,caller:Hs}),V=g.useRef(null),L=b?x||!!b.closest("form"):!0,[Y,I]=g.useState(new Set),Q=Array.from(Y).map(W=>W.props.value).join(";");return l.jsx(mj,{...y,children:l.jsxs(yO,{required:m,scope:t,trigger:b,onTriggerChange:v,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Pi(),value:M,onValueChange:O,open:C,onOpenChange:N,dir:j,triggerPointerDownPosRef:V,disabled:h,children:[l.jsx(au.Provider,{scope:t,children:l.jsx(vO,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(W=>{I(q=>new Set(q).add(W))},[]),onNativeOptionRemove:g.useCallback(W=>{I(q=>{const P=new Set(q);return P.delete(W),P})},[]),children:n})}),L?l.jsxs(Hb,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:W=>O(W.target.value),disabled:h,form:x,children:[M===void 0?l.jsx("option",{value:""}):null,Array.from(Y)]},Q):null]})})};bb.displayName=Hs;var Sb="SelectTrigger",kb=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=iu(n),o=fs(Sb,n),i=o.disabled||r,c=Ie(t,o.onTriggerChange),u=ou(n),d=g.useRef("touch"),[f,h,m]=qb(y=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===o.value),p=Kb(b,y,v);p!==void 0&&o.onValueChange(p.value)}),x=y=>{i||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(cx,{asChild:!0,...a,children:l.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Gb(o.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:se(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:se(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(b&&y.key===" ")&&mO.includes(y.key)&&(x(),y.preventDefault())})})})});kb.displayName=Sb;var Eb="SelectValue",_b=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...i}=e,c=fs(Eb,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ie(t,c.onValueNodeChange);return mt(()=>{u(d)},[u,d]),l.jsx(me.span,{...i,ref:f,style:{pointerEvents:"none"},children:Gb(c.value)?l.jsx(l.Fragment,{children:o}):a})});_b.displayName=Eb;var xO="SelectIcon",jb=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});jb.displayName=xO;var bO="SelectPortal",Cb=e=>l.jsx(Hf,{asChild:!0,...e});Cb.displayName=bO;var Gs="SelectContent",Nb=g.forwardRef((e,t)=>{const n=fs(Gs,e.__scopeSelect),[r,s]=g.useState();if(mt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Ys.createPortal(l.jsx(Tb,{scope:e.__scopeSelect,children:l.jsx(au.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(Pb,{...e,ref:t})});Nb.displayName=Gs;var xn=10,[Tb,ms]=ho(Gs),SO="SelectContentImpl",kO=oi("SelectContent.RemoveScroll"),Pb=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:b,...v}=e,p=fs(Gs,n),[w,S]=g.useState(null),[E,j]=g.useState(null),C=Ie(t,D=>S(D)),[N,M]=g.useState(null),[O,V]=g.useState(null),L=ou(n),[Y,I]=g.useState(!1),Q=g.useRef(!1);g.useEffect(()=>{if(w)return RR(w)},[w]),bR();const W=g.useCallback(D=>{const[ye,...Ce]=L().map(ve=>ve.ref.current),[de]=Ce.slice(-1),ie=document.activeElement;for(const ve of D)if(ve===ie||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ye&&E&&(E.scrollTop=0),ve===de&&E&&(E.scrollTop=E.scrollHeight),ve==null||ve.focus(),document.activeElement!==ie))return},[L,E]),q=g.useCallback(()=>W([N,w]),[W,N,w]);g.useEffect(()=>{Y&&q()},[Y,q]);const{onOpenChange:P,triggerPointerDownPosRef:k}=p;g.useEffect(()=>{if(w){let D={x:0,y:0};const ye=de=>{var ie,ve;D={x:Math.abs(Math.round(de.pageX)-(((ie=k.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ve=k.current)==null?void 0:ve.y)??0))}},Ce=de=>{D.x<=10&&D.y<=10?de.preventDefault():w.contains(de.target)||P(!1),document.removeEventListener("pointermove",ye),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[w,P,k]),g.useEffect(()=>{const D=()=>P(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[P]);const[U,te]=qb(D=>{const ye=L().filter(ie=>!ie.disabled),Ce=ye.find(ie=>ie.ref.current===document.activeElement),de=Kb(ye,D,Ce);de&&setTimeout(()=>de.ref.current.focus())}),z=g.useCallback((D,ye,Ce)=>{const de=!Q.current&&!Ce;(p.value!==void 0&&p.value===ye||de)&&(M(D),de&&(Q.current=!0))},[p.value]),_=g.useCallback(()=>w==null?void 0:w.focus(),[w]),J=g.useCallback((D,ye,Ce)=>{const de=!Q.current&&!Ce;(p.value!==void 0&&p.value===ye||de)&&V(D)},[p.value]),F=r==="popper"?Uh:Mb,_e=F===Uh?{side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return l.jsx(Tb,{scope:n,content:w,viewport:E,onViewportChange:j,itemRefCallback:z,selectedItem:N,onItemLeave:_,itemTextRefCallback:J,focusSelectedItem:q,selectedItemText:O,position:r,isPositioned:Y,searchRef:U,children:l.jsx(xb,{as:kO,allowPinchZoom:!0,children:l.jsx(ub,{asChild:!0,trapped:p.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:se(s,D=>{var ye;(ye=p.trigger)==null||ye.focus({preventScroll:!0}),D.preventDefault()}),children:l.jsx($c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:l.jsx(F,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:D=>D.preventDefault(),...v,..._e,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:se(v.onKeyDown,D=>{const ye=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!ye&&D.key.length===1&&te(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let de=L().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(D.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const ie=D.target,ve=de.indexOf(ie);de=de.slice(ve+1)}setTimeout(()=>W(de)),D.preventDefault()}})})})})})})});Pb.displayName=SO;var EO="SelectItemAlignedPosition",Mb=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=fs(Gs,n),o=ms(Gs,n),[i,c]=g.useState(null),[u,d]=g.useState(null),f=Ie(t,C=>d(C)),h=ou(n),m=g.useRef(!1),x=g.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:p}=o,w=g.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&u&&y&&b&&v){const C=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(a.dir!=="rtl"){const ie=O.left-N.left,ve=M.left-ie,qe=C.left-ve,kt=C.width+qe,fn=Math.max(kt,N.width),In=window.innerWidth-xn,Zn=og(ve,[xn,Math.max(xn,In-fn)]);i.style.minWidth=kt+"px",i.style.left=Zn+"px"}else{const ie=N.right-O.right,ve=window.innerWidth-M.right-ie,qe=window.innerWidth-C.right-ve,kt=C.width+qe,fn=Math.max(kt,N.width),In=window.innerWidth-xn,Zn=og(ve,[xn,Math.max(xn,In-fn)]);i.style.minWidth=kt+"px",i.style.right=Zn+"px"}const V=h(),L=window.innerHeight-xn*2,Y=y.scrollHeight,I=window.getComputedStyle(u),Q=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),q=parseInt(I.borderBottomWidth,10),P=parseInt(I.paddingBottom,10),k=Q+W+Y+P+q,U=Math.min(b.offsetHeight*5,k),te=window.getComputedStyle(y),z=parseInt(te.paddingTop,10),_=parseInt(te.paddingBottom,10),J=C.top+C.height/2-xn,F=L-J,_e=b.offsetHeight/2,D=b.offsetTop+_e,ye=Q+W+D,Ce=k-ye;if(ye<=J){const ie=V.length>0&&b===V[V.length-1].ref.current;i.style.bottom="0px";const ve=u.clientHeight-y.offsetTop-y.offsetHeight,qe=Math.max(F,_e+(ie?_:0)+ve+q),kt=ye+qe;i.style.height=kt+"px"}else{const ie=V.length>0&&b===V[0].ref.current;i.style.top="0px";const qe=Math.max(J,Q+y.offsetTop+(ie?z:0)+_e)+Ce;i.style.height=qe+"px",y.scrollTop=ye-J+y.offsetTop}i.style.margin=`${xn}px 0`,i.style.minHeight=U+"px",i.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,i,u,y,b,v,a.dir,r]);mt(()=>w(),[w]);const[S,E]=g.useState();mt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const j=g.useCallback(C=>{C&&x.current===!0&&(w(),p==null||p(),x.current=!1)},[w,p]);return l.jsx(jO,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Mb.displayName=EO;var _O="SelectPopperPosition",Uh=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=xn,...a}=e,o=iu(n);return l.jsx(ux,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uh.displayName=_O;var[jO,bm]=ho(Gs,{}),Wh="SelectViewport",Rb=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ms(Wh,n),o=bm(Wh,n),i=Ie(t,a.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(au.Slot,{scope:n,children:l.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-xn*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(y,b);if(v<x){const p=v+m,w=Math.min(x,p),S=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Rb.displayName=Wh;var Ob="SelectGroup",[CO,NO]=ho(Ob),TO=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Pi();return l.jsx(CO,{scope:n,id:s,children:l.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});TO.displayName=Ob;var Ab="SelectLabel",Ib=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=NO(Ab,n);return l.jsx(me.div,{id:s.id,...r,ref:t})});Ib.displayName=Ab;var vc="SelectItem",[PO,Db]=ho(vc),$b=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,i=fs(vc,n),c=ms(vc,n),u=i.value===r,[d,f]=g.useState(a??""),[h,m]=g.useState(!1),x=Ie(t,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,r,s)}),y=Pi(),b=g.useRef("touch"),v=()=>{s||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(PO,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:l.jsx(au.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(me.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:se(o.onFocus,()=>m(!0)),onBlur:se(o.onBlur,()=>m(!1)),onClick:se(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:se(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:se(o.onPointerDown,p=>{b.current=p.pointerType}),onPointerMove:se(o.onPointerMove,p=>{var w;b.current=p.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:se(o.onKeyDown,p=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&p.key===" "||(pO.includes(p.key)&&v(),p.key===" "&&p.preventDefault())})})})})});$b.displayName=vc;var Po="SelectItemText",Lb=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=fs(Po,n),i=ms(Po,n),c=Db(Po,n),u=wO(Po,n),[d,f]=g.useState(null),h=Ie(t,v=>f(v),c.onItemTextChange,v=>{var p;return(p=i.itemTextRefCallback)==null?void 0:p.call(i,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return mt(()=>(y(x),()=>b(x)),[y,b,x]),l.jsxs(l.Fragment,{children:[l.jsx(me.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ys.createPortal(a.children,o.valueNode):null]})});Lb.displayName=Po;var Fb="SelectItemIndicator",zb=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Db(Fb,n).isSelected?l.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});zb.displayName=Fb;var Vh="SelectScrollUpButton",Bb=g.forwardRef((e,t)=>{const n=ms(Vh,e.__scopeSelect),r=bm(Vh,e.__scopeSelect),[s,a]=g.useState(!1),o=Ie(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(Wb,{...e,ref:o,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});Bb.displayName=Vh;var Hh="SelectScrollDownButton",Ub=g.forwardRef((e,t)=>{const n=ms(Hh,e.__scopeSelect),r=bm(Hh,e.__scopeSelect),[s,a]=g.useState(!1),o=Ie(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(Wb,{...e,ref:o,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});Ub.displayName=Hh;var Wb=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ms("SelectScrollButton",n),o=g.useRef(null),i=ou(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),mt(()=>{var d;const u=i().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),l.jsx(me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),MO="SelectSeparator",Vb=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});Vb.displayName=MO;var Gh="SelectArrow",RO=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=iu(n),a=fs(Gh,n),o=ms(Gh,n);return a.open&&o.position==="popper"?l.jsx(dx,{...s,...r,ref:t}):null});RO.displayName=Gh;var OO="SelectBubbleInput",Hb=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),a=Ie(r,s),o=hb(t);return g.useEffect(()=>{const i=s.current;if(!i)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[o,t]),l.jsx(me.select,{...n,style:{...Zv,...n.style},ref:a,defaultValue:t})});Hb.displayName=OO;function Gb(e){return e===""||e===void 0}function qb(e){const t=hn(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const i=n.current+o;t(i),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Kb(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=AO(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function AO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IO=bb,Yb=kb,DO=_b,$O=jb,LO=Cb,Qb=Nb,FO=Rb,Jb=Ib,Xb=$b,zO=Lb,BO=zb,Zb=Bb,e1=Ub,t1=Vb;const on=IO,ln=DO,qt=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Yb,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx($O,{asChild:!0,children:l.jsx(Es,{className:"h-4 w-4 opacity-50"})})]}));qt.displayName=Yb.displayName;const n1=g.forwardRef(({className:e,...t},n)=>l.jsx(Zb,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ua,{className:"h-4 w-4"})}));n1.displayName=Zb.displayName;const r1=g.forwardRef(({className:e,...t},n)=>l.jsx(e1,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Es,{className:"h-4 w-4"})}));r1.displayName=e1.displayName;const Kt=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(LO,{children:l.jsxs(Qb,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(n1,{}),l.jsx(FO,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(r1,{})]})}));Kt.displayName=Qb.displayName;const UO=g.forwardRef(({className:e,...t},n)=>l.jsx(Jb,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));UO.displayName=Jb.displayName;const dt=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Xb,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(BO,{children:l.jsx(oc,{className:"h-4 w-4"})})}),l.jsx(zO,{children:t})]}));dt.displayName=Xb.displayName;const WO=g.forwardRef(({className:e,...t},n)=>l.jsx(t1,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));WO.displayName=t1.displayName;const md=["fog","sea","mountain","city","tunnel","rain","night","sunset"],Sm=["inactive","activated","unknown"],km=["none","helper","separation","wake","unknown"],s1=["wake","separation","collapse","unknown"];function VO(){const[e,t]=g.useState([]),[n,r]=g.useState([]),[s,a]=g.useState(!0),[o,i]=g.useState(!1),[c,u]=g.useState(""),[d,f]=g.useState("all"),[h,m]=g.useState("all"),[x,y]=g.useState("all"),[b,v]=g.useState("all"),p=g.useCallback(async()=>{try{const[E,j]=await Promise.all([Js(),Ai()]);t(E),r(j)}catch(E){console.error("Error loading data:",E)}finally{a(!1)}},[]);g.useEffect(()=>{p()},[p]);const w=g.useCallback(async()=>{await p(),Ut.success("")},[p]),S=e.filter(E=>{var j;if(c){const C=c.toLowerCase();if(!(E.world.toLowerCase().includes(C)||((j=E.notes)==null?void 0:j.toLowerCase().includes(C))||E.entities.some(M=>M.toLowerCase().includes(C))||E.environments.some(M=>M.toLowerCase().includes(C))))return!1}return!(d!=="all"&&E.world!==d||h!=="all"&&E.threatLevel!==Number(h)||x!=="all"&&E.timeSystem!==x||b!=="all"&&E.safetyOverride!==b)});return s?l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{children:"Dream Logs"})}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((E,j)=>l.jsx(sb,{},j))})]}):l.jsxs(ab,{onRefresh:w,className:"h-full",children:[l.jsx(lb,{}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{children:"Dream Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>i(!o),children:l.jsx(wk,{className:"w-4 h-4"})}),l.jsx(Re,{asChild:!0,size:"sm",children:l.jsxs(bt,{to:"/logs/new",children:[l.jsx(Cw,{className:"w-4 h-4 mr-1"}),"New"]})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(sn,{type:"text",placeholder:" dreams... (world, notes, entities, environments)",value:c,onChange:E=>u(E.target.value),className:"pl-9 pr-9"}),c&&l.jsx(Re,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>u(""),children:l.jsx(Uc,{className:"w-3 h-3"})})]}),o&&l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(on,{value:d,onValueChange:f,children:[l.jsx(qt,{className:"text-sm",children:l.jsx(ln,{placeholder:"World"})}),l.jsxs(Kt,{children:[l.jsx(dt,{value:"all",children:"All Worlds"}),n.map(E=>l.jsx(dt,{value:E.name,children:E.name},E.id))]})]}),l.jsxs(on,{value:h,onValueChange:m,children:[l.jsx(qt,{className:"text-sm",children:l.jsx(ln,{placeholder:"Threat"})}),l.jsxs(Kt,{children:[l.jsx(dt,{value:"all",children:"All Threats"}),[0,1,2,3,4,5].map(E=>l.jsxs(dt,{value:String(E),children:["Level ",E]},E))]})]}),l.jsxs(on,{value:x,onValueChange:y,children:[l.jsx(qt,{className:"text-sm",children:l.jsx(ln,{placeholder:"Time System"})}),l.jsxs(Kt,{children:[l.jsx(dt,{value:"all",children:"All"}),Sm.map(E=>l.jsx(dt,{value:E,children:E},E))]})]}),l.jsxs(on,{value:b,onValueChange:v,children:[l.jsx(qt,{className:"text-sm",children:l.jsx(ln,{placeholder:"Safety"})}),l.jsxs(Kt,{children:[l.jsx(dt,{value:"all",children:"All"}),km.map(E=>l.jsx(dt,{value:E,children:E},E))]})]})]})]}),l.jsx("div",{className:"space-y-2",children:S.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Re,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(bt,{to:"/logs/new",children:""})})]}):S.map(E=>l.jsx(cb,{dream:E,showEdit:!0},E.id))})]})]})}var HO="Label",a1=g.forwardRef((e,t)=>l.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));a1.displayName=HO;var o1=a1;const GO=zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wn=g.forwardRef(({className:e,...t},n)=>l.jsx(o1,{ref:n,className:ue(GO(),e),...t}));wn.displayName=o1.displayName;var lu="Checkbox",[qO]=us(lu),[KO,Em]=qO(lu);function YO(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:i,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Za({prop:n,defaultProp:s??!1,onChange:c,caller:lu}),[x,y]=g.useState(null),[b,v]=g.useState(null),p=g.useRef(!1),w=x?!!o||!!x.closest("form"):!0,S={checked:h,disabled:a,setChecked:m,control:x,setControl:y,name:i,form:o,value:d,hasConsumerStoppedPropagationRef:p,required:u,defaultChecked:es(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:v};return l.jsx(KO,{scope:t,...S,children:QO(f)?f(S):r})}var i1="CheckboxTrigger",l1=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:o,disabled:i,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:x}=Em(i1,e),y=Ie(s,d),b=g.useRef(c);return g.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const p=()=>f(b.current);return v.addEventListener("reset",p),()=>v.removeEventListener("reset",p)}},[a,f]),l.jsx(me.button,{type:"button",role:"checkbox","aria-checked":es(c)?"mixed":c,"aria-required":u,"data-state":f1(c),"data-disabled":i?"":void 0,disabled:i,value:o,...r,ref:y,onKeyDown:se(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:se(n,v=>{f(p=>es(p)?!0:!p),x&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});l1.displayName=i1;var _m=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:i,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(YO,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:i,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(l1,{...f,ref:t,__scopeCheckbox:n}),h&&l.jsx(h1,{__scopeCheckbox:n})]})})});_m.displayName=lu;var c1="CheckboxIndicator",u1=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Em(c1,n);return l.jsx(Ni,{present:r||es(a.checked)||a.checked===!0,children:l.jsx(me.span,{"data-state":f1(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});u1.displayName=c1;var d1="CheckboxBubbleInput",h1=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:i,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Em(d1,e),x=Ie(n,m),y=hb(a),b=Zw(r);g.useEffect(()=>{const p=h;if(!p)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(y!==a&&E){const C=new Event("click",{bubbles:j});p.indeterminate=es(a),E.call(p,es(a)?!1:a),p.dispatchEvent(C)}},[h,y,a,s]);const v=g.useRef(es(a)?!1:a);return l.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:i,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h1.displayName=d1;function QO(e){return typeof e=="function"}function es(e){return e==="indeterminate"}function f1(e){return es(e)?"indeterminate":e?"checked":"unchecked"}const m1=g.forwardRef(({className:e,...t},n)=>l.jsx(_m,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(u1,{className:ue("flex items-center justify-center text-current"),children:l.jsx(oc,{className:"h-4 w-4"})})}));m1.displayName=_m.displayName;function JO(){const e=fm(),[t,n]=g.useState([]),[r,s]=g.useState([]),[a,o]=g.useState(!1),[i,c]=g.useState({date:new Date().toISOString().split("T")[0],wakeTime:"",world:"",newWorld:"",timeSystem:"unknown",environments:[],newEnvironment:"",selectedEntities:[],newEntity:"",threatLevel:0,safetyOverride:"none",exit:"unknown",notes:""});g.useEffect(()=>{(async()=>{const[m,x]=await Promise.all([Ai(),tu()]);n(m.map(y=>({id:y.id,name:y.name}))),s(x.map(y=>({id:y.id,name:y.name})))})()},[]);const u=async h=>{h.preventDefault(),o(!0);try{const m=i.newWorld||i.world,x=[...i.selectedEntities];i.newEntity&&x.push(i.newEntity);const y=[...i.environments];i.newEnvironment&&y.push(i.newEnvironment),await nb({date:i.date,wakeTime:i.wakeTime,world:m,timeSystem:i.timeSystem,environments:y,entities:x,threatLevel:i.threatLevel,safetyOverride:i.safetyOverride,exit:i.exit,notes:i.notes||void 0})?(Tl({title:""}),e("/logs")):Tl({title:"",variant:"destructive"})}catch(m){console.error("Error saving dream:",m),Tl({title:"",variant:"destructive"})}finally{o(!1)}},d=h=>{c(m=>({...m,environments:m.environments.includes(h)?m.environments.filter(x=>x!==h):[...m.environments,h]}))},f=h=>{c(m=>({...m,selectedEntities:m.selectedEntities.includes(h)?m.selectedEntities.filter(x=>x!==h):[...m.selectedEntities,h]}))};return l.jsxs("div",{className:"py-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(Sw,{className:"w-4 h-4"})}),l.jsx("h1",{children:""})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{htmlFor:"date",children:"Date"}),l.jsx(sn,{id:"date",type:"date",value:i.date,onChange:h=>c(m=>({...m,date:h.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{htmlFor:"wakeTime",children:"Wake Time"}),l.jsx(sn,{id:"wakeTime",type:"time",value:i.wakeTime,onChange:h=>c(m=>({...m,wakeTime:h.target.value})),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"World"}),l.jsxs(on,{value:i.world,onValueChange:h=>c(m=>({...m,world:h})),children:[l.jsx(qt,{children:l.jsx(ln,{placeholder:"Select or create new"})}),l.jsx(Kt,{children:t.map(h=>l.jsx(dt,{value:h.name,children:h.name},h.id))})]}),l.jsx(sn,{placeholder:"...",value:i.newWorld,onChange:h=>c(m=>({...m,newWorld:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"Time System"}),l.jsxs(on,{value:i.timeSystem,onValueChange:h=>c(m=>({...m,timeSystem:h})),children:[l.jsx(qt,{children:l.jsx(ln,{})}),l.jsx(Kt,{children:Sm.map(h=>l.jsx(dt,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"Environments"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:md.map(h=>l.jsx("button",{type:"button",onClick:()=>d(h),className:`tag transition-colors ${i.environments.includes(h)?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,children:h},h))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(sn,{type:"text",placeholder:" environment ...",value:i.newEnvironment,onChange:h=>c({...i,newEnvironment:h.target.value}),className:"flex-1"}),l.jsx(Re,{type:"button",variant:"outline",size:"sm",disabled:!i.newEnvironment,onClick:()=>{i.newEnvironment&&!i.environments.includes(i.newEnvironment)&&c(h=>({...h,environments:[...h.environments,h.newEnvironment],newEnvironment:""}))},children:""})]}),i.environments.filter(h=>!md.includes(h)).length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:i.environments.filter(h=>!md.includes(h)).map(h=>l.jsx("button",{type:"button",onClick:()=>d(h),className:"tag bg-primary text-primary-foreground",children:h},h))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"Entities"}),l.jsx("div",{className:"space-y-2",children:r.map(h=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(m1,{id:h.id,checked:i.selectedEntities.includes(h.name),onCheckedChange:()=>f(h.name)}),l.jsx("label",{htmlFor:h.id,className:"text-sm",children:h.name})]},h.id))}),l.jsx(sn,{placeholder:" entity ...",value:i.newEntity,onChange:h=>c(m=>({...m,newEntity:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(wn,{children:["Threat Level: ",i.threatLevel]}),l.jsx("input",{type:"range",min:"0",max:"5",value:i.threatLevel,onChange:h=>c(m=>({...m,threatLevel:Number(h.target.value)})),className:"w-full accent-primary"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"Safety Override"}),l.jsxs(on,{value:i.safetyOverride,onValueChange:h=>c(m=>({...m,safetyOverride:h})),children:[l.jsx(qt,{children:l.jsx(ln,{})}),l.jsx(Kt,{children:km.map(h=>l.jsx(dt,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{children:"Exit"}),l.jsxs(on,{value:i.exit,onValueChange:h=>c(m=>({...m,exit:h})),children:[l.jsx(qt,{children:l.jsx(ln,{})}),l.jsx(Kt,{children:s1.map(h=>l.jsx(dt,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(wn,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(ru,{id:"notes",placeholder:"...",value:i.notes,onChange:h=>c(m=>({...m,notes:h.target.value})),className:"min-h-[80px]"})]}),l.jsx(Re,{type:"submit",className:"w-full",disabled:a,children:a?"...":""})]})]})}const XO={0:"bg-muted text-muted-foreground",1:"bg-yellow-100 text-yellow-800",2:"bg-orange-100 text-orange-800",3:"bg-orange-200 text-orange-900",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};function ZO(){const{id:e}=AC(),t=fm(),[n,r]=g.useState(null),[s,a]=g.useState(!0),[o,i]=g.useState(!1),[c,u]=g.useState(!1),[d,f]=g.useState({world:"",threatLevel:0,timeSystem:"unknown",safetyOverride:"unknown",exit:"unknown",environments:[],entities:[],notes:""});g.useEffect(()=>{(async()=>{try{const w=(await Js()).find(S=>S.id===e);r(w||null),w&&f({world:w.world,threatLevel:w.threatLevel,timeSystem:w.timeSystem,safetyOverride:w.safetyOverride,exit:w.exit,environments:w.environments,entities:w.entities,notes:w.notes||""})}catch(p){console.error("Error loading dream:",p)}finally{a(!1)}})()},[e]);const h=()=>{i(!0)},m=()=>{n&&f({world:n.world,threatLevel:n.threatLevel,timeSystem:n.timeSystem,safetyOverride:n.safetyOverride,exit:n.exit,environments:n.environments,entities:n.entities,notes:n.notes||""}),i(!1)},x=async()=>{if(n){u(!0);try{const v=await WP(n.id,d);v?(r(v),i(!1),Ut.success("")):Ut.error("")}catch(v){console.error("Error saving:",v),Ut.error("")}finally{u(!1)}}},y=async()=>{n&&confirm("?")&&(await VP(n.id)?(Ut.success(""),t("/logs")):Ut.error(""))};if(s)return l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."});if(!n)return l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-muted-foreground",children:""}),l.jsx(Re,{asChild:!0,variant:"link",className:"mt-2 p-0",children:l.jsx(bt,{to:"/logs",children:""})})]});const b=new Date(n.date).toLocaleDateString("th-TH",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:l.jsx(Sw,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:n.id})]}),l.jsx("div",{className:"flex gap-1",children:o?l.jsxs(l.Fragment,{children:[l.jsx(Re,{variant:"ghost",size:"icon",onClick:m,disabled:c,children:l.jsx(Uc,{className:"w-4 h-4"})}),l.jsx(Re,{size:"icon",onClick:x,disabled:c,children:l.jsx(jk,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Re,{variant:"ghost",size:"icon",onClick:h,children:l.jsx(Jf,{className:"w-4 h-4"})}),l.jsx(Re,{variant:"ghost",size:"icon",onClick:y,children:l.jsx(Tk,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{children:[o?l.jsx(sn,{value:d.world,onChange:v=>f(p=>({...p,world:v.target.value})),className:"text-xl font-semibold mb-2",placeholder:""}):l.jsx("h1",{className:"text-xl mb-1",children:n.world}),l.jsxs("p",{className:"text-muted-foreground",children:[b,"  ",n.wakeTime]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Threat Level"}),o?l.jsxs(on,{value:String(d.threatLevel),onValueChange:v=>f(p=>({...p,threatLevel:Number(v)})),children:[l.jsx(qt,{className:"h-8",children:l.jsx(ln,{})}),l.jsx(Kt,{children:[0,1,2,3,4,5].map(v=>l.jsxs(dt,{value:String(v),children:["Level ",v]},v))})]}):l.jsx("span",{className:`threat-badge text-lg ${XO[n.threatLevel]}`,children:n.threatLevel})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Time System"}),o?l.jsxs(on,{value:d.timeSystem,onValueChange:v=>f(p=>({...p,timeSystem:v})),children:[l.jsx(qt,{className:"h-8",children:l.jsx(ln,{})}),l.jsx(Kt,{children:Sm.map(v=>l.jsx(dt,{value:v,children:v},v))})]}):l.jsx("p",{className:"font-medium",children:n.timeSystem})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Safety Override"}),o?l.jsxs(on,{value:d.safetyOverride,onValueChange:v=>f(p=>({...p,safetyOverride:v})),children:[l.jsx(qt,{className:"h-8",children:l.jsx(ln,{})}),l.jsx(Kt,{children:km.map(v=>l.jsx(dt,{value:v,children:v},v))})]}):l.jsx("p",{className:"font-medium",children:n.safetyOverride})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Exit"}),o?l.jsxs(on,{value:d.exit,onValueChange:v=>f(p=>({...p,exit:v})),children:[l.jsx(qt,{className:"h-8",children:l.jsx(ln,{})}),l.jsx(Kt,{children:s1.map(v=>l.jsx(dt,{value:v,children:v},v))})]}):l.jsx("p",{className:"font-medium",children:n.exit})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Environments"}),o?l.jsx(sn,{value:d.environments.join(", "),onChange:v=>f(p=>({...p,environments:v.target.value.split(",").map(w=>w.trim()).filter(Boolean)})),placeholder:"fog, sea, mountain ()"}):n.environments.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.environments.map(v=>l.jsx("span",{className:"tag",children:v},v))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Entities"}),o?l.jsx(sn,{value:d.entities.join(", "),onChange:v=>f(p=>({...p,entities:v.target.value.split(",").map(w=>w.trim()).filter(Boolean)})),placeholder:"Entity1, Entity2 ()"}):n.entities.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.entities.map(v=>l.jsx("span",{className:"tag-accent",children:v},v))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),o?l.jsx(ru,{value:d.notes,onChange:v=>f(p=>({...p,notes:v.target.value})),className:"min-h-[120px]",placeholder:"..."}):n.notes?l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.notes}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})]})}function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function br(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function p1(e,t){const n=Ue(e);return isNaN(t)?br(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const g1=6048e5,eA=864e5;let tA={};function cu(){return tA}function Tn(e,t){var i,c,u,d;const n=cu(),r=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ue(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function wc(e){return Tn(e,{weekStartsOn:1})}function y1(e){const t=Ue(e),n=t.getFullYear(),r=br(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=wc(r),a=br(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=wc(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function xc(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function yg(e){const t=Ue(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function nA(e,t){const n=xc(e),r=xc(t),s=+n-yg(n),a=+r-yg(r);return Math.round((s-a)/eA)}function rA(e){const t=y1(e),n=br(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wc(n)}function sA(e,t){const n=t*7;return p1(e,n)}function jm(e){return br(e,Date.now())}function aA(e,t){const n=xc(e),r=xc(t);return+n==+r}function oA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function iA(e){if(!oA(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function lA(e,t){const n=Ue(e.start),r=Ue(e.end);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let i=1;const c=[];for(;+o<=a;)c.push(Ue(o)),o.setDate(o.getDate()+i),o.setHours(0,0,0,0);return s?c.reverse():c}function cA(e,t){const n=Ue(e.start),r=Ue(e.end);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let i=1;const c=[];for(;+o<=a;)c.push(Ue(o)),o.setMonth(o.getMonth()+i);return s?c.reverse():c}function uA(e,t){const n=Ue(e.start),r=Ue(e.end);let s=+n>+r;const a=Tn(s?r:n,t),o=Tn(s?n:r,t);a.setHours(15),o.setHours(15);const i=+o.getTime();let c=a,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,s=!s);const d=[];for(;+c<=i;)c.setHours(0),d.push(Ue(c)),c=sA(c,u),c.setHours(15);return s?d.reverse():d}function dA(e){const t=Ue(e),n=br(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const hA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fA=(e,t,n)=>{let r;const s=hA[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $a(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yA={date:$a({formats:mA,defaultWidth:"full"}),time:$a({formats:pA,defaultWidth:"full"}),dateTime:$a({formats:gA,defaultWidth:"full"})},vA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wA=(e,t,n,r)=>vA[e];function Hn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{const o=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[i]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const xA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_A={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jA=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},CA={ordinalNumber:jA,era:Hn({values:xA,defaultWidth:"wide"}),quarter:Hn({values:bA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:SA,defaultWidth:"wide"}),day:Hn({values:kA,defaultWidth:"wide"}),dayPeriod:Hn({values:EA,defaultWidth:"wide",formattingValues:_A,defaultFormattingWidth:"wide"})};function Gn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?TA(i,f=>f.test(o)):NA(i,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function NA(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function TA(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function v1(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const i=t.slice(s.length);return{value:o,rest:i}}}const PA=/^(\d+)(th|st|nd|rd)?/i,MA=/\d+/i,RA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OA={any:[/^b/i,/^(a|c)/i]},AA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IA={any:[/1/i,/2/i,/3/i,/4/i]},DA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$A={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UA={ordinalNumber:v1({matchPattern:PA,parsePattern:MA,valueCallback:e=>parseInt(e,10)}),era:Gn({matchPatterns:RA,defaultMatchWidth:"wide",parsePatterns:OA,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:AA,defaultMatchWidth:"wide",parsePatterns:IA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gn({matchPatterns:DA,defaultMatchWidth:"wide",parsePatterns:$A,defaultParseWidth:"any"}),day:Gn({matchPatterns:LA,defaultMatchWidth:"wide",parsePatterns:FA,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:zA,defaultMatchWidth:"any",parsePatterns:BA,defaultParseWidth:"any"})},WA={code:"en-US",formatDistance:fA,formatLong:yA,formatRelative:wA,localize:CA,match:UA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VA(e){const t=Ue(e);return nA(t,dA(t))+1}function HA(e){const t=Ue(e),n=+wc(t)-+rA(t);return Math.round(n/g1)+1}function w1(e,t){var d,f,h,m;const n=Ue(e),r=n.getFullYear(),s=cu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=br(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const i=Tn(o,t),c=br(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Tn(c,t);return n.getTime()>=i.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function GA(e,t){var i,c,u,d;const n=cu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=w1(e,t),a=br(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Tn(a,t)}function qA(e,t){const n=Ue(e),r=+Tn(n,t)-+GA(n,t);return Math.round(r/g1)+1}function ke(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Nr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ke(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ke(n+1,2)},d(e,t){return ke(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ke(e.getHours()%12||12,t.length)},H(e,t){return ke(e.getHours(),t.length)},m(e,t){return ke(e.getMinutes(),t.length)},s(e,t){return ke(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ke(s,t.length)}},ca={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Nr.y(e,t)},Y:function(e,t,n,r){const s=w1(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return ke(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ke(a,t.length)},R:function(e,t){const n=y1(e);return ke(n,t.length)},u:function(e,t){const n=e.getFullYear();return ke(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ke(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ke(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Nr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ke(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=qA(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ke(s,t.length)},I:function(e,t,n){const r=HA(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ke(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Nr.d(e,t)},D:function(e,t,n){const r=VA(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ke(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ke(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ke(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ke(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ca.noon:r===0?s=ca.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ca.evening:r>=12?s=ca.afternoon:r>=4?s=ca.morning:s=ca.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Nr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ke(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ke(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Nr.s(e,t)},S:function(e,t){return Nr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xg(r);case"XXXX":case"XX":return ks(r);case"XXXXX":case"XXX":default:return ks(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xg(r);case"xxxx":case"xx":return ks(r);case"xxxxx":case"xxx":default:return ks(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wg(r,":");case"OOOO":default:return"GMT"+ks(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wg(r,":");case"zzzz":default:return"GMT"+ks(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ke(r,t.length)},T:function(e,t,n){const r=e.getTime();return ke(r,t.length)}};function wg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+ke(a,2)}function xg(e,t){return e%60===0?(e>0?"-":"+")+ke(Math.abs(e)/60,2):ks(e,t)}function ks(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ke(Math.trunc(r/60),2),a=ke(r%60,2);return n+s+t+a}const bg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},x1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},KA=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return bg(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",bg(r,t)).replace("{{time}}",x1(s,t))},YA={p:x1,P:KA},QA=/^D+$/,JA=/^Y+$/,XA=["D","DD","YY","YYYY"];function ZA(e){return QA.test(e)}function e4(e){return JA.test(e)}function t4(e,t,n){const r=n4(e,t,n);if(console.warn(r),XA.includes(e))throw new RangeError(r)}function n4(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a4=/^'([^]*?)'?$/,o4=/''/g,i4=/[a-zA-Z]/;function wt(e,t,n){var d,f,h,m,x,y,b,v;const r=cu(),s=(n==null?void 0:n.locale)??r.locale??WA,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,i=Ue(e);if(!iA(i))throw new RangeError("Invalid time value");let c=t.match(s4).map(p=>{const w=p[0];if(w==="p"||w==="P"){const S=YA[w];return S(p,s.formatLong)}return p}).join("").match(r4).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:l4(p)};if(vg[w])return{isToken:!0,value:p};if(w.match(i4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(c=s.localize.preprocessor(i,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(p=>{if(!p.isToken)return p.value;const w=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&e4(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ZA(w))&&t4(w,t,String(e));const S=vg[w[0]];return S(i,w,s.localize,u)}).join("")}function l4(e){const t=e.match(a4);return t?t[1].replace(o4,"'"):e}function c4(e,t,n){const r=Tn(e,n),s=Tn(t,n);return+r==+s}function u4(e,t){const n=Ue(e),r=Ue(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function d4(e){return u4(e,jm(e))}function h4(e,t){return c4(e,jm(e),t)}function f4(e){return aA(e,jm(e))}function m4(e,t){return p1(e,-t)}const p4={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},g4=(e,t,n)=>{let r;const s=p4[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e==="halfAMinute"?""+r:" "+r:r+"":r},y4={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},v4={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},w4={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x4={date:$a({formats:y4,defaultWidth:"full"}),time:$a({formats:v4,defaultWidth:"medium"}),dateTime:$a({formats:w4,defaultWidth:"full"})},b4={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},S4=(e,t,n,r)=>b4[e],k4={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},E4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},_4={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},j4={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},C4={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},N4={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},T4=(e,t)=>String(e),P4={ordinalNumber:T4,era:Hn({values:k4,defaultWidth:"wide"}),quarter:Hn({values:E4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:j4,defaultWidth:"wide"}),day:Hn({values:_4,defaultWidth:"wide"}),dayPeriod:Hn({values:C4,defaultWidth:"wide",formattingValues:N4,defaultFormattingWidth:"wide"})},M4=/^\d+/i,R4=/\d+/i,O4={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},A4={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},I4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},D4={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},$4={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},L4={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},F4={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},z4={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},B4={any:/^(||||(.*?)?.*(||||))/i},U4={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},W4={ordinalNumber:v1({matchPattern:M4,parsePattern:R4,valueCallback:e=>parseInt(e,10)}),era:Gn({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:A4,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:D4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gn({matchPatterns:$4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any"}),day:Gn({matchPatterns:F4,defaultMatchWidth:"wide",parsePatterns:z4,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:B4,defaultMatchWidth:"any",parsePatterns:U4,defaultParseWidth:"any"})},os={code:"th",formatDistance:g4,formatLong:x4,formatRelative:S4,localize:P4,match:W4,options:{weekStartsOn:0,firstWeekContainsDate:1}},Sg=[{gradient:["#1e3a8a","#1e40af","#3b82f6"],particles:"#60a5fa"},{gradient:["#581c87","#7c3aed","#a855f7"],particles:"#c084fc"},{gradient:["#c2410c","#ea580c","#f97316"],particles:"#fb923c"},{gradient:["#065f46","#059669","#10b981"],particles:"#34d399"}];function V4(e){const t=e.split("").reduce((n,r)=>n+r.charCodeAt(0),0);return Sg[t%Sg.length]}function Eo({dream:e}){var a,o;const t=g.useRef(null),n=g.useRef([]),r=g.useRef(),s=V4(e.id);return g.useEffect(()=>{const i=t.current;if(!i)return;const c=i.getContext("2d");if(!c)return;(()=>{const h=i.getBoundingClientRect();i.width=h.width*window.devicePixelRatio,i.height=h.height*window.devicePixelRatio,c.scale(window.devicePixelRatio,window.devicePixelRatio)})(),(()=>{const h=[],m=i.getBoundingClientRect();for(let x=0;x<30;x++)h.push({x:Math.random()*m.width,y:Math.random()*m.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,opacity:Math.random()*.5+.3});n.current=h})();const f=()=>{const h=i.getBoundingClientRect();c.clearRect(0,0,h.width,h.height);const m=c.createLinearGradient(0,0,0,h.height);m.addColorStop(0,s.gradient[0]),m.addColorStop(.5,s.gradient[1]),m.addColorStop(1,s.gradient[2]),c.fillStyle=m,c.fillRect(0,0,h.width,h.height),n.current.forEach(x=>{x.x+=x.vx,x.y+=x.vy,x.x<0&&(x.x=h.width),x.x>h.width&&(x.x=0),x.y<0&&(x.y=h.height),x.y>h.height&&(x.y=0),c.beginPath(),c.arc(x.x,x.y,x.size,0,Math.PI*2),c.fillStyle=`${s.particles}${Math.floor(x.opacity*255).toString(16).padStart(2,"0")}`,c.fill()}),r.current=requestAnimationFrame(f)};return f(),()=>{r.current&&cancelAnimationFrame(r.current)}},[s]),(o=(a=e.world)==null?void 0:a[0])!=null&&o.toUpperCase(),l.jsx(bt,{to:`/logs/${e.id}`,className:"group block",children:l.jsxs("div",{className:"aspect-[2/3] rounded-lg overflow-hidden relative shadow-lg hover:shadow-2xl transition-all duration-500 group-hover:scale-[1.03]",children:[l.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full",style:{width:"100%",height:"100%"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-6",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center px-2",children:l.jsx("h3",{className:"font-bold text-2xl sm:text-3xl text-center leading-tight text-white drop-shadow-2xl uppercase tracking-wider line-clamp-3",children:e.world||"Unknown"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60",children:[l.jsx("div",{className:"h-px w-8 bg-white/50"}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-white/50"}),l.jsx("div",{className:"h-px w-8 bg-white/50"})]}),l.jsx("p",{className:"text-xs text-white/80 font-light tracking-wide text-center uppercase",children:wt(new Date(e.date),"d MMM yyyy",{locale:os})})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/0 to-transparent group-hover:via-white/20 transition-all duration-700 transform translate-x-full group-hover:translate-x-0"})]})})}function H4(){return l.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden",children:l.jsx(ce,{className:"w-full h-full"})})}function G4(){return l.jsxs("div",{className:"bg-card rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ce,{className:"w-1 h-8 rounded-full"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ce,{className:"h-4 w-20"}),l.jsx(ce,{className:"h-3 w-16"})]})]}),l.jsx(ce,{className:"w-5 h-5 rounded"})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>l.jsx(H4,{},t))})})]})}function q4(){return l.jsx("div",{className:"space-y-4 p-4",children:[...Array(3)].map((e,t)=>l.jsx(G4,{},t))})}function K4(){hs();const[e,t]=g.useState(""),[n,r]=g.useState("date"),[s,a]=g.useState([]),[o,i]=g.useState(!0),[c,u]=g.useState({today:!0,thisWeek:!0,thisMonth:!0,older:!1}),[d,f]=g.useState(null);g.useEffect(()=>{const p=gc();f(p)},[]);const h=()=>{QP();const p=gc();f(p),wm(p)};g.useEffect(()=>{(async()=>{try{const w=await Js();a(w)}catch(w){console.error("Error loading data:",w)}finally{i(!1)}})()},[]);const m=e?s.filter(p=>{var w;return p.world.toLowerCase().includes(e.toLowerCase())||p.entities.some(S=>S.toLowerCase().includes(e.toLowerCase()))||((w=p.notes)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))}):s,x=()=>{const p=[],w=[],S=[],E=[];return m.forEach(j=>{const C=new Date(j.date);f4(C)?p.push(j):h4(C,{weekStartsOn:1})?w.push(j):d4(C)?S.push(j):E.push(j)}),{today:p,thisWeek:w,thisMonth:S,older:E}},y=()=>{const p={};return m.forEach(w=>{const S=w.world||"Unknown World";p[S]||(p[S]=[]),p[S].push(w)}),Object.entries(p).sort((w,S)=>S[1].length-w[1].length)},b=p=>{u(w=>({...w,[p]:!w[p]}))},v=p=>{u(w=>({...w,[p]:!w[p]}))};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Dream Library"}),d&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:d.uiAccent}}),d.name]}),l.jsxs("span",{className:"opacity-60",children:["(",d.rarity,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Re,{variant:"outline",size:"sm",onClick:h,className:"h-8 px-2",title:"",children:l.jsx(Ck,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.length," "]})]})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(sn,{placeholder:"...",value:e,onChange:p=>t(p.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r("date"),className:ue("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="date"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(Ew,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>r("world"),className:ue("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="world"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(Gp,{className:"w-4 h-4"}),""]})]})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:o?l.jsx(q4,{}):m.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground px-4",children:[l.jsx(Qf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):n==="date"?l.jsxs("div",{className:"space-y-4 p-4",children:[x().today.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("today"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-primary rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[x().today.length," "]})]})]}),c.today?l.jsx(ua,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Es,{className:"w-5 h-5 text-muted-foreground"})]}),c.today&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:x().today.map(p=>l.jsx(Eo,{dream:p},p.id))})})]}),x().thisWeek.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("thisWeek"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-blue-500 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[x().thisWeek.length," "]})]})]}),c.thisWeek?l.jsx(ua,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Es,{className:"w-5 h-5 text-muted-foreground"})]}),c.thisWeek&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:x().thisWeek.map(p=>l.jsx(Eo,{dream:p},p.id))})})]}),x().thisMonth.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("thisMonth"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-emerald-500 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[x().thisMonth.length," "]})]})]}),c.thisMonth?l.jsx(ua,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Es,{className:"w-5 h-5 text-muted-foreground"})]}),c.thisMonth&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:x().thisMonth.map(p=>l.jsx(Eo,{dream:p},p.id))})})]}),x().older.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("older"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-muted-foreground/50 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[x().older.length," "]})]})]}),c.older?l.jsx(ua,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Es,{className:"w-5 h-5 text-muted-foreground"})]}),c.older&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:x().older.map(p=>l.jsx(Eo,{dream:p},p.id))})})]})]}):l.jsx("div",{className:"space-y-4 p-4",children:y().map(([p,w])=>l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>v(p),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Gp,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:p}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.length," "]})]})]}),c[p]?l.jsx(ua,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(Es,{className:"w-5 h-5 text-muted-foreground"})]}),c[p]&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:w.map(S=>l.jsx(Eo,{dream:S},S.id))})})]},p))})}),l.jsx(Xc,{})]})}var pd="rovingFocusGroup.onEntryFocus",Y4={bubbles:!1,cancelable:!0},Ii="RovingFocusGroup",[qh,b1,Q4]=Vf(Ii),[J4,S1]=us(Ii,[Q4]),[X4,Z4]=J4(Ii),k1=g.forwardRef((e,t)=>l.jsx(qh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(eI,{...e,ref:t})})}));k1.displayName=Ii;var eI=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),m=Ie(t,h),x=xm(a),[y,b]=Za({prop:o,defaultProp:i??null,onChange:c,caller:Ii}),[v,p]=g.useState(!1),w=hn(u),S=b1(n),E=g.useRef(!1),[j,C]=g.useState(0);return g.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(pd,w),()=>N.removeEventListener(pd,w)},[w]),l.jsx(X4,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(N=>b(N),[b]),onItemShiftTab:g.useCallback(()=>p(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>C(N=>N-1),[]),children:l.jsx(me.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{E.current=!0}),onFocus:se(e.onFocus,N=>{const M=!E.current;if(N.target===N.currentTarget&&M&&!v){const O=new CustomEvent(pd,Y4);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=S().filter(W=>W.focusable),L=V.find(W=>W.active),Y=V.find(W=>W.id===y),Q=[L,Y,...V].filter(Boolean).map(W=>W.ref.current);j1(Q,d)}}E.current=!1}),onBlur:se(e.onBlur,()=>p(!1))})})}),E1="RovingFocusGroupItem",_1=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:o,...i}=e,c=Pi(),u=a||c,d=Z4(E1,n),f=d.currentTabStopId===u,h=b1(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:y}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),l.jsx(qh.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=rI(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?sI(w,S+1):w.slice(S+1)}setTimeout(()=>j1(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});_1.displayName=E1;var tI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rI(e,t,n){const r=nI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tI[r]}function j1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function sI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aI=k1,oI=_1,uu="Tabs",[iI]=us(uu,[S1]),C1=S1(),[lI,Cm]=iI(uu),N1=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=xm(i),[f,h]=Za({prop:r,onChange:s,defaultProp:a??"",caller:uu});return l.jsx(lI,{scope:n,baseId:Pi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:t})})});N1.displayName=uu;var T1="TabsList",P1=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Cm(T1,n),o=C1(n);return l.jsx(aI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(me.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});P1.displayName=T1;var M1="TabsTrigger",R1=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Cm(M1,n),i=C1(n),c=I1(o.baseId,r),u=D1(o.baseId,r),d=r===o.value;return l.jsx(oI,{asChild:!0,...i,focusable:!s,active:d,children:l.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});R1.displayName=M1;var O1="TabsContent",A1=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,i=Cm(O1,n),c=I1(i.baseId,r),u=D1(i.baseId,r),d=r===i.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Ni,{present:s||d,children:({present:h})=>l.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});A1.displayName=O1;function I1(e,t){return`${e}-trigger-${t}`}function D1(e,t){return`${e}-content-${t}`}var cI=N1,$1=P1,L1=R1,F1=A1;const uI=cI,z1=g.forwardRef(({className:e,...t},n)=>l.jsx($1,{ref:n,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));z1.displayName=$1.displayName;const Al=g.forwardRef(({className:e,...t},n)=>l.jsx(L1,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Al.displayName=L1.displayName;const Il=g.forwardRef(({className:e,...t},n)=>l.jsx(F1,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Il.displayName=F1.displayName;function kg({dreams:e,mode:t}){const n=g.useMemo(()=>{if(e.length===0)return[];const s=[...e].sort((i,c)=>new Date(i.date).getTime()-new Date(c.date).getTime()),a=new Date(s[0].date),o=new Date(s[s.length-1].date);return t==="week"?uA({start:a,end:o},{weekStartsOn:1}).map(c=>{const u=new Date(c);u.setDate(u.getDate()+6);const d=e.filter(f=>{const h=new Date(f.date);return h>=c&&h<=u}).length;return{label:wt(c,"d MMM",{locale:os}),count:d,period:c}}).slice(-12):cA({start:a,end:o}).map(c=>{const u=new Date(c);u.setMonth(u.getMonth()+1),u.setDate(0);const d=e.filter(f=>{const h=new Date(f.date);return h>=c&&h<=u}).length;return{label:wt(c,"MMM yy",{locale:os}),count:d,period:c}}).slice(-12)},[e,t]),r=Math.max(...n.map(s=>s.count),1);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yf,{className:"w-4 h-4 text-primary"}),l.jsxs("h2",{className:"text-sm font-semibold",children:[" (",t==="week"?"":"",")"]})]}),l.jsxs("div",{className:"space-y-2",children:[n.map((s,a)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:s.label}),l.jsxs("span",{className:"font-semibold",children:[s.count," "]})]}),l.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s.count/r*100}%`}})})]},a)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})]})}function dI({dreams:e}){const t=g.useMemo(()=>{const n=new Set(["","","","","","","","","","","","","","","","","","","","","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","is","was","were"]),r=new Map;e.forEach(c=>{[c.notes||"",...c.environments,...c.entities,c.world].join(" ").split(/[\s,.:;!?()[\]{}]+/).filter(f=>f.length>2&&!n.has(f.toLowerCase())).map(f=>f.toLowerCase()).forEach(f=>{r.set(f,(r.get(f)||0)+1)})});const s=Array.from(r.entries()).map(([c,u])=>({word:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,30);if(s.length===0)return[];const a=Math.max(...s.map(c=>c.count)),o=Math.min(...s.map(c=>c.count)),i=a-o||1;return s.map(({word:c,count:u})=>({word:c,count:u,size:12+(u-o)/i*24}))},[e]);return t.length===0?l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Hp,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:""})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hp,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center items-center py-4 min-h-[200px]",children:t.map(({word:n,count:r,size:s})=>l.jsx("span",{className:"cursor-default hover:text-primary transition-colors",style:{fontSize:`${s}px`,fontWeight:Math.round(300+s/36*400),opacity:.6+s/36*.4},title:`${r} `,children:n},n))})]})}function hI({dreams:e}){const t=g.useMemo(()=>{const n=new Map;return e.forEach(r=>{[...r.environments,...r.entities,r.world,r.timeSystem,r.safetyOverride].forEach(a=>{a&&a!=="unknown"&&a!=="none"&&n.set(a,(n.get(a)||0)+1)})}),Array.from(n.entries()).map(([r,s])=>({tag:r,count:s})).sort((r,s)=>s.count-r.count).slice(0,20)},[e]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nk,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:""})]}),t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(({tag:n,count:r})=>l.jsxs(Ae,{variant:"secondary",className:"text-xs px-3 py-1 gap-2",children:[l.jsx("span",{children:n}),l.jsx("span",{className:"text-primary font-semibold",children:r})]},n))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function fI({dreams:e}){const t=g.useMemo(()=>{const r=[...e].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime()),s=Array.from({length:14},(c,u)=>{const d=m4(new Date,u),f=r.filter(m=>wt(new Date(m.date),"yyyy-MM-dd")===wt(d,"yyyy-MM-dd")),h=f.length>0?f.reduce((m,x)=>m+x.threatLevel,0)/f.length:0;return{date:d,label:wt(d,"d MMM",{locale:os}),avgThreat:h,count:f.length}}).reverse(),a=s.slice(-7).filter(c=>c.count>0).reduce((c,u,d,f)=>c+u.avgThreat/f.length,0),o=s.slice(0,7).filter(c=>c.count>0).reduce((c,u,d,f)=>c+u.avgThreat/f.length,0),i=a-o;return{data:s,trend:i,recentAvg:a,previousAvg:o}},[e]),n=Math.max(...t.data.map(r=>r.avgThreat),5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(li,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Trends"})]}),t.trend!==0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t.trend>0?"text-red-500":t.trend<0?"text-green-500":"text-muted-foreground"}`,children:[t.trend>0?l.jsx(li,{className:"w-3 h-3"}):t.trend<0?l.jsx(Pk,{className:"w-3 h-3"}):l.jsx(Sk,{className:"w-3 h-3"}),l.jsx("span",{children:Math.abs(t.trend).toFixed(2)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.recentAvg.toFixed(2)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.previousAvg.toFixed(2)})]})]}),l.jsx("div",{className:"space-y-2",children:t.data.map((r,s)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:r.label}),l.jsx("span",{className:`font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.count>0?r.avgThreat.toFixed(1):"-"})]}),r.count>0&&l.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${r.avgThreat>=4?"bg-red-500":r.avgThreat>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${r.avgThreat/n*100}%`}})})]},s))})]})}function mI({dreams:e,entities:t}){const n=g.useMemo(()=>{const s=new Map;e.forEach(i=>{i.environments.forEach(c=>{s.set(c,(s.get(c)||0)+1)})});const a=new Map;e.forEach(i=>{if(i.entities.length>=2){const c=i.entities.sort().join(" + ");a.set(c,(a.get(c)||0)+1)}});const o=new Map;for(let i=0;i<e.length-1;i++){const c=`${e[i].world}  ${e[i+1].world}`;o.set(c,(o.get(c)||0)+1)}return{recurringEnvs:Array.from(s.entries()).filter(([i,c])=>c>=3).map(([i,c])=>({env:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,5),recurringCombos:Array.from(a.entries()).filter(([i,c])=>c>=2).map(([i,c])=>({combo:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,3),worldPatterns:Array.from(o.entries()).filter(([i,c])=>c>=2).map(([i,c])=>({seq:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,3)}},[e]),r=n.recurringEnvs.length>0||n.recurringCombos.length>0||n.worldPatterns.length>0;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_k,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Recurring Patterns"})]}),r?l.jsxs("div",{className:"space-y-4",children:[n.recurringEnvs.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringEnvs.map(({env:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:s}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.recurringCombos.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringCombos.map(({combo:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.worldPatterns.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.worldPatterns.map(({seq:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function pI({dreams:e,entities:t}){const n=g.useMemo(()=>{const s=new Map;return t.forEach(a=>{const o=a.dreamIds.length;if(o>=2){const i=e.filter(c=>a.dreamIds.includes(c.id)).sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime())[0];s.set(a.name,{count:o,role:a.role,lastSeen:(i==null?void 0:i.date)||""})}}),Array.from(s.entries()).map(([a,o])=>({name:a,...o})).sort((a,o)=>o.count-a.count).slice(0,10)},[e,t]),r=g.useMemo(()=>n.filter(s=>s.count>=3).map(s=>` "${s.name}"  ${s.count} !`),[n]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Entities "})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((s,a)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50/50 dark:bg-blue-950/20 border border-blue-500/50 rounded-lg",children:[l.jsx(gk,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:s})]},a))}),n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(({name:s,count:a,role:o})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:o})]}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" entities "})]})}function gI({dreams:e}){const t=g.useMemo(()=>{if(e.length===0)return{currentStreak:0,longestStreak:0,totalDays:0,streakDays:[]};const r=[...e].sort((x,y)=>new Date(y.date).getTime()-new Date(x.date).getTime()),s=new Set(r.map(x=>wt(new Date(x.date),"yyyy-MM-dd")));let a=0,o=new Date;for(o.setHours(0,0,0,0);s.has(wt(o,"yyyy-MM-dd"));)a++,o.setDate(o.getDate()-1);if(a===0&&(o=new Date,o.setDate(o.getDate()-1),o.setHours(0,0,0,0),s.has(wt(o,"yyyy-MM-dd"))))for(a=1,o.setDate(o.getDate()-1);s.has(wt(o,"yyyy-MM-dd"));)a++,o.setDate(o.getDate()-1);const i=new Date(r[r.length-1].date),c=new Date(r[0].date),u=lA({start:i,end:c});let d=0,f=0;u.forEach(x=>{s.has(wt(x,"yyyy-MM-dd"))?(f++,d=Math.max(d,f)):f=0});const h=[],m=new Date;m.setHours(0,0,0,0);for(let x=0;x<a&&x<7;x++)h.push(new Date(m)),m.setDate(m.getDate()-1);return{currentStreak:a,longestStreak:d,totalDays:s.size,streakDays:h.reverse()}},[e]),n=r=>r>=30?"":r>=14?"":r>=7?"":r>=3?"":"";return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bu,{className:"w-4 h-4 text-orange-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Dream Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("div",{className:"text-4xl mb-2",children:n(t.currentStreak)}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:t.currentStreak}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(mk,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.longestStreak}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(Bu,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.totalDays}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),t.streakDays.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex gap-1 justify-center",children:t.streakDays.map((r,s)=>l.jsxs("div",{className:"flex flex-col items-center",title:wt(r,"d MMM yyyy",{locale:os}),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:l.jsx(Bu,{className:"w-4 h-4 text-orange-500"})}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:wt(r,"d")})]},s))})]}),t.currentStreak===0&&l.jsx("div",{className:"text-center p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" streak ! "})}),t.currentStreak>=7&&l.jsx("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["!  ",t.currentStreak," ","! "]})})]})}function yI(){return l.jsxs("div",{className:"card-minimal space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-4 h-4 rounded"}),l.jsx(ce,{className:"h-3 w-20"})]}),l.jsx(ce,{className:"h-8 w-12"})]})}function vI(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-5 h-5 rounded"}),l.jsx(ce,{className:"h-6 w-40"})]}),l.jsx(ce,{className:"h-8 w-8 rounded"})]}),l.jsx(ce,{className:"h-10 w-full rounded-lg"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>l.jsx(yI,{},t))}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-4 h-4 rounded"}),l.jsx(ce,{className:"h-4 w-32"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-16 h-3"}),l.jsx(ce,{className:"flex-1 h-2 rounded-full"}),l.jsx(ce,{className:"w-8 h-3"})]},t))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-4 h-4 rounded"}),l.jsx(ce,{className:"h-4 w-24"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{className:"w-8 h-8 rounded-full"}),l.jsx(ce,{className:"h-4 w-24"})]}),l.jsx(ce,{className:"h-5 w-12 rounded-full"})]},t))})]})]})}function wI({totalDreams:e,worldsCount:t,entitiesCount:n,threatsCount:r}){const s={dreams:e*3,worlds:t*.5,entities:n*.5,threats:r*.3,relations:e*.5},o=Object.values(s).reduce((f,h)=>f+h,0)/1024,i=500,c=o/i*100,u=i-o,d=Math.floor(u/(o/e||3))+e;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yk,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Database Usage"})]}),l.jsxs(Ae,{variant:"outline",className:"text-xs",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),l.jsxs("span",{className:"font-semibold",children:[o.toFixed(2)," MB / ",i," MB"]})]}),l.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all rounded-full ${c>80?"bg-red-500":c>60?"bg-orange-500":c>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.toFixed(2),"%    ",u.toFixed(2)," MB"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(xk,{className:"w-3 h-3"}),"Dream Logs"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.dreams.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(rs,{className:"w-3 h-3"}),"Worlds"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.worlds.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(mr,{className:"w-3 h-3"}),"Entities"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.entities.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(eo,{className:"w-3 h-3"}),"Threats"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.threats.toFixed(1)," KB"]})]})]}),l.jsxs("div",{className:"pt-2 border-t space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-semibold text-primary",children:["~",d.toLocaleString()," logs"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(d-e).toLocaleString()," logs"]})]})]})}function xI({totalDreams:e,avgThreatLevel:t,threatTrend:n,worldsCount:r,entitiesCount:s}){return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ew,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Dreams"})]}),l.jsx("p",{className:"text-2xl font-bold",children:e})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(li,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"})]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-2xl font-bold",children:t}),n!==0&&e>7&&l.jsxs(Ae,{variant:n>0?"destructive":"secondary",className:"text-xs",children:[n>0?"":""," ",Math.abs(n).toFixed(1)]})]})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Worlds"})]}),l.jsx("p",{className:"text-2xl font-bold",children:r})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(mr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Entities"})]}),l.jsx("p",{className:"text-2xl font-bold",children:s})]})]})}function bI({dreams:e,worldCounts:t,timeSystemCounts:n}){const r=e.length,s=e.slice(0,7),a=e.slice(7,14),o=s.length>0?s.reduce((h,m)=>h+m.threatLevel,0)/s.length:0,i=a.length>0?a.reduce((h,m)=>h+m.threatLevel,0)/a.length:0,c=o-i,u=[];c>.5?u.push({type:"warning",text:` ${c.toFixed(1)} `,icon:eo}):c<-.5&&u.push({type:"success",text:` ${Math.abs(c).toFixed(1)} `,icon:Bc}),n.activated>n.inactive&&u.push({type:"info",text:"Time System ",icon:ii});const d=s.filter(h=>h.threatLevel>=4).length;d>=3&&u.push({type:"danger",text:` ${d} `,icon:eo});const f=t[0];return f&&f.count>r*.3&&u.push({type:"info",text:` "${f.name}"  (${f.count} )`,icon:rs}),u.length===0?null:l.jsx("div",{className:"space-y-2",children:u.map((h,m)=>l.jsxs("div",{className:`card-minimal flex items-start gap-3 ${h.type==="danger"?"border-red-500/50 bg-red-50/50 dark:bg-red-950/20":h.type==="warning"?"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20":h.type==="success"?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-blue-500/50 bg-blue-50/50 dark:bg-blue-950/20"}`,children:[l.jsx(h.icon,{className:`w-4 h-4 mt-0.5 ${h.type==="danger"?"text-red-500":h.type==="warning"?"text-orange-500":h.type==="success"?"text-green-500":"text-blue-500"}`}),l.jsx("p",{className:"text-sm flex-1",children:h.text})]},m))})}function SI({dreams:e}){const t=e.length,n=[0,1,2,3,4,5].map(r=>({level:r,count:e.filter(s=>s.threatLevel===r).length}));return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(li,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Distribution"})]}),l.jsx("div",{className:"space-y-2",children:n.map(({level:r,count:s})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs w-16",children:["Level ",r]}),l.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${r>=4?"bg-red-500":r>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:s})]},r))})]})}function kI({worlds:e}){const t=e.map(n=>({name:n.name,count:n.dreamIds.length,stability:n.stability})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rs,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Worlds"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(stability ",n.stability,"/5)"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function EI({entities:e}){const t=e.map(n=>({name:n.name,role:n.role,count:n.dreamIds.length})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Entities"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.role,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function _I({threats:e}){const t=e.filter(r=>r.level>=4),n=e.map(r=>({name:r.name,level:r.level,count:r.dreamIds.length})).sort((r,s)=>s.count-r.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eo,{className:"w-4 h-4 text-red-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Analysis"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"High Threats (Level 4-5)"}),l.jsx("span",{className:"font-semibold text-red-500",children:t.length})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Most Common Threats:"}),n.map((r,s)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",s+1]}),l.jsx("span",{children:r.name}),l.jsxs("span",{className:`text-xs ${r.level>=4?"text-red-500":"text-muted-foreground"}`,children:["(level ",r.level,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.count," times"]})]},r.name)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]})}function jI({dreams:e}){const t=e.length,n={inactive:e.filter(r=>r.timeSystem==="inactive").length,activated:e.filter(r=>r.timeSystem==="activated").length,unknown:e.filter(r=>r.timeSystem==="unknown").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ii,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Time System Usage"})]}),l.jsx("div",{className:"space-y-2",children:[{label:"Inactive",value:n.inactive,color:"bg-slate-500"},{label:"Activated",value:n.activated,color:"bg-blue-500"},{label:"Unknown",value:n.unknown,color:"bg-muted-foreground"}].map(({label:r,value:s,color:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:r}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:`h-full ${a} rounded-full transition-all`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:s})]})]},r))})]})}function CI({dreams:e}){const t={};e.forEach(r=>{r.environments.forEach(s=>{t[s]=(t[s]||0)+1})});const n=Object.entries(t).sort((r,s)=>s[1]-r[1]).slice(0,10);return n.length===0?null:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ok,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top Environments"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(([r,s])=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-secondary rounded-full",children:[l.jsx("span",{className:"text-sm",children:r}),l.jsx(Ae,{variant:"outline",className:"text-xs ml-1",children:s})]},r))})]})}function NI({dreams:e}){const t={none:e.filter(n=>n.safetyOverride==="none").length,helper:e.filter(n=>n.safetyOverride==="helper").length,separation:e.filter(n=>n.safetyOverride==="separation").length,wake:e.filter(n=>n.safetyOverride==="wake").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bc,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Safety Override Usage"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(t).map(([n,r])=>l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1 capitalize",children:n}),l.jsx("p",{className:"text-xl font-bold",children:r})]},n))})]})}function TI(){const[e,t]=g.useState([]),[n,r]=g.useState([]),[s,a]=g.useState([]),[o,i]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[h,m]=g.useState(new Date),x=g.useCallback(async(N=!1)=>{N?f(!0):u(!0);try{const[M,O,V,L]=await Promise.all([Js(),Ai(),tu(),HP()]);t(M),r(O),a(V),i(L),m(new Date)}catch(M){console.error("Error loading data:",M)}finally{u(!1),f(!1)}},[]);g.useEffect(()=>{x()},[x]);const y=e.length,b=e.length>0?(e.reduce((N,M)=>N+M.threatLevel,0)/e.length).toFixed(1):"0",v=e.slice(0,7),p=e.slice(7,14),w=v.length>0?v.reduce((N,M)=>N+M.threatLevel,0)/v.length:0,S=p.length>0?p.reduce((N,M)=>N+M.threatLevel,0)/p.length:0,E=w-S,j=n.map(N=>({name:N.name,count:N.dreamIds.length})).sort((N,M)=>M.count-N.count),C={inactive:e.filter(N=>N.timeSystem==="inactive").length,activated:e.filter(N=>N.timeSystem==="activated").length,unknown:e.filter(N=>N.timeSystem==="unknown").length};return c?l.jsx("div",{className:"py-4",children:l.jsx(vI,{})}):l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yf,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{children:"Statistics & Insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:h.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),l.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(!0),disabled:d,children:l.jsx(Nw,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]})]}),l.jsxs(uI,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(z1,{className:"grid w-full grid-cols-3",children:[l.jsx(Al,{value:"overview",children:"Overview"}),l.jsx(Al,{value:"analytics",children:"Analytics"}),l.jsx(Al,{value:"patterns",children:"Patterns"})]}),l.jsxs(Il,{value:"overview",className:"space-y-6",children:[l.jsx(bI,{dreams:e,worldCounts:j,timeSystemCounts:C}),l.jsx(wI,{totalDreams:y,worldsCount:n.length,entitiesCount:s.length,threatsCount:o.length}),l.jsx(xI,{totalDreams:y,avgThreatLevel:b,threatTrend:E,worldsCount:n.length,entitiesCount:s.length}),l.jsx(SI,{dreams:e}),l.jsx(kI,{worlds:n}),l.jsx(EI,{entities:s}),l.jsx(_I,{threats:o}),l.jsx(jI,{dreams:e}),l.jsx(CI,{dreams:e}),l.jsx(NI,{dreams:e})]}),l.jsxs(Il,{value:"analytics",className:"space-y-6",children:[l.jsx(kg,{dreams:e,mode:"week"}),l.jsx(kg,{dreams:e,mode:"month"}),l.jsx(fI,{dreams:e}),l.jsx(dI,{dreams:e}),l.jsx(hI,{dreams:e}),l.jsx(gI,{dreams:e})]}),l.jsxs(Il,{value:"patterns",className:"space-y-6",children:[l.jsx(mI,{dreams:e,entities:s}),l.jsx(pI,{dreams:e,entities:s})]})]})]})}function PI({dreams:e}){const t=g.useMemo(()=>[...e].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()),[e]),n=r=>r>=4?"text-red-500 bg-red-100 dark:bg-red-950":r>=3?"text-orange-500 bg-orange-100 dark:bg-orange-950":"text-primary bg-primary/10";return e.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(ii,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),t.map((r,s)=>l.jsxs("div",{className:"relative pl-16 pb-8 last:pb-0",children:[l.jsx("div",{className:ue("absolute left-6 w-5 h-5 rounded-full border-4 border-background",n(r.threatLevel))}),l.jsx(bt,{to:`/logs/${r.id}`,children:l.jsxs("div",{className:"card-minimal hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ii,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:wt(new Date(r.date),"d MMMM yyyy",{locale:os})})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:r.wakeTime})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(rs,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-semibold",children:r.world})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eo,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Threat Level:"}),l.jsx(Ae,{variant:"outline",className:n(r.threatLevel),children:r.threatLevel})]}),r.entities.length>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(mr,{className:"w-3 h-3 text-muted-foreground mt-0.5"}),l.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:r.entities.map(a=>l.jsx(Ae,{variant:"secondary",className:"text-xs",children:a},a))})]}),r.environments.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.environments.map(a=>l.jsx(Ae,{variant:"outline",className:"text-xs",children:a},a))}),r.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes}),r.safetyOverride!=="none"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(Bc,{className:"w-3 h-3 text-orange-500"}),l.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Safety Override: ",r.safetyOverride]})]})]})]})})]},r.id))]})})}function MI({dreams:e,worlds:t}){const n=g.useMemo(()=>{const r=[];for(let s=0;s<e.length;s++)for(let a=s+1;a<e.length;a++){const o=e[s],i=e[a],c=[];o.world===i.world&&c.push(`: ${o.world}`);const u=o.entities.filter(f=>i.entities.includes(f));u.length>0&&c.push(`: ${u.join(", ")}`);const d=o.environments.filter(f=>i.environments.includes(f));d.length>0&&c.push(`: ${d.join(", ")}`),Math.abs(o.threatLevel-i.threatLevel)<=1&&c.push(` (${o.threatLevel}-${i.threatLevel})`),o.timeSystem===i.timeSystem&&o.timeSystem!=="unknown"&&c.push(`Time System: ${o.timeSystem}`),c.length>=2&&r.push({dream1:o,dream2:i,connections:c,strength:c.length})}return r.sort((s,a)=>a.strength-s.strength).slice(0,15)},[e]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(fh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(fh,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length," "]})]}),n.map((r,s)=>l.jsxs("div",{className:"card-minimal",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[": ",r.strength," "]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(bt,{to:`/logs/${r.dream1.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(rs,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream1.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream1.date).toLocaleDateString("th-TH")}),r.dream1.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream1.entities.slice(0,3).map(a=>l.jsx(Ae,{variant:"outline",className:"text-xs",children:a},a))})]})}),l.jsx(bt,{to:`/logs/${r.dream2.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(rs,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream2.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream2.date).toLocaleDateString("th-TH")}),r.dream2.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream2.entities.slice(0,3).map(a=>l.jsx(Ae,{variant:"outline",className:"text-xs",children:a},a))})]})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:r.connections.map((a,o)=>l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-primary"}),a]},o))})]},s))]})}function RI({dreams:e,worlds:t}){const n=g.useMemo(()=>{const r={};t.forEach(a=>{const o=e.filter(d=>d.world===a.name),i=o.length>0?o.reduce((d,f)=>d+f.threatLevel,0)/o.length:0,c={};o.forEach(d=>{d.entities.forEach(f=>{c[f]=(c[f]||0)+1})});const u=Object.entries(c).filter(([d,f])=>f>=2).sort((d,f)=>f[1]-d[1]).map(([d])=>d).slice(0,5);r[a.name]={world:a,dreamCount:o.length,connections:{},avgThreat:i,commonEntities:u}});const s=[...e].sort((a,o)=>new Date(a.date).getTime()-new Date(o.date).getTime());for(let a=0;a<s.length-1;a++){const o=s[a].world,i=s[a+1].world;if(o!==i){const c=r[o];c&&(c.connections[i]=(c.connections[i]||0)+1)}}return Object.values(r).sort((a,o)=>o.dreamCount-a.dreamCount)},[e,t]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(hh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(hh,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(rs,{className:"w-4 h-4 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:r.world.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Ae,{variant:"outline",className:"text-xs",children:r.world.type}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["Stability: ",r.world.stability,"/5"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:r.dreamCount}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.avgThreat.toFixed(1)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"}),l.jsx("p",{className:"text-sm font-semibold",children:Object.keys(r.connections).length})]})]}),r.commonEntities.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.commonEntities.map(s=>l.jsx(Ae,{variant:"secondary",className:"text-xs",children:s},s))})]}),Object.keys(r.connections).length>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(li,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:":"})]}),l.jsx("div",{className:"space-y-1",children:Object.entries(r.connections).sort((s,a)=>a[1]-s[1]).slice(0,3).map(([s,a])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[" ",s]}),l.jsxs(Ae,{variant:"outline",className:"text-xs",children:[a,"x"]})]},s))})]}),r.world.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:r.world.description})]},r.world.id))})]})}function OI({dreams:e,entities:t}){const n=g.useMemo(()=>{const a=[];return t.forEach(o=>{const i=e.filter(h=>o.dreamIds.includes(h.id));if(i.length===0)return;const c=new Set(i.map(h=>h.world)),u=i.reduce((h,m)=>h+m.threatLevel,0)/i.length,d=[...i].sort((h,m)=>new Date(h.date).getTime()-new Date(m.date).getTime()),f=new Map;i.forEach(h=>{h.entities.filter(m=>m!==o.name).forEach(m=>{f.set(m,(f.get(m)||0)+1)})}),a.push({entity:o,appearances:i.length,worlds:c,avgThreat:u,firstSeen:d[0].date,lastSeen:d[d.length-1].date,coAppearances:f})}),a.sort((o,i)=>i.appearances-o.appearances)},[e,t]),r=a=>{switch(a){case"observer":return vk;case"protector":return Bc;case"guide":return Ek;case"intruder":return eo;default:return mr}},s=a=>{switch(a){case"observer":return"text-blue-500 bg-blue-100 dark:bg-blue-950";case"protector":return"text-green-500 bg-green-100 dark:bg-green-950";case"guide":return"text-purple-500 bg-purple-100 dark:bg-purple-950";case"intruder":return"text-red-500 bg-red-100 dark:bg-red-950";default:return"text-muted-foreground bg-secondary"}};return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(mr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(mr,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(a=>{const o=r(a.entity.role);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.entity.name}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Ae,{className:s(a.entity.role),children:[l.jsx(o,{className:"w-3 h-3 mr-1"}),a.entity.role]})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:a.appearances}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Worlds"}),l.jsx("p",{className:"text-sm font-semibold",children:a.worlds.size})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${a.avgThreat>=4?"text-red-500":a.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:a.avgThreat.toFixed(1)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-appear"}),l.jsx("p",{className:"text-sm font-semibold",children:a.coAppearances.size})]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:wt(new Date(a.firstSeen),"d MMM yyyy",{locale:os})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:wt(new Date(a.lastSeen),"d MMM yyyy",{locale:os})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(a.worlds).map(i=>l.jsx(Ae,{variant:"outline",className:"text-xs",children:i},i))})]}),a.coAppearances.size>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"space-y-1",children:Array.from(a.coAppearances.entries()).sort((i,c)=>c[1]-i[1]).slice(0,3).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:i}),l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[c,"x"]})]},i))})]}),a.entity.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:a.entity.description})]},a.entity.id)})})]})}function AI({dreams:e,worlds:t,entities:n}){const[r,s]=g.useState("timeline"),a=[{id:"timeline",label:"Timeline",icon:ii},{id:"connected",label:"Connected Dreams",icon:fh},{id:"map",label:"Universe Map",icon:hh},{id:"characters",label:"Characters",icon:mr}];return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kw,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{className:"text-xl font-semibold",children:"Story Mode"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," "]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:a.map(o=>l.jsxs("button",{onClick:()=>s(o.id),className:ue("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap",r===o.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(o.icon,{className:"w-4 h-4"}),o.label]},o.id))})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"p-4",children:[r==="timeline"&&l.jsx(PI,{dreams:e}),r==="connected"&&l.jsx(MI,{dreams:e,worlds:t}),r==="map"&&l.jsx(RI,{dreams:e,worlds:t}),r==="characters"&&l.jsx(OI,{dreams:e,entities:n})]})}),l.jsx(Xc,{})]})}function II(){const[e,t]=g.useState([]),[n,r]=g.useState([]),[s,a]=g.useState([]),[o,i]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const[u,d,f]=await Promise.all([Js(),Ai(),tu()]);t(u),r(d),a(f)}catch(u){console.error("Error loading data:",u)}finally{i(!1)}})()},[]),o?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"..."})}):l.jsx(AI,{dreams:e,worlds:n,entities:s})}function DI(){return l.jsxs("div",{className:"py-4 space-y-8 pb-20",children:[l.jsx("h1",{children:"About / Safety"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_w,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-lg font-medium",children:" Dream book"})]}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Dream book by Bon     structured log    "})]}),l.jsxs("section",{className:"card-minimal text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dream book by Bon  ",new Date().getFullYear()]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Personal Dream Logging System"})]})]})]})}const $I=()=>(hs(),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})),LI=new nC,FI=()=>(g.useEffect(()=>{const e=gc();wm(e),console.log(" Global Moon Theme Applied:",e.name)},[]),l.jsx(sC,{client:LI,children:l.jsxs(Rj,{children:[l.jsx(pE,{}),l.jsx(qE,{}),l.jsx(nN,{basename:"/dream-weaver-log",children:l.jsxs(x0,{children:[l.jsx(yn,{path:"/",element:l.jsx(wR,{})}),l.jsx(yn,{path:"/library",element:l.jsx(K4,{})}),l.jsx(yn,{path:"/story",element:l.jsx(II,{})}),l.jsx(yn,{path:"/*",element:l.jsx(iN,{children:l.jsxs(x0,{children:[l.jsx(yn,{path:"/logs",element:l.jsx(VO,{})}),l.jsx(yn,{path:"/logs/new",element:l.jsx(JO,{})}),l.jsx(yn,{path:"/logs/:id",element:l.jsx(ZO,{})}),l.jsx(yn,{path:"/statistics",element:l.jsx(TI,{})}),l.jsx(yn,{path:"/about",element:l.jsx(DI,{})}),l.jsx(yn,{path:"*",element:l.jsx($I,{})})]})})})]})})]})}));Gv(document.getElementById("root")).render(l.jsx(FI,{}));
