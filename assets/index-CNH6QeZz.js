var Yg=e=>{throw TypeError(e)};var Xd=(e,t,n)=>t.has(e)||Yg("Cannot "+n);var A=(e,t,n)=>(Xd(e,t,"read from private field"),n?n.call(e):t.get(e)),ge=(e,t,n)=>t.has(e)?Yg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ae=(e,t,n,r)=>(Xd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ct=(e,t,n)=>(Xd(e,t,"access private method"),n);var Ul=(e,t,n,r)=>({set _(s){ae(e,t,s,n)},get _(){return A(e,t,r)}});function yT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vb={exports:{}},Ku={},xb={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),vT=Symbol.for("react.portal"),xT=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),kT=Symbol.for("react.context"),ET=Symbol.for("react.forward_ref"),jT=Symbol.for("react.suspense"),CT=Symbol.for("react.memo"),TT=Symbol.for("react.lazy"),Xg=Symbol.iterator;function PT(e){return e===null||typeof e!="object"?null:(e=Xg&&e[Xg]||e["@@iterator"],typeof e=="function"?e:null)}var wb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bb=Object.assign,Sb={};function Ba(e,t,n){this.props=e,this.context=t,this.refs=Sb,this.updater=n||wb}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kb(){}kb.prototype=Ba.prototype;function yp(e,t,n){this.props=e,this.context=t,this.refs=Sb,this.updater=n||wb}var vp=yp.prototype=new kb;vp.constructor=yp;bb(vp,Ba.prototype);vp.isPureReactComponent=!0;var Qg=Array.isArray,Eb=Object.prototype.hasOwnProperty,xp={current:null},jb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Eb.call(t,r)&&!jb.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:kl,type:e,key:i,ref:a,props:s,_owner:xp.current}}function NT(e,t){return{$$typeof:kl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wp(e){return typeof e=="object"&&e!==null&&e.$$typeof===kl}function _T(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jg=/\/+/g;function Qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_T(""+e.key):t.toString(36)}function Pc(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case kl:case vT:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Qd(a,0):r,Qg(s)?(n="",e!=null&&(n=e.replace(Jg,"$&/")+"/"),Pc(s,t,n,"",function(u){return u})):s!=null&&(wp(s)&&(s=NT(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Jg,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Qg(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Qd(i,o);a+=Pc(i,t,n,c,s)}else if(c=PT(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Qd(i,o++),a+=Pc(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Wl(e,t,n){if(e==null)return e;var r=[],s=0;return Pc(e,r,"","",function(i){return t.call(n,i,s++)}),r}function MT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},Nc={transition:null},RT={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:xp};function Tb(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Wl,forEach:function(e,t,n){Wl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wl(e,function(){t++}),t},toArray:function(e){return Wl(e,function(t){return t})||[]},only:function(e){if(!wp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Ba;ue.Fragment=xT;ue.Profiler=bT;ue.PureComponent=yp;ue.StrictMode=wT;ue.Suspense=jT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;ue.act=Tb;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bb({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=xp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Eb.call(t,c)&&!jb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:kl,type:e.type,key:s,ref:i,props:r,_owner:a}};ue.createContext=function(e){return e={$$typeof:kT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ST,_context:e},e.Consumer=e};ue.createElement=Cb;ue.createFactory=function(e){var t=Cb.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:ET,render:e}};ue.isValidElement=wp;ue.lazy=function(e){return{$$typeof:TT,_payload:{_status:-1,_result:e},_init:MT}};ue.memo=function(e,t){return{$$typeof:CT,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};ue.unstable_act=Tb;ue.useCallback=function(e,t){return Et.current.useCallback(e,t)};ue.useContext=function(e){return Et.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Et.current.useEffect(e,t)};ue.useId=function(){return Et.current.useId()};ue.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Et.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};ue.useRef=function(e){return Et.current.useRef(e)};ue.useState=function(e){return Et.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return Et.current.useTransition()};ue.version="18.3.1";xb.exports=ue;var p=xb.exports;const F=yb(p),bp=yT({__proto__:null,default:F},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT=p,OT=Symbol.for("react.element"),DT=Symbol.for("react.fragment"),IT=Object.prototype.hasOwnProperty,LT=AT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$T={key:!0,ref:!0,__self:!0,__source:!0};function Pb(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IT.call(t,r)&&!$T.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:OT,type:e,key:i,ref:a,props:s,_owner:LT.current}}Ku.Fragment=DT;Ku.jsx=Pb;Ku.jsxs=Pb;vb.exports=Ku;var l=vb.exports,Nb={exports:{}},Yt={},_b={exports:{}},Mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var R=_.length;_.push(N);e:for(;0<R;){var I=R-1>>>1,$=_[I];if(0<s($,N))_[I]=N,_[R]=$,R=I;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var N=_[0],R=_.pop();if(R!==N){_[0]=R;e:for(var I=0,$=_.length,X=$>>>1;I<X;){var ee=2*(I+1)-1,K=_[ee],q=ee+1,V=_[q];if(0>s(K,R))q<$&&0>s(V,K)?(_[I]=V,_[q]=R,I=q):(_[I]=K,_[ee]=R,I=ee);else if(q<$&&0>s(V,R))_[I]=V,_[q]=R,I=q;else break e}}return N}function s(_,N){var R=_.sortIndex-N.sortIndex;return R!==0?R:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=_)r(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=n(u)}}function S(_){if(v=!1,y(_),!w)if(n(c)!==null)w=!0,B(k);else{var N=n(u);N!==null&&z(S,N.startTime-_)}}function k(_,N){w=!1,v&&(v=!1,x(j),j=-1),m=!0;var R=f;try{for(y(N),h=n(c);h!==null&&(!(h.expirationTime>N)||_&&!M());){var I=h.callback;if(typeof I=="function"){h.callback=null,f=h.priorityLevel;var $=I(h.expirationTime<=N);N=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(c)&&r(c),y(N)}else r(c);h=n(c)}if(h!==null)var X=!0;else{var ee=n(u);ee!==null&&z(S,ee.startTime-N),X=!1}return X}finally{h=null,f=R,m=!1}}var E=!1,C=null,j=-1,T=5,P=-1;function M(){return!(e.unstable_now()-P<T)}function O(){if(C!==null){var _=e.unstable_now();P=_;var N=!0;try{N=C(!0,_)}finally{N?U():(E=!1,C=null)}}else E=!1}var U;if(typeof g=="function")U=function(){g(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Y=D.port2;D.port1.onmessage=O,U=function(){Y.postMessage(null)}}else U=function(){b(O,0)};function B(_){C=_,E||(E=!0,U())}function z(_,N){j=b(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,B(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var R=f;f=N;try{return _()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=f;f=_;try{return N()}finally{f=R}},e.unstable_scheduleCallback=function(_,N,R){var I=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,_){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=R+$,_={id:d++,callback:N,priorityLevel:_,startTime:R,expirationTime:$,sortIndex:-1},R>I?(_.sortIndex=R,t(u,_),n(c)===null&&_===n(u)&&(v?(x(j),j=-1):v=!0,z(S,R-I))):(_.sortIndex=$,t(c,_),w||m||(w=!0,B(k))),_},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(_){var N=f;return function(){var R=f;f=N;try{return _.apply(this,arguments)}finally{f=R}}}})(Mb);_b.exports=Mb;var FT=_b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=p,Kt=FT;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rb=new Set,$o={};function hi(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for($o[e]=t,e=0;e<t.length;e++)Rb.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,zT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zg={},ey={};function VT(e){return vf.call(ey,e)?!0:vf.call(Zg,e)?!1:zT.test(e)?ey[e]=!0:(Zg[e]=!0,!1)}function UT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WT(e,t,n,r){if(t===null||typeof t>"u"||UT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function kp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sp,kp);ot[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sp,kp);ot[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sp,kp);ot[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ep(e,t,n,r){var s=ot.hasOwnProperty(t)?ot[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WT(t,n,s,r)&&(n=null),r||s===null?VT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _r=BT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Ab=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Db=Symbol.for("react.offscreen"),ty=Symbol.iterator;function eo(e){return e===null||typeof e!="object"?null:(e=ty&&e[ty]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Jd;function ho(e){if(Jd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jd=t&&t[1]||""}return`
`+Jd+e}var Zd=!1;function eh(e,t){if(!e||Zd)return"";Zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Zd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function HT(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=eh(e.type,!1),e;case 11:return e=eh(e.type.render,!1),e;case 1:return e=eh(e.type,!0),e;default:return""}}function Sf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case $i:return"Portal";case xf:return"Profiler";case jp:return"StrictMode";case wf:return"Suspense";case bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ob:return(e.displayName||"Context")+".Consumer";case Ab:return(e._context.displayName||"Context")+".Provider";case Cp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tp:return t=e.displayName||null,t!==null?t:Sf(e.type)||"Memo";case Ur:t=e._payload,e=e._init;try{return Sf(e(t))}catch{}}return null}function GT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(t);case 8:return t===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ib(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KT(e){var t=Ib(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=KT(e))}function Lb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ib(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ny(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $b(e,t){t=t.checked,t!=null&&Ep(e,"checked",t,!1)}function Ef(e,t){$b(e,t);var n=ms(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jf(e,t.type,n):t.hasOwnProperty("defaultValue")&&jf(e,t.type,ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ry(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jf(e,t,n){(t!=="number"||Xc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fo=Array.isArray;function na(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ms(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Cf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(fo(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ms(n)}}function Fb(e,t){var n=ms(t.value),r=ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kl,zb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qT=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){qT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function Vb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function Ub(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Vb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var YT=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(YT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Nf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function Pp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,ra=null,sa=null;function ay(e){if(e=Cl(e)){if(typeof Mf!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ju(t),Mf(e.stateNode,e.type,t))}}function Wb(e){ra?sa?sa.push(e):sa=[e]:ra=e}function Hb(){if(ra){var e=ra,t=sa;if(sa=ra=null,ay(e),t)for(e=0;e<t.length;e++)ay(t[e])}}function Gb(e,t){return e(t)}function Kb(){}var th=!1;function qb(e,t,n){if(th)return e(t,n);th=!0;try{return Gb(e,t,n)}finally{th=!1,(ra!==null||sa!==null)&&(Kb(),Hb())}}function Bo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Rf=!1;if(br)try{var to={};Object.defineProperty(to,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Rf=!1}function XT(e,t,n,r,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var So=!1,Qc=null,Jc=!1,Af=null,QT={onError:function(e){So=!0,Qc=e}};function JT(e,t,n,r,s,i,a,o,c){So=!1,Qc=null,XT.apply(QT,arguments)}function ZT(e,t,n,r,s,i,a,o,c){if(JT.apply(this,arguments),So){if(So){var u=Qc;So=!1,Qc=null}else throw Error(L(198));Jc||(Jc=!0,Af=u)}}function fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oy(e){if(fi(e)!==e)throw Error(L(188))}function eP(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return oy(s),e;if(i===r)return oy(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Xb(e){return e=eP(e),e!==null?Qb(e):null}function Qb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qb(e);if(t!==null)return t;e=e.sibling}return null}var Jb=Kt.unstable_scheduleCallback,ly=Kt.unstable_cancelCallback,tP=Kt.unstable_shouldYield,nP=Kt.unstable_requestPaint,Ve=Kt.unstable_now,rP=Kt.unstable_getCurrentPriorityLevel,Np=Kt.unstable_ImmediatePriority,Zb=Kt.unstable_UserBlockingPriority,Zc=Kt.unstable_NormalPriority,sP=Kt.unstable_LowPriority,e1=Kt.unstable_IdlePriority,qu=null,Qn=null;function iP(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(qu,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:lP,aP=Math.log,oP=Math.LN2;function lP(e){return e>>>=0,e===0?32:31-(aP(e)/oP|0)|0}var ql=64,Yl=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=mo(o):(i&=a,i!==0&&(r=mo(i)))}else a=n&~s,a!==0?r=mo(a):i!==0&&(r=mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dn(t),s=1<<n,r|=e[n],t&=~s;return r}function cP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Dn(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=cP(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Of(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t1(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function nh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function El(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=n}function dP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function _p(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var we=0;function n1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r1,Mp,s1,i1,a1,Df=!1,Xl=[],rs=null,ss=null,is=null,zo=new Map,Vo=new Map,Gr=[],hP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cy(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(t.pointerId)}}function no(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cl(t),t!==null&&Mp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fP(e,t,n,r,s){switch(t){case"focusin":return rs=no(rs,e,t,n,r,s),!0;case"dragenter":return ss=no(ss,e,t,n,r,s),!0;case"mouseover":return is=no(is,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return zo.set(i,no(zo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vo.set(i,no(Vo.get(i)||null,e,t,n,r,s)),!0}return!1}function o1(e){var t=Us(e.target);if(t!==null){var n=fi(t);if(n!==null){if(t=n.tag,t===13){if(t=Yb(n),t!==null){e.blockedOn=t,a1(e.priority,function(){s1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=If(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_f=r,n.target.dispatchEvent(r),_f=null}else return t=Cl(n),t!==null&&Mp(t),e.blockedOn=n,!1;t.shift()}return!0}function uy(e,t,n){_c(e)&&n.delete(t)}function mP(){Df=!1,rs!==null&&_c(rs)&&(rs=null),ss!==null&&_c(ss)&&(ss=null),is!==null&&_c(is)&&(is=null),zo.forEach(uy),Vo.forEach(uy)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,mP)))}function Uo(e){function t(s){return ro(s,e)}if(0<Xl.length){ro(Xl[0],e);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rs!==null&&ro(rs,e),ss!==null&&ro(ss,e),is!==null&&ro(is,e),zo.forEach(t),Vo.forEach(t),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)o1(n),n.blockedOn===null&&Gr.shift()}var ia=_r.ReactCurrentBatchConfig,tu=!0;function pP(e,t,n,r){var s=we,i=ia.transition;ia.transition=null;try{we=1,Rp(e,t,n,r)}finally{we=s,ia.transition=i}}function gP(e,t,n,r){var s=we,i=ia.transition;ia.transition=null;try{we=4,Rp(e,t,n,r)}finally{we=s,ia.transition=i}}function Rp(e,t,n,r){if(tu){var s=If(e,t,n,r);if(s===null)hh(e,t,r,nu,n),cy(e,r);else if(fP(s,e,t,n,r))r.stopPropagation();else if(cy(e,r),t&4&&-1<hP.indexOf(e)){for(;s!==null;){var i=Cl(s);if(i!==null&&r1(i),i=If(e,t,n,r),i===null&&hh(e,t,r,nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hh(e,t,r,null,n)}}var nu=null;function If(e,t,n,r){if(nu=null,e=Pp(r),e=Us(e),e!==null)if(t=fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nu=e,null}function l1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rP()){case Np:return 1;case Zb:return 4;case Zc:case sP:return 16;case e1:return 536870912;default:return 16}default:return 16}}var es=null,Ap=null,Mc=null;function c1(){if(Mc)return Mc;var e,t=Ap,n=t.length,r,s="value"in es?es.value:es.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Mc=s.slice(e,1<r?1-r:void 0)}function Rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function dy(){return!1}function Xt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ql:dy,this.isPropagationStopped=dy,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Xt(za),jl=Ie({},za,{view:0,detail:0}),yP=Xt(jl),rh,sh,so,Yu=Ie({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(rh=e.screenX-so.screenX,sh=e.screenY-so.screenY):sh=rh=0,so=e),rh)},movementY:function(e){return"movementY"in e?e.movementY:sh}}),hy=Xt(Yu),vP=Ie({},Yu,{dataTransfer:0}),xP=Xt(vP),wP=Ie({},jl,{relatedTarget:0}),ih=Xt(wP),bP=Ie({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),SP=Xt(bP),kP=Ie({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EP=Xt(kP),jP=Ie({},za,{data:0}),fy=Xt(jP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PP[e])?!!t[e]:!1}function Dp(){return NP}var _P=Ie({},jl,{key:function(e){if(e.key){var t=CP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(e){return e.type==="keypress"?Rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MP=Xt(_P),RP=Ie({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=Xt(RP),AP=Ie({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),OP=Xt(AP),DP=Ie({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=Xt(DP),LP=Ie({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=Xt(LP),FP=[9,13,27,32],Ip=br&&"CompositionEvent"in window,ko=null;br&&"documentMode"in document&&(ko=document.documentMode);var BP=br&&"TextEvent"in window&&!ko,u1=br&&(!Ip||ko&&8<ko&&11>=ko),py=" ",gy=!1;function d1(e,t){switch(e){case"keyup":return FP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bi=!1;function zP(e,t){switch(e){case"compositionend":return h1(t);case"keypress":return t.which!==32?null:(gy=!0,py);case"textInput":return e=t.data,e===py&&gy?null:e;default:return null}}function VP(e,t){if(Bi)return e==="compositionend"||!Ip&&d1(e,t)?(e=c1(),Mc=Ap=es=null,Bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return u1&&t.locale!=="ko"?null:t.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UP[e.type]:t==="textarea"}function f1(e,t,n,r){Wb(r),t=ru(t,"onChange"),0<t.length&&(n=new Op("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Eo=null,Wo=null;function WP(e){E1(e,0)}function Xu(e){var t=Ui(e);if(Lb(t))return e}function HP(e,t){if(e==="change")return t}var m1=!1;if(br){var ah;if(br){var oh="oninput"in document;if(!oh){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),oh=typeof vy.oninput=="function"}ah=oh}else ah=!1;m1=ah&&(!document.documentMode||9<document.documentMode)}function xy(){Eo&&(Eo.detachEvent("onpropertychange",p1),Wo=Eo=null)}function p1(e){if(e.propertyName==="value"&&Xu(Wo)){var t=[];f1(t,Wo,e,Pp(e)),qb(WP,t)}}function GP(e,t,n){e==="focusin"?(xy(),Eo=t,Wo=n,Eo.attachEvent("onpropertychange",p1)):e==="focusout"&&xy()}function KP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Wo)}function qP(e,t){if(e==="click")return Xu(t)}function YP(e,t){if(e==="input"||e==="change")return Xu(t)}function XP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:XP;function Ho(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vf.call(t,s)||!Ln(e[s],t[s]))return!1}return!0}function wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var n=wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wy(n)}}function g1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y1(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xc(e.document)}return t}function Lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QP(e){var t=y1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&g1(n.ownerDocument.documentElement,n)){if(r!==null&&Lp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=by(n,i);var a=by(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JP=br&&"documentMode"in document&&11>=document.documentMode,zi=null,Lf=null,jo=null,$f=!1;function Sy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||zi==null||zi!==Xc(r)||(r=zi,"selectionStart"in r&&Lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&Ho(jo,r)||(jo=r,r=ru(Lf,"onSelect"),0<r.length&&(t=new Op("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zi)))}function Jl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vi={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},lh={},v1={};br&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Qu(e){if(lh[e])return lh[e];if(!Vi[e])return e;var t=Vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in v1)return lh[e]=t[n];return e}var x1=Qu("animationend"),w1=Qu("animationiteration"),b1=Qu("animationstart"),S1=Qu("transitionend"),k1=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){k1.set(e,t),hi(t,[e])}for(var ch=0;ch<ky.length;ch++){var uh=ky[ch],ZP=uh.toLowerCase(),eN=uh[0].toUpperCase()+uh.slice(1);ks(ZP,"on"+eN)}ks(x1,"onAnimationEnd");ks(w1,"onAnimationIteration");ks(b1,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(S1,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Ey(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZT(r,t,void 0,e),e.currentTarget=null}function E1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Ey(s,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Ey(s,o,u),i=c}}}if(Jc)throw e=Af,Jc=!1,Af=null,e}function je(e,t){var n=t[Uf];n===void 0&&(n=t[Uf]=new Set);var r=e+"__bubble";n.has(r)||(j1(t,e,2,!1),n.add(r))}function dh(e,t,n){var r=0;t&&(r|=4),j1(n,e,r,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[Zl]){e[Zl]=!0,Rb.forEach(function(n){n!=="selectionchange"&&(tN.has(n)||dh(n,!1,e),dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,dh("selectionchange",!1,t))}}function j1(e,t,n,r){switch(l1(t)){case 1:var s=pP;break;case 4:s=gP;break;default:s=Rp}n=s.bind(null,t,n,e),s=void 0,!Rf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Us(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}qb(function(){var u=i,d=Pp(n),h=[];e:{var f=k1.get(e);if(f!==void 0){var m=Op,w=e;switch(e){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":m=MP;break;case"focusin":w="focus",m=ih;break;case"focusout":w="blur",m=ih;break;case"beforeblur":case"afterblur":m=ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OP;break;case x1:case w1:case b1:m=SP;break;case S1:m=IP;break;case"scroll":m=yP;break;case"wheel":m=$P;break;case"copy":case"cut":case"paste":m=EP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=my}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,x!==null&&(S=Bo(g,x),S!=null&&v.push(Ko(g,S,y)))),b)break;g=g.return}0<v.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==_f&&(w=n.relatedTarget||n.fromElement)&&(Us(w)||w[Sr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Us(w):null,w!==null&&(b=fi(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=hy,S="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=my,S="onPointerLeave",x="onPointerEnter",g="pointer"),b=m==null?f:Ui(m),y=w==null?f:Ui(w),f=new v(S,g+"leave",m,n,d),f.target=b,f.relatedTarget=y,S=null,Us(d)===u&&(v=new v(x,g+"enter",w,n,d),v.target=y,v.relatedTarget=b,S=v),b=S,m&&w)t:{for(v=m,x=w,g=0,y=v;y;y=Si(y))g++;for(y=0,S=x;S;S=Si(S))y++;for(;0<g-y;)v=Si(v),g--;for(;0<y-g;)x=Si(x),y--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=Si(v),x=Si(x)}v=null}else v=null;m!==null&&jy(h,f,m,v,!1),w!==null&&b!==null&&jy(h,b,w,v,!0)}}e:{if(f=u?Ui(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=HP;else if(yy(f))if(m1)k=YP;else{k=KP;var E=GP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=qP);if(k&&(k=k(e,u))){f1(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&jf(f,"number",f.value)}switch(E=u?Ui(u):window,e){case"focusin":(yy(E)||E.contentEditable==="true")&&(zi=E,Lf=u,jo=null);break;case"focusout":jo=Lf=zi=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Sy(h,n,d);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":Sy(h,n,d)}var C;if(Ip)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Bi?d1(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(u1&&n.locale!=="ko"&&(Bi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Bi&&(C=c1()):(es=d,Ap="value"in es?es.value:es.textContent,Bi=!0)),E=ru(u,j),0<E.length&&(j=new fy(j,e,null,n,d),h.push({event:j,listeners:E}),C?j.data=C:(C=h1(n),C!==null&&(j.data=C)))),(C=BP?zP(e,n):VP(e,n))&&(u=ru(u,"onBeforeInput"),0<u.length&&(d=new fy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}E1(h,t)})}function Ko(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bo(e,n),i!=null&&r.unshift(Ko(e,i,s)),i=Bo(e,t),i!=null&&r.push(Ko(e,i,s))),e=e.return}return r}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jy(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Bo(n,i),c!=null&&a.unshift(Ko(n,c,o))):s||(c=Bo(n,i),c!=null&&a.push(Ko(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var nN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Cy(e){return(typeof e=="string"?e:""+e).replace(nN,`
`).replace(rN,"")}function ec(e,t,n){if(t=Cy(t),Cy(e)!==t&&n)throw Error(L(425))}function su(){}var Ff=null,Bf=null;function zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(aN)}:Vf;function aN(e){setTimeout(function(){throw e})}function fh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Uo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Uo(t)}function as(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Py(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Va=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Va,qo="__reactProps$"+Va,Sr="__reactContainer$"+Va,Uf="__reactEvents$"+Va,oN="__reactListeners$"+Va,lN="__reactHandles$"+Va;function Us(e){var t=e[Gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Py(e);e!==null;){if(n=e[Gn])return n;e=Py(e)}return t}e=n,n=e.parentNode}return null}function Cl(e){return e=e[Gn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ju(e){return e[qo]||null}var Wf=[],Wi=-1;function Es(e){return{current:e}}function Ce(e){0>Wi||(e.current=Wf[Wi],Wf[Wi]=null,Wi--)}function ke(e,t){Wi++,Wf[Wi]=e.current,e.current=t}var ps={},vt=Es(ps),Rt=Es(!1),ri=ps;function ja(e,t){var n=e.type.contextTypes;if(!n)return ps;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function At(e){return e=e.childContextTypes,e!=null}function iu(){Ce(Rt),Ce(vt)}function Ny(e,t,n){if(vt.current!==ps)throw Error(L(168));ke(vt,t),ke(Rt,n)}function C1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,GT(e)||"Unknown",s));return Ie({},n,r)}function au(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,ri=vt.current,ke(vt,e),ke(Rt,Rt.current),!0}function _y(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=C1(e,t,ri),r.__reactInternalMemoizedMergedChildContext=e,Ce(Rt),Ce(vt),ke(vt,e)):Ce(Rt),ke(Rt,n)}var fr=null,Zu=!1,mh=!1;function T1(e){fr===null?fr=[e]:fr.push(e)}function cN(e){Zu=!0,T1(e)}function js(){if(!mh&&fr!==null){mh=!0;var e=0,t=we;try{var n=fr;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,Zu=!1}catch(s){throw fr!==null&&(fr=fr.slice(e+1)),Jb(Np,js),s}finally{we=t,mh=!1}}return null}var Hi=[],Gi=0,ou=null,lu=0,nn=[],rn=0,si=null,pr=1,gr="";function Ds(e,t){Hi[Gi++]=lu,Hi[Gi++]=ou,ou=e,lu=t}function P1(e,t,n){nn[rn++]=pr,nn[rn++]=gr,nn[rn++]=si,si=e;var r=pr;e=gr;var s=32-Dn(r)-1;r&=~(1<<s),n+=1;var i=32-Dn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,pr=1<<32-Dn(t)+s|n<<s|r,gr=i+e}else pr=1<<i|n<<s|r,gr=e}function $p(e){e.return!==null&&(Ds(e,1),P1(e,1,0))}function Fp(e){for(;e===ou;)ou=Hi[--Gi],Hi[Gi]=null,lu=Hi[--Gi],Hi[Gi]=null;for(;e===si;)si=nn[--rn],nn[rn]=null,gr=nn[--rn],nn[rn]=null,pr=nn[--rn],nn[rn]=null}var Wt=null,zt=null,_e=!1,Mn=null;function N1(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function My(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,zt=as(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=si!==null?{id:pr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,zt=null,!0):!1;default:return!1}}function Hf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(_e){var t=zt;if(t){var n=t;if(!My(e,t)){if(Hf(e))throw Error(L(418));t=as(n.nextSibling);var r=Wt;t&&My(e,t)?N1(r,n):(e.flags=e.flags&-4097|2,_e=!1,Wt=e)}}else{if(Hf(e))throw Error(L(418));e.flags=e.flags&-4097|2,_e=!1,Wt=e}}}function Ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function tc(e){if(e!==Wt)return!1;if(!_e)return Ry(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zf(e.type,e.memoizedProps)),t&&(t=zt)){if(Hf(e))throw _1(),Error(L(418));for(;t;)N1(e,t),t=as(t.nextSibling)}if(Ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zt=as(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zt=null}}else zt=Wt?as(e.stateNode.nextSibling):null;return!0}function _1(){for(var e=zt;e;)e=as(e.nextSibling)}function Ca(){zt=Wt=null,_e=!1}function Bp(e){Mn===null?Mn=[e]:Mn.push(e)}var uN=_r.ReactCurrentBatchConfig;function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function nc(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ay(e){var t=e._init;return t(e._payload)}function M1(e){function t(x,g){if(e){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=us(x,g),x.index=0,x.sibling=null,x}function i(x,g,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=2,g):y):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,g,y,S){return g===null||g.tag!==6?(g=bh(y,x.mode,S),g.return=x,g):(g=s(g,y),g.return=x,g)}function c(x,g,y,S){var k=y.type;return k===Fi?d(x,g,y.props.children,S,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ur&&Ay(k)===g.type)?(S=s(g,y.props),S.ref=io(x,g,y),S.return=x,S):(S=Fc(y.type,y.key,y.props,null,x.mode,S),S.ref=io(x,g,y),S.return=x,S)}function u(x,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Sh(y,x.mode,S),g.return=x,g):(g=s(g,y.children||[]),g.return=x,g)}function d(x,g,y,S,k){return g===null||g.tag!==7?(g=ti(y,x.mode,S,k),g.return=x,g):(g=s(g,y),g.return=x,g)}function h(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bh(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hl:return y=Fc(g.type,g.key,g.props,null,x.mode,y),y.ref=io(x,null,g),y.return=x,y;case $i:return g=Sh(g,x.mode,y),g.return=x,g;case Ur:var S=g._init;return h(x,S(g._payload),y)}if(fo(g)||eo(g))return g=ti(g,x.mode,y,null),g.return=x,g;nc(x,g)}return null}function f(x,g,y,S){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(x,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hl:return y.key===k?c(x,g,y,S):null;case $i:return y.key===k?u(x,g,y,S):null;case Ur:return k=y._init,f(x,g,k(y._payload),S)}if(fo(y)||eo(y))return k!==null?null:d(x,g,y,S,null);nc(x,y)}return null}function m(x,g,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(y)||null,o(g,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hl:return x=x.get(S.key===null?y:S.key)||null,c(g,x,S,k);case $i:return x=x.get(S.key===null?y:S.key)||null,u(g,x,S,k);case Ur:var E=S._init;return m(x,g,y,E(S._payload),k)}if(fo(S)||eo(S))return x=x.get(y)||null,d(g,x,S,k,null);nc(g,S)}return null}function w(x,g,y,S){for(var k=null,E=null,C=g,j=g=0,T=null;C!==null&&j<y.length;j++){C.index>j?(T=C,C=null):T=C.sibling;var P=f(x,C,y[j],S);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(x,C),g=i(P,g,j),E===null?k=P:E.sibling=P,E=P,C=T}if(j===y.length)return n(x,C),_e&&Ds(x,j),k;if(C===null){for(;j<y.length;j++)C=h(x,y[j],S),C!==null&&(g=i(C,g,j),E===null?k=C:E.sibling=C,E=C);return _e&&Ds(x,j),k}for(C=r(x,C);j<y.length;j++)T=m(C,x,j,y[j],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?j:T.key),g=i(T,g,j),E===null?k=T:E.sibling=T,E=T);return e&&C.forEach(function(M){return t(x,M)}),_e&&Ds(x,j),k}function v(x,g,y,S){var k=eo(y);if(typeof k!="function")throw Error(L(150));if(y=k.call(y),y==null)throw Error(L(151));for(var E=k=null,C=g,j=g=0,T=null,P=y.next();C!==null&&!P.done;j++,P=y.next()){C.index>j?(T=C,C=null):T=C.sibling;var M=f(x,C,P.value,S);if(M===null){C===null&&(C=T);break}e&&C&&M.alternate===null&&t(x,C),g=i(M,g,j),E===null?k=M:E.sibling=M,E=M,C=T}if(P.done)return n(x,C),_e&&Ds(x,j),k;if(C===null){for(;!P.done;j++,P=y.next())P=h(x,P.value,S),P!==null&&(g=i(P,g,j),E===null?k=P:E.sibling=P,E=P);return _e&&Ds(x,j),k}for(C=r(x,C);!P.done;j++,P=y.next())P=m(C,x,j,P.value,S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?j:P.key),g=i(P,g,j),E===null?k=P:E.sibling=P,E=P);return e&&C.forEach(function(O){return t(x,O)}),_e&&Ds(x,j),k}function b(x,g,y,S){if(typeof y=="object"&&y!==null&&y.type===Fi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hl:e:{for(var k=y.key,E=g;E!==null;){if(E.key===k){if(k=y.type,k===Fi){if(E.tag===7){n(x,E.sibling),g=s(E,y.props.children),g.return=x,x=g;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ur&&Ay(k)===E.type){n(x,E.sibling),g=s(E,y.props),g.ref=io(x,E,y),g.return=x,x=g;break e}n(x,E);break}else t(x,E);E=E.sibling}y.type===Fi?(g=ti(y.props.children,x.mode,S,y.key),g.return=x,x=g):(S=Fc(y.type,y.key,y.props,null,x.mode,S),S.ref=io(x,g,y),S.return=x,x=S)}return a(x);case $i:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(x,g.sibling),g=s(g,y.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Sh(y,x.mode,S),g.return=x,x=g}return a(x);case Ur:return E=y._init,b(x,g,E(y._payload),S)}if(fo(y))return w(x,g,y,S);if(eo(y))return v(x,g,y,S);nc(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,y),g.return=x,x=g):(n(x,g),g=bh(y,x.mode,S),g.return=x,x=g),a(x)):n(x,g)}return b}var Ta=M1(!0),R1=M1(!1),cu=Es(null),uu=null,Ki=null,zp=null;function Vp(){zp=Ki=uu=null}function Up(e){var t=cu.current;Ce(cu),e._currentValue=t}function Kf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function aa(e,t){uu=e,zp=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(zp!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(uu===null)throw Error(L(308));Ki=e,uu.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Ws=null;function Wp(e){Ws===null?Ws=[e]:Ws.push(e)}function A1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Wp(t)):(n.next=s.next,s.next=n),t.interleaved=n,kr(e,r)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Hp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,kr(e,n)}return s=r.interleaved,s===null?(t.next=t,Wp(r)):(t.next=s.next,s.next=t),r.interleaved=t,kr(e,n)}function Ac(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_p(e,n)}}function Oy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function du(e,t,n,r){var s=e.updateQueue;Wr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(f=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Ie({},h,f);break e;case 2:Wr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ai|=a,e.lanes=a,e.memoizedState=h}}function Dy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Tl={},Jn=Es(Tl),Yo=Es(Tl),Xo=Es(Tl);function Hs(e){if(e===Tl)throw Error(L(174));return e}function Gp(e,t){switch(ke(Xo,t),ke(Yo,e),ke(Jn,Tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Ce(Jn),ke(Jn,t)}function Pa(){Ce(Jn),Ce(Yo),Ce(Xo)}function D1(e){Hs(Xo.current);var t=Hs(Jn.current),n=Tf(t,e.type);t!==n&&(ke(Yo,e),ke(Jn,n))}function Kp(e){Yo.current===e&&(Ce(Jn),Ce(Yo))}var Re=Es(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ph=[];function qp(){for(var e=0;e<ph.length;e++)ph[e]._workInProgressVersionPrimary=null;ph.length=0}var Oc=_r.ReactCurrentDispatcher,gh=_r.ReactCurrentBatchConfig,ii=0,Oe=null,Ye=null,Je=null,fu=!1,Co=!1,Qo=0,dN=0;function ut(){throw Error(L(321))}function Yp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Xp(e,t,n,r,s,i){if(ii=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oc.current=e===null||e.memoizedState===null?pN:gN,e=n(r,s),Co){i=0;do{if(Co=!1,Qo=0,25<=i)throw Error(L(301));i+=1,Je=Ye=null,t.updateQueue=null,Oc.current=yN,e=n(r,s)}while(Co)}if(Oc.current=mu,t=Ye!==null&&Ye.next!==null,ii=0,Je=Ye=Oe=null,fu=!1,t)throw Error(L(300));return e}function Qp(){var e=Qo!==0;return Qo=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Oe.memoizedState=Je=e:Je=Je.next=e,Je}function un(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?Oe.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(L(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Oe.memoizedState=Je=e:Je=Je.next=e}return Je}function Jo(e,t){return typeof t=="function"?t(e):t}function yh(e){var t=un(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,Oe.lanes|=d,ai|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,Ln(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Oe.lanes|=i,ai|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vh(e){var t=un(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ln(i,t.memoizedState)||(Mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function I1(){}function L1(e,t){var n=Oe,r=un(),s=t(),i=!Ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Mt=!0),r=r.queue,Jp(B1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Zo(9,F1.bind(null,n,r,s,t),void 0,null),Ze===null)throw Error(L(349));ii&30||$1(n,t,s)}return s}function $1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F1(e,t,n,r){t.value=n,t.getSnapshot=r,z1(t)&&V1(e)}function B1(e,t,n){return n(function(){z1(t)&&V1(e)})}function z1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function V1(e){var t=kr(e,1);t!==null&&In(t,e,1,-1)}function Iy(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e},t.queue=e,e=e.dispatch=mN.bind(null,Oe,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function U1(){return un().memoizedState}function Dc(e,t,n,r){var s=Vn();Oe.flags|=e,s.memoizedState=Zo(1|t,n,void 0,r===void 0?null:r)}function ed(e,t,n,r){var s=un();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var a=Ye.memoizedState;if(i=a.destroy,r!==null&&Yp(r,a.deps)){s.memoizedState=Zo(t,n,i,r);return}}Oe.flags|=e,s.memoizedState=Zo(1|t,n,i,r)}function Ly(e,t){return Dc(8390656,8,e,t)}function Jp(e,t){return ed(2048,8,e,t)}function W1(e,t){return ed(4,2,e,t)}function H1(e,t){return ed(4,4,e,t)}function G1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function K1(e,t,n){return n=n!=null?n.concat([e]):null,ed(4,4,G1.bind(null,t,e),n)}function Zp(){}function q1(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Y1(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function X1(e,t,n){return ii&21?(Ln(n,t)||(n=t1(),Oe.lanes|=n,ai|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function hN(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=gh.transition;gh.transition={};try{e(!1),t()}finally{we=n,gh.transition=r}}function Q1(){return un().memoizedState}function fN(e,t,n){var r=cs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J1(e))Z1(t,n);else if(n=A1(e,t,n,r),n!==null){var s=kt();In(n,e,r,s),eS(n,t,r)}}function mN(e,t,n){var r=cs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J1(e))Z1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Ln(o,a)){var c=t.interleaved;c===null?(s.next=s,Wp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=A1(e,t,s,r),n!==null&&(s=kt(),In(n,e,r,s),eS(n,t,r))}}function J1(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Z1(e,t){Co=fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_p(e,n)}}var mu={readContext:cn,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},pN={readContext:cn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Ly,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dc(4194308,4,G1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dc(4,2,e,t)},useMemo:function(e,t){var n=Vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fN.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Iy,useDebugValue:Zp,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Iy(!1),t=e[0];return e=hN.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,s=Vn();if(_e){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ze===null)throw Error(L(349));ii&30||$1(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ly(B1.bind(null,r,i,e),[e]),r.flags|=2048,Zo(9,F1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Vn(),t=Ze.identifierPrefix;if(_e){var n=gr,r=pr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gN={readContext:cn,useCallback:q1,useContext:cn,useEffect:Jp,useImperativeHandle:K1,useInsertionEffect:W1,useLayoutEffect:H1,useMemo:Y1,useReducer:yh,useRef:U1,useState:function(){return yh(Jo)},useDebugValue:Zp,useDeferredValue:function(e){var t=un();return X1(t,Ye.memoizedState,e)},useTransition:function(){var e=yh(Jo)[0],t=un().memoizedState;return[e,t]},useMutableSource:I1,useSyncExternalStore:L1,useId:Q1,unstable_isNewReconciler:!1},yN={readContext:cn,useCallback:q1,useContext:cn,useEffect:Jp,useImperativeHandle:K1,useInsertionEffect:W1,useLayoutEffect:H1,useMemo:Y1,useReducer:vh,useRef:U1,useState:function(){return vh(Jo)},useDebugValue:Zp,useDeferredValue:function(e){var t=un();return Ye===null?t.memoizedState=e:X1(t,Ye.memoizedState,e)},useTransition:function(){var e=vh(Jo)[0],t=un().memoizedState;return[e,t]},useMutableSource:I1,useSyncExternalStore:L1,useId:Q1,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var td={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),s=cs(e),i=yr(r,s);i.payload=t,n!=null&&(i.callback=n),t=os(e,i,s),t!==null&&(In(t,e,s,r),Ac(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),s=cs(e),i=yr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=os(e,i,s),t!==null&&(In(t,e,s,r),Ac(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=cs(e),s=yr(n,r);s.tag=2,t!=null&&(s.callback=t),t=os(e,s,r),t!==null&&(In(t,e,r,n),Ac(t,e,r))}};function $y(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,r)||!Ho(s,i):!0}function tS(e,t,n){var r=!1,s=ps,i=t.contextType;return typeof i=="object"&&i!==null?i=cn(i):(s=At(t)?ri:vt.current,r=t.contextTypes,i=(r=r!=null)?ja(e,s):ps),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=td,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&td.enqueueReplaceState(t,t.state,null)}function Yf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Hp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=cn(i):(i=At(t)?ri:vt.current,s.context=ja(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&td.enqueueReplaceState(s,s.state,null),du(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Na(e,t){try{var n="",r=t;do n+=HT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vN=typeof WeakMap=="function"?WeakMap:Map;function nS(e,t,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gu||(gu=!0,am=r),Xf(e,t)},n}function rS(e,t,n){n=yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xf(e,t),typeof r!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function By(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=RN.bind(null,e,t,n),t.then(e,e))}function zy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yr(-1,1),t.tag=2,os(n,t,1))),n.lanes|=1),e)}var xN=_r.ReactCurrentOwner,Mt=!1;function wt(e,t,n,r){t.child=e===null?R1(t,null,n,r):Ta(t,e.child,n,r)}function Uy(e,t,n,r,s){n=n.render;var i=t.ref;return aa(t,s),r=Xp(e,t,n,r,i,s),n=Qp(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(_e&&n&&$p(t),t.flags|=1,wt(e,t,r,s),t.child)}function Wy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!o0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sS(e,t,i,r,s)):(e=Fc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(a,r)&&e.ref===t.ref)return Er(e,t,s)}return t.flags|=1,e=us(i,r),e.ref=t.ref,e.return=t,t.child=e}function sS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ho(i,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Er(e,t,s)}return Qf(e,t,n,r,s)}function iS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Yi,Lt),Lt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Yi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Yi,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ke(Yi,Lt),Lt|=r;return wt(e,t,s,n),t.child}function aS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qf(e,t,n,r,s){var i=At(n)?ri:vt.current;return i=ja(t,i),aa(t,s),n=Xp(e,t,n,r,i,s),r=Qp(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Er(e,t,s)):(_e&&r&&$p(t),t.flags|=1,wt(e,t,n,s),t.child)}function Hy(e,t,n,r,s){if(At(n)){var i=!0;au(t)}else i=!1;if(aa(t,s),t.stateNode===null)Ic(e,t),tS(t,n,r),Yf(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=At(n)?ri:vt.current,u=ja(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Fy(t,a,r,u),Wr=!1;var f=t.memoizedState;a.state=f,du(t,r,a,s),c=t.memoizedState,o!==r||f!==c||Rt.current||Wr?(typeof d=="function"&&(qf(t,n,d,r),c=t.memoizedState),(o=Wr||$y(t,n,o,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,O1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:En(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=At(n)?ri:vt.current,c=ja(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Fy(t,a,r,c),Wr=!1,f=t.memoizedState,a.state=f,du(t,r,a,s);var w=t.memoizedState;o!==h||f!==w||Rt.current||Wr?(typeof m=="function"&&(qf(t,n,m,r),w=t.memoizedState),(u=Wr||$y(t,n,u,r,f,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Jf(e,t,n,r,i,s)}function Jf(e,t,n,r,s,i){aS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&_y(t,n,!1),Er(e,t,i);r=t.stateNode,xN.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ta(t,e.child,null,i),t.child=Ta(t,null,o,i)):wt(e,t,o,i),t.memoizedState=r.state,s&&_y(t,n,!0),t.child}function oS(e){var t=e.stateNode;t.pendingContext?Ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ny(e,t.context,!1),Gp(e,t.containerInfo)}function Gy(e,t,n,r,s){return Ca(),Bp(s),t.flags|=256,wt(e,t,n,r),t.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function em(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,n){var r=t.pendingProps,s=Re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Re,s&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sd(a,r,0,null),e=ti(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=em(n),t.memoizedState=Zf,e):e0(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return wN(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=us(o,i):(i=ti(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?em(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Zf,r}return i=e.child,e=i.sibling,r=us(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function e0(e,t){return t=sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rc(e,t,n,r){return r!==null&&Bp(r),Ta(t,e.child,null,n),e=e0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wN(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=xh(Error(L(422))),rc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=sd({mode:"visible",children:r.children},s,0,null),i=ti(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ta(t,e.child,null,a),t.child.memoizedState=em(a),t.memoizedState=Zf,i);if(!(t.mode&1))return rc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(L(419)),r=xh(i,r,void 0),rc(e,t,a,r)}if(o=(a&e.childLanes)!==0,Mt||o){if(r=Ze,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kr(e,s),In(r,e,s,-1))}return a0(),r=xh(Error(L(421))),rc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=AN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,zt=as(s.nextSibling),Wt=t,_e=!0,Mn=null,e!==null&&(nn[rn++]=pr,nn[rn++]=gr,nn[rn++]=si,pr=e.id,gr=e.overflow,si=t),t=e0(t,r.children),t.flags|=4096,t)}function Ky(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kf(e.return,t,n)}function wh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ky(e,n,t);else if(e.tag===19)Ky(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wh(t,!0,n,null,i);break;case"together":wh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ic(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=us(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=us(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bN(e,t,n){switch(t.tag){case 3:oS(t),Ca();break;case 5:D1(t);break;case 1:At(t.type)&&au(t);break;case 4:Gp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ke(cu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?lS(e,t,n):(ke(Re,Re.current&1),e=Er(e,t,n),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,iS(e,t,n)}return Er(e,t,n)}var uS,tm,dS,hS;uS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tm=function(){};dS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hs(Jn.current);var i=null;switch(n){case"input":s=kf(e,s),r=kf(e,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Cf(e,s),r=Cf(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=su)}Pf(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($o.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ao(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SN(e,t,n){var r=t.pendingProps;switch(Fp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return At(t.type)&&iu(),dt(t),null;case 3:return r=t.stateNode,Pa(),Ce(Rt),Ce(vt),qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(cm(Mn),Mn=null))),tm(e,t),dt(t),null;case 5:Kp(t);var s=Hs(Xo.current);if(n=t.type,e!==null&&t.stateNode!=null)dS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return dt(t),null}if(e=Hs(Jn.current),tc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gn]=t,r[qo]=i,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<po.length;s++)je(po[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":ny(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":sy(r,i),je("invalid",r)}Pf(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,o,e),s=["children",""+o]):$o.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&je("scroll",r)}switch(n){case"input":Gl(r),ry(r,i,!0);break;case"textarea":Gl(r),iy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=su)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Gn]=t,e[qo]=r,uS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Nf(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<po.length;s++)je(po[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":ny(e,r),s=kf(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),je("invalid",e);break;case"textarea":sy(e,r),s=Cf(e,r),je("invalid",e);break;default:s=r}Pf(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ub(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zb(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fo(e,c):typeof c=="number"&&Fo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($o.hasOwnProperty(i)?c!=null&&i==="onScroll"&&je("scroll",e):c!=null&&Ep(e,i,c,a))}switch(n){case"input":Gl(e),ry(e,r,!1);break;case"textarea":Gl(e),iy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ms(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?na(e,!!r.multiple,i,!1):r.defaultValue!=null&&na(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)hS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Hs(Xo.current),Hs(Jn.current),tc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gn]=t,(i=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=t,t.stateNode=r}return dt(t),null;case 13:if(Ce(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&zt!==null&&t.mode&1&&!(t.flags&128))_1(),Ca(),t.flags|=98560,i=!1;else if(i=tc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Gn]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),i=!1}else Mn!==null&&(cm(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Qe===0&&(Qe=3):a0())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Pa(),tm(e,t),e===null&&Go(t.stateNode.containerInfo),dt(t),null;case 10:return Up(t.type._context),dt(t),null;case 17:return At(t.type)&&iu(),dt(t),null;case 19:if(Ce(Re),i=t.memoizedState,i===null)return dt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ao(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hu(e),a!==null){for(t.flags|=128,ao(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>_a&&(t.flags|=128,r=!0,ao(i,!1),t.lanes=4194304)}else{if(!r)if(e=hu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return dt(t),null}else 2*Ve()-i.renderingStartTime>_a&&n!==1073741824&&(t.flags|=128,r=!0,ao(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,n=Re.current,ke(Re,r?n&1|2:n&1),t):(dt(t),null);case 22:case 23:return i0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function kN(e,t){switch(Fp(t),t.tag){case 1:return At(t.type)&&iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),Ce(Rt),Ce(vt),qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kp(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return Pa(),null;case 10:return Up(t.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var sc=!1,pt=!1,EN=typeof WeakSet=="function"?WeakSet:Set,H=null;function qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function nm(e,t,n){try{n()}catch(r){Be(e,t,r)}}var qy=!1;function jN(e,t){if(Ff=tu,e=y1(),Lp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(o=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:e,selectionRange:n},tu=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:En(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Be(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=qy,qy=!1,w}function To(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&nm(t,n,i)}s=s.next}while(s!==r)}}function nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fS(e){var t=e.alternate;t!==null&&(e.alternate=null,fS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gn],delete t[qo],delete t[Uf],delete t[oN],delete t[lN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mS(e){return e.tag===5||e.tag===3||e.tag===4}function Yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=su));else if(r!==4&&(e=e.child,e!==null))for(sm(e,t,n),e=e.sibling;e!==null;)sm(e,t,n),e=e.sibling}function im(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(im(e,t,n),e=e.sibling;e!==null;)im(e,t,n),e=e.sibling}var rt=null,Nn=!1;function Ir(e,t,n){for(n=n.child;n!==null;)pS(e,t,n),n=n.sibling}function pS(e,t,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:pt||qi(n,t);case 6:var r=rt,s=Nn;rt=null,Ir(e,t,n),rt=r,Nn=s,rt!==null&&(Nn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Nn?(e=rt,n=n.stateNode,e.nodeType===8?fh(e.parentNode,n):e.nodeType===1&&fh(e,n),Uo(e)):fh(rt,n.stateNode));break;case 4:r=rt,s=Nn,rt=n.stateNode.containerInfo,Nn=!0,Ir(e,t,n),rt=r,Nn=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&nm(n,t,a),s=s.next}while(s!==r)}Ir(e,t,n);break;case 1:if(!pt&&(qi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Be(n,t,o)}Ir(e,t,n);break;case 21:Ir(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,Ir(e,t,n),pt=r):Ir(e,t,n);break;default:Ir(e,t,n)}}function Xy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EN),t.forEach(function(r){var s=ON.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,Nn=!1;break e;case 3:rt=o.stateNode.containerInfo,Nn=!0;break e;case 4:rt=o.stateNode.containerInfo,Nn=!0;break e}o=o.return}if(rt===null)throw Error(L(160));pS(i,a,s),rt=null,Nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gS(t,e),t=t.sibling}function gS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),zn(e),r&4){try{To(3,e,e.return),nd(3,e)}catch(v){Be(e,e.return,v)}try{To(5,e,e.return)}catch(v){Be(e,e.return,v)}}break;case 1:vn(t,e),zn(e),r&512&&n!==null&&qi(n,n.return);break;case 5:if(vn(t,e),zn(e),r&512&&n!==null&&qi(n,n.return),e.flags&32){var s=e.stateNode;try{Fo(s,"")}catch(v){Be(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&$b(s,i),Nf(o,a);var u=Nf(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Ub(s,h):d==="dangerouslySetInnerHTML"?zb(s,h):d==="children"?Fo(s,h):Ep(s,d,h,u)}switch(o){case"input":Ef(s,i);break;case"textarea":Fb(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?na(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[qo]=i}catch(v){Be(e,e.return,v)}}break;case 6:if(vn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Be(e,e.return,v)}}break;case 3:if(vn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(v){Be(e,e.return,v)}break;case 4:vn(t,e),zn(e);break;case 13:vn(t,e),zn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(r0=Ve())),r&4&&Xy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||d,vn(t,e),pt=u):vn(t,e),zn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:To(4,f,f.return);break;case 1:qi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:qi(f,f.return);break;case 22:if(f.memoizedState!==null){Jy(h);continue}}m!==null?(m.return=f,H=m):Jy(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Vb("display",a))}catch(v){Be(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Be(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(t,e),zn(e),r&4&&Xy(e);break;case 21:break;default:vn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fo(s,""),r.flags&=-33);var i=Yy(e);im(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Yy(e);sm(e,o,a);break;default:throw Error(L(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CN(e,t,n){H=e,yS(e)}function yS(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||sc;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||pt;o=sc;var u=pt;if(sc=a,(pt=c)&&!u)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?Zy(s):c!==null?(c.return=a,H=c):Zy(s);for(;i!==null;)H=i,yS(i),i=i.sibling;H=s,sc=o,pt=u}Qy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Qy(e)}}function Qy(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||nd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dy(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dy(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Uo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}pt||t.flags&512&&rm(t)}catch(f){Be(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Jy(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Zy(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nd(4,t)}catch(c){Be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Be(t,s,c)}}var i=t.return;try{rm(t)}catch(c){Be(t,i,c)}break;case 5:var a=t.return;try{rm(t)}catch(c){Be(t,a,c)}}}catch(c){Be(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var TN=Math.ceil,pu=_r.ReactCurrentDispatcher,t0=_r.ReactCurrentOwner,ln=_r.ReactCurrentBatchConfig,pe=0,Ze=null,He=null,at=0,Lt=0,Yi=Es(0),Qe=0,el=null,ai=0,rd=0,n0=0,Po=null,Nt=null,r0=0,_a=1/0,dr=null,gu=!1,am=null,ls=null,ic=!1,ts=null,yu=0,No=0,om=null,Lc=-1,$c=0;function kt(){return pe&6?Ve():Lc!==-1?Lc:Lc=Ve()}function cs(e){return e.mode&1?pe&2&&at!==0?at&-at:uN.transition!==null?($c===0&&($c=t1()),$c):(e=we,e!==0||(e=window.event,e=e===void 0?16:l1(e.type)),e):1}function In(e,t,n,r){if(50<No)throw No=0,om=null,Error(L(185));El(e,n,r),(!(pe&2)||e!==Ze)&&(e===Ze&&(!(pe&2)&&(rd|=n),Qe===4&&Kr(e,at)),Ot(e,r),n===1&&pe===0&&!(t.mode&1)&&(_a=Ve()+500,Zu&&js()))}function Ot(e,t){var n=e.callbackNode;uP(e,t);var r=eu(e,e===Ze?at:0);if(r===0)n!==null&&ly(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ly(n),t===1)e.tag===0?cN(ev.bind(null,e)):T1(ev.bind(null,e)),iN(function(){!(pe&6)&&js()}),n=null;else{switch(n1(r)){case 1:n=Np;break;case 4:n=Zb;break;case 16:n=Zc;break;case 536870912:n=e1;break;default:n=Zc}n=jS(n,vS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vS(e,t){if(Lc=-1,$c=0,pe&6)throw Error(L(327));var n=e.callbackNode;if(oa()&&e.callbackNode!==n)return null;var r=eu(e,e===Ze?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vu(e,r);else{t=r;var s=pe;pe|=2;var i=wS();(Ze!==e||at!==t)&&(dr=null,_a=Ve()+500,ei(e,t));do try{_N();break}catch(o){xS(e,o)}while(!0);Vp(),pu.current=i,pe=s,He!==null?t=0:(Ze=null,at=0,t=Qe)}if(t!==0){if(t===2&&(s=Of(e),s!==0&&(r=s,t=lm(e,s))),t===1)throw n=el,ei(e,0),Kr(e,r),Ot(e,Ve()),n;if(t===6)Kr(e,r);else{if(s=e.current.alternate,!(r&30)&&!PN(s)&&(t=vu(e,r),t===2&&(i=Of(e),i!==0&&(r=i,t=lm(e,i))),t===1))throw n=el,ei(e,0),Kr(e,r),Ot(e,Ve()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Is(e,Nt,dr);break;case 3:if(Kr(e,r),(r&130023424)===r&&(t=r0+500-Ve(),10<t)){if(eu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vf(Is.bind(null,e,Nt,dr),t);break}Is(e,Nt,dr);break;case 4:if(Kr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Dn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TN(r/1960))-r,10<r){e.timeoutHandle=Vf(Is.bind(null,e,Nt,dr),r);break}Is(e,Nt,dr);break;case 5:Is(e,Nt,dr);break;default:throw Error(L(329))}}}return Ot(e,Ve()),e.callbackNode===n?vS.bind(null,e):null}function lm(e,t){var n=Po;return e.current.memoizedState.isDehydrated&&(ei(e,t).flags|=256),e=vu(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&cm(t)),e}function cm(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function PN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t){for(t&=~n0,t&=~rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function ev(e){if(pe&6)throw Error(L(327));oa();var t=eu(e,0);if(!(t&1))return Ot(e,Ve()),null;var n=vu(e,t);if(e.tag!==0&&n===2){var r=Of(e);r!==0&&(t=r,n=lm(e,r))}if(n===1)throw n=el,ei(e,0),Kr(e,t),Ot(e,Ve()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Nt,dr),Ot(e,Ve()),null}function s0(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(_a=Ve()+500,Zu&&js())}}function oi(e){ts!==null&&ts.tag===0&&!(pe&6)&&oa();var t=pe;pe|=1;var n=ln.transition,r=we;try{if(ln.transition=null,we=1,e)return e()}finally{we=r,ln.transition=n,pe=t,!(pe&6)&&js()}}function i0(){Lt=Yi.current,Ce(Yi)}function ei(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sN(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:Pa(),Ce(Rt),Ce(vt),qp();break;case 5:Kp(r);break;case 4:Pa();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:Up(r.type._context);break;case 22:case 23:i0()}n=n.return}if(Ze=e,He=e=us(e.current,null),at=Lt=t,Qe=0,el=null,n0=rd=ai=0,Nt=Po=null,Ws!==null){for(t=0;t<Ws.length;t++)if(n=Ws[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ws=null}return e}function xS(e,t){do{var n=He;try{if(Vp(),Oc.current=mu,fu){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fu=!1}if(ii=0,Je=Ye=Oe=null,Co=!1,Qo=0,t0.current=null,n===null||n.return===null){Qe=1,el=t,He=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=at,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zy(a);if(m!==null){m.flags&=-257,Vy(m,a,o,i,t),m.mode&1&&By(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){By(i,u,t),a0();break e}c=Error(L(426))}}else if(_e&&o.mode&1){var b=zy(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Vy(b,a,o,i,t),Bp(Na(c,o));break e}}i=c=Na(c,o),Qe!==4&&(Qe=2),Po===null?Po=[i]:Po.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=nS(i,c,t);Oy(i,x);break e;case 1:o=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ls===null||!ls.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=rS(i,o,t);Oy(i,S);break e}}i=i.return}while(i!==null)}SS(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function wS(){var e=pu.current;return pu.current=mu,e===null?mu:e}function a0(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(ai&268435455)&&!(rd&268435455)||Kr(Ze,at)}function vu(e,t){var n=pe;pe|=2;var r=wS();(Ze!==e||at!==t)&&(dr=null,ei(e,t));do try{NN();break}catch(s){xS(e,s)}while(!0);if(Vp(),pe=n,pu.current=r,He!==null)throw Error(L(261));return Ze=null,at=0,Qe}function NN(){for(;He!==null;)bS(He)}function _N(){for(;He!==null&&!tP();)bS(He)}function bS(e){var t=ES(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?SS(e):He=t,t0.current=null}function SS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kN(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}else if(n=SN(n,t,Lt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function Is(e,t,n){var r=we,s=ln.transition;try{ln.transition=null,we=1,MN(e,t,n,r)}finally{ln.transition=s,we=r}return null}function MN(e,t,n,r){do oa();while(ts!==null);if(pe&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dP(e,i),e===Ze&&(He=Ze=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ic||(ic=!0,jS(Zc,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var a=we;we=1;var o=pe;pe|=4,t0.current=null,jN(e,n),gS(n,e),QP(Bf),tu=!!Ff,Bf=Ff=null,e.current=n,CN(n),nP(),pe=o,we=a,ln.transition=i}else e.current=n;if(ic&&(ic=!1,ts=e,yu=s),i=e.pendingLanes,i===0&&(ls=null),iP(n.stateNode),Ot(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gu)throw gu=!1,e=am,am=null,e;return yu&1&&e.tag!==0&&oa(),i=e.pendingLanes,i&1?e===om?No++:(No=0,om=e):No=0,js(),null}function oa(){if(ts!==null){var e=n1(yu),t=ln.transition,n=we;try{if(ln.transition=null,we=16>e?16:e,ts===null)var r=!1;else{if(e=ts,ts=null,yu=0,pe&6)throw Error(L(331));var s=pe;for(pe|=4,H=e.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:To(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,m=d.return;if(fS(d),d===u){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:To(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,H=x;break e}H=i.return}}var g=e.current;for(H=g;H!==null;){a=H;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,H=y;else e:for(a=g;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nd(9,o)}}catch(k){Be(o,o.return,k)}if(o===a){H=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,H=S;break e}H=o.return}}if(pe=s,js(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(qu,e)}catch{}r=!0}return r}finally{we=n,ln.transition=t}}return!1}function tv(e,t,n){t=Na(n,t),t=nS(e,t,1),e=os(e,t,1),t=kt(),e!==null&&(El(e,1,t),Ot(e,t))}function Be(e,t,n){if(e.tag===3)tv(e,e,n);else for(;t!==null;){if(t.tag===3){tv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ls===null||!ls.has(r))){e=Na(n,e),e=rS(t,e,1),t=os(t,e,1),e=kt(),t!==null&&(El(t,1,e),Ot(t,e));break}}t=t.return}}function RN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(at&n)===n&&(Qe===4||Qe===3&&(at&130023424)===at&&500>Ve()-r0?ei(e,0):n0|=n),Ot(e,t)}function kS(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var n=kt();e=kr(e,t),e!==null&&(El(e,t,n),Ot(e,n))}function AN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kS(e,n)}function ON(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),kS(e,n)}var ES;ES=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,bN(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,_e&&t.flags&1048576&&P1(t,lu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ic(e,t),e=t.pendingProps;var s=ja(t,vt.current);aa(t,n),s=Xp(null,t,r,e,s,n);var i=Qp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(i=!0,au(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hp(t),s.updater=td,t.stateNode=s,s._reactInternals=t,Yf(t,r,e,n),t=Jf(null,t,r,!0,i,n)):(t.tag=0,_e&&i&&$p(t),wt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ic(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=IN(r),e=En(r,e),s){case 0:t=Qf(null,t,r,e,n);break e;case 1:t=Hy(null,t,r,e,n);break e;case 11:t=Uy(null,t,r,e,n);break e;case 14:t=Wy(null,t,r,En(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Qf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Hy(e,t,r,s,n);case 3:e:{if(oS(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,O1(e,t),du(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Na(Error(L(423)),t),t=Gy(e,t,r,n,s);break e}else if(r!==s){s=Na(Error(L(424)),t),t=Gy(e,t,r,n,s);break e}else for(zt=as(t.stateNode.containerInfo.firstChild),Wt=t,_e=!0,Mn=null,n=R1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ca(),r===s){t=Er(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return D1(t),e===null&&Gf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,zf(r,s)?a=null:i!==null&&zf(r,i)&&(t.flags|=32),aS(e,t),wt(e,t,a,n),t.child;case 6:return e===null&&Gf(t),null;case 13:return lS(e,t,n);case 4:return Gp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ta(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Uy(e,t,r,s,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ke(cu,r._currentValue),r._currentValue=a,i!==null)if(Ln(i.value,a)){if(i.children===s.children&&!Rt.current){t=Er(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=yr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Kf(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Kf(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,aa(t,n),s=cn(s),r=r(s),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,s=En(r,t.pendingProps),s=En(r.type,s),Wy(e,t,r,s,n);case 15:return sS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:En(r,s),Ic(e,t),t.tag=1,At(r)?(e=!0,au(t)):e=!1,aa(t,n),tS(t,r,s),Yf(t,r,s,n),Jf(null,t,r,!0,e,n);case 19:return cS(e,t,n);case 22:return iS(e,t,n)}throw Error(L(156,t.tag))};function jS(e,t){return Jb(e,t)}function DN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new DN(e,t,n,r)}function o0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IN(e){if(typeof e=="function")return o0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cp)return 11;if(e===Tp)return 14}return 2}function us(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")o0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fi:return ti(n.children,s,i,t);case jp:a=8,s|=8;break;case xf:return e=sn(12,n,t,s|2),e.elementType=xf,e.lanes=i,e;case wf:return e=sn(13,n,t,s),e.elementType=wf,e.lanes=i,e;case bf:return e=sn(19,n,t,s),e.elementType=bf,e.lanes=i,e;case Db:return sd(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ab:a=10;break e;case Ob:a=9;break e;case Cp:a=11;break e;case Tp:a=14;break e;case Ur:a=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=sn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ti(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function sd(e,t,n,r){return e=sn(22,e,r,t),e.elementType=Db,e.lanes=n,e.stateNode={isHidden:!1},e}function bh(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function Sh(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nh(0),this.expirationTimes=nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function l0(e,t,n,r,s,i,a,o,c){return e=new LN(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hp(i),e}function $N(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CS(e){if(!e)return ps;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(At(n))return C1(e,n,t)}return t}function TS(e,t,n,r,s,i,a,o,c){return e=l0(n,r,!0,e,s,i,a,o,c),e.context=CS(null),n=e.current,r=kt(),s=cs(n),i=yr(r,s),i.callback=t??null,os(n,i,s),e.current.lanes=s,El(e,s,r),Ot(e,r),e}function id(e,t,n,r){var s=t.current,i=kt(),a=cs(s);return n=CS(n),t.context===null?t.context=n:t.pendingContext=n,t=yr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=os(s,t,a),e!==null&&(In(e,s,a,i),Ac(e,s,a)),a}function xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function c0(e,t){nv(e,t),(e=e.alternate)&&nv(e,t)}function FN(){return null}var PS=typeof reportError=="function"?reportError:function(e){console.error(e)};function u0(e){this._internalRoot=e}ad.prototype.render=u0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));id(e,t,null,null)};ad.prototype.unmount=u0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){id(null,e,null,null)}),t[Sr]=null}};function ad(e){this._internalRoot=e}ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=i1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gr.length&&t!==0&&t<Gr[n].priority;n++);Gr.splice(n,0,e),n===0&&o1(e)}};function d0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rv(){}function BN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=xu(a);i.call(u)}}var a=TS(t,r,e,0,null,!1,!1,"",rv);return e._reactRootContainer=a,e[Sr]=a.current,Go(e.nodeType===8?e.parentNode:e),oi(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=xu(c);o.call(u)}}var c=l0(e,0,!1,null,null,!1,!1,"",rv);return e._reactRootContainer=c,e[Sr]=c.current,Go(e.nodeType===8?e.parentNode:e),oi(function(){id(t,c,n,r)}),c}function ld(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=xu(a);o.call(c)}}id(t,a,e,s)}else a=BN(n,t,e,s,r);return xu(a)}r1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mo(t.pendingLanes);n!==0&&(_p(t,n|1),Ot(t,Ve()),!(pe&6)&&(_a=Ve()+500,js()))}break;case 13:oi(function(){var r=kr(e,1);if(r!==null){var s=kt();In(r,e,1,s)}}),c0(e,1)}};Mp=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=kt();In(t,e,134217728,n)}c0(e,134217728)}};s1=function(e){if(e.tag===13){var t=cs(e),n=kr(e,t);if(n!==null){var r=kt();In(n,e,t,r)}c0(e,t)}};i1=function(){return we};a1=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Mf=function(e,t,n){switch(t){case"input":if(Ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ju(r);if(!s)throw Error(L(90));Lb(r),Ef(r,s)}}}break;case"textarea":Fb(e,n);break;case"select":t=n.value,t!=null&&na(e,!!n.multiple,t,!1)}};Gb=s0;Kb=oi;var zN={usingClientEntryPoint:!1,Events:[Cl,Ui,Ju,Wb,Hb,s0]},oo={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VN={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xb(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{qu=ac.inject(VN),Qn=ac}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(t))throw Error(L(200));return $N(e,t,null,n)};Yt.createRoot=function(e,t){if(!d0(e))throw Error(L(299));var n=!1,r="",s=PS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=l0(e,1,!1,null,null,n,!1,r,s),e[Sr]=t.current,Go(e.nodeType===8?e.parentNode:e),new u0(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Xb(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return oi(e)};Yt.hydrate=function(e,t,n){if(!od(t))throw Error(L(200));return ld(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!d0(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=PS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=TS(t,null,e,1,n??null,s,!1,i,a),e[Sr]=t.current,Go(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ad(t)};Yt.render=function(e,t,n){if(!od(t))throw Error(L(200));return ld(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!od(e))throw Error(L(40));return e._reactRootContainer?(oi(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};Yt.unstable_batchedUpdates=s0;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!od(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ld(e,t,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function NS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NS)}catch(e){console.error(e)}}NS(),Nb.exports=Yt;var mi=Nb.exports;const _S=yb(mi);var MS,sv=mi;MS=sv.createRoot,sv.hydrateRoot;const UN=1,WN=1e6;let kh=0;function HN(){return kh=(kh+1)%Number.MAX_SAFE_INTEGER,kh.toString()}const Eh=new Map,iv=e=>{if(Eh.has(e))return;const t=setTimeout(()=>{Eh.delete(e),_o({type:"REMOVE_TOAST",toastId:e})},WN);Eh.set(e,t)},GN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?iv(n):e.toasts.forEach(r=>{iv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Bc=[];let zc={toasts:[]};function _o(e){zc=GN(zc,e),Bc.forEach(t=>{t(zc)})}function Oi({...e}){const t=HN(),n=s=>_o({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>_o({type:"DISMISS_TOAST",toastId:t});return _o({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function KN(){const[e,t]=p.useState(zc);return p.useEffect(()=>(Bc.push(t),()=>{const n=Bc.indexOf(t);n>-1&&Bc.splice(n,1)}),[e]),{...e,toast:Oi,dismiss:n=>_o({type:"DISMISS_TOAST",toastId:n})}}function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function av(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function RS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=av(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():av(e[s],null)}}}}function ce(...e){return p.useCallback(RS(...e),e)}function qN(e,t){const n=p.createContext(t),r=i=>{const{children:a,...o}=i,c=p.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function hn(e,t=[]){let n=[];function r(i,a){const o=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var x;const{scope:f,children:m,...w}=h,v=((x=f==null?void 0:f[e])==null?void 0:x[c])||o,b=p.useMemo(()=>w,Object.values(w));return l.jsx(v.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(h,f){var v;const m=((v=f==null?void 0:f[e])==null?void 0:v[c])||o,w=p.useContext(m);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,YN(s,...t)]}function YN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ma(e){const t=QN(e),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,o=p.Children.toArray(i),c=o.find(ZN);if(c){const u=c.props.children,d=o.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var XN=Ma("Slot");function QN(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=t_(s),o=e_(i,s.props);return s.type!==p.Fragment&&(o.ref=r?RS(r,a):a),p.cloneElement(s,o)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AS=Symbol("radix.slottable");function JN(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=AS,t}function ZN(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AS}function e_(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function t_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cd(e){const t=e+"CollectionProvider",[n,r]=hn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:b,children:x}=v,g=F.useRef(null),y=F.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:y,collectionRef:g,children:x})};a.displayName=t;const o=e+"CollectionSlot",c=Ma(o),u=F.forwardRef((v,b)=>{const{scope:x,children:g}=v,y=i(o,x),S=ce(b,y.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ma(d),m=F.forwardRef((v,b)=>{const{scope:x,children:g,...y}=v,S=F.useRef(null),k=ce(b,S),E=i(d,x);return F.useEffect(()=>(E.itemMap.set(S,{ref:S,...y}),()=>void E.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:k,children:g})});m.displayName=d;function w(v){const b=i(e+"CollectionConsumer",v);return F.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,C)=>y.indexOf(E.ref.current)-y.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},w,r]}var n_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J=n_.reduce((e,t)=>{const n=Ma(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function OS(e,t){e&&mi.flushSync(()=>e.dispatchEvent(t))}function Xe(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function r_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var s_="DismissableLayer",um="dismissableLayer.update",i_="dismissableLayer.pointerDownOutside",a_="dismissableLayer.focusOutside",ov,DS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=e,u=p.useContext(DS),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=ce(t,C=>h(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),g=d?v.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,k=l_(C=>{const j=C.target,T=[...u.branches].some(P=>P.contains(j));!S||T||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},f),E=c_(C=>{const j=C.target;[...u.branches].some(P=>P.contains(j))||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},f);return r_(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ov=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ov)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lv())},[d,u]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(um,C),()=>document.removeEventListener(um,C)},[]),l.jsx(J.div,{...c,ref:w,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,E.onFocusCapture),onBlurCapture:G(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,k.onPointerDownCapture)})});Pl.displayName=s_;var o_="DismissableLayerBranch",IS=p.forwardRef((e,t)=>{const n=p.useContext(DS),r=p.useRef(null),s=ce(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(J.div,{...e,ref:s})});IS.displayName=o_;function l_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){LS(i_,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function c_(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&LS(a_,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lv(){const e=new CustomEvent(um);document.dispatchEvent(e)}function LS(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var u_=Pl,d_=IS,et=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},h_="Portal",ud=p.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,i]=p.useState(!1);et(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?_S.createPortal(l.jsx(J.div,{...r,ref:t}),a):null});ud.displayName=h_;function f_(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var fn=e=>{const{present:t,children:n}=e,r=m_(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=ce(r.ref,p_(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};fn.displayName="Presence";function m_(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[o,c]=f_(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=oc(r.current);i.current=o==="mounted"?u:"none"},[o]),et(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=oc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const v=oc(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(i.current=oc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function oc(e){return(e==null?void 0:e.animationName)||"none"}function p_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var g_=bp[" useInsertionEffect ".trim().toString()]||et;function gs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=y_({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=p.useCallback(d=>{var h;if(o){const f=v_(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else i(d)},[o,e,i,a]);return[c,u]}function y_({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return g_(()=>{i.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function v_(e){return typeof e=="function"}var $S=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x_="VisuallyHidden",dd=p.forwardRef((e,t)=>l.jsx(J.span,{...e,ref:t,style:{...$S,...e.style}}));dd.displayName=x_;var w_=dd,h0="ToastProvider",[f0,b_,S_]=cd("Toast"),[FS]=hn("Toast",[S_]),[k_,hd]=FS(h0),BS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${h0}\`. Expected non-empty \`string\`.`),l.jsx(f0.Provider,{scope:t,children:l.jsx(k_,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};BS.displayName=h0;var zS="ToastViewport",E_=["F8"],dm="toast.viewportPause",hm="toast.viewportResume",VS=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=E_,label:s="Notifications ({hotkey})",...i}=e,a=hd(zS,n),o=b_(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=ce(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;p.useEffect(()=>{const b=x=>{var y;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=c.current,x=h.current;if(w&&b&&x){const g=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(dm);x.dispatchEvent(E),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(hm);x.dispatchEvent(E),a.isClosePausedRef.current=!1}},S=E=>{!b.contains(E.relatedTarget)&&y()},k=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",g),b.addEventListener("focusout",S),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",k),window.addEventListener("blur",g),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",g),window.removeEventListener("focus",y)}}},[w,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const g=o().map(y=>{const S=y.ref.current,k=[S,...L_(S)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?g.reverse():g).flat()},[o]);return p.useEffect(()=>{const b=h.current;if(b){const x=g=>{var k,E,C;const y=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!y){const j=document.activeElement,T=g.shiftKey;if(g.target===b&&T){(k=u.current)==null||k.focus();return}const O=v({tabbingDirection:T?"backwards":"forwards"}),U=O.findIndex(D=>D===j);jh(O.slice(U+1))?g.preventDefault():T?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[o,v]),l.jsxs(d_,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(fm,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});jh(b)}}),l.jsx(f0.Slot,{scope:n,children:l.jsx(J.ol,{tabIndex:-1,...i,ref:f})}),w&&l.jsx(fm,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});jh(b)}})]})});VS.displayName=zS;var US="ToastFocusProxy",fm=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=hd(US,n);return l.jsx(dd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});fm.displayName=US;var Nl="Toast",j_="toast.swipeStart",C_="toast.swipeMove",T_="toast.swipeCancel",P_="toast.swipeEnd",WS=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[o,c]=gs({prop:r,defaultProp:s??!0,onChange:i,caller:Nl});return l.jsx(fn,{present:n||o,children:l.jsx(M_,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:Xe(e.onPause),onResume:Xe(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});WS.displayName=Nl;var[N_,__]=FS(Nl,{onClose(){}}),M_=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=e,v=hd(Nl,n),[b,x]=p.useState(null),g=ce(t,D=>x(D)),y=p.useRef(null),S=p.useRef(null),k=s||v.duration,E=p.useRef(0),C=p.useRef(k),j=p.useRef(0),{onToastAdd:T,onToastRemove:P}=v,M=Xe(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=v.viewport)==null||Y.focus()),a()}),O=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(M,D))},[M]);p.useEffect(()=>{const D=v.viewport;if(D){const Y=()=>{O(C.current),u==null||u()},B=()=>{const z=new Date().getTime()-E.current;C.current=C.current-z,window.clearTimeout(j.current),c==null||c()};return D.addEventListener(dm,B),D.addEventListener(hm,Y),()=>{D.removeEventListener(dm,B),D.removeEventListener(hm,Y)}}},[v.viewport,k,c,u,O]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(k)},[i,k,v.isClosePausedRef,O]),p.useEffect(()=>(T(),()=>P()),[T,P]);const U=p.useMemo(()=>b?QS(b):null,[b]);return v.viewport?l.jsxs(l.Fragment,{children:[U&&l.jsx(R_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),l.jsx(N_,{scope:n,onClose:M,children:mi.createPortal(l.jsx(f0.ItemSlot,{scope:n,children:l.jsx(u_,{asChild:!0,onEscapeKeyDown:G(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(J.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:G(e.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:G(e.onPointerMove,D=>{if(!y.current)return;const Y=D.clientX-y.current.x,B=D.clientY-y.current.y,z=!!S.current,_=["left","right"].includes(v.swipeDirection),N=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,R=_?N(0,Y):0,I=_?0:N(0,B),$=D.pointerType==="touch"?10:2,X={x:R,y:I},ee={originalEvent:D,delta:X};z?(S.current=X,lc(C_,h,ee,{discrete:!1})):cv(X,v.swipeDirection,$)?(S.current=X,lc(j_,d,ee,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(Y)>$||Math.abs(B)>$)&&(y.current=null)}),onPointerUp:G(e.onPointerUp,D=>{const Y=S.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),S.current=null,y.current=null,Y){const z=D.currentTarget,_={originalEvent:D,delta:Y};cv(Y,v.swipeDirection,v.swipeThreshold)?lc(P_,m,_,{discrete:!0}):lc(T_,f,_,{discrete:!0}),z.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),R_=e=>{const{__scopeToast:t,children:n,...r}=e,s=hd(Nl,t),[i,a]=p.useState(!1),[o,c]=p.useState(!1);return D_(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(ud,{asChild:!0,children:l.jsx(dd,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},A_="ToastTitle",HS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(J.div,{...r,ref:t})});HS.displayName=A_;var O_="ToastDescription",GS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(J.div,{...r,ref:t})});GS.displayName=O_;var KS="ToastAction",qS=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(XS,{altText:n,asChild:!0,children:l.jsx(m0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${KS}\`. Expected non-empty \`string\`.`),null)});qS.displayName=KS;var YS="ToastClose",m0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=__(YS,n);return l.jsx(XS,{asChild:!0,children:l.jsx(J.button,{type:"button",...r,ref:t,onClick:G(e.onClick,s.onClose)})})});m0.displayName=YS;var XS=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(J.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function QS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),I_(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...QS(r))}}),t}function lc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var cv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function D_(e=()=>{}){const t=Xe(e);et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function I_(e){return e.nodeType===e.ELEMENT_NODE}function L_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var $_=BS,JS=VS,ZS=WS,e2=HS,t2=GS,n2=qS,r2=m0;function s2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=s2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function i2(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=s2(e))&&(r&&(r+=" "),r+=t);return r}const uv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dv=i2,fd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return dv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=uv(d)||uv(h);return s[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...o}[v]):{...i,...o}[v]===b})?[...u,h,f]:u},[]);return dv(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>p.createElement("svg",{ref:c,...B_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:a2("lucide",s),...o},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(z_,{ref:i,iconNode:t,className:a2(`lucide-${F_(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Z("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Z("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Z("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Z("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Z("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Z("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Z("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Z("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Z("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),w0="-",hM=e=>{const t=mM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(w0);return o[0]===""&&o.length!==1&&o.shift(),p2(o,t)||fM(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},p2=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?p2(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(w0);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},fv=/^\[(.+)\]$/,fM=e=>{if(fv.test(e)){const t=fv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gM(Object.entries(e.classGroups),n).forEach(([i,a])=>{gm(a,r,i,t)}),r},gm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:mv(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(pM(s)){gm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{gm(a,mv(t,i),n,r)})})},mv=(e,t)=>{let n=e;return t.split(w0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pM=e=>e.isThemeGetter,gM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[n,s]}):e,yM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},g2="!",vM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let b=0;b<o.length;b++){let x=o[b];if(u===0){if(x===s&&(r||o.slice(b,b+i)===t)){c.push(o.slice(d,b)),d=b+i;continue}if(x==="/"){h=b;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(g2),w=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},xM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},wM=e=>({cache:yM(e.cacheSize),parseClassName:vM(e),...hM(e)}),bM=/\s+/,SM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(bM);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let w=!!m,v=r(w?f.substring(0,m):f);if(!v){if(!w){o=u+(o.length>0?" "+o:o);continue}if(v=r(f),!v){o=u+(o.length>0?" "+o:o);continue}w=!1}const b=xM(d).join(":"),x=h?b+g2:b,g=x+v;if(i.includes(g))continue;i.push(g);const y=s(v,w);for(let S=0;S<y.length;++S){const k=y[S];i.push(x+k)}o=u+(o.length>0?" "+o:o)}return o};function kM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=y2(t))&&(r&&(r+=" "),r+=n);return r}const y2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=y2(e[r]))&&(n&&(n+=" "),n+=t);return n};function EM(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=wM(u),r=n.cache.get,s=n.cache.set,i=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=SM(c,n);return s(c,d),d}return function(){return i(kM.apply(null,arguments))}}const Ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},v2=/^\[(?:([a-z-]+):)?(.+)\]$/i,jM=/^\d+\/\d+$/,CM=new Set(["px","full","screen"]),TM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>la(e)||CM.has(e)||jM.test(e),Lr=e=>Wa(e,"length",FM),la=e=>!!e&&!Number.isNaN(Number(e)),Th=e=>Wa(e,"number",la),lo=e=>!!e&&Number.isInteger(Number(e)),RM=e=>e.endsWith("%")&&la(e.slice(0,-1)),oe=e=>v2.test(e),$r=e=>TM.test(e),AM=new Set(["length","size","percentage"]),OM=e=>Wa(e,AM,x2),DM=e=>Wa(e,"position",x2),IM=new Set(["image","url"]),LM=e=>Wa(e,IM,zM),$M=e=>Wa(e,"",BM),co=()=>!0,Wa=(e,t,n)=>{const r=v2.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},FM=e=>PM.test(e)&&!NM.test(e),x2=()=>!1,BM=e=>_M.test(e),zM=e=>MM.test(e),VM=()=>{const e=Ee("colors"),t=Ee("spacing"),n=Ee("blur"),r=Ee("brightness"),s=Ee("borderColor"),i=Ee("borderRadius"),a=Ee("borderSpacing"),o=Ee("borderWidth"),c=Ee("contrast"),u=Ee("grayscale"),d=Ee("hueRotate"),h=Ee("invert"),f=Ee("gap"),m=Ee("gradientColorStops"),w=Ee("gradientColorStopPositions"),v=Ee("inset"),b=Ee("margin"),x=Ee("opacity"),g=Ee("padding"),y=Ee("saturate"),S=Ee("scale"),k=Ee("sepia"),E=Ee("skew"),C=Ee("space"),j=Ee("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",oe,t],O=()=>[oe,t],U=()=>["",lr,Lr],D=()=>["auto",la,oe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",oe],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[la,oe];return{cacheSize:500,separator:":",theme:{colors:[co],spacing:[lr,Lr],blur:["none","",$r,oe],brightness:I(),borderColor:[e],borderRadius:["none","","full",$r,oe],borderSpacing:O(),borderWidth:U(),contrast:I(),grayscale:N(),hueRotate:I(),invert:N(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[RM,Lr],inset:M(),margin:M(),opacity:I(),padding:O(),saturate:I(),scale:I(),sepia:N(),skew:I(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),oe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lo,oe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",lo,oe]}],"grid-cols":[{"grid-cols":[co]}],"col-start-end":[{col:["auto",{span:["full",lo,oe]},oe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[co]}],"row-start-end":[{row:["auto",{span:[lo,oe]},oe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,t]}],"min-w":[{"min-w":[oe,t,"min","max","fit"]}],"max-w":[{"max-w":[oe,t,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Th]}],"font-family":[{font:[co]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",la,Th]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Lr]}],"underline-offset":[{"underline-offset":["auto",lr,oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),DM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[lr,oe]}],"outline-w":[{outline:[lr,Lr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[lr,Lr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$r,$M]}],"shadow-color":[{shadow:[co]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$r,oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[lo,oe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lr,Lr,Th]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UM=EM(VM);function W(...e){return UM(i2(e))}const WM=$_,w2=p.forwardRef(({className:e,...t},n)=>l.jsx(JS,{ref:n,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));w2.displayName=JS.displayName;const HM=fd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b2=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(ZS,{ref:r,className:W(HM({variant:t}),e),...n}));b2.displayName=ZS.displayName;const GM=p.forwardRef(({className:e,...t},n)=>l.jsx(n2,{ref:n,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));GM.displayName=n2.displayName;const S2=p.forwardRef(({className:e,...t},n)=>l.jsx(r2,{ref:n,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Ua,{className:"h-4 w-4"})}));S2.displayName=r2.displayName;const k2=p.forwardRef(({className:e,...t},n)=>l.jsx(e2,{ref:n,className:W("text-sm font-semibold",e),...t}));k2.displayName=e2.displayName;const E2=p.forwardRef(({className:e,...t},n)=>l.jsx(t2,{ref:n,className:W("text-sm opacity-90",e),...t}));E2.displayName=t2.displayName;function KM(){const{toasts:e}=KN();return l.jsxs(WM,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(b2,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(k2,{children:n}),r&&l.jsx(E2,{children:r})]}),s,l.jsx(S2,{})]},t)}),l.jsx(w2,{})]})}var pv=["light","dark"],qM="(prefers-color-scheme: dark)",YM=p.createContext(void 0),XM={setTheme:e=>{},themes:[]},QM=()=>{var e;return(e=p.useContext(YM))!=null?e:XM};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?pv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,v=!1,b=!0)=>{let x=a?a[w]:w,g=v?w+"|| ''":`'${x}'`,y="";return s&&b&&!v&&pv.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),n==="class"?v||x?y+=`c.add(${g})`:y+="null":x&&(y+=`d[s](n,${g})`),y},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${qM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var JM=e=>{switch(e){case"success":return tR;case"info":return rR;case"warning":return nR;case"error":return sR;default:return null}},ZM=Array(12).fill(0),eR=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},ZM.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tR=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nR=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rR=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sR=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iR=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aR=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ym=1,oR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ym++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:n}),{...o,...e,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],F.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(cR(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ym++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tt=new oR,lR=(e,t)=>{let n=(t==null?void 0:t.id)||ym++;return Tt.addToast({title:e,...t,id:n}),n},cR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uR=lR,dR=()=>Tt.toasts,hR=()=>Tt.getActiveToasts(),_t=Object.assign(uR,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:dR,getToasts:hR});function fR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}fR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cc(e){return e.label!==void 0}var mR=3,pR="32px",gR="16px",gv=4e3,yR=356,vR=14,xR=20,wR=200;function xn(...e){return e.filter(Boolean).join(" ")}function bR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var SR=e=>{var t,n,r,s,i,a,o,c,u,d,h;let{invert:f,toast:m,unstyled:w,interacting:v,setHeights:b,visibleToasts:x,heights:g,index:y,toasts:S,expanded:k,removeToast:E,defaultRichColors:C,closeButton:j,style:T,cancelButtonStyle:P,actionButtonStyle:M,className:O="",descriptionClassName:U="",duration:D,position:Y,gap:B,loadingIcon:z,expandByDefault:_,classNames:N,icons:R,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:$}=e,[X,ee]=F.useState(null),[K,q]=F.useState(null),[V,me]=F.useState(!1),[he,se]=F.useState(!1),[de,fe]=F.useState(!1),[Ke,lt]=F.useState(!1),[Qt,Ct]=F.useState(!1),[ar,Rr]=F.useState(0),[or,Ug]=F.useState(0),Za=F.useRef(m.duration||D||gv),Wg=F.useRef(null),_s=F.useRef(null),lT=y===0,cT=y+1<=x,Jt=m.type,xi=m.dismissible!==!1,uT=m.className||"",dT=m.descriptionClassName||"",Vl=F.useMemo(()=>g.findIndex(ie=>ie.toastId===m.id)||0,[g,m.id]),hT=F.useMemo(()=>{var ie;return(ie=m.closeButton)!=null?ie:j},[m.closeButton,j]),Hg=F.useMemo(()=>m.duration||D||gv,[m.duration,D]),qd=F.useRef(0),wi=F.useRef(0),Gg=F.useRef(0),bi=F.useRef(null),[fT,mT]=Y.split("-"),Kg=F.useMemo(()=>g.reduce((ie,be,Pe)=>Pe>=Vl?ie:ie+be.height,0),[g,Vl]),qg=aR(),pT=m.invert||f,Yd=Jt==="loading";wi.current=F.useMemo(()=>Vl*B+Kg,[Vl,Kg]),F.useEffect(()=>{Za.current=Hg},[Hg]),F.useEffect(()=>{me(!0)},[]),F.useEffect(()=>{let ie=_s.current;if(ie){let be=ie.getBoundingClientRect().height;return Ug(be),b(Pe=>[{toastId:m.id,height:be,position:m.position},...Pe]),()=>b(Pe=>Pe.filter(pn=>pn.toastId!==m.id))}},[b,m.id]),F.useLayoutEffect(()=>{if(!V)return;let ie=_s.current,be=ie.style.height;ie.style.height="auto";let Pe=ie.getBoundingClientRect().height;ie.style.height=be,Ug(Pe),b(pn=>pn.find(gn=>gn.toastId===m.id)?pn.map(gn=>gn.toastId===m.id?{...gn,height:Pe}:gn):[{toastId:m.id,height:Pe,position:m.position},...pn])},[V,m.title,m.description,b,m.id]);let Ar=F.useCallback(()=>{se(!0),Rr(wi.current),b(ie=>ie.filter(be=>be.toastId!==m.id)),setTimeout(()=>{E(m)},wR)},[m,E,b,wi]);F.useEffect(()=>{if(m.promise&&Jt==="loading"||m.duration===1/0||m.type==="loading")return;let ie;return k||v||$&&qg?(()=>{if(Gg.current<qd.current){let be=new Date().getTime()-qd.current;Za.current=Za.current-be}Gg.current=new Date().getTime()})():Za.current!==1/0&&(qd.current=new Date().getTime(),ie=setTimeout(()=>{var be;(be=m.onAutoClose)==null||be.call(m,m),Ar()},Za.current)),()=>clearTimeout(ie)},[k,v,m,Jt,$,qg,Ar]),F.useEffect(()=>{m.delete&&Ar()},[Ar,m.delete]);function gT(){var ie,be,Pe;return R!=null&&R.loading?F.createElement("div",{className:xn(N==null?void 0:N.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Jt==="loading"},R.loading):z?F.createElement("div",{className:xn(N==null?void 0:N.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Jt==="loading"},z):F.createElement(eR,{className:xn(N==null?void 0:N.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader),visible:Jt==="loading"})}return F.createElement("li",{tabIndex:0,ref:_s,className:xn(O,uT,N==null?void 0:N.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[Jt],(n=m==null?void 0:m.classNames)==null?void 0:n[Jt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":Qt,"data-removed":he,"data-visible":cT,"data-y-position":fT,"data-x-position":mT,"data-index":y,"data-front":lT,"data-swiping":de,"data-dismissible":xi,"data-type":Jt,"data-invert":pT,"data-swipe-out":Ke,"data-swipe-direction":K,"data-expanded":!!(k||_&&V),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${he?ar:wi.current}px`,"--initial-height":_?"auto":`${or}px`,...T,...m.style},onDragEnd:()=>{fe(!1),ee(null),bi.current=null},onPointerDown:ie=>{Yd||!xi||(Wg.current=new Date,Rr(wi.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(fe(!0),bi.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,be,Pe,pn;if(Ke||!xi)return;bi.current=null;let gn=Number(((ie=_s.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Or=Number(((be=_s.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ms=new Date().getTime()-((Pe=Wg.current)==null?void 0:Pe.getTime()),yn=X==="x"?gn:Or,Dr=Math.abs(yn)/Ms;if(Math.abs(yn)>=xR||Dr>.11){Rr(wi.current),(pn=m.onDismiss)==null||pn.call(m,m),q(X==="x"?gn>0?"right":"left":Or>0?"down":"up"),Ar(),lt(!0),Ct(!1);return}fe(!1),ee(null)},onPointerMove:ie=>{var be,Pe,pn,gn;if(!bi.current||!xi||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let Or=ie.clientY-bi.current.y,Ms=ie.clientX-bi.current.x,yn=(Pe=e.swipeDirections)!=null?Pe:bR(Y);!X&&(Math.abs(Ms)>1||Math.abs(Or)>1)&&ee(Math.abs(Ms)>Math.abs(Or)?"x":"y");let Dr={x:0,y:0};X==="y"?(yn.includes("top")||yn.includes("bottom"))&&(yn.includes("top")&&Or<0||yn.includes("bottom")&&Or>0)&&(Dr.y=Or):X==="x"&&(yn.includes("left")||yn.includes("right"))&&(yn.includes("left")&&Ms<0||yn.includes("right")&&Ms>0)&&(Dr.x=Ms),(Math.abs(Dr.x)>0||Math.abs(Dr.y)>0)&&Ct(!0),(pn=_s.current)==null||pn.style.setProperty("--swipe-amount-x",`${Dr.x}px`),(gn=_s.current)==null||gn.style.setProperty("--swipe-amount-y",`${Dr.y}px`)}},hT&&!m.jsx?F.createElement("button",{"aria-label":I,"data-disabled":Yd,"data-close-button":!0,onClick:Yd||!xi?()=>{}:()=>{var ie;Ar(),(ie=m.onDismiss)==null||ie.call(m,m)},className:xn(N==null?void 0:N.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=R==null?void 0:R.close)!=null?i:iR):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:F.createElement(F.Fragment,null,Jt||m.icon||m.promise?F.createElement("div",{"data-icon":"",className:xn(N==null?void 0:N.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||gT():null,m.type!=="loading"?m.icon||(R==null?void 0:R[Jt])||JM(Jt):null):null,F.createElement("div",{"data-content":"",className:xn(N==null?void 0:N.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:xn(N==null?void 0:N.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?F.createElement("div",{"data-description":"",className:xn(U,dT,N==null?void 0:N.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&cc(m.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ie=>{var be,Pe;cc(m.cancel)&&xi&&((Pe=(be=m.cancel).onClick)==null||Pe.call(be,ie),Ar())},className:xn(N==null?void 0:N.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&cc(m.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:ie=>{var be,Pe;cc(m.action)&&((Pe=(be=m.action).onClick)==null||Pe.call(be,ie),!ie.defaultPrevented&&Ar())},className:xn(N==null?void 0:N.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function yv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kR(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?gR:pR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var ER=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:w=mR,toastOptions:v,dir:b=yv(),gap:x=vR,loadingIcon:g,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=e,[E,C]=F.useState([]),j=F.useMemo(()=>Array.from(new Set([r].concat(E.filter($=>$.position).map($=>$.position)))),[E,r]),[T,P]=F.useState([]),[M,O]=F.useState(!1),[U,D]=F.useState(!1),[Y,B]=F.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=F.useRef(null),_=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=F.useRef(null),R=F.useRef(!1),I=F.useCallback($=>{C(X=>{var ee;return(ee=X.find(K=>K.id===$.id))!=null&&ee.delete||Tt.dismiss($.id),X.filter(({id:K})=>K!==$.id)})},[]);return F.useEffect(()=>Tt.subscribe($=>{if($.dismiss){C(X=>X.map(ee=>ee.id===$.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{_S.flushSync(()=>{C(X=>{let ee=X.findIndex(K=>K.id===$.id);return ee!==-1?[...X.slice(0,ee),{...X[ee],...$},...X.slice(ee+1)]:[$,...X]})})})}),[]),F.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{B(X?"dark":"light")})}catch{$.addListener(({matches:ee})=>{try{B(ee?"dark":"light")}catch(K){console.error(K)}})}},[d]),F.useEffect(()=>{E.length<=1&&O(!1)},[E]),F.useEffect(()=>{let $=X=>{var ee,K;s.every(q=>X[q]||X.code===q)&&(O(!0),(ee=z.current)==null||ee.focus()),X.code==="Escape"&&(document.activeElement===z.current||(K=z.current)!=null&&K.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),F.useEffect(()=>{if(z.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,R.current=!1)}},[z.current]),F.createElement("section",{ref:t,"aria-label":`${S} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map(($,X)=>{var ee;let[K,q]=$.split("-");return E.length?F.createElement("ol",{key:$,dir:b==="auto"?yv():b,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":K,"data-lifted":M&&E.length>1&&!i,"data-x-position":q,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--width":`${yR}px`,"--gap":`${x}px`,...m,...kR(c,u)},onBlur:V=>{R.current&&!V.currentTarget.contains(V.relatedTarget)&&(R.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||R.current||(R.current=!0,N.current=V.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},E.filter(V=>!V.position&&X===0||V.position===$).map((V,me)=>{var he,se;return F.createElement(SR,{key:V.id,icons:y,index:me,toast:V,defaultRichColors:h,duration:(he=v==null?void 0:v.duration)!=null?he:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(se=v==null?void 0:v.closeButton)!=null?se:a,interacting:U,position:$,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:I,toasts:E.filter(de=>de.position==V.position),heights:T.filter(de=>de.position==V.position),setHeights:P,expandByDefault:i,gap:x,loadingIcon:g,expanded:M,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const jR=({...e})=>{const{theme:t="system"}=QM();return l.jsx(ER,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var CR=bp[" useId ".trim().toString()]||(()=>{}),TR=0;function ds(e){const[t,n]=p.useState(CR());return et(()=>{n(r=>r??String(TR++))},[e]),t?`radix-${t}`:""}const PR=["top","right","bottom","left"],vs=Math.min,$t=Math.max,bu=Math.round,uc=Math.floor,er=e=>({x:e,y:e}),NR={left:"right",right:"left",bottom:"top",top:"bottom"},_R={start:"end",end:"start"};function vm(e,t,n){return $t(e,vs(t,n))}function Cr(e,t){return typeof e=="function"?e(t):e}function Tr(e){return e.split("-")[0]}function Ha(e){return e.split("-")[1]}function b0(e){return e==="x"?"y":"x"}function S0(e){return e==="y"?"height":"width"}const MR=new Set(["top","bottom"]);function Xn(e){return MR.has(Tr(e))?"y":"x"}function k0(e){return b0(Xn(e))}function RR(e,t,n){n===void 0&&(n=!1);const r=Ha(e),s=k0(e),i=S0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Su(a)),[a,Su(a)]}function AR(e){const t=Su(e);return[xm(e),t,xm(t)]}function xm(e){return e.replace(/start|end/g,t=>_R[t])}const vv=["left","right"],xv=["right","left"],OR=["top","bottom"],DR=["bottom","top"];function IR(e,t,n){switch(e){case"top":case"bottom":return n?t?xv:vv:t?vv:xv;case"left":case"right":return t?OR:DR;default:return[]}}function LR(e,t,n,r){const s=Ha(e);let i=IR(Tr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(xm)))),i}function Su(e){return e.replace(/left|right|bottom|top/g,t=>NR[t])}function $R(e){return{top:0,right:0,bottom:0,left:0,...e}}function j2(e){return typeof e!="number"?$R(e):{top:e,right:e,bottom:e,left:e}}function ku(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function wv(e,t,n){let{reference:r,floating:s}=e;const i=Xn(t),a=k0(t),o=S0(a),c=Tr(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ha(t)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const FR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=wv(u,r,c),f=r,m={},w=0;for(let v=0;v<o.length;v++){const{name:b,fn:x}=o[v],{x:g,y,data:S,reset:k}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=g??d,h=y??h,m={...m,[b]:{...m[b],...S}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=wv(u,f,c)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function nl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Cr(t,e),w=j2(m),b=o[f?h==="floating"?"reference":"floating":h],x=ku(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=ku(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:y,strategy:c}):g);return{top:(x.top-k.top+w.top)/S.y,bottom:(k.bottom-x.bottom+w.bottom)/S.y,left:(x.left-k.left+w.left)/S.x,right:(k.right-x.right+w.right)/S.x}}const BR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Cr(e,t)||{};if(u==null)return{};const h=j2(d),f={x:n,y:r},m=k0(s),w=S0(m),v=await a.getDimensions(u),b=m==="y",x=b?"top":"left",g=b?"bottom":"right",y=b?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[m]-f[m]-i.floating[w],k=f[m]-i.reference[m],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=E?E[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=o.floating[y]||i.floating[w]);const j=S/2-k/2,T=C/2-v[w]/2-1,P=vs(h[x],T),M=vs(h[g],T),O=P,U=C-v[w]-M,D=C/2-v[w]/2+j,Y=vm(O,D,U),B=!c.arrow&&Ha(s)!=null&&D!==Y&&i.reference[w]/2-(D<O?P:M)-v[w]/2<0,z=B?D<O?D-O:D-U:0;return{[m]:f[m]+z,data:{[m]:Y,centerOffset:D-Y-z,...B&&{alignmentOffset:z}},reset:B}}}),zR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=Cr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Tr(s),g=Xn(o),y=Tr(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=f||(y||!v?[Su(o)]:AR(o)),E=w!=="none";!f&&E&&k.push(...LR(o,v,w,S));const C=[o,...k],j=await nl(t,b),T=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(j[x]),h){const D=RR(s,a,S);T.push(j[D[0]],j[D[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(D=>D<=0)){var M,O;const D=(((M=i.flip)==null?void 0:M.index)||0)+1,Y=C[D];if(Y&&(!(h==="alignment"?g!==Xn(Y):!1)||P.every(_=>_.overflows[0]>0&&Xn(_.placement)===g)))return{data:{index:D,overflows:P},reset:{placement:Y}};let B=(O=P.filter(z=>z.overflows[0]<=0).sort((z,_)=>z.overflows[1]-_.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(m){case"bestFit":{var U;const z=(U=P.filter(_=>{if(E){const N=Xn(_.placement);return N===g||N==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((_,N)=>_[1]-N[1])[0])==null?void 0:U[0];z&&(B=z);break}case"initialPlacement":B=o;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function bv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sv(e){return PR.some(t=>e[t]>=0)}const VR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Cr(e,t);switch(r){case"referenceHidden":{const i=await nl(t,{...s,elementContext:"reference"}),a=bv(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Sv(a)}}}case"escaped":{const i=await nl(t,{...s,altBoundary:!0}),a=bv(i,n.floating);return{data:{escapedOffsets:a,escaped:Sv(a)}}}default:return{}}}}},C2=new Set(["left","top"]);async function UR(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Tr(n),o=Ha(n),c=Xn(n)==="y",u=C2.has(a)?-1:1,d=i&&c?-1:1,h=Cr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof w=="number"&&(m=o==="end"?w*-1:w),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const WR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,c=await UR(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},HR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x,y:g}=b;return{x,y:g}}},...c}=Cr(e,t),u={x:n,y:r},d=await nl(t,c),h=Xn(Tr(s)),f=b0(h);let m=u[f],w=u[h];if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=m+d[b],y=m-d[x];m=vm(g,m,y)}if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=w+d[b],y=w-d[x];w=vm(g,w,y)}const v=o.fn({...t,[f]:m,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:a}}}}}},GR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Cr(e,t),d={x:n,y:r},h=Xn(s),f=b0(h);let m=d[f],w=d[h];const v=Cr(o,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=f==="y"?"height":"width",S=i.reference[f]-i.floating[y]+b.mainAxis,k=i.reference[f]+i.reference[y]-b.mainAxis;m<S?m=S:m>k&&(m=k)}if(u){var x,g;const y=f==="y"?"width":"height",S=C2.has(Tr(s)),k=i.reference[h]-i.floating[y]+(S&&((x=a.offset)==null?void 0:x[h])||0)+(S?0:b.crossAxis),E=i.reference[h]+i.reference[y]+(S?0:((g=a.offset)==null?void 0:g[h])||0)-(S?b.crossAxis:0);w<k?w=k:w>E&&(w=E)}return{[f]:m,[h]:w}}}},KR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:c=()=>{},...u}=Cr(e,t),d=await nl(t,u),h=Tr(s),f=Ha(s),m=Xn(s)==="y",{width:w,height:v}=i.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,b=f==="end"?"top":"bottom");const g=v-d.top-d.bottom,y=w-d.left-d.right,S=vs(v-d[b],g),k=vs(w-d[x],y),E=!t.middlewareData.shift;let C=S,j=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=g),E&&!f){const P=$t(d.left,0),M=$t(d.right,0),O=$t(d.top,0),U=$t(d.bottom,0);m?j=w-2*(P!==0||M!==0?P+M:$t(d.left,d.right)):C=v-2*(O!==0||U!==0?O+U:$t(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:C});const T=await a.getDimensions(o.floating);return w!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function gd(){return typeof window<"u"}function Ga(e){return T2(e)?(e.nodeName||"").toLowerCase():"#document"}function Ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sr(e){var t;return(t=(T2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function T2(e){return gd()?e instanceof Node||e instanceof Ht(e).Node:!1}function $n(e){return gd()?e instanceof Element||e instanceof Ht(e).Element:!1}function rr(e){return gd()?e instanceof HTMLElement||e instanceof Ht(e).HTMLElement:!1}function kv(e){return!gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ht(e).ShadowRoot}const qR=new Set(["inline","contents"]);function Ml(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!qR.has(s)}const YR=new Set(["table","td","th"]);function XR(e){return YR.has(Ga(e))}const QR=[":popover-open",":modal"];function yd(e){return QR.some(t=>{try{return e.matches(t)}catch{return!1}})}const JR=["transform","translate","scale","rotate","perspective"],ZR=["transform","translate","scale","rotate","perspective","filter"],eA=["paint","layout","strict","content"];function E0(e){const t=j0(),n=$n(e)?Fn(e):e;return JR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ZR.some(r=>(n.willChange||"").includes(r))||eA.some(r=>(n.contain||"").includes(r))}function tA(e){let t=xs(e);for(;rr(t)&&!Oa(t);){if(E0(t))return t;if(yd(t))return null;t=xs(t)}return null}function j0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nA=new Set(["html","body","#document"]);function Oa(e){return nA.has(Ga(e))}function Fn(e){return Ht(e).getComputedStyle(e)}function vd(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xs(e){if(Ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kv(e)&&e.host||sr(e);return kv(t)?t.host:t}function P2(e){const t=xs(e);return Oa(t)?e.ownerDocument?e.ownerDocument.body:e.body:rr(t)&&Ml(t)?t:P2(t)}function rl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=P2(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Ht(s);if(i){const o=wm(a);return t.concat(a,a.visualViewport||[],Ml(s)?s:[],o&&n?rl(o):[])}return t.concat(s,rl(s,[],n))}function wm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N2(e){const t=Fn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=rr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=bu(n)!==i||bu(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function C0(e){return $n(e)?e:e.contextElement}function ca(e){const t=C0(e);if(!rr(t))return er(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=N2(t);let a=(i?bu(n.width):n.width)/r,o=(i?bu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const rA=er(0);function _2(e){const t=Ht(e);return!j0()||!t.visualViewport?rA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ht(e)?!1:t}function li(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=C0(e);let a=er(1);t&&(r?$n(r)&&(a=ca(r)):a=ca(e));const o=sA(i,n,r)?_2(i):er(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=Ht(i),m=r&&$n(r)?Ht(r):r;let w=f,v=wm(w);for(;v&&r&&m!==w;){const b=ca(v),x=v.getBoundingClientRect(),g=Fn(v),y=x.left+(v.clientLeft+parseFloat(g.paddingLeft))*b.x,S=x.top+(v.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=y,u+=S,w=Ht(v),v=wm(w)}}return ku({width:d,height:h,x:c,y:u})}function T0(e,t){const n=vd(e).scrollLeft;return t?t.left+n:li(sr(e)).left+n}function M2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:T0(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function iA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=sr(r),o=t?yd(t.floating):!1;if(r===a||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=er(1);const d=er(0),h=rr(r);if((h||!h&&!i)&&((Ga(r)!=="body"||Ml(a))&&(c=vd(r)),rr(r))){const m=li(r);u=ca(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!h&&!i?M2(a,c,!0):er(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function aA(e){return Array.from(e.getClientRects())}function oA(e){const t=sr(e),n=vd(e),r=e.ownerDocument.body,s=$t(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=$t(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+T0(e);const o=-n.scrollTop;return Fn(r).direction==="rtl"&&(a+=$t(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function lA(e,t){const n=Ht(e),r=sr(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const u=j0();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}const cA=new Set(["absolute","fixed"]);function uA(e,t){const n=li(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=rr(e)?ca(e):er(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:o,x:c,y:u}}function Ev(e,t,n){let r;if(t==="viewport")r=lA(e,n);else if(t==="document")r=oA(sr(e));else if($n(t))r=uA(t,n);else{const s=_2(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ku(r)}function R2(e,t){const n=xs(e);return n===t||!$n(n)||Oa(n)?!1:Fn(n).position==="fixed"||R2(n,t)}function dA(e,t){const n=t.get(e);if(n)return n;let r=rl(e,[],!1).filter(o=>$n(o)&&Ga(o)!=="body"),s=null;const i=Fn(e).position==="fixed";let a=i?xs(e):e;for(;$n(a)&&!Oa(a);){const o=Fn(a),c=E0(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&cA.has(s.position)||Ml(a)&&!c&&R2(e,a))?r=r.filter(d=>d!==a):s=o,a=xs(a)}return t.set(e,r),r}function hA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?yd(t)?[]:dA(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const h=Ev(t,d,s);return u.top=$t(h.top,u.top),u.right=vs(h.right,u.right),u.bottom=vs(h.bottom,u.bottom),u.left=$t(h.left,u.left),u},Ev(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fA(e){const{width:t,height:n}=N2(e);return{width:t,height:n}}function mA(e,t,n){const r=rr(t),s=sr(t),i=n==="fixed",a=li(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=er(0);function u(){c.x=T0(s)}if(r||!r&&!i)if((Ga(t)!=="body"||Ml(s))&&(o=vd(t)),r){const m=li(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?M2(s,o):er(0),h=a.left+o.scrollLeft-c.x-d.x,f=a.top+o.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Ph(e){return Fn(e).position==="static"}function jv(e,t){if(!rr(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return sr(e)===n&&(n=n.ownerDocument.body),n}function A2(e,t){const n=Ht(e);if(yd(e))return n;if(!rr(e)){let s=xs(e);for(;s&&!Oa(s);){if($n(s)&&!Ph(s))return s;s=xs(s)}return n}let r=jv(e,t);for(;r&&XR(r)&&Ph(r);)r=jv(r,t);return r&&Oa(r)&&Ph(r)&&!E0(r)?n:r||tA(e)||n}const pA=async function(e){const t=this.getOffsetParent||A2,n=this.getDimensions,r=await n(e.floating);return{reference:mA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gA(e){return Fn(e).direction==="rtl"}const yA={convertOffsetParentRelativeRectToViewportRelativeRect:iA,getDocumentElement:sr,getClippingRect:hA,getOffsetParent:A2,getElementRects:pA,getClientRects:aA,getDimensions:fA,getScale:ca,isElement:$n,isRTL:gA};function O2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vA(e,t){let n=null,r;const s=sr(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(o||t(),!f||!m)return;const w=uc(h),v=uc(s.clientWidth-(d+f)),b=uc(s.clientHeight-(h+m)),x=uc(d),y={rootMargin:-w+"px "+-v+"px "+-b+"px "+-x+"px",threshold:$t(0,vs(1,c))||1};let S=!0;function k(E){const C=E[0].intersectionRatio;if(C!==c){if(!S)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!O2(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(k,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return a(!0),i}function xA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=C0(e),d=s||i?[...u?rl(u):[],...rl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&o?vA(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let w,v=c?li(e):null;c&&b();function b(){const x=li(e);v&&!O2(v,x)&&n(),v=x,w=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const wA=WR,bA=HR,SA=zR,kA=KR,EA=VR,Cv=BR,jA=GR,CA=(e,t,n)=>{const r=new Map,s={platform:yA,...n},i={...s.platform,_c:r};return FR(e,t,{...s,platform:i})};var TA=typeof document<"u",PA=function(){},Vc=TA?p.useLayoutEffect:PA;function Eu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Eu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Eu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function D2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tv(e,t){const n=D2(e);return Math.round(t*n)/n}function Nh(e){const t=p.useRef(e);return Vc(()=>{t.current=e}),t}function NA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);Eu(f,r)||m(r);const[w,v]=p.useState(null),[b,x]=p.useState(null),g=p.useCallback(_=>{_!==E.current&&(E.current=_,v(_))},[]),y=p.useCallback(_=>{_!==C.current&&(C.current=_,x(_))},[]),S=i||w,k=a||b,E=p.useRef(null),C=p.useRef(null),j=p.useRef(d),T=c!=null,P=Nh(c),M=Nh(s),O=Nh(u),U=p.useCallback(()=>{if(!E.current||!C.current)return;const _={placement:t,strategy:n,middleware:f};M.current&&(_.platform=M.current),CA(E.current,C.current,_).then(N=>{const R={...N,isPositioned:O.current!==!1};D.current&&!Eu(j.current,R)&&(j.current=R,mi.flushSync(()=>{h(R)}))})},[f,t,n,M,O]);Vc(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const D=p.useRef(!1);Vc(()=>(D.current=!0,()=>{D.current=!1}),[]),Vc(()=>{if(S&&(E.current=S),k&&(C.current=k),S&&k){if(P.current)return P.current(S,k,U);U()}},[S,k,U,P,T]);const Y=p.useMemo(()=>({reference:E,floating:C,setReference:g,setFloating:y}),[g,y]),B=p.useMemo(()=>({reference:S,floating:k}),[S,k]),z=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!B.floating)return _;const N=Tv(B.floating,d.x),R=Tv(B.floating,d.y);return o?{..._,transform:"translate("+N+"px, "+R+"px)",...D2(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:R}},[n,o,B.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:U,refs:Y,elements:B,floatingStyles:z}),[d,U,Y,B,z])}const _A=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Cv({element:r.current,padding:s}).fn(n):{}:r?Cv({element:r,padding:s}).fn(n):{}}}},MA=(e,t)=>({...wA(e),options:[e,t]}),RA=(e,t)=>({...bA(e),options:[e,t]}),AA=(e,t)=>({...jA(e),options:[e,t]}),OA=(e,t)=>({...SA(e),options:[e,t]}),DA=(e,t)=>({...kA(e),options:[e,t]}),IA=(e,t)=>({...EA(e),options:[e,t]}),LA=(e,t)=>({..._A(e),options:[e,t]});var $A="Arrow",I2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(J.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});I2.displayName=$A;var FA=I2;function P0(e){const[t,n]=p.useState(void 0);return et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var N0="Popper",[L2,xd]=hn(N0),[BA,$2]=L2(N0),F2=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx(BA,{scope:t,anchor:r,onAnchorChange:s,children:n})};F2.displayName=N0;var B2="PopperAnchor",z2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=$2(B2,n),a=p.useRef(null),o=ce(t,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(J.div,{...s,ref:o})});z2.displayName=B2;var _0="PopperContent",[zA,VA]=L2(_0),V2=p.forwardRef((e,t)=>{var V,me,he,se,de,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=e,b=$2(_0,n),[x,g]=p.useState(null),y=ce(t,Ke=>g(Ke)),[S,k]=p.useState(null),E=P0(S),C=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,T=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],O=M.length>0,U={padding:P,boundary:M.filter(WA),altBoundary:O},{refs:D,floatingStyles:Y,placement:B,isPositioned:z,middlewareData:_}=NA({strategy:"fixed",placement:T,whileElementsMounted:(...Ke)=>xA(...Ke,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[MA({mainAxis:s+j,alignmentAxis:a}),c&&RA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?AA():void 0,...U}),c&&OA({...U}),DA({...U,apply:({elements:Ke,rects:lt,availableWidth:Qt,availableHeight:Ct})=>{const{width:ar,height:Rr}=lt.reference,or=Ke.floating.style;or.setProperty("--radix-popper-available-width",`${Qt}px`),or.setProperty("--radix-popper-available-height",`${Ct}px`),or.setProperty("--radix-popper-anchor-width",`${ar}px`),or.setProperty("--radix-popper-anchor-height",`${Rr}px`)}}),S&&LA({element:S,padding:o}),HA({arrowWidth:C,arrowHeight:j}),f&&IA({strategy:"referenceHidden",...U})]}),[N,R]=H2(B),I=Xe(w);et(()=>{z&&(I==null||I())},[z,I]);const $=(V=_.arrow)==null?void 0:V.x,X=(me=_.arrow)==null?void 0:me.y,ee=((he=_.arrow)==null?void 0:he.centerOffset)!==0,[K,q]=p.useState();return et(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:z?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(se=_.transformOrigin)==null?void 0:se.x,(de=_.transformOrigin)==null?void 0:de.y].join(" "),...((fe=_.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(zA,{scope:n,placedSide:N,onArrowChange:k,arrowX:$,arrowY:X,shouldHideArrow:ee,children:l.jsx(J.div,{"data-side":N,"data-align":R,...v,ref:y,style:{...v.style,animation:z?void 0:"none"}})})})});V2.displayName=_0;var U2="PopperArrow",UA={top:"bottom",right:"left",bottom:"top",left:"right"},W2=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=VA(U2,r),a=UA[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(FA,{...s,ref:n,style:{...s.style,display:"block"}})})});W2.displayName=U2;function WA(e){return e!==null}var HA=e=>({name:"transformOrigin",options:e,fn(t){var b,x,g;const{placement:n,rects:r,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=H2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+o/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?h:`${f}px`,v=`${-c}px`):u==="top"?(w=a?h:`${f}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?h:`${m}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=a?h:`${m}px`),{data:{x:w,y:v}}}});function H2(e){const[t,n="center"]=e.split("-");return[t,n]}var GA=F2,G2=z2,K2=V2,q2=W2,[wd]=hn("Tooltip",[xd]),M0=xd(),Y2="TooltipProvider",KA=700,Pv="tooltip.open",[qA,X2]=wd(Y2),Q2=e=>{const{__scopeTooltip:t,delayDuration:n=KA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=p.useRef(!0),o=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(qA,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:p.useCallback(u=>{o.current=u},[]),disableHoverableContent:s,children:i})};Q2.displayName=Y2;var J2="Tooltip",[q7,bd]=wd(J2),bm="TooltipTrigger",YA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=bd(bm,n),i=X2(bm,n),a=M0(n),o=p.useRef(null),c=ce(t,o,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(G2,{asChild:!0,...a,children:l.jsx(J.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:G(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:G(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:G(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:G(e.onBlur,s.onClose),onClick:G(e.onClick,s.onClose)})})});YA.displayName=bm;var XA="TooltipPortal",[Y7,QA]=wd(XA,{forceMount:void 0}),Da="TooltipContent",Z2=p.forwardRef((e,t)=>{const n=QA(Da,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=bd(Da,e.__scopeTooltip);return l.jsx(fn,{present:r||a.open,children:a.disableHoverableContent?l.jsx(e5,{side:s,...i,ref:t}):l.jsx(JA,{side:s,...i,ref:t})})}),JA=p.forwardRef((e,t)=>{const n=bd(Da,e.__scopeTooltip),r=X2(Da,e.__scopeTooltip),s=p.useRef(null),i=ce(t,s),[a,o]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{o(null),h(!1)},[h]),m=p.useCallback((w,v)=>{const b=w.currentTarget,x={x:w.clientX,y:w.clientY},g=rO(x,b.getBoundingClientRect()),y=sO(x,g),S=iO(v.getBoundingClientRect()),k=oO([...y,...S]);o(k),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const w=b=>m(b,d),v=b=>m(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,m,f]),p.useEffect(()=>{if(a){const w=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),y=!aO(x,a);g?f():y&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,a,u,f]),l.jsx(e5,{...e,ref:i})}),[ZA,eO]=wd(J2,{isInside:!1}),tO=JN("TooltipContent"),e5=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,c=bd(Da,n),u=M0(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Pv,d),()=>document.removeEventListener(Pv,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(K2,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(tO,{children:r}),l.jsx(ZA,{scope:n,isInside:!0,children:l.jsx(w_,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Z2.displayName=Da;var t5="TooltipArrow",nO=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=M0(n);return eO(t5,n).isInside?null:l.jsx(q2,{...s,...r,ref:t})});nO.displayName=t5;function rO(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iO(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function aO(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],c=t[a],u=o.x,d=o.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function oO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lO(t)}function lO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cO=Q2,n5=Z2;const uO=cO,dO=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(n5,{ref:r,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));dO.displayName=n5.displayName;var Sd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kd=typeof window>"u"||"Deno"in globalThis;function jn(){}function hO(e,t){return typeof e=="function"?e(t):e}function fO(e){return typeof e=="number"&&e>=0&&e!==1/0}function mO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sm(e,t){return typeof e=="function"?e(t):e}function pO(e,t){return typeof e=="function"?e(t):e}function Nv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==R0(a,t.options))return!1}else if(!il(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function _v(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(sl(t.options.mutationKey)!==sl(i))return!1}else if(!il(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function R0(e,t){return((t==null?void 0:t.queryKeyHashFn)||sl)(e)}function sl(e){return JSON.stringify(e,(t,n)=>km(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function il(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>il(e[n],t[n])):!1}function r5(e,t){if(e===t)return e;const n=Mv(e)&&Mv(t);if(n||km(e)&&km(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=r5(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:o}return t}function Mv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function km(e){if(!Rv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rv(e){return Object.prototype.toString.call(e)==="[object Object]"}function gO(e){return new Promise(t=>{setTimeout(t,e)})}function yO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?r5(e,t):t}function vO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function xO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var A0=Symbol();function s5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===A0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qs,Yr,ga,cb,wO=(cb=class extends Sd{constructor(){super();ge(this,qs);ge(this,Yr);ge(this,ga);ae(this,ga,t=>{if(!kd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,Yr)||this.setEventListener(A(this,ga))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Yr))==null||t.call(this),ae(this,Yr,void 0))}setEventListener(t){var n;ae(this,ga,t),(n=A(this,Yr))==null||n.call(this),ae(this,Yr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){A(this,qs)!==t&&(ae(this,qs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,qs)=="boolean"?A(this,qs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qs=new WeakMap,Yr=new WeakMap,ga=new WeakMap,cb),i5=new wO,ya,Xr,va,ub,bO=(ub=class extends Sd{constructor(){super();ge(this,ya,!0);ge(this,Xr);ge(this,va);ae(this,va,t=>{if(!kd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,Xr)||this.setEventListener(A(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Xr))==null||t.call(this),ae(this,Xr,void 0))}setEventListener(t){var n;ae(this,va,t),(n=A(this,Xr))==null||n.call(this),ae(this,Xr,t(this.setOnline.bind(this)))}setOnline(t){A(this,ya)!==t&&(ae(this,ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return A(this,ya)}},ya=new WeakMap,Xr=new WeakMap,va=new WeakMap,ub),ju=new bO;function SO(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function kO(e){return Math.min(1e3*2**e,3e4)}function a5(e){return(e??"online")==="online"?ju.isOnline():!0}var o5=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _h(e){return e instanceof o5}function l5(e){let t=!1,n=0,r=!1,s;const i=SO(),a=v=>{var b;r||(f(new o5(v)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>i5.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),d=()=>a5(e.networkMode)&&e.canRun(),h=v=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,v),s==null||s(),i.resolve(v))},f=v=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var b;s=x=>{(r||u())&&v(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const b=n===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(h).catch(x=>{var E;if(r)return;const g=e.retry??(kd?0:3),y=e.retryDelay??kO,S=typeof y=="function"?y(n,x):y,k=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(t||!k){f(x);return}n++,(E=e.onFail)==null||E.call(e,n,x),gO(S).then(()=>u()?void 0:m()).then(()=>{t?f(x):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),i)}}var EO=e=>setTimeout(e,0);function jO(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=EO;const i=o=>{t?e.push(o):s(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var bt=jO(),Ys,db,c5=(db=class{constructor(){ge(this,Ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fO(this.gcTime)&&ae(this,Ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kd?1/0:5*60*1e3))}clearGcTimeout(){A(this,Ys)&&(clearTimeout(A(this,Ys)),ae(this,Ys,void 0))}},Ys=new WeakMap,db),xa,Xs,tn,Qs,ht,bl,Js,Tn,ur,hb,CO=(hb=class extends c5{constructor(t){super();ge(this,Tn);ge(this,xa);ge(this,Xs);ge(this,tn);ge(this,Qs);ge(this,ht);ge(this,bl);ge(this,Js);ae(this,Js,!1),ae(this,bl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Qs,t.client),ae(this,tn,A(this,Qs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,xa,PO(this.options)),this.state=t.state??A(this,xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,ht))==null?void 0:t.promise}setOptions(t){this.options={...A(this,bl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,tn).remove(this)}setData(t,n){const r=yO(this.state.data,t,this.options);return ct(this,Tn,ur).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ct(this,Tn,ur).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=A(this,ht))==null?void 0:r.promise;return(s=A(this,ht))==null||s.cancel(t),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,xa))}isActive(){return this.observers.some(t=>pO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Sm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mO(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,ht)&&(A(this,Js)?A(this,ht).cancel({revert:!0}):A(this,ht).cancelRetry()),this.scheduleGc()),A(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,Tn,ur).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,ht))return A(this,ht).continueRetry(),A(this,ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,Js,!0),r.signal)})},i=()=>{const f=s5(this.options,n),w=(()=>{const v={client:A(this,Qs),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ae(this,Js,!1),this.options.persister?this.options.persister(f,w,this):f(w)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Qs),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),ae(this,Xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ct(this,Tn,ur).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,w,v,b;_h(f)&&f.silent||ct(this,Tn,ur).call(this,{type:"error",error:f}),_h(f)||((w=(m=A(this,tn).config).onError)==null||w.call(m,f,this),(b=(v=A(this,tn).config).onSettled)==null||b.call(v,this.state.data,f,this)),this.scheduleGc()};return ae(this,ht,l5({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,w,v,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(w=(m=A(this,tn).config).onSuccess)==null||w.call(m,f,this),(b=(v=A(this,tn).config).onSettled)==null||b.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{ct(this,Tn,ur).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{ct(this,Tn,ur).call(this,{type:"pause"})},onContinue:()=>{ct(this,Tn,ur).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,ht).start()}},xa=new WeakMap,Xs=new WeakMap,tn=new WeakMap,Qs=new WeakMap,ht=new WeakMap,bl=new WeakMap,Js=new WeakMap,Tn=new WeakSet,ur=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TO(r.data,this.options),fetchMeta:t.meta??null};case"success":return ae(this,Xs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return _h(s)&&s.revert&&A(this,Xs)?{...A(this,Xs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,tn).notify({query:this,type:"updated",action:t})})},hb);function TO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Un,fb,NO=(fb=class extends Sd{constructor(t={}){super();ge(this,Un);this.config=t,ae(this,Un,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??R0(s,n);let a=this.get(i);return a||(a=new CO({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){A(this,Un).has(t.queryHash)||(A(this,Un).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,Un).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,Un).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Un).get(t)}getAll(){return[...A(this,Un).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Nv(t,r)):n}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Un=new WeakMap,fb),Wn,xt,Zs,Hn,Br,mb,_O=(mb=class extends c5{constructor(t){super();ge(this,Hn);ge(this,Wn);ge(this,xt);ge(this,Zs);this.mutationId=t.mutationId,ae(this,xt,t.mutationCache),ae(this,Wn,[]),this.state=t.state||MO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Wn).includes(t)||(A(this,Wn).push(t),this.clearGcTimeout(),A(this,xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Wn,A(this,Wn).filter(n=>n!==t)),this.scheduleGc(),A(this,xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():A(this,xt).remove(this))}continue(){var t;return((t=A(this,Zs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,c,u,d,h,f,m,w,v,b,x,g,y,S,k,E,C,j;const n=()=>{ct(this,Hn,Br).call(this,{type:"continue"})};ae(this,Zs,l5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{ct(this,Hn,Br).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{ct(this,Hn,Br).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,xt).canRun(this)}));const r=this.state.status==="pending",s=!A(this,Zs).canStart();try{if(r)n();else{ct(this,Hn,Br).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=A(this,xt).config).onMutate)==null?void 0:a.call(i,t,this));const P=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));P!==this.state.context&&ct(this,Hn,Br).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const T=await A(this,Zs).start();return await((d=(u=A(this,xt).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,T,t,this.state.context)),await((w=(m=A(this,xt).config).onSettled)==null?void 0:w.call(m,T,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context)),ct(this,Hn,Br).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(x=A(this,xt).config).onError)==null?void 0:g.call(x,T,t,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,t,this.state.context)),await((E=(k=A(this,xt).config).onSettled)==null?void 0:E.call(k,void 0,T,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,T,t,this.state.context)),T}finally{ct(this,Hn,Br).call(this,{type:"error",error:T})}}finally{A(this,xt).runNext(this)}}},Wn=new WeakMap,xt=new WeakMap,Zs=new WeakMap,Hn=new WeakSet,Br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bt.batch(()=>{A(this,Wn).forEach(r=>{r.onMutationUpdate(t)}),A(this,xt).notify({mutation:this,type:"updated",action:t})})},mb);function MO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,Pn,Sl,pb,RO=(pb=class extends Sd{constructor(t={}){super();ge(this,mr);ge(this,Pn);ge(this,Sl);this.config=t,ae(this,mr,new Set),ae(this,Pn,new Map),ae(this,Sl,0)}build(t,n,r){const s=new _O({mutationCache:this,mutationId:++Ul(this,Sl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){A(this,mr).add(t);const n=dc(t);if(typeof n=="string"){const r=A(this,Pn).get(n);r?r.push(t):A(this,Pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,mr).delete(t)){const n=dc(t);if(typeof n=="string"){const r=A(this,Pn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&A(this,Pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=dc(t);if(typeof n=="string"){const r=A(this,Pn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=dc(t);if(typeof n=="string"){const s=(r=A(this,Pn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bt.batch(()=>{A(this,mr).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,mr).clear(),A(this,Pn).clear()})}getAll(){return Array.from(A(this,mr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_v(n,r))}findAll(t={}){return this.getAll().filter(n=>_v(t,n))}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bt.batch(()=>Promise.all(t.map(n=>n.continue().catch(jn))))}},mr=new WeakMap,Pn=new WeakMap,Sl=new WeakMap,pb);function dc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Av(e){return{onFetch:(t,n)=>{var d,h,f,m,w;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=s5(t.options,t.fetchOptions),g=async(y,S,k)=>{if(v)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:S,direction:k?"backward":"forward",meta:t.options.meta};return b(M),M})(),j=await x(C),{maxPages:T}=t.options,P=k?xO:vO;return{pages:P(y.pages,j,T),pageParams:P(y.pageParams,S,T)}};if(s&&i.length){const y=s==="backward",S=y?AO:Ov,k={pages:i,pageParams:a},E=S(r,k);o=await g(k,E,y)}else{const y=e??i.length;do{const S=c===0?a[0]??r.initialPageParam:Ov(r,o);if(c>0&&S==null)break;o=await g(o,S),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ov(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function AO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Le,Qr,Jr,wa,ba,Zr,Sa,ka,gb,OO=(gb=class{constructor(e={}){ge(this,Le);ge(this,Qr);ge(this,Jr);ge(this,wa);ge(this,ba);ge(this,Zr);ge(this,Sa);ge(this,ka);ae(this,Le,e.queryCache||new NO),ae(this,Qr,e.mutationCache||new RO),ae(this,Jr,e.defaultOptions||{}),ae(this,wa,new Map),ae(this,ba,new Map),ae(this,Zr,0)}mount(){Ul(this,Zr)._++,A(this,Zr)===1&&(ae(this,Sa,i5.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Le).onFocus())})),ae(this,ka,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Le).onOnline())})))}unmount(){var e,t;Ul(this,Zr)._--,A(this,Zr)===0&&((e=A(this,Sa))==null||e.call(this),ae(this,Sa,void 0),(t=A(this,ka))==null||t.call(this),ae(this,ka,void 0))}isFetching(e){return A(this,Le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Qr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Le).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=A(this,Le).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Sm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return A(this,Le).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=A(this,Le).get(r.queryHash),i=s==null?void 0:s.state.data,a=hO(t,i);if(a!==void 0)return A(this,Le).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return bt.batch(()=>A(this,Le).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Le).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,Le);bt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,Le);return bt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=bt.batch(()=>A(this,Le).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(e,t={}){return bt.batch(()=>(A(this,Le).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=bt.batch(()=>A(this,Le).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,Le).build(this,t);return n.isStaleByTime(Sm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=Av(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=Av(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?A(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Le)}getMutationCache(){return A(this,Qr)}getDefaultOptions(){return A(this,Jr)}setDefaultOptions(e){ae(this,Jr,e)}setQueryDefaults(e,t){A(this,wa).set(sl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,wa).values()],n={};return t.forEach(r=>{il(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){A(this,ba).set(sl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,ba).values()],n={};return t.forEach(r=>{il(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,Jr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=R0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,Jr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Le).clear(),A(this,Qr).clear()}},Le=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,wa=new WeakMap,ba=new WeakMap,Zr=new WeakMap,Sa=new WeakMap,ka=new WeakMap,gb),DO=p.createContext(void 0),IO=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(DO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}var ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ns||(ns={}));const Dv="popstate";function LO(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return Em("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cu(s)}return FO(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $O(){return Math.random().toString(36).substr(2,8)}function Iv(e,t){return{usr:e.state,key:e.key,idx:t}}function Em(e,t,n,r){return n===void 0&&(n=null),al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ka(t):t,{state:n,key:t&&t.key||r||$O()})}function Cu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ka(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function FO(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=ns.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(al({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=ns.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:x})}function f(b,x){o=ns.Push;let g=Em(v.location,b,x);u=d()+1;let y=Iv(g,u),S=v.createHref(g);try{a.pushState(y,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&c&&c({action:o,location:v.location,delta:1})}function m(b,x){o=ns.Replace;let g=Em(v.location,b,x);u=d();let y=Iv(g,u),S=v.createHref(g);a.replaceState(y,"",S),i&&c&&c({action:o,location:v.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:Cu(b);return g=g.replace(/ $/,"%20"),Ge(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let v={get action(){return o},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Dv,h),c=b,()=>{s.removeEventListener(Dv,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(b){return a.go(b)}};return v}var Lv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lv||(Lv={}));function BO(e,t,n){return n===void 0&&(n="/"),zO(e,t,n)}function zO(e,t,n,r){let s=typeof t=="string"?Ka(t):t,i=O0(s.pathname||"/",n);if(i==null)return null;let a=d5(e);VO(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=eD(i);o=QO(a[c],u)}return o}function d5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=hs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d5(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:YO(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of h5(i.path))s(i,a,c)}),t}function h5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=h5(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function VO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UO=/^:[\w-]+$/,WO=3,HO=2,GO=1,KO=10,qO=-2,$v=e=>e==="*";function YO(e,t){let n=e.split("/"),r=n.length;return n.some($v)&&(r+=qO),t&&(r+=HO),n.filter(s=>!$v(s)).reduce((s,i)=>s+(UO.test(i)?WO:i===""?GO:KO),r)}function XO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function QO(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=JO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:hs([i,h.pathname]),pathnameBase:sD(hs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=hs([i,h.pathnameBase]))}return a}function JO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[h];return m&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function ZO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),u5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return u5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function O0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ka(e):e;return{pathname:n?n.startsWith("/")?n:nD(n,t):t,search:iD(r),hash:aD(s)}}function nD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function f5(e,t){let n=rD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m5(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ka(e):(s=al({},e),Ge(!s.pathname||!s.pathname.includes("?"),Mh("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),Mh("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),Mh("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=tD(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),sD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const p5=["post","put","patch","delete"];new Set(p5);const lD=["get",...p5];new Set(lD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}const D0=p.createContext(null),cD=p.createContext(null),pi=p.createContext(null),Ed=p.createContext(null),Cs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),g5=p.createContext(null);function uD(e,t){let{relative:n}=t===void 0?{}:t;Rl()||Ge(!1);let{basename:r,navigator:s}=p.useContext(pi),{hash:i,pathname:a,search:o}=v5(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:hs([r,a])),s.createHref({pathname:c,search:o,hash:i})}function Rl(){return p.useContext(Ed)!=null}function gi(){return Rl()||Ge(!1),p.useContext(Ed).location}function y5(e){p.useContext(pi).static||p.useLayoutEffect(e)}function I0(){let{isDataRoute:e}=p.useContext(Cs);return e?ED():dD()}function dD(){Rl()||Ge(!1);let e=p.useContext(D0),{basename:t,future:n,navigator:r}=p.useContext(pi),{matches:s}=p.useContext(Cs),{pathname:i}=gi(),a=JSON.stringify(f5(s,n.v7_relativeSplatPath)),o=p.useRef(!1);return y5(()=>{o.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=m5(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:hs([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function hD(){let{matches:e}=p.useContext(Cs),t=e[e.length-1];return t?t.params:{}}function v5(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(pi),{matches:s}=p.useContext(Cs),{pathname:i}=gi(),a=JSON.stringify(f5(s,r.v7_relativeSplatPath));return p.useMemo(()=>m5(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function fD(e,t){return mD(e,t)}function mD(e,t,n,r){Rl()||Ge(!1);let{navigator:s}=p.useContext(pi),{matches:i}=p.useContext(Cs),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=gi(),d;if(t){var h;let b=typeof t=="string"?Ka(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ge(!1),d=b}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=BO(e,{pathname:m}),v=xD(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:hs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:hs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&v?p.createElement(Ed.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ns.Pop}},v):v}function pD(){let e=kD(),t=oD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const gD=p.createElement(pD,null);class yD extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Cs.Provider,{value:this.props.routeContext},p.createElement(g5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vD(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(D0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Cs.Provider,{value:t},r)}function xD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Ge(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,w=!1,v=null,b=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||gD,c&&(u<0&&f===0?(jD("route-fallback"),w=!0,b=null):u===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,f+1)),g=()=>{let y;return m?y=v:w?y=b:h.route.Component?y=p.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,p.createElement(vD,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(yD,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var x5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x5||{}),w5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w5||{});function wD(e){let t=p.useContext(D0);return t||Ge(!1),t}function bD(e){let t=p.useContext(cD);return t||Ge(!1),t}function SD(e){let t=p.useContext(Cs);return t||Ge(!1),t}function b5(e){let t=SD(),n=t.matches[t.matches.length-1];return n.route.id||Ge(!1),n.route.id}function kD(){var e;let t=p.useContext(g5),n=bD(),r=b5();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ED(){let{router:e}=wD(x5.UseNavigateStable),t=b5(w5.UseNavigateStable),n=p.useRef(!1);return y5(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ol({fromRouteId:t},i)))},[e,t])}const Fv={};function jD(e,t,n){Fv[e]||(Fv[e]=!0)}function CD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wn(e){Ge(!1)}function TD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ns.Pop,navigator:i,static:a=!1,future:o}=e;Rl()&&Ge(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:ol({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=Ka(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,v=p.useMemo(()=>{let b=O0(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:w},navigationType:s}},[c,d,h,f,m,w,s]);return v==null?null:p.createElement(pi.Provider,{value:u},p.createElement(Ed.Provider,{children:n,value:v}))}function Bv(e){let{children:t,location:n}=e;return fD(jm(t),n)}new Promise(()=>{});function jm(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,jm(r.props.children,i));return}r.type!==wn&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}function PD(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ND(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _D(e,t){return e.button===0&&(!t||t==="_self")&&!ND(e)}const MD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RD="6";try{window.__reactRouterVersion=RD}catch{}const AD="startTransition",zv=bp[AD];function OD(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=LO({window:s,v5Compat:!0}));let a=i.current,[o,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&zv?zv(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>CD(r),[r]),p.createElement(TD,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ID=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=PD(t,MD),{basename:m}=p.useContext(pi),w,v=!1;if(typeof u=="string"&&ID.test(u)&&(w=u,DD))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=O0(S.pathname,m);S.origin===y.origin&&k!=null?u=k+S.search+S.hash:v=!0}catch{}let b=uD(u,{relative:s}),x=LD(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(y){r&&r(y),y.defaultPrevented||x(y)}return p.createElement("a",Cm({},f,{href:w||b,onClick:v||i?r:g,ref:n,target:c}))});var Vv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var Uv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function LD(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,c=I0(),u=gi(),d=v5(e,{relative:a});return p.useCallback(h=>{if(_D(h,n)){h.preventDefault();let f=r!==void 0?r:Cu(u)===Cu(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,s,n,e,i,a,o])}const $D=[{path:"/",icon:Q_,label:"Home"},{path:"/logs",icon:W_,label:"Logs"},{path:"/library",icon:g0,label:"Library"},{path:"/story",icon:md,label:"Story"},{path:"/statistics",icon:p0,label:"Stats"},{path:"/about",icon:d2,label:"About"}],Wv={superBloodMoon:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.95), rgba(80, 10, 10, 0.9), rgba(100, 20, 20, 0.8))",borderTop:"1px solid rgba(255, 50, 50, 0.6)",boxShadow:"0 -10px 40px rgba(220, 20, 60, 0.6), 0 -2px 10px rgba(255, 0, 0, 0.4), inset 0 2px 20px rgba(255, 50, 50, 0.2)",animation:"bloodPulse 3s ease-in-out infinite",backdropFilter:"blur(20px) saturate(150%)"},superBlueBloodMoon:{background:"linear-gradient(135deg, rgba(20, 0, 40, 0.95), rgba(60, 20, 80, 0.9), rgba(100, 40, 120, 0.8))",borderTop:"1px solid rgba(200, 100, 255, 0.6)",borderImage:"linear-gradient(90deg, transparent, rgba(200, 100, 255, 1), rgba(100, 200, 255, 1), transparent) 1",boxShadow:"0 -10px 40px rgba(120, 20, 220, 0.6), 0 -2px 10px rgba(200, 100, 255, 0.4), inset 0 2px 20px rgba(200, 100, 255, 0.2)",animation:"royalShimmer 4s ease-in-out infinite",backdropFilter:"blur(20px) saturate(180%)"},lunarTransientPhenomena:{background:"linear-gradient(to top, rgba(10, 10, 20, 0.95), rgba(30, 30, 60, 0.9))",borderTop:"1px solid rgba(150, 255, 255, 0.8)",boxShadow:"0 -5px 30px rgba(100, 255, 255, 0.5), 0 0 15px rgba(100, 255, 255, 0.3), inset 0 0 20px rgba(100, 255, 255, 0.1)",animation:"electricGlitch 3s steps(5) infinite",backdropFilter:"blur(15px) brightness(1.2)"},hybridEclipse:{background:"linear-gradient(to top, rgba(20, 10, 0, 0.95), rgba(60, 40, 10, 0.9))",borderTop:"1px solid rgba(255, 200, 100, 0.8)",boxShadow:"0 -5px 35px rgba(255, 160, 50, 0.6), 0 0 15px rgba(255, 200, 100, 0.4), inset 0 2px 10px rgba(255, 200, 100, 0.2)",animation:"eclipsePulse 4s ease-in-out infinite",backdropFilter:"blur(18px) contrast(1.1)"},stillMoon:{background:"linear-gradient(to top, rgba(200, 220, 255, 0.15), rgba(255, 255, 255, 0.05))",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 -5px 30px rgba(200, 230, 255, 0.4), inset 0 0 30px rgba(200, 230, 255, 0.2)",backdropFilter:"blur(30px) brightness(1.1)",animation:"stillFreeze 10s linear infinite"},echoMoon:{background:"linear-gradient(to top, rgba(30, 15, 60, 0.98), rgba(15, 5, 30, 0.98))",backgroundSize:"200% 100%",borderTop:"2px solid rgba(180, 130, 255, 0.8)",borderImage:"repeating-linear-gradient(90deg, rgba(160, 100, 255, 0.5) 0, rgba(200, 150, 255, 1) 20px, rgba(160, 100, 255, 0.5) 40px) 1",boxShadow:`
      0 -5px 25px rgba(140, 70, 255, 0.6),
      0 -10px 50px rgba(124, 58, 237, 0.3),
      inset 0 4px 20px rgba(200, 160, 255, 0.2)
    `,animation:"echoRipple 3s infinite linear",backdropFilter:"blur(25px)"},brokenMoon:{background:"linear-gradient(to top, rgba(10, 10, 12, 0.95), rgba(30, 30, 35, 0.9))",borderTop:"2px dashed rgba(255, 255, 255, 0.4)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1)",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px)",backdropFilter:"blur(15px) grayscale(0.8)"},emptySky:{background:"#050505",borderTop:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 -10px 50px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 255, 255, 0.1) inset",backdropFilter:"blur(50px) brightness(0.5)"},crystalMoon:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(200, 240, 255, 0.2))",borderTop:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 -5px 35px rgba(200, 240, 255, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(25px) contrast(1.2)",animation:"crystalFacet 5s ease-in-out infinite"},arcticMoon:{background:"linear-gradient(to top, rgba(20, 40, 60, 0.9), rgba(50, 100, 150, 0.8))",borderTop:"1px solid rgba(150, 230, 255, 0.8)",boxShadow:"0 -8px 30px rgba(100, 200, 255, 0.5), inset 0 0 20px rgba(150, 230, 255, 0.3)",backdropFilter:"blur(20px) brightness(1.1)"},shatteredMoon:{background:"linear-gradient(to top, rgba(20, 20, 25, 0.95), rgba(50, 50, 60, 0.9))",borderTop:"1px double rgba(255, 255, 255, 0.5)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.25), inset 0 0 10px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)"},cosmicVoyageMoon:{background:"linear-gradient(to top, rgba(30, 10, 60, 0.95), rgba(60, 20, 100, 0.9))",borderTop:"1px solid rgba(200, 100, 255, 0.7)",boxShadow:"0 -8px 35px rgba(150, 50, 255, 0.5), inset 0 0 15px rgba(200, 100, 255, 0.2)",backdropFilter:"blur(20px)"},nebulaDreamMoon:{background:"linear-gradient(to top, rgba(40, 20, 60, 0.95), rgba(80, 40, 100, 0.9))",borderTop:"1px solid rgba(255, 150, 255, 0.7)",boxShadow:"0 -8px 35px rgba(255, 100, 255, 0.5), 0 0 20px rgba(255, 100, 255, 0.2) inset",backdropFilter:"blur(20px)",animation:"nebulaSwirl 6s ease-in-out infinite"}};function jd(){const e=gi(),[t,n]=p.useState(null);p.useEffect(()=>{const s=document.documentElement.getAttribute("data-mythic-theme");n(s);const i=new MutationObserver(()=>{const a=document.documentElement.getAttribute("data-mythic-theme");n(a)});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-mythic-theme"]}),()=>i.disconnect()},[]);const r=t&&Wv[t]?{...Wv[t]}:void 0;if(r){const s=r.animation||"";r.animation=`mythicThemeEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards${s?`, ${s}`:""}`}return l.jsxs("nav",{className:W("mythic-bottom-nav fixed bottom-0 left-0 right-0 border-t z-20",!t&&"bg-background"),style:r,children:[t==="hybridEclipse"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255, 220, 120, 0.8) 50%, transparent)",animation:"goldenWave 3s ease-in-out infinite"}}),t==="arcticMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1026] via-[#1b2735] to-[#090a0f]"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 50% 40%, white 10%, transparent 0), radial-gradient(2px 2px at 80% 20%, white 10%, transparent 0), radial-gradient(1px 1px at 30% 70%, white 20%, transparent 0)",backgroundSize:"200px 200px"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{background:"linear-gradient(120deg, rgba(0,255,150,0.3), rgba(0,0,0,0), rgba(150,0,255,0.3))",backgroundSize:"200% 200%",animation:"auroraShift 15s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-80 mix-blend-screen",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(0, 255, 180, 0.5), transparent 70%), linear-gradient(90deg, transparent, rgba(50, 255, 200, 0.3), transparent)",filter:"blur(15px)",transformOrigin:"bottom center",animation:"auroraWave 8s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-70 mix-blend-screen",style:{background:"radial-gradient(ellipse at 80% 80%, rgba(220, 50, 255, 0.4), transparent 60%)",filter:"blur(20px)",transformOrigin:"bottom center",animation:"auroraWave 12s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute top-0 left-0 w-[200%] h-full opacity-50 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.8), rgba(180, 100, 255, 0.6), transparent)",transform:"skewX(-20deg)",backgroundSize:"200% 100%",animation:"borderFlow 6s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`twinkle ${Math.random()*3+2}s ease-in-out infinite`,opacity:Math.random()*.8+.2}},i)),l.jsx("div",{className:"absolute inset-0 z-40 mix-blend-overlay pointer-events-none",style:{background:"radial-gradient(circle at 50% -20%, rgba(200, 255, 255, 0.8), transparent 70%)",animation:"auroraFlare 18s ease-in-out infinite"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute z-20",style:{top:-Math.random()*100-50+"%",right:Math.random()*100-20+"%",width:Math.random()*120+80+"px",height:"2px",opacity:0,background:`linear-gradient(to right, transparent, ${Math.random()>.5?"white":"#a5f3fc"}, transparent)`,filter:`drop-shadow(0 0 ${Math.random()*3+2}px ${Math.random()>.5?"white":"cyan"})`,animation:`shootingStar ${Math.random()*5+3}s linear infinite ${Math.random()*10}s both`,transform:"rotate(-45deg)"}},i)),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40px] z-10",style:{background:"linear-gradient(to top, rgba(100, 200, 255, 0.2), transparent)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-50 opacity-90",style:{background:"linear-gradient(90deg, transparent, #00ffcc, #bd00ff, #00ffcc, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 10px rgba(0, 255, 200, 0.6), 0 0 20px rgba(189, 0, 255, 0.4)"}}),l.jsx("div",{className:"absolute top-[2px] left-0 right-0 h-[1px] z-40 opacity-50 mix-blend-overlay",style:{background:"white"}})]}),t==="echoMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, rgba(20, 10, 40, 0.6), transparent)"}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute rounded-full border border-white/30",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out"}}),l.jsx("div",{className:"absolute rounded-full border border-white/20",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 1s"}}),l.jsx("div",{className:"absolute rounded-full border border-white/10",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 2s"}})]}),l.jsx("div",{className:"absolute left-[20%] top-[40%] rounded-full border border-white/20",style:{width:"50px",height:"50px",animation:"waterRipple 4s infinite ease-out 0.5s"}}),l.jsx("div",{className:"absolute right-[20%] top-[30%] rounded-full border border-white/20",style:{width:"60px",height:"60px",animation:"waterRipple 5s infinite ease-out 2.5s"}}),[...Array(5)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[1px]",style:{width:Math.random()*3+1+"px",height:Math.random()*3+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`echoParticle ${Math.random()*2+2}s infinite ease-in-out ${Math.random()}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-20",style:{background:"linear-gradient(90deg, rgba(160, 100, 255, 0), rgba(200, 160, 255, 0.8), rgba(255, 255, 255, 1), rgba(200, 160, 255, 0.8), rgba(160, 100, 255, 0))",backgroundSize:"200% 100%",animation:"liquidBorder 3s linear infinite",boxShadow:"0 2px 10px rgba(180, 130, 255, 0.5)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 40% 60%, rgba(180, 0, 50, 0.5), transparent 50%)",filter:"blur(20px)",animation:"plasmaFlow 10s ease-in-out infinite alternate"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 60% 40%, rgba(50, 60, 200, 0.6), transparent 50%)",filter:"blur(15px)",animation:"plasmaFlow 8s ease-in-out infinite alternate-reverse"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`starFloat ${Math.random()*10+10}s infinite linear, starTwinkle ${Math.random()*1+.5}s infinite ease-in-out alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(255, 50, 50, 0.8), rgba(200, 100, 255, 1), rgba(50, 100, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"flowRight 3s linear infinite",boxShadow:"0 0 15px rgba(200, 50, 200, 0.6)"}})]}),t==="hybridEclipse"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0a0500]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-40 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 180, 50, 0.3), rgba(255, 220, 100, 0.5), rgba(255, 180, 50, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 10s linear infinite"}}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 140, 0, 0.2), transparent)",backgroundSize:"25% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 7s linear infinite reverse"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E")`,mixBlendMode:"overlay"}}),[...Array(8)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-yellow-100 blur-[1px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 5px rgba(255, 200, 50, 0.8)",animation:`starFloat ${Math.random()*5+3}s infinite ease-in-out ${Math.random()}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(200, 120, 20, 0), rgba(255, 200, 100, 1), rgba(200, 120, 20, 0), transparent)",backgroundSize:"200% 100%",animation:"flowRight 4s linear infinite",boxShadow:"0 1px 15px rgba(255, 160, 50, 0.5)"}})]}),t==="brokenMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0c0c16]/98"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent 0, transparent 20px, rgba(160, 160, 200, 0.1) 21px, transparent 22px), repeating-linear-gradient(-45deg, transparent 0, transparent 35px, rgba(160, 160, 200, 0.1) 36px, transparent 37px)",animation:"voidCracks 5s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 mix-blend-color-dodge opacity-20",style:{background:"linear-gradient(90deg, transparent, rgba(100, 100, 255, 0.2), transparent)",backgroundSize:"200% 100%",animation:"flowRight 0.2s steps(4) infinite",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}}),[...Array(10)].map((s,i)=>l.jsx("div",{className:"absolute bg-white/40",style:{width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`shardFloat ${Math.random()*4+2}s linear infinite ${Math.random()*2}s`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(150, 150, 200, 0.5), rgba(200, 200, 255, 0.9), rgba(150, 150, 200, 0.5), transparent)",boxShadow:"0 0 10px rgba(180, 180, 255, 0.4)",animation:"glitchBorder 3s infinite"}})]}),t==="cosmicVoyageMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0b0515]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-50 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(100, 20, 200, 0.3), rgba(60, 20, 150, 0.5), rgba(100, 20, 200, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 5s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute w-[2px] bg-white rounded-full mix-blend-screen opacity-40",style:{height:Math.random()*30+10+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`warpSpeed ${Math.random()*2+1.5}s linear infinite ${Math.random()*3}s`,boxShadow:"0 0 2px rgba(200, 200, 255, 0.5)"}},i)),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-white rounded-full opacity-60",style:{top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`pulse ${Math.random()*2+1}s ease-in-out infinite`}},`star-${i}`)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 opacity-40",style:{background:"linear-gradient(90deg, transparent, #8a2be2, transparent)"}}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-screen",style:{background:"linear-gradient(90deg, transparent, rgba(150, 50, 255, 0), rgba(255, 200, 255, 1) 50%, rgba(150, 50, 255, 0), transparent)",backgroundSize:"200% 100%",boxShadow:"0 0 20px rgba(220, 150, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.5)",animation:"mistFlow 1.5s linear infinite"}})]}),t==="crystalMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0f1525]/90"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{background:"linear-gradient(135deg, rgba(200, 240, 255, 0.1), rgba(255, 200, 250, 0.15), rgba(200, 240, 255, 0.1), transparent)",backgroundSize:"200% 200%",animation:"prismReflect 5s ease-in-out infinite"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute bg-white/20 border border-white/40",style:{width:Math.random()*8+4+"px",height:Math.random()*8+4+"px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`crystalFloat ${Math.random()*4+3}s ease-in-out infinite ${Math.random()*2}s`,backdropFilter:"blur(2px)"}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 bg-white/40"}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.5), rgba(255, 165, 0, 0.5), rgba(255, 255, 0, 0.5), rgba(0, 255, 0, 0.5), rgba(0, 0, 255, 0.5), rgba(238, 130, 238, 0.5), transparent)",backgroundSize:"200% 100%",animation:"prismFlow 3s linear infinite, rainbowBorder 6s linear infinite"}})]}),t==="stillMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#b3e5fc] via-[#e1f5fe] to-[#ffffff]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjgiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuNSIvPjwvc3ZnPg==')",filter:"contrast(180%)"}}),l.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[150%] bg-white/20 backdrop-blur-sm z-10",style:{clipPath:"polygon(0 0, 100% 0, 80% 100%, 0 100%)",boxShadow:"inset 0 0 20px rgba(255,255,255,0.5)"}}),l.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[150%] bg-white/10 backdrop-blur-md z-10",style:{clipPath:"polygon(20% 0, 100% 0, 100% 100%, 0 100%)",borderLeft:"1px solid rgba(255,255,255,0.4)"}}),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute bg-white z-20",style:{width:Math.random()<.2?"3px":"1.5px",height:Math.random()<.2?"3px":"1.5px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.4,boxShadow:"0 0 4px rgba(255,255,255,0.9)",animation:`pulse ${Math.random()*4+2}s ease-in-out infinite alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 bg-white",style:{boxShadow:"0 0 15px rgba(200, 240, 255, 1), 0 0 30px rgba(200, 240, 255, 0.6)"}})]}),t==="nebulaDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#1a0b2e]/95 backdrop-blur-md"}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 0, 150, 0.3), transparent 60%), radial-gradient(circle at 70% 50%, rgba(0, 200, 255, 0.3), transparent 60%)",filter:"blur(10px)",animation:"nebulaPulse 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjAyIiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=')",animation:"mistFlow 10s linear infinite"}}),[...Array(15)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.8+.2,animation:`stardustTwinkle ${Math.random()*2+1}s ease-in-out infinite ${Math.random()}s`,boxShadow:`0 0 ${Math.random()*4+2}px ${i%2===0?"#ff00ff":"#00ffff"}`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",boxShadow:"0 0 15px rgba(255, 0, 255, 0.5), 0 0 30px rgba(0, 255, 255, 0.3)"}})]}),t==="superBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 3s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(50, 0, 0, 0.8), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 20% 20%, #ffaaaa 10%, transparent 0), radial-gradient(1.5px 1.5px at 60% 80%, #ff4444 10%, transparent 0)",backgroundSize:"200px 200px",animation:"pulse 4s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 35% 35%, #800000 0%, #500000 40%, #2a0a0a 100%)",boxShadow:"0 0 60px rgba(255, 30, 30, 0.6), inset -10px -10px 40px rgba(0,0,0,0.9)",filter:"contrast(1.2) brightness(1.2)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-60 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(0,0,0,0.7) 4%, transparent 12%), radial-gradient(circle at 65% 60%, rgba(0,0,0,0.6) 8%, transparent 20%), radial-gradient(circle at 45% 75%, rgba(0,0,0,0.5) 5%, transparent 15%), radial-gradient(circle at 80% 30%, rgba(0,0,0,0.6) 3%, transparent 10%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 20px rgba(255, 100, 100, 0.8), 0 0 10px rgba(255, 50, 50, 0.5)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-overlay",style:{background:"radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.6), transparent 70%)",animation:"flashPulse 4s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.6), transparent)",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:[...Array(8)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full bg-red-600/20 blur-xl",style:{width:Math.random()*100+50+"px",height:Math.random()*100+50+"px",bottom:"-50px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*10+10}s linear infinite reverse`}},i))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #ff0000, #ff4444, #ff0000, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(255, 0, 0, 0.6)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(80, 0, 100, 0.4), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(1.5px 1.5px at 20% 20%, #aaddff 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 80%, #ffaaaa 10%, transparent 0)",backgroundSize:"250px 250px",animation:"pulse 5s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 30% 30%, #1e1b4b 0%, #4c0519 60%, #000000 100%)",boxShadow:"0 0 60px rgba(100, 50, 255, 0.4), inset -10px -10px 50px rgba(100, 0, 50, 0.8)",filter:"contrast(1.3) brightness(1.1)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-50 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 30% 40%, rgba(50,50,100,0.5) 5%, transparent 15%), radial-gradient(circle at 70% 60%, rgba(100,50,50,0.5) 8%, transparent 20%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 10px 10px 30px rgba(100, 150, 255, 0.6), inset -10px -10px 30px rgba(255, 50, 100, 0.4)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-color-dodge",style:{background:"radial-gradient(circle at 50% 50%, rgba(120, 50, 255, 0.4), transparent 70%)",animation:"flashPulse 5s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(20, 0, 40, 0.4), transparent)"},children:[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute rounded-full blur-md",style:{backgroundColor:i%2===0?"#60a5fa":"#f43f5e",width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",bottom:"-20px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*8+8}s linear infinite reverse`,opacity:.6}},i))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #3b82f6, #a855f7, #ef4444, #a855f7, #3b82f6, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(168, 85, 247, 0.6)"}})]}),(t==="brokenMoon"||t==="shatteredMoon")&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#020205]"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] h-[12px] z-20",style:{background:"linear-gradient(90deg, #2e004d, #ffffff, #2e004d)",clipPath:"polygon(0% 45%, 10% 30%, 20% 60%, 30% 35%, 40% 65%, 50% 20%, 60% 70%, 70% 30%, 80% 60%, 90% 40%, 100% 50%, 100% 55%, 90% 45%, 80% 65%, 70% 35%, 60% 75%, 50% 25%, 40% 70%, 30% 40%, 20% 65%, 10% 35%, 0% 55%)",filter:"drop-shadow(0 0 10px rgba(100, 150, 255, 0.8)) drop-shadow(0 0 20px rgba(180, 50, 255, 0.6))",animation:"pulse 3s ease-in-out infinite alternate"},children:l.jsx("div",{className:"absolute inset-0 bg-white opacity-80 mix-blend-overlay",style:{animation:"flashPulse 0.1s infinite alternate"}})}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[60px] z-10 opacity-30",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(100, 200, 255, 0.4) 0%, transparent 70%)",filter:"blur(10px)",animation:"pulse 4s ease-in-out infinite"}}),[...Array(20)].map((s,i)=>l.jsx("div",{className:"absolute bg-white rounded-full z-30",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 4px white",opacity:Math.random()*.7+.3,animation:`twinkle ${Math.random()*2+1}s infinite alternate`}},i)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#a855f7] to-transparent opacity-50"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#3b82f6] to-transparent opacity-50"})]}),t==="lunarTransientPhenomena"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 1.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]/95 backdrop-blur-xl"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",maskImage:"radial-gradient(circle at 50% 50%, black 40%, transparent 80%)"}}),[...Array(6)].map((s,i)=>l.jsx("div",{className:"absolute top-0 h-[2px] bg-gradient-to-r from-transparent via-[#00ffcc] to-transparent",style:{width:"30%",top:i*20+"%",opacity:.7,animation:`dataStream ${Math.random()*2+2}s linear infinite ${Math.random()*2}s`,boxShadow:"0 0 8px #00ffcc"}},i)),l.jsx("div",{className:"absolute top-0 h-[3px] w-[50%] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",animation:"laserScan 3s linear infinite",boxShadow:"0 0 15px rgba(255, 0, 255, 0.8)"}}),l.jsx("div",{className:"absolute inset-0 bg-white/10 mix-blend-overlay",style:{animation:"flashPulse 4s infinite random"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/20"})]}),t==="emptySky"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 4s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 50% 50%, rgba(70, 0, 150, 0.2), transparent 60%)",filter:"blur(20px)"}}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 40%, #b080ff 10%, transparent 0), radial-gradient(2px 2px at 40% 80%, white 10%, transparent 0)",backgroundSize:"300px 300px",animation:"accretionSpin 120s linear infinite"}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] z-10 pointer-events-none rounded-full",style:{background:"radial-gradient(circle, transparent 30%, rgba(150, 50, 255, 0.05) 40%, transparent 70%)",backdropFilter:"blur(2px) contrast(1.1)",transform:"scale(1.2)"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] pointer-events-none z-40 flex items-center justify-center scale-60",children:[l.jsx("div",{className:"absolute w-[280px] h-[280px] rounded-full opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 50% 50%, transparent 60%, rgba(120, 50, 255, 0.6) 65%, transparent 70%)",animation:"diskPulse 4s ease-in-out infinite",filter:"blur(4px)"}}),l.jsx("div",{className:"absolute w-[160px] h-[160px] rounded-full z-20",style:{background:"conic-gradient(from 0deg, #4c1d95 0%, #8b5cf6 25%, #ffffff 50%, #8b5cf6 75%, #4c1d95 100%)",maskImage:"radial-gradient(transparent 64%, black 66%)",WebkitMaskImage:"radial-gradient(transparent 64%, black 66%)",animation:"accretionSpin 0.9s linear infinite",boxShadow:"0 0 30px rgba(139, 92, 246, 0.6)"}}),l.jsx("div",{className:"absolute w-[150px] h-[150px] rounded-full z-10 bg-black box-border border border-purple-500/30"})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 opacity-100",style:{background:"linear-gradient(90deg, transparent 0%, #4c1d95 20%, #8b5cf6 45%, #ffffff 50%, #8b5cf6 55%, #4c1d95 80%, transparent 100%)",backgroundSize:"200% 100%",animation:"borderFlow 0.4s linear infinite",boxShadow:"0 0 15px rgba(139, 92, 246, 0.7)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[40px] z-20 opacity-30 pointer-events-none",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(150, 50, 255, 0.5), transparent 70%)"}}),[...Array(12)].map((s,i)=>l.jsx("div",{className:"absolute bg-zinc-800 rounded-full z-20 opacity-80",style:{width:Math.random()*4+2+"px",height:Math.random()*3+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*15+10}s linear infinite`,boxShadow:"inset 1px 1px 2px rgba(0,0,0,0.8)"}},i))]}),l.jsx("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto relative z-50",children:$D.map(({path:s,icon:i,label:a})=>{const o=e.pathname===s||s!=="/"&&e.pathname.startsWith(s);return l.jsxs(Dt,{to:s,className:W("mythic-nav-item flex flex-col items-center justify-center gap-1 px-3 py-2 transition-colors min-w-[60px] relative",o?"text-primary bg-primary/10 rounded-lg mythic-nav-active":"text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg"),style:t==="cosmicVoyageMoon"&&o?{background:"transparent"}:void 0,children:[t==="cosmicVoyageMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(45deg, transparent, rgba(128, 144, 192, 0.3), transparent)",boxShadow:"0 0 15px rgba(100, 100, 255, 0.4)",animation:"pulse 2s ease-in-out infinite"}}),t==="superBloodMoon"&&o&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 20px rgba(220, 20, 60, 0.5), inset 0 0 10px rgba(255, 50, 80, 0.2)",animation:"bloodGlow 2s ease-in-out infinite"}})}),t==="lunarTransientPhenomena"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 15px rgba(200, 168, 248, 0.6), 0 0 5px rgba(255, 255, 255, 0.8)",animation:"electricSpark 0.5s steps(5) infinite"}}),t==="crystalMoon"&&o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(220, 240, 255, 0.12), rgba(200, 230, 255, 0.15), rgba(240, 250, 255, 0.1))",boxShadow:"inset 0 0 15px rgba(255, 255, 255, 0.3), 0 0 20px rgba(220, 240, 255, 0.4)",animation:"crystalSparkle 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%), radial-gradient(circle at 70% 50%, rgba(200, 230, 255, 0.15) 0%, transparent 50%)",animation:"crystalSparkle 3s ease-in-out infinite reverse"}})]}),t==="nebulaDreamMoon"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10 overflow-hidden",children:l.jsx("div",{style:{position:"absolute",inset:"-20%",background:"radial-gradient(circle, rgba(184, 136, 216, 0.3) 0%, transparent 70%)",animation:"nebulaRotate 8s linear infinite"}})}),t==="emptySky"&&o&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at center, rgba(40, 40, 60, 0.3) 0%, rgba(20, 20, 40, 0.2) 50%, transparent 100%)",boxShadow:"inset 0 0 15px rgba(10, 10, 25, 0.5), 0 0 10px rgba(30, 30, 50, 0.4)",animation:"voidDrift 4s ease-in-out infinite"}}),l.jsx(i,{className:W("w-5 h-5 transition-all duration-300",t&&o&&"drop-shadow-lg"),style:t&&o?{filter:t==="superBloodMoon"?"drop-shadow(0 0 6px rgba(220, 20, 60, 0.8))":t==="emptySky"?"drop-shadow(0 0 5px rgba(60, 60, 80, 0.7))":t==="lunarTransientPhenomena"?"drop-shadow(0 0 6px rgba(200, 168, 248, 0.8))":t==="crystalMoon"?"drop-shadow(0 0 6px rgba(224, 240, 255, 0.8))":t==="arcticMoon"?"drop-shadow(0 0 6px rgba(144, 220, 255, 0.8))":t==="nebulaDreamMoon"?"drop-shadow(0 0 6px rgba(184, 136, 216, 0.8))":void 0,animation:t==="lunarTransientPhenomena"?"iconFlicker 0.3s steps(3) infinite":void 0}:void 0}),l.jsx("span",{className:"text-[10px] font-medium",children:a})]},s)})})]})}function FD({children:e}){return gi(),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("header",{className:"border-b border-border sticky top-0 bg-background z-10",children:l.jsx("div",{className:"container-app py-3",children:l.jsxs(Dt,{to:"/",className:"text-lg font-semibold",children:["Dream book"," ",l.jsx("span",{className:"text-muted-foreground font-normal",children:"by Bon"})]})})}),l.jsx("main",{className:"flex-1 container-app pb-24",children:e}),l.jsx(jd,{})]})}var Kn=function(){return Kn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kn.apply(this,arguments)};function qa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function BD(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function zD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const VD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class L0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class UD extends L0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hv extends L0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gv extends L0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tm||(Tm={}));class WD{constructor(t,{headers:n={},customFetch:r,region:s=Tm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=VD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return BD(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const w=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,w.searchParams.set("forceFunctionRegion",m));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let b=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:b}).catch(k=>{throw new UD(k)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new Hv(x);if(!x.ok)throw new Gv(x);let y=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield x.json():y==="application/octet-stream"||y==="application/pdf"?S=yield x.blob():y==="text/event-stream"?S=x:y==="multipart/form-data"?S=yield x.formData():S=yield x.text(),{data:S,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Gv||o instanceof Hv?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var HD=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},GD=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const x=await i.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var w;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new HD(a)}return{error:a,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const w=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",v=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${w}`,v&&(o+=` (${v})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var m;o=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},KD=class extends GD{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Kv=new RegExp("[,()]");var Di=class extends KD{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Kv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Kv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},qD=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new Di({method:s,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Di({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Di({method:a,url:o,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Di({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Di({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},YD=class S5{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new S5(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,w])=>w!==void 0).map(([m,w])=>[m,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([m,w])=>{c.searchParams.append(m,w)})):(o="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Di({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class XD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QD="2.91.0",JD=`realtime-js/${QD}`,ZD="1.0.0",k5="2.0.0",qv=k5,Pm=1e4,e4=1e3,t4=100;var Hr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hr||(Hr={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var _n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_n||(_n={}));var Nm;(function(e){e.websocket="websocket"})(Nm||(Nm={}));var zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zs||(zs={}));class n4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(m),v=0;w.setUint8(v++,this.KINDS.userBroadcastPush),w.setUint8(v++,c.length),w.setUint8(v++,o.length),w.setUint8(v++,a.length),w.setUint8(v++,u.length),w.setUint8(v++,h.length),w.setUint8(v++,n),Array.from(c,x=>w.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>w.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>w.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>w.setUint8(v++,x.charCodeAt(0))),Array.from(h,x=>w.setUint8(v++,x.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,o,c]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class E5{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const Yv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=r4(a,e,t,s),i),{}):{}},r4=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?j5(i,a):_m(a)},j5=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return o4(t,n)}switch(e){case Se.bool:return s4(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return i4(t);case Se.json:case Se.jsonb:return a4(t);case Se.timestamp:return l4(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return _m(t);default:return _m(t)}},_m=e=>e,s4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},o4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>j5(t,o))}return e},l4=e=>typeof e=="string"?e.replace(" ","T"):e,C5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rh{constructor(t,n,r={},s=Pm){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xv||(Xv={}));class Ro{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ro.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ro.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ro.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),w=d.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(o[u]=w),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qv||(Qv={}));var Ao;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ao||(Ao={}));var hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class Xi{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rh(this,_n.join,this.params,this.timeout),this.rejoinTimer=new E5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Ro(this),this.broadcastEndpointURL=C5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ao.PRESENCE]&&this.bindings[Ao.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(hr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(hr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,x=[];for(let g=0;g<b;g++){const y=v[g],{filter:{event:S,schema:k,table:E,filter:C}}=y,j=m&&m[g];if(j&&j.event===S&&Xi.isFilterValueEqual(j.schema,k)&&Xi.isFilterValueEqual(j.table,E)&&Xi.isFilterValueEqual(j.filter,C))x.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(hr.SUBSCRIBED);return}}).receive("error",m=>{this.state=qe.errored,t==null||t(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===qe.joined&&t===Ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Rh(this,_n.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>t4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=_n;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var w,v,b,x,g,y,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,C=(w=m.filter)===null||w===void 0?void 0:w.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((x=m.filter)===null||x===void 0)&&x.table)||m.filter.table===((g=n.data)===null||g===void 0?void 0:g.table))}else{const E=(S=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:b,commit_timestamp:x,type:g,errors:y}=w;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:x,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(f,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Xi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_n.close,{},t)}_onError(t){this._on(_n.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yv(t.columns,t.old_record)),n}}const Ah=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c4=[1e3,2e3,5e3,1e4],u4=1e4,d4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pm,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ah,this.ref=0,this.reconnectTimer=null,this.vsn=qv,this.logger=Ah,this.conn=null,this.sendBuffer=[],this.serializer=new n4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Nm.websocket}`,this.httpEndpoint=C5(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return zs.Connecting;case Hr.open:return zs.Open;case Hr.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Xi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(e4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hr.open||this.conn.readyState===Hr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_n.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([d4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:JD};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(_n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new E5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Pm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:hc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ah,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:qv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>c4[w-1]||u4,this.vsn){case ZD:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,v)=>v(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,v)=>v(JSON.parse(w));break;case k5:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ll=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function f4(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function m4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function p4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=f4(e.baseUrl,r,s),c=await m4(e.auth),u=await t(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,w=m==null?void 0:m.error;throw new ll((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function fc(e){return e.join("")}var g4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fc(e.namespace)}`}),!0}catch(t){if(t instanceof ll&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ll&&n.status===409)return;throw n}}};function ki(e){return e.join("")}var y4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ll&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ll&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},v4=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=p4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new g4(this.client,t),this.tableOps=new y4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Cd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var x4=class extends Cd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mm=class extends Cd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const $0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w4=()=>Response,Rm=e=>{if(Array.isArray(e))return e.map(n=>Rm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rm(r)}),t},b4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function k4(e,t){if(cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4(e){var t=k4(e,"string");return cl(t)=="symbol"?t:t+""}function j4(e,t,n){return(t=E4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(n),!0).forEach(function(r){j4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Oh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},C4=async(e,t,n)=>{e instanceof await w4()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new x4(Oh(r),s,i))}).catch(r=>{t(new Mm(Oh(r),r))}):t(new Mm(Oh(e),e))},T4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(b4(r)?(s.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),re(re({},s),n))};async function Al(e,t,n,r,s,i){return new Promise((a,o)=>{e(n,T4(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>C4(c,o,r))})}async function ul(e,t,n,r){return Al(e,"GET",t,n,r)}async function Cn(e,t,n,r,s){return Al(e,"POST",t,r,s,n)}async function Am(e,t,n,r,s){return Al(e,"PUT",t,r,s,n)}async function P4(e,t,n,r){return Al(e,"HEAD",t,re(re({},n),{},{noResolveJson:!0}),r)}async function F0(e,t,n,r,s){return Al(e,"DELETE",t,r,s,n)}var N4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};let T5;T5=Symbol.toStringTag;var _4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[T5]="BlobDownloadBuilder",this.promise=null}asStream(){return new N4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}}};const M4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var R4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=$0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=re(re({},Zv),r);let o=re(re({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=re(re({},o),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Am:Cn)(s.fetch,`${s.url}/object/${d}`,i,re({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let c;const u=re({upsert:Zv.upsert},r),d=re(re({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Am(s.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Me(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=re({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Cn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new Cd("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Cn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Cn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await Cn(r.fetch,`${r.url}/object/sign/${s}`,re({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Cn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>re(re({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>ul(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new _4(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Rm(await ul(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await P4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Me(r)&&r instanceof Mm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(e){var t=this;try{return{data:await F0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=re(re(re({},M4),t),{},{prefix:e||""});return{data:await Cn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=re({},e);return{data:await Cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const P5="2.91.0",N5={"X-Client-Info":`storage-js/${P5}`};var A4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=re(re({},N5),t),this.fetch=$0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await ul(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ul(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Am(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await F0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},O4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},N5),t),this.fetch=$0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await ul(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await F0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!S4(e))throw new Cd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new v4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const B0={"X-Client-Info":`storage-js/${P5}`,"Content-Type":"application/json"};var _5=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Dh=class extends _5{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},D4=class extends _5{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const z0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),I4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ex=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Dh(ex(i),r,a))}).catch(()=>{const i=r+"";t(new Dh(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Dh(s.statusText||`HTTP ${r} error`,r,i))}}else t(new D4(ex(e),e))},$4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(I4(r)?(s.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,re(re({},s),n)):s};async function F4(e,t,n,r,s,i){return new Promise((a,o)=>{e(n,$4(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>L4(c,o,r))})}async function Bt(e,t,n,r,s){return F4(e,"POST",t,r,s,n)}var B4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},B0),t),this.fetch=z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}}},z4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},B0),t),this.fetch=z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Bt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}},V4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=re(re({},B0),t),this.fetch=z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}}},U4=class extends V4{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new W4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},W4=class extends B4{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new H4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},H4=class extends z4{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,re(re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},G4=class extends A4{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new R4(this.url,this.headers,e,this.fetch)}get vectors(){return new U4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new O4(this.url+"/iceberg",this.headers,this.fetch)}};const M5="2.91.0",Ii=30*1e3,Om=3,Ih=Om*Ii,K4="http://localhost:9999",q4="supabase.auth.token",Y4={"X-Client-Info":`gotrue-js/${M5}`},Dm="X-Supabase-Api-Version",R5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q4=10*60*1e3;class dl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J4 extends dl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Z4(e){return Q(e)&&e.name==="AuthApiError"}class Vs extends dl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mr extends dl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class It extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eI(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Ei extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mc extends Mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pc extends Mr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tI(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class tx extends Mr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nI extends Mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Im extends Mr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lh(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class nx extends Mr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lm extends Mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rx=` 	
\r=`.split(""),rI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rx.length;t+=1)e[rx[t].charCodeAt(0)]=-2;for(let t=0;t<Tu.length;t+=1)e[Tu[t].charCodeAt(0)]=t;return e})();function sx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tu[r]),t.queuedBits-=6}}function A5(e,t,n){const r=rI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ix(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{aI(a,r,n)};for(let a=0;a<e.length;a+=1)A5(e.charCodeAt(a),s,i);return t.join("")}function sI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}sI(r,t)}}function aI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ua(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)A5(e.charCodeAt(s),n,r);return new Uint8Array(t)}function oI(e){const t=[];return iI(e,n=>t.push(n)),new Uint8Array(t)}function Gs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>sx(s,n,r)),sx(null,n,r),t.join("")}function lI(e){return Math.round(Date.now()/1e3)+e}function cI(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",Rs={tested:!1,writable:!1},O5=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rs.tested)return Rs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rs.tested=!0,Rs.writable=!0}catch{Rs.tested=!0,Rs.writable=!1}return Rs.writable};function uI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const D5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Li=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},As=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tt=async(e,t)=>{await e.removeItem(t)};class Td{constructor(){this.promise=new Td.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Td.promiseConstructor=Promise;function $h(e){const t=e.split(".");if(t.length!==3)throw new Lm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!X4.test(t[r]))throw new Lm("JWT not in base64url format");return{header:JSON.parse(ix(t[0])),payload:JSON.parse(ix(t[1])),signature:ua(t[2]),raw:{header:t[0],payload:t[1]}}}async function hI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fI(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function mI(e){return("0"+e.toString(16)).substr(-2)}function pI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,mI).join("")}async function gI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ji(e,t,n=!1){const r=pI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Li(e,`${t}-code-verifier`,s);const i=await yI(r);return[i,r===i?"plain":"s256"]}const vI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xI(e){const t=e.headers.get(Dm);if(!t||!t.match(vI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ci(e){if(!SI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kI(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ax(e){return JSON.parse(JSON.stringify(e))}const Ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EI=[502,503,504];async function ox(e){var t;if(!dI(e))throw new Im(Ls(e),0);if(EI.includes(e.status))throw new Im(Ls(e),e.status);let n;try{n=await e.json()}catch(i){throw new Vs(Ls(i),i)}let r;const s=xI(e);if(s&&s.getTime()>=R5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nx(Ls(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new It}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new nx(Ls(n),e.status,n.weak_password.reasons);throw new J4(Ls(n),e.status||500,r)}const jI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Dm]||(i[Dm]=R5["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await CI(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function CI(e,t,n,r,s,i){const a=jI(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Im(Ls(c),0)}if(o.ok||await ox(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await ox(c)}}function bn(e){var t;let n=null;NI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=lI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lx(e){const t=bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TI(e){return{data:e,error:null}}function PI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=qa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function cx(e){return e}function NI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bh=["global","local","others"];class _I{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=D5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Bh[0]){if(Bh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bh.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qa(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cx});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ci(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ci(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ci(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ci(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ci(t.userId),Ci(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cx});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function ux(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ti={debug:!!(globalThis&&O5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MI extends I5{}async function RI(e,t,n){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ti.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function L5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OI(e){return parseInt(e,16)}function DI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function II(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=L5(e.address),w=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${m}

${v}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}x+=g}return`${b}
${x}`}class We extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Pu extends We{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function LI({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if($5(a)){if(i.rp.id!==a)return new We({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $I({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if($5(r)){if(n.rpId!==r)return new We({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class FI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const BI=new FI;function zI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=qa(e,["challenge","user","excludeCredentials"]),i=ua(t).buffer,a=Object.assign(Object.assign({},n),{id:ua(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ua(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function VI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=qa(e,["challenge","allowCredentials"]),s=ua(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ua(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function UI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gs(new Uint8Array(s.authenticatorData)),clientDataJSON:Gs(new Uint8Array(s.clientDataJSON)),signature:Gs(new Uint8Array(s.signature)),userHandle:s.userHandle?Gs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dx(){var e,t;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pu("Browser returned unexpected credential type",t)}:{data:null,error:new Pu("Empty credential response",t)}}catch(t){return{data:null,error:LI({error:t,options:e})}}}async function GI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pu("Browser returned unexpected credential type",t)}:{data:null,error:new Pu("Empty credential response",t)}}catch(t){return{data:null,error:$I({error:t,options:e})}}}const KI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const o=r[i];t(o)?r[i]=Nu(o,a):r[i]=Nu(a)}else r[i]=a}return r}function YI(e,t){return Nu(KI,e,t||{})}function XI(e,t){return Nu(qI,e,t||{})}class QI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:o};const c=s??BI.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=YI(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await HI({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=XI(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await GI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Vs("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn authentication")};try{if(!dx())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Vs("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn registration")};try{if(!dx())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Vs("Unexpected error in register",a)}}}}AI();const JI={url:K4,storageKey:q4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hx(e,t,n){return await n()}const Pi={};class hl{get jwks(){var t,n;return(n=(t=Pi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Pi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},JI),t);if(this.storageKey=i.storageKey,this.instanceID=(n=hl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,hl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&nt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _I({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=D5(i.fetch),this.lock=i.lock||hx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RI:this.lock=hx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:O5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ux(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ux(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(nt()&&(n=uI(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tI(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Vs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bn}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await ji(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:w},xform:bn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bn})}else throw new mc("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:lx})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:lx})}else throw new mc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ei;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,o,c,u,d,h,f;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:v,wallet:b,statement:x,options:g}=t;let y;if(nt())if(typeof b=="object")y=b;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=L5(k[0]);let C=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const T=await y.request({method:"eth_chainId"});C=OI(T)}const j={domain:S.host,address:E,statement:x,uri:S.href,version:"1",chainId:C,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=II(j),w=await y.request({method:"personal_sign",params:[DI(m),E]})}try{const{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bn});if(b)throw b;if(!v||!v.session||!v.user){const x=new Ei;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Q(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,a,o,c,u,d,h,f,m;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:x,statement:g,options:y}=t;let S;if(nt())if(typeof x=="object")S=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:b,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Gs(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bn});if(x)throw x;if(!b||!b.session||!b.user){const g=new Ei;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(Q(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await As(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new nI;const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",i.session)},0)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ei;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ji(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new mc("You must provide either an email or phone number.")}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await ji(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:TI});return!((i=u.data)===null||i===void 0)&&i.url&&nt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new It;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new mc("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ih:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await As(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Fh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=kI(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qr}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qr})})}catch(n){if(Q(n))return eI(n)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new It;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ji(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:qr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=$h(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!nt())throw new pc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tx("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new pc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Z4(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=cI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ji(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=t,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ei}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fI(async s=>(s>0&&await hI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Lh(i)&&Date.now()+a-r<Ii})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await As(this.storage,this.storageKey);if(s&&this.userStorage){let a=await As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Li(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Fh()}else if(s&&!s.user&&!s.user){const a=await As(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await tt(this.storage,this.storageKey+"-user"),await Li(this.storage,this.storageKey,s)):s.user=Fh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ih;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ih}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Lh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Td;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Q(i)){const a={data:null,error:i};return Lh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Li(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ax(s);await Li(this.storage,this.storageKey,i)}else{const s=ax(n);await Li(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ii);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ii}ms, refresh threshold is ${Om} ticks`),s<=Om&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await ji(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UI(t.webauthn.credential_response):WI(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zI(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:VI(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$h(r.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new It})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new It});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new It});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new It})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Q4>s)return r;const{data:i,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return this._returnResult({data:null,error:w});r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=$h(r);n!=null&&n.allowExpired||wI(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=bI(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,oI(`${o}.${c}`)))throw new Lm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}hl.nextInstanceID={};const ZI=hl,e3="2.91.0";let go="";typeof Deno<"u"?go="deno":typeof document<"u"?go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?go="react-native":go="node";const t3={"X-Client-Info":`supabase-js-${go}/${e3}`},n3={headers:t3},r3={schema:"public"},s3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i3={};function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function a3(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o3(e){var t=a3(e,"string");return fl(t)=="symbol"?t:t+""}function l3(e,t,n){return(t=o3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(n),!0).forEach(function(r){l3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const c3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),u3=()=>Headers,d3=(e,t,n)=>{const r=c3(n),s=u3();return async(i,a)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,$e($e({},a),{},{headers:u}))}};function h3(e){return e.endsWith("/")?e:e+"/"}function f3(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:$e($e({},c),s),auth:$e($e({},u),i),realtime:$e($e({},d),a),storage:{},global:$e($e($e({},h),o),{},{headers:$e($e({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function m3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var p3=class extends ZI{constructor(e){super(e)}},g3=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=m3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:r3,realtime:i3,auth:$e($e({},s3),{},{storageKey:a}),global:n3},c=f3(n??{},o);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=d3(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new YD(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new G4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new WD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p3({url:this.authUrl.href,headers:$e($e({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new h4(this.realtimeUrl.href,$e($e({},e),{},{params:$e($e({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const y3=(e,t,n)=>new g3(e,t,n);function v3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}v3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const x3="https://rapxqrjhrehfhqsafovf.supabase.co",w3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co",Ne=y3(x3,w3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function yi(){const{data:e,error:t}=await Ne.from("dream_logs").select(`
      *,
      world:worlds(id, name),
      entities:dream_log_entities(entity:entities(id, name))
    `).order("date",{ascending:!1});return t?(console.error("Error fetching dream logs:",t),[]):(e||[]).map(n=>{var r,s;return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:((r=n.world)==null?void 0:r.name)||"",timeSystem:n.time_system,environments:n.environments||[],entities:((s=n.entities)==null?void 0:s.map(i=>{var a;return(a=i.entity)==null?void 0:a.name}).filter(Boolean))||[],threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}})}async function F5(e){let t=null;if(e.world){const{data:s}=await Ne.from("worlds").select("id").eq("name",e.world).maybeSingle();if(s)t=s.id;else{const{data:i}=await Ne.from("worlds").insert({name:e.world,type:"transient",stability:3}).select("id").single();t=(i==null?void 0:i.id)||null}}const{data:n,error:r}=await Ne.from("dream_logs").insert({dream_id:"",date:e.date,wake_time:e.wakeTime,world_id:t,time_system:e.timeSystem,environments:e.environments,threat_level:e.threatLevel,safety_override:e.safetyOverride,exit:e.exit,notes:e.notes}).select().single();if(r||!n)return console.error("Error adding dream log:",r),null;for(const s of e.entities){let i;const{data:a}=await Ne.from("entities").select("id").eq("name",s).maybeSingle();if(a)i=a.id;else{const{data:o}=await Ne.from("entities").insert({name:s,role:"observer"}).select("id").single();i=(o==null?void 0:o.id)||""}i&&await Ne.from("dream_log_entities").insert({dream_log_id:n.id,entity_id:i})}return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:e.world,timeSystem:n.time_system,environments:n.environments||[],entities:e.entities,threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}}async function b3(e,t){const{data:n}=await Ne.from("dream_logs").select("*").eq("dream_id",e).single();if(!n)return null;let r=n.world_id;if(t.world){const{data:o}=await Ne.from("worlds").select("id").eq("name",t.world).maybeSingle();if(o)r=o.id;else{const{data:c}=await Ne.from("worlds").insert({name:t.world,type:"transient",stability:3}).select("id").single();r=(c==null?void 0:c.id)||r}}const{data:s,error:i}=await Ne.from("dream_logs").update({world_id:r,time_system:t.timeSystem||n.time_system,environments:t.environments||n.environments,threat_level:t.threatLevel!==void 0?t.threatLevel:n.threat_level,safety_override:t.safetyOverride||n.safety_override,exit:t.exit||n.exit,notes:t.notes!==void 0?t.notes:n.notes}).eq("dream_id",e).select().single();if(i||!s)return console.error("Error updating dream log:",i),null;if(t.entities){await Ne.from("dream_log_entities").delete().eq("dream_log_id",s.id);for(const o of t.entities){let c;const{data:u}=await Ne.from("entities").select("id").eq("name",o).maybeSingle();if(u)c=u.id;else{const{data:d}=await Ne.from("entities").insert({name:o,role:"observer"}).select("id").single();c=(d==null?void 0:d.id)||""}c&&await Ne.from("dream_log_entities").insert({dream_log_id:s.id,entity_id:c})}}let a=t.world||"";if(!a&&r){const{data:o}=await Ne.from("worlds").select("name").eq("id",r).maybeSingle();a=(o==null?void 0:o.name)||""}return{id:s.dream_id,date:s.date,wakeTime:s.wake_time,world:a,timeSystem:s.time_system,environments:s.environments||[],entities:t.entities||[],threatLevel:s.threat_level,safetyOverride:s.safety_override,exit:s.exit,notes:s.notes||void 0,createdAt:s.created_at}}async function S3(e){const{error:t}=await Ne.from("dream_logs").delete().eq("dream_id",e);return!t}async function Ol(){const{data:e,error:t}=await Ne.from("worlds").select(`
      *,
      dream_logs(dream_id)
    `).order("name");return t?(console.error("Error fetching worlds:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,type:n.type,stability:n.stability,description:n.description||void 0,dreamIds:((r=n.dream_logs)==null?void 0:r.map(s=>s.dream_id))||[]}})}async function Pd(){const{data:e,error:t}=await Ne.from("entities").select(`
      *,
      dream_log_entities(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching entities:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,role:n.role,description:n.description||void 0,dreamIds:((r=n.dream_log_entities)==null?void 0:r.map(s=>{var i;return(i=s.dream_log)==null?void 0:i.dream_id}).filter(Boolean))||[]}})}async function k3(){const{data:e,error:t}=await Ne.from("threats").select(`
      *,
      dream_log_threats(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching threats:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,level:n.level,response:n.response||void 0,dreamIds:((r=n.dream_log_threats)==null?void 0:r.map(s=>{var i;return(i=s.dream_log)==null?void 0:i.dream_id}).filter(Boolean))||[]}})}async function E3(e,t,n,r){const s=await fetch("https://rapxqrjhrehfhqsafovf.supabase.co/functions/v1/suggest-tags",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co"},body:JSON.stringify({text:e,existingWorlds:t,existingEntities:n,existingEnvironments:r})});return s.ok?s.json():{world:null,environments:[],entities:[],threatLevel:0,safetyOverride:"unknown",exit:"unknown",timeSystem:"unknown"}}const Rn={newMoon:{id:"newMoon",name:"",nameEn:"New Moon",rarity:"normal",moonTint:"#2a2a3a",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#5a5a7a",transitionSpeed:35,starDensity:1,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.2,emotionTag:"new_beginning",subtitle:""},waxingCrescent:{id:"waxingCrescent",name:"",nameEn:"Waxing Crescent",rarity:"normal",moonTint:"#D8D8E8",skyPalette:["#0a0e27","#1a1e37","#2a2e47"],uiAccent:"#8888a8",transitionSpeed:30,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.22,emotionTag:"growing",subtitle:" "},firstQuarter:{id:"firstQuarter",name:"",nameEn:"First Quarter",rarity:"normal",moonTint:"#E0E0F0",skyPalette:["#0c1028","#1c2038","#2c3048"],uiAccent:"#9090b0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"balanced",subtitle:""},waxingGibbous:{id:"waxingGibbous",name:"",nameEn:"Waxing Gibbous",rarity:"normal",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#9898c8",transitionSpeed:30,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.28,emotionTag:"anticipation",subtitle:""},fullMoon:{id:"fullMoon",name:"",nameEn:"Full Moon",rarity:"normal",moonTint:"#E6E6FA",skyPalette:["#0a0e27","#1a1e3e","#2a2e4e"],uiAccent:"#9090c0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"peaceful",subtitle:""},waningGibbous:{id:"waningGibbous",name:"",nameEn:"Waning Gibbous",rarity:"normal",moonTint:"#D0D0E0",skyPalette:["#0a0e25","#1a1e35","#2a2e45"],uiAccent:"#8080a0",transitionSpeed:32,starDensity:.82,cloudOpacity:.28,cloudSpeed:.95,shootingStarChance:.23,emotionTag:"reflection",subtitle:""},lastQuarter:{id:"lastQuarter",name:"",nameEn:"Last Quarter",rarity:"normal",moonTint:"#C8C8D8",skyPalette:["#0b0f26","#1b1f36","#2b2f46"],uiAccent:"#7878a8",transitionSpeed:33,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.2,emotionTag:"letting_go",subtitle:""},waningCrescent:{id:"waningCrescent",name:"",nameEn:"Waning Crescent",rarity:"normal",moonTint:"#B8B8C8",skyPalette:["#080c24","#181c34","#282c44"],uiAccent:"#6868a0",transitionSpeed:35,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"fading",subtitle:" "},penumbralEclipse:{id:"penumbralEclipse",name:"",nameEn:"Penumbral Lunar Eclipse",rarity:"rare",moonTint:"#A8A8B8",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#7878a8",transitionSpeed:40,starDensity:.85,cloudOpacity:.25,cloudSpeed:.8,shootingStarChance:.3,emotionTag:"subtle_change",subtitle:""},partialEclipse:{id:"partialEclipse",name:"",nameEn:"Partial Lunar Eclipse",rarity:"very_rare",moonTint:"#987070",skyPalette:["#150a0a","#251a1a","#352a2a"],uiAccent:"#a87878",transitionSpeed:45,starDensity:.75,cloudOpacity:.35,cloudSpeed:1,shootingStarChance:.35,emotionTag:"partial_shadow",subtitle:""},totalEclipse:{id:"totalEclipse",name:"",nameEn:"Total Lunar Eclipse",rarity:"legendary",moonTint:"#8B4545",skyPalette:["#1a0a0a","#2a1a1a","#3a2a2a"],uiAccent:"#a85555",transitionSpeed:45,starDensity:.7,cloudOpacity:.4,cloudSpeed:1.2,shootingStarChance:.4,specialEffect:"bloodRing",effectIntensity:.75,emotionTag:"intense",subtitle:""},superBloodMoon:{id:"superBloodMoon",name:"",nameEn:"Super Blood Moon",rarity:"mythic",moonTint:"#A03030",skyPalette:["#200505","#301515","#402525"],uiAccent:"#c84040",transitionSpeed:50,starDensity:.65,cloudOpacity:.45,cloudSpeed:1.3,shootingStarChance:.5,specialEffect:"meteorShower",effectIntensity:.9,emotionTag:"dramatic",subtitle:"",moonSize:1.5},superBlueBloodMoon:{id:"superBlueBloodMoon",name:"",nameEn:"Super Blue Blood Moon",rarity:"mythic",moonTint:"#B84060",skyPalette:["#1a0510","#2a1520","#3a2530"],uiAccent:"#d85080",transitionSpeed:60,starDensity:.95,cloudOpacity:.35,cloudSpeed:1.4,shootingStarChance:.6,specialEffect:"meteorShower",effectIntensity:.7,emotionTag:"once_in_lifetime",subtitle:"",moonSize:1.5},lunarTransientPhenomena:{id:"lunarTransientPhenomena",name:"",nameEn:"Lunar Transient Phenomena",rarity:"mythic",moonTint:"#E8D8FF",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#c8a8f8",transitionSpeed:55,starDensity:.9,cloudOpacity:.2,cloudSpeed:.9,shootingStarChance:.45,specialEffect:"flash",effectIntensity:.8,emotionTag:"mysterious_flash",subtitle:"",moonSize:1.4},hybridEclipse:{id:"hybridEclipse",name:"",nameEn:"Hybrid Eclipse",rarity:"mythic",moonTint:"#D8A860",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#e8b870",transitionSpeed:58,starDensity:.7,cloudOpacity:.3,cloudSpeed:1.1,shootingStarChance:.35,specialEffect:"fog",effectIntensity:.7,emotionTag:"dual_nature",subtitle:"",moonSize:1.4},supermoon:{id:"supermoon",name:"",nameEn:"Supermoon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2c","#1a1e3c","#2a2e4c"],uiAccent:"#a0a0d0",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"grand",subtitle:""},micromoon:{id:"micromoon",name:"",nameEn:"Micromoon",rarity:"rare",moonTint:"#C0C0D0",skyPalette:["#0a0e22","#1a1e32","#2a2e42"],uiAccent:"#7070a0",transitionSpeed:38,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.2,emotionTag:"distant",subtitle:""},perigeeMoon:{id:"perigeeMoon",name:"",nameEn:"Perigee Moon",rarity:"rare",moonTint:"#F8F8FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#a8a8d8",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.15,shootingStarChance:.32,emotionTag:"close",subtitle:""},apogeeMoon:{id:"apogeeMoon",name:"",nameEn:"Apogee Moon",rarity:"rare",moonTint:"#B0B0C0",skyPalette:["#0a0e20","#1a1e30","#2a2e40"],uiAccent:"#6060a0",transitionSpeed:40,starDensity:.95,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.18,emotionTag:"far",subtitle:""},earthshine:{id:"earthshine",name:"",nameEn:"Earthshine Moon",rarity:"rare",moonTint:"#FFE4B5",skyPalette:["#0d0a1f","#1d1a2f","#2d2a3f"],uiAccent:"#d4a574",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.35,emotionTag:"warm",subtitle:""},moonHalo:{id:"moonHalo",name:"",nameEn:"Moon Halo",rarity:"very_rare",moonTint:"#E0E0FA",skyPalette:["#0a0e28","#1a1e38","#2a2e48"],uiAccent:"#9898c8",transitionSpeed:42,starDensity:.8,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.28,emotionTag:"mystical",subtitle:""},moonCorona:{id:"moonCorona",name:"",nameEn:"Moon Corona",rarity:"very_rare",moonTint:"#D8D8F8",skyPalette:["#0a0e29","#1a1e39","#2a2e49"],uiAccent:"#8888c8",transitionSpeed:43,starDensity:.75,cloudOpacity:.45,cloudSpeed:.85,shootingStarChance:.3,emotionTag:"crowned",subtitle:""},coloredMoon:{id:"coloredMoon",name:"",nameEn:"Colored Moon",rarity:"rare",moonTint:"#E8C8D8",skyPalette:["#0c0a1e","#1c1a2e","#2c2a3e"],uiAccent:"#b898a8",transitionSpeed:38,starDensity:.85,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.27,emotionTag:"colorful",subtitle:""},moonIllusion:{id:"moonIllusion",name:"",nameEn:"Moon Illusion",rarity:"rare",moonTint:"#F8E8D8",skyPalette:["#0d0b1d","#1d1b2d","#2d2b3d"],uiAccent:"#c8b898",transitionSpeed:37,starDensity:.8,cloudOpacity:.35,cloudSpeed:1.05,shootingStarChance:.25,emotionTag:"illusory",subtitle:""},blueMoon:{id:"blueMoon",name:"",nameEn:"Blue Moon",rarity:"very_rare",moonTint:"#B0C8E0",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#8098c0",transitionSpeed:45,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.33,emotionTag:"rare",subtitle:""},blackMoon:{id:"blackMoon",name:"",nameEn:"Black Moon",rarity:"very_rare",moonTint:"#1a1a2e",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#4a4a6a",transitionSpeed:50,starDensity:1,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,emotionTag:"mysterious",subtitle:""},harvestMoon:{id:"harvestMoon",name:"",nameEn:"Harvest Moon",rarity:"rare",moonTint:"#FFD8A0",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#d8a870",transitionSpeed:38,starDensity:.75,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,specialEffect:"fireflies",effectIntensity:.6,emotionTag:"abundant",subtitle:""},hunterMoon:{id:"hunterMoon",name:"",nameEn:"Hunter Moon",rarity:"rare",moonTint:"#E8B878",skyPalette:["#1a1208","#2a2218","#3a3228"],uiAccent:"#c89858",transitionSpeed:38,starDensity:.8,cloudOpacity:.25,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"alert",subtitle:""},pinkMoon:{id:"pinkMoon",name:"",nameEn:"Pink Moon",rarity:"rare",moonTint:"#FFD8E8",skyPalette:["#1a0e18","#2a1e28","#3a2e38"],uiAccent:"#d8a8b8",transitionSpeed:35,starDensity:.85,cloudOpacity:.3,cloudSpeed:.95,shootingStarChance:.27,emotionTag:"gentle",subtitle:""},wolfMoon:{id:"wolfMoon",name:"",nameEn:"Wolf Moon",rarity:"rare",moonTint:"#D8D8E8",skyPalette:["#0a0e24","#1a1e34","#2a2e44"],uiAccent:"#9898b8",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.25,emotionTag:"wild",subtitle:""},snowMoon:{id:"snowMoon",name:"",nameEn:"Snow Moon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#b0b0d0",transitionSpeed:42,starDensity:.95,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.22,specialEffect:"snow",effectIntensity:.7,emotionTag:"cold",subtitle:""},strawberryMoon:{id:"strawberryMoon",name:"",nameEn:"Strawberry Moon",rarity:"rare",moonTint:"#FFE0D0",skyPalette:["#1a0e0e","#2a1e1e","#3a2e2e"],uiAccent:"#d8b0a0",transitionSpeed:36,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,emotionTag:"sweet",subtitle:""},stillMoon:{id:"stillMoon",name:"",nameEn:"Still Moon",rarity:"mythic",moonTint:"#B0C4DE",skyPalette:["#0f0f1f","#1f1f2f","#2f2f3f"],uiAccent:"#7090b0",transitionSpeed:60,starDensity:.6,cloudOpacity:.5,cloudSpeed:.1,shootingStarChance:0,specialEffect:"frozenTime",effectIntensity:.75,emotionTag:"frozen",subtitle:"",moonSize:1.4},fadingMoon:{id:"fadingMoon",name:"",nameEn:"Fading Moon",rarity:"legendary",moonTint:"#A0A0B0",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#707090",transitionSpeed:55,starDensity:.7,cloudOpacity:.45,cloudSpeed:.6,shootingStarChance:.15,specialEffect:"fadeParticles",effectIntensity:.7,emotionTag:"disappearing",subtitle:" "},veiledMoon:{id:"veiledMoon",name:"",nameEn:"Veiled Moon",rarity:"very_rare",moonTint:"#C0C0D0",skyPalette:["#0c0c1c","#1c1c2c","#2c2c3c"],uiAccent:"#8080a0",transitionSpeed:48,starDensity:.65,cloudOpacity:.6,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"obscured",subtitle:""},echoMoon:{id:"echoMoon",name:"",nameEn:"Echo Moon",rarity:"mythic",moonTint:"#D0D0E8",skyPalette:["#0e0e1e","#1e1e2e","#2e2e3e"],uiAccent:"#9090b8",transitionSpeed:52,starDensity:.75,cloudOpacity:.35,cloudSpeed:.9,shootingStarChance:.25,specialEffect:"echo",effectIntensity:.75,emotionTag:"repeating",subtitle:"",moonSize:1.4},silentMoon:{id:"silentMoon",name:"",nameEn:"Silent Moon",rarity:"legendary",moonTint:"#A8A8C8",skyPalette:["#08081a","#18182a","#28283a"],uiAccent:"#6868a8",transitionSpeed:58,starDensity:0,cloudOpacity:.2,cloudSpeed:.5,shootingStarChance:0,specialEffect:"silence",effectIntensity:.8,emotionTag:"silent",subtitle:" "},brokenMoon:{id:"brokenMoon",name:"",nameEn:"Broken Moon",rarity:"mythic",moonTint:"#9898B8",skyPalette:["#0a0a1c","#1a1a2c","#2a2a3c"],uiAccent:"#6868a8",transitionSpeed:54,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.2,emotionTag:"fractured",subtitle:"",moonSize:1.4},emptySky:{id:"emptySky",name:"",nameEn:"Empty Sky",rarity:"mythic",moonTint:"#404050",skyPalette:["#000000","#050510","#0a0a20"],uiAccent:"#505070",transitionSpeed:60,starDensity:0,cloudOpacity:0,cloudSpeed:0,shootingStarChance:0,specialEffect:"voidRipples",effectIntensity:.6,emotionTag:"void",subtitle:"",moonSize:1.4},dreamMoon:{id:"dreamMoon",name:"",nameEn:"Dream Moon",rarity:"legendary",moonTint:"#C8B8D8",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#a888c8",transitionSpeed:50,starDensity:.85,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.35,specialEffect:"dreamDust",effectIntensity:.75,emotionTag:"dreamy",subtitle:""},whisperingMoon:{id:"whisperingMoon",name:"",nameEn:"Whispering Moon",rarity:"very_rare",moonTint:"#D8C8E8",skyPalette:["#0c0a1c","#1c1a2c","#2c2a3c"],uiAccent:"#b898d8",transitionSpeed:46,starDensity:.8,cloudOpacity:.35,cloudSpeed:.85,shootingStarChance:.28,emotionTag:"whispering",subtitle:""},forgottenMoon:{id:"forgottenMoon",name:"",nameEn:"Forgotten Moon",rarity:"legendary",moonTint:"#888898",skyPalette:["#0a0a18","#1a1a28","#2a2a38"],uiAccent:"#585878",transitionSpeed:56,starDensity:.5,cloudOpacity:.5,cloudSpeed:.4,shootingStarChance:.1,specialEffect:"memoryFragments",effectIntensity:.65,emotionTag:"forgotten",subtitle:""},mirrorMoon:{id:"mirrorMoon",name:"",nameEn:"Mirror Moon",rarity:"very_rare",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:.9,cloudOpacity:.25,cloudSpeed:1,shootingStarChance:.3,emotionTag:"reflective",subtitle:""},twilightMoon:{id:"twilightMoon",name:"",nameEn:"Twilight Moon",rarity:"rare",moonTint:"#C8B8D8",skyPalette:["#1a1428","#2a2438","#3a3448"],uiAccent:"#9888b8",transitionSpeed:40,starDensity:.7,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.25,emotionTag:"transition",subtitle:""},ancientMoon:{id:"ancientMoon",name:"",nameEn:"Ancient Moon",rarity:"legendary",moonTint:"#B8A888",skyPalette:["#1a1408","#2a2418","#3a3428"],uiAccent:"#988868",transitionSpeed:52,starDensity:.85,cloudOpacity:.3,cloudSpeed:.6,shootingStarChance:.22,specialEffect:"ancientRunes",effectIntensity:.7,emotionTag:"ancient",subtitle:""},crystalMoon:{id:"crystalMoon",name:"",nameEn:"Crystal Moon",rarity:"mythic",moonTint:"#E0F0FF",skyPalette:["#0a0e30","#1a1e40","#2a2e50"],uiAccent:"#b0c0e0",transitionSpeed:48,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:.4,specialEffect:"prismLights",effectIntensity:.9,emotionTag:"crystalline",subtitle:"",moonSize:1.5},shadowMoon:{id:"shadowMoon",name:"",nameEn:"Shadow Moon",rarity:"very_rare",moonTint:"#606078",skyPalette:["#050510","#151520","#252530"],uiAccent:"#404068",transitionSpeed:50,starDensity:.6,cloudOpacity:.5,cloudSpeed:.7,shootingStarChance:.15,emotionTag:"shadowy",subtitle:""},luminousMoon:{id:"luminousMoon",name:"",nameEn:"Luminous Moon",rarity:"legendary",moonTint:"#F8F8FF",skyPalette:["#0a0e32","#1a1e42","#2a2e52"],uiAccent:"#c8c8f0",transitionSpeed:46,starDensity:.95,cloudOpacity:.2,cloudSpeed:1.1,shootingStarChance:.38,specialEffect:"lightRays",effectIntensity:.8,emotionTag:"radiant",subtitle:""},arcticMoon:{id:"arcticMoon",name:"",nameEn:"Arctic Moon",rarity:"mythic",moonTint:"#D0E8F8",skyPalette:["#000814","#001428","#00243c"],uiAccent:"#90c0d8",transitionSpeed:50,starDensity:.9,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,specialEffect:"aurora",effectIntensity:.85,emotionTag:"ethereal",subtitle:"",moonSize:1.4},meteorShowerMoon:{id:"meteorShowerMoon",name:"",nameEn:"Meteor Shower Moon",rarity:"legendary",moonTint:"#E8E8FF",skyPalette:["#0a0a20","#1a1a30","#2a2a40"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:0,specialEffect:"shootingStars",effectIntensity:.85,emotionTag:"spectacular",subtitle:""},shatteredMoon:{id:"shatteredMoon",name:"",nameEn:"Shattered Moon",rarity:"mythic",moonTint:"#E8E8F8",skyPalette:["#0a0a1f","#141428","#1e1e38"],uiAccent:"#9898c8",transitionSpeed:52,starDensity:.85,cloudOpacity:.15,cloudSpeed:.4,shootingStarChance:.22,moonSize:1.6,specialEffect:"shattered",effectIntensity:1,emotionTag:"broken",subtitle:""},cosmicVoyageMoon:{id:"cosmicVoyageMoon",name:"",nameEn:"Cosmic Voyage Moon",rarity:"mythic",moonTint:"#E0E8FF",skyPalette:["#000510","#001020","#001530"],uiAccent:"#8090C0",transitionSpeed:55,starDensity:.95,cloudOpacity:.05,cloudSpeed:.3,shootingStarChance:.25,moonSize:1.3,specialEffect:"starfield",effectIntensity:1,emotionTag:"cosmic",subtitle:""},nebulaDreamMoon:{id:"nebulaDreamMoon",name:"",nameEn:"Nebula Dream Moon",rarity:"mythic",moonTint:"#F0D8FF",skyPalette:["#0a0515","#150a25","#200f35"],uiAccent:"#B888D8",transitionSpeed:58,starDensity:.9,cloudOpacity:.1,cloudSpeed:.4,shootingStarChance:.2,moonSize:1.5,specialEffect:"nebula",effectIntensity:.9,emotionTag:"dreamy",subtitle:""}},j3=()=>Object.values(Rn),mx={normal:70,rare:20,very_rare:15,legendary:10,mythic:5},Uc="dreambook_moon_phenomenon",Wc="dreambook_moon_expiry",C3="mythic-moon-collection",T3="mythic-locked-moon",P3=30*60*1e3,N3=()=>{const e=j3(),t=e.reduce((r,s)=>r+mx[s.rarity],0);let n=Math.random()*t;for(const r of e)if(n-=mx[r.rarity],n<=0)return r;return e[0]},_3=e=>{var t;try{const n=localStorage.getItem(C3);if(n)return((t=JSON.parse(n)[e])==null?void 0:t.themeDurationBoost)||0}catch(n){console.error("Failed to get duration boost:",n)}return 0},M3=e=>{const n=_3(e.id)*1e3;return P3+n},R3=()=>{const e=localStorage.getItem(T3);return e&&Rn[e]?Rn[e]:null},ml=()=>{const e=R3();if(e)return console.log(` Using locked moon: ${e.name}`),localStorage.setItem(Uc,JSON.stringify(e)),localStorage.removeItem(Wc),{phenomenon:e,isNewEncounter:!1};const t=Date.now(),n=localStorage.getItem(Uc),r=localStorage.getItem(Wc);if(n&&r)try{const c=JSON.parse(n),u=parseInt(r,10);if(c&&c.id&&t<u){const d=u-t,h=Math.round(d/6e4);return console.log(` Moon theme valid for ${h} more minutes`),{phenomenon:c,isNewEncounter:!1}}t>=u&&console.log(" Moon theme expired, selecting new one...")}catch(c){console.error("Failed to parse stored phenomenon:",c)}const s=N3(),i=M3(s),a=t+i;localStorage.setItem(Uc,JSON.stringify(s)),localStorage.setItem(Wc,a.toString());const o=Math.round(i/6e4);return console.log(` New moon selected: ${s.name} (duration: ${o} minutes)`),{phenomenon:s,isNewEncounter:!0}},A3=()=>{localStorage.removeItem(Uc),localStorage.removeItem(Wc),console.log(" Moon phenomenon cleared")},_u=e=>{const t=document.documentElement,n=e.transitionSpeed;t.style.setProperty("--sky-transition-duration",`${n*.8}s`),t.style.setProperty("--moon-transition-duration",`${n}s`),t.style.setProperty("--ui-transition-duration",`${n*1.5}s`),t.style.setProperty("--moon-accent",e.uiAccent);const r=B5(e.uiAccent);if(r){const s=O3(r.r,r.g,r.b);if(e.rarity==="mythic"){t.setAttribute("data-mythic-theme",e.id),console.log(` Applied Mythic Theme: ${e.id}`),console.log(" Attribute set on:",t),console.log(` Check CSS selector: :root[data-mythic-theme="${e.id}"]`);const h={superBloodMoon:{background:"0 50% 5%",foreground:"0 100% 95%",card:"0 50% 8%",primary:"0 84% 60%",bgColor:"#100505"},superBlueBloodMoon:{background:"270 50% 5%",foreground:"270 100% 95%",card:"270 50% 8%",primary:"290 80% 60%",bgColor:"#1a0520"},lunarTransientPhenomena:{background:"250 50% 4%",foreground:"250 100% 95%",card:"250 50% 7%",primary:"260 100% 70%",bgColor:"#050510"},hybridEclipse:{background:"30 40% 5%",foreground:"40 80% 90%",card:"30 40% 8%",primary:"40 100% 60%",bgColor:"#1a1008"},stillMoon:{background:"210 50% 10%",foreground:"210 20% 95%",card:"210 30% 15%",primary:"210 80% 70%",bgColor:"#0f1f2f"},echoMoon:{background:"240 20% 8%",foreground:"240 20% 90%",card:"240 20% 12%",primary:"245 40% 70%",bgColor:"#0e0e1e"},brokenMoon:{background:"250 15% 8%",foreground:"250 15% 90%",card:"250 15% 11%",primary:"255 30% 65%",bgColor:"#0a0a1c"},emptySky:{background:"0 0% 0%",foreground:"0 0% 80%",card:"0 0% 5%",primary:"0 0% 60%",bgColor:"#000000"},crystalMoon:{background:"220 50% 8%",foreground:"220 50% 95%",card:"220 40% 12%",primary:"200 80% 70%",bgColor:"#0a0e30"},arcticMoon:{background:"200 60% 6%",foreground:"200 50% 95%",card:"200 50% 10%",primary:"190 90% 65%",bgColor:"#001428"},shatteredMoon:{background:"260 20% 8%",foreground:"260 20% 90%",card:"260 20% 12%",primary:"250 50% 60%",bgColor:"#0a0a1f"},cosmicVoyageMoon:{background:"230 60% 4%",foreground:"230 40% 95%",card:"230 50% 8%",primary:"220 80% 70%",bgColor:"#000510"},nebulaDreamMoon:{background:"280 40% 8%",foreground:"280 40% 95%",card:"280 40% 12%",primary:"290 70% 70%",bgColor:"#150a25"}}[e.id];h&&(t.style.setProperty("--background",h.background),t.style.setProperty("--foreground",h.foreground),t.style.setProperty("--card",h.card),t.style.setProperty("--card-foreground",h.foreground),t.style.setProperty("--primary",h.primary),t.style.setProperty("--primary-foreground","0 0% 100%"),document.body.style.backgroundColor=h.bgColor,console.log(" Mythic theme colors applied via JavaScript"));return}else t.removeAttribute("data-mythic-theme"),console.log(` Moon Rarity: ${e.rarity} - Using dynamic theme`);t.style.setProperty("--primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--primary-foreground","0 0% 100%"),t.style.setProperty("--accent",`${s.h} ${s.s}% ${Math.min(s.l+10,95)}%`),t.style.setProperty("--accent-foreground",`${s.h} ${s.s}% ${Math.max(s.l-40,10)}%`),t.style.setProperty("--ring",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--border",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--input",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--card",`${s.h} ${Math.max(s.s-50,15)}% 95%`),t.style.setProperty("--card-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--popover",`${s.h} ${Math.max(s.s-50,15)}% 96%`),t.style.setProperty("--popover-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--secondary",`${s.h} ${Math.max(s.s-40,20)}% 90%`),t.style.setProperty("--secondary-foreground",`${s.h} ${s.s}% ${Math.max(s.l-30,10)}%`),t.style.setProperty("--muted",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--muted-foreground",`${s.h} ${Math.max(s.s-40,15)}% 45%`),t.style.setProperty("--background",`${s.h} ${Math.max(s.s-50,20)}% 92%`),t.style.setProperty("--foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-background",`${s.h} ${Math.max(s.s-50,20)}% 93%`),t.style.setProperty("--sidebar-foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--sidebar-primary-foreground","0 0% 100%"),t.style.setProperty("--sidebar-accent",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--sidebar-accent-foreground",`${s.h} ${Math.max(s.s-50,15)}% 10%`),t.style.setProperty("--sidebar-border",`${s.h} ${Math.max(s.s-30,10)}% 85%`),t.style.setProperty("--sidebar-ring",`${s.h} ${s.s}% ${s.l}%`);const i=zh(e.uiAccent,1.2);t.style.setProperty("--moon-text",i);const a=zh(e.uiAccent,.6);t.style.setProperty("--moon-placeholder",a);const o=`rgba(${r.r}, ${r.g}, ${r.b}, 0.2)`;t.style.setProperty("--moon-divider",o),t.style.setProperty("--moon-caret",e.uiAccent);const c=`rgba(${r.r}, ${r.g}, ${r.b}, 0.3)`;t.style.setProperty("--moon-selection",c);const u=zh(e.uiAccent,1.1);t.style.setProperty("--moon-button-hover",u)}console.log(" Applied complete system-wide moon theme:",e.name)},B5=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},O3=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let i=0,a=0;const o=(r+s)/2;if(r!==s){const c=r-s;switch(a=o>.5?c/(2-r-s):c/(r+s),r){case e:i=((t-n)/c+(t<n?6:0))/6;break;case t:i=((n-e)/c+2)/6;break;case n:i=((e-t)/c+4)/6;break}}return{h:Math.round(i*360),s:Math.round(a*100),l:Math.round(o*100)}},zh=(e,t)=>{const n=B5(e);if(!n)return e;const r=Math.min(255,Math.floor(n.r*t)),s=Math.min(255,Math.floor(n.g*t)),i=Math.min(255,Math.floor(n.b*t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`},Mu=(e=new Date)=>{const t=new Date("2000-01-06T18:14:00Z"),n=29.530588853,s=(e.getTime()-t.getTime())/(1e3*60*60*24)%n,i=s/n,a=(1-Math.cos(i*Math.PI*2))/2;let o,c;return i<.033||i>.967?(o="New Moon",c=""):i<.216?(o="Waxing Crescent",c=""):i<.283?(o="First Quarter",c=""):i<.467?(o="Waxing Gibbous",c=""):i<.533?(o="Full Moon",c=""):i<.717?(o="Waning Gibbous",c=""):i<.783?(o="Last Quarter",c=""):(o="Waning Crescent",c=""),{phase:i,phaseName:o,phaseNameTh:c,illumination:a,age:s}};function D3(){const e=p.useRef({x:0,y:0});return p.useEffect(()=>{const t=n=>{let r=0,s=0;n instanceof MouseEvent?(r=(n.clientX/window.innerWidth-.5)*20,s=(n.clientY/window.innerHeight-.5)*20):window.DeviceOrientationEvent&&n instanceof DeviceOrientationEvent&&(n.gamma!==null&&(r=Math.max(-20,Math.min(20,n.gamma/2))),n.beta!==null&&(s=Math.max(-20,Math.min(20,(n.beta-45)/2)))),e.current={x:r,y:s}};return window.addEventListener("mousemove",t),window.addEventListener("deviceorientation",t),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("deviceorientation",t)}},[]),e}function I3(){const[e,t]=p.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return p.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=s=>{t(s.matches)};return n.addEventListener?n.addEventListener("change",r):n.addListener(r),()=>{n.removeEventListener?n.removeEventListener("change",r):n.removeListener(r)}},[]),e}function L3(e={}){const{targetFPS:t=60,enableAdaptive:n=!0,minFPS:r=20,maxFPS:s=60}=e,i=p.useRef(0),a=p.useRef(0),o=p.useRef([]),c=p.useRef(t),u=p.useRef(0),[d,h]=p.useState({currentFPS:t,averageFPS:t,isThrottled:!1}),[f,m]=p.useState(!1);p.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(x=>{const g=()=>{m(x.level<.2&&!x.charging)};return g(),x.addEventListener("levelchange",g),x.addEventListener("chargingchange",g),()=>{x.removeEventListener("levelchange",g),x.removeEventListener("chargingchange",g)}})},[]);const w=p.useCallback(()=>{let x=c.current;return f&&(x=Math.min(x,30)),1e3/x},[f]),v=p.useCallback(x=>{const g=w();if(x-i.current>=g){if(a.current++,x-u.current>=1e3){const S=a.current;o.current.push(S),o.current.length>5&&o.current.shift();const k=o.current.reduce((E,C)=>E+C,0)/o.current.length;n&&(S<c.current*.8?c.current=Math.max(r,c.current-5):S>=c.current*.95&&c.current<s&&(c.current=Math.min(s,c.current+2))),h({currentFPS:S,averageFPS:Math.round(k),isThrottled:c.current<t}),a.current=0,u.current=x}return i.current=x,!0}return!1},[w,n,r,s,t]),b=p.useCallback(()=>{i.current=0,a.current=0,o.current=[],c.current=t,u.current=0},[t]);return{shouldRenderFrame:v,resetThrottle:b,metrics:d,isLowPowerMode:f,currentTargetFPS:c.current}}const $3=()=>[],z5=(e,t,n=40)=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*8+4,opacity:1,lifetime:0,maxLifetime:30+Math.random()*20}},F3=(e,t)=>t.map(n=>{if(n.lifetime++,n.opacity=1-n.lifetime/n.maxLifetime,n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size);r.addColorStop(0,`rgba(255,255,255,${n.opacity})`),r.addColorStop(.5,`rgba(200,200,255,${n.opacity*.6})`),r.addColorStop(1,"rgba(150,150,255,0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size,0,Math.PI*2),e.fill()}return n}).filter(n=>n.lifetime<n.maxLifetime),Vh=(e=20,t="#B84060",n="#d85080",r=.01,s=.02)=>Array.from({length:e},(i,a)=>({angle:Math.PI*2*a/e,distance:50+Math.random()*30,size:Math.random()*3+1,speed:r+Math.random()*(s-r),color:a%2===0?t:n,opacity:Math.random()*.5+.3})),B3=(e,t,n,r)=>{t.forEach(s=>{s.angle+=s.speed;const i=n+Math.cos(s.angle)*s.distance,a=r+Math.sin(s.angle)*s.distance,o=e.createRadialGradient(i,a,0,i,a,s.size*2);o.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${s.color}00`),e.fillStyle=o,e.beginPath(),e.arc(i,a,s.size*2,0,Math.PI*2),e.fill(),e.fillStyle=s.color,e.globalAlpha=s.opacity,e.beginPath(),e.arc(i,a,s.size,0,Math.PI*2),e.fill(),e.globalAlpha=1})},V5=(e,t,n=40)=>Array.from({length:50},()=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*1.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*4+1.5,opacity:Math.random()*.9+.3,twinklePhase:Math.random()*Math.PI*2,twinkleSpeed:.03+Math.random()*.05}}),z3=(e,t)=>{t.forEach(n=>{n.twinklePhase+=n.twinkleSpeed;const r=(Math.sin(n.twinklePhase)+1)/2,s=n.opacity*r;if(s>.1){e.save(),e.translate(n.x,n.y),e.rotate(n.twinklePhase*.2);const i=e.createRadialGradient(0,0,0,0,0,n.size*6),a=n.twinklePhase*50%360;i.addColorStop(0,`hsla(${a}, 70%, 85%, ${s*.4})`),i.addColorStop(.3,`hsla(${a+60}, 60%, 80%, ${s*.3})`),i.addColorStop(.6,`hsla(${a+120}, 50%, 75%, ${s*.2})`),i.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,n.size*6,0,Math.PI*2),e.fill();const o=e.createRadialGradient(0,0,0,0,0,n.size*4);o.addColorStop(0,`rgba(240, 248, 255, ${s})`),o.addColorStop(.4,`rgba(200, 220, 255, ${s*.7})`),o.addColorStop(.7,`rgba(176, 192, 224, ${s*.4})`),o.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=o,e.beginPath(),e.arc(0,0,n.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s*.8})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*1.2,h=Math.sin(u)*n.size*1.2;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(200, 220, 255, ${s*.6})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*.6,h=Math.sin(u)*n.size*.6;c===0?e.moveTo(d,h):e.lineTo(d,h)}e.closePath(),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s})`,e.beginPath(),e.arc(0,0,n.size*.3,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(240, 248, 255, ${s*.9})`,e.lineWidth=1.5,e.lineCap="round";for(let c=0;c<6;c++){const u=c*Math.PI/3,d=n.size*6;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.strokeStyle=`rgba(200, 220, 255, ${s*.5})`,e.lineWidth=.8;for(let c=0;c<12;c++){const u=c*Math.PI/6+Math.PI/12,d=n.size*4;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.restore()}})},V3=e=>{const t=["#00ff88","#00ddaa","#00ccbb"];return Array.from({length:3},(n,r)=>({y:e*.3+r*80,amplitude:25+Math.random()*20,frequency:.003+Math.random()*.004,phase:Math.random()*Math.PI*2,speed:.004+Math.random()*.005,color:t[r],opacity:.08+Math.random()*.06}))},U3=(e,t,n)=>{t.forEach((r,s)=>{r.phase+=r.speed;const i=r.opacity*(1+Math.sin(r.phase*.5)*.3);e.beginPath(),e.moveTo(0,r.y);for(let c=0;c<=n;c+=2){const u=r.y+Math.sin(c*r.frequency+r.phase)*r.amplitude,d=Math.sin(c*r.frequency*2+r.phase*1.5)*(r.amplitude*.3),h=Math.sin(c*r.frequency*4+r.phase*2)*(r.amplitude*.15),f=Math.sin(c*.05+r.phase*3)*5;e.lineTo(c,u+d+h+f)}const a=e.createLinearGradient(0,r.y,n,r.y);a.addColorStop(0,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),a.addColorStop(.25,`${r.color}${Math.floor(i*.7*255).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${r.color}${Math.floor(i*255).toString(16).padStart(2,"0")}`),a.addColorStop(.75,`${r.color}${Math.floor(i*.7*255).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),e.strokeStyle=a,e.lineWidth=70,e.lineCap="round",e.lineJoin="round",e.shadowBlur=40,e.shadowColor=r.color,e.stroke(),e.shadowBlur=0;const o=e.createLinearGradient(0,r.y-r.amplitude*2,0,r.y+r.amplitude*3);if(o.addColorStop(0,`${r.color}00`),o.addColorStop(.2,`${r.color}${Math.floor(i*.5*255).toString(16).padStart(2,"0")}`),o.addColorStop(.5,`${r.color}${Math.floor(i*.8*255).toString(16).padStart(2,"0")}`),o.addColorStop(.8,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.strokeStyle=o,e.lineWidth=50,e.globalAlpha=.6,e.stroke(),e.globalAlpha=1,Math.random()<.3)for(let c=0;c<3;c++){const u=Math.random()*n,d=r.y+Math.sin(u*r.frequency+r.phase)*r.amplitude,h=2+Math.random()*3,f=e.createRadialGradient(u,d,0,u,d,h*3);f.addColorStop(0,`rgba(255, 255, 255, ${i*.6})`),f.addColorStop(.5,`${r.color}${Math.floor(i*.4*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${r.color}00`),e.fillStyle=f,e.beginPath(),e.arc(u,d,h*3,0,Math.PI*2),e.fill()}})},W3=(e,t,n=20)=>Array.from({length:n},()=>{const r=Math.random()*e,s=t*.5+Math.random()*t*.4;return{x:r,y:s,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2+Math.random()*2,opacity:0,blinkPhase:Math.random()*Math.PI*2,blinkSpeed:.05+Math.random()*.05,targetX:r,targetY:s}}),H3=(e,t,n,r)=>{t.forEach(s=>{if(s.blinkPhase+=s.blinkSpeed,s.opacity=Math.max(0,Math.sin(s.blinkPhase))*.8,Math.random()<.02&&(s.targetX=Math.random()*n,s.targetY=r*.5+Math.random()*r*.4),s.vx+=(s.targetX-s.x)*.001,s.vy+=(s.targetY-s.y)*.001,s.vx*=.95,s.vy*=.95,s.x+=s.vx,s.y+=s.vy,s.opacity>0){const i=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*3);i.addColorStop(0,`rgba(255,255,150,${s.opacity})`),i.addColorStop(.5,`rgba(255,200,100,${s.opacity*.5})`),i.addColorStop(1,"rgba(255,200,100,0)"),e.fillStyle=i,e.beginPath(),e.arc(s.x,s.y,s.size*3,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255,255,200,${s.opacity})`,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill()}})},G3=(e,t=50)=>Array.from({length:t},()=>({x:Math.random()*e,y:Math.random()*-100,size:Math.random()*3+1,speed:Math.random()*.5+.3,drift:(Math.random()-.5)*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.6+.4})),K3=(e,t,n,r)=>{t.forEach(s=>{s.y+=s.speed,s.x+=s.drift,s.rotation+=s.rotationSpeed,s.y>r&&(s.y=-10,s.x=Math.random()*n),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.globalAlpha=s.opacity,e.strokeStyle="#ffffff",e.lineWidth=1,e.lineCap="round";for(let i=0;i<6;i++)e.rotate(Math.PI/3),e.beginPath(),e.moveTo(0,0),e.lineTo(0,s.size*2),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(-s.size*.5,s.size*1.5),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(s.size*.5,s.size*1.5),e.stroke();e.restore()})},q3=(e,t)=>{const n=["#f0e8e0","#e8d8d0","#d8c8c0"];return Array.from({length:5},(r,s)=>({x:-e-Math.random()*e*.5,y:t*.5+s*40,width:e*2.5,height:100+s*20,speed:.06+s*.04,opacity:.1+s*.04,color:n[s%n.length],wave:Math.random()*Math.PI*2,waveSpeed:.01+Math.random()*.01}))},Y3=(e,t,n)=>{t.forEach((r,s)=>{r.x+=r.speed,r.wave+=r.waveSpeed,r.x>n*.3&&(r.x=-r.width);const i=Math.sin(r.wave)*15,a=r.y+i,o=e.createRadialGradient(r.x+r.width*.5,a+r.height*.5,0,r.x+r.width*.5,a+r.height*.5,r.width*.6);if(o.addColorStop(0,`${r.color}${Math.floor(r.opacity*255*.5).toString(16).padStart(2,"0")}`),o.addColorStop(.3,`${r.color}${Math.floor(r.opacity*255*.9).toString(16).padStart(2,"0")}`),o.addColorStop(.7,`${r.color}${Math.floor(r.opacity*255*.4).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}00`),e.save(),e.globalCompositeOperation="lighter",e.fillStyle=o,e.fillRect(r.x,a,r.width,r.height),r.x>0?e.fillRect(r.x-r.width,a,r.width,r.height):r.x+r.width<n,e.fillRect(r.x-r.width,a,r.width,r.height),e.restore(),s%2===0&&Math.random()<.02){const c=r.x+Math.random()*r.width,u=a+Math.random()*r.height,d=e.createRadialGradient(c,u,0,c,u,3);d.addColorStop(0,"rgba(255,255,255,0.3)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=d,e.beginPath(),e.arc(c,u,3,0,Math.PI*2),e.fill()}e.restore()})},X3=(e,t,n=15)=>{const r=["#ff9966","#ffcc66","#ff6666","#ffaa88","#ff8844"];return Array.from({length:n},(s,i)=>({x:e*.5+Math.random()*e*.5,y:-Math.random()*300-i*20,vx:-4-Math.random()*3,vy:6+Math.random()*3,length:50+Math.random()*80,opacity:.8+Math.random()*.2,color:r[Math.floor(Math.random()*r.length)],active:i<n*.6}))},Q3=(e,t,n,r)=>{t.forEach(s=>{if(!s.active){Math.random()<.02&&(s.active=!0);return}s.x+=s.vx,s.y+=s.vy,(s.x<-s.length||s.y>r+50)&&(s.x=n*.7+Math.random()*n*.3,s.y=-Math.random()*200,s.active=!0),e.save(),e.globalAlpha=s.opacity;const i=e.createLinearGradient(s.x,s.y,s.x-s.vx*10,s.y-s.vy*10);i.addColorStop(0,s.color),i.addColorStop(.5,`${s.color}aa`),i.addColorStop(1,`${s.color}00`),e.strokeStyle=i,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*10,s.y-s.vy*10),e.stroke();const a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,6);a.addColorStop(0,"#fff"),a.addColorStop(.3,s.color),a.addColorStop(1,`${s.color}00`),e.fillStyle=a,e.beginPath(),e.arc(s.x,s.y,6,0,Math.PI*2),e.fill(),e.restore()})},J3=(e,t,n=40)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,opacity:0,lifetime:0,maxLifetime:240+Math.random()*180,freezePoint:40+Math.random()*30,isFrozen:!1,trailLength:Math.random()*30+15,color:Math.random()>.5?"#B0C4DE":"#7090b0",rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,frozenIntensity:Math.random()*.5+.5})),Z3=(e,t)=>{t.forEach(n=>{if(n.lifetime++,n.lifetime<20?(n.opacity=n.lifetime/20,n.y-=.5):n.lifetime>=n.freezePoint&&n.lifetime<n.freezePoint+150?(n.isFrozen||(n.isFrozen=!0,n.rotationSpeed=0),n.opacity=.9*n.frozenIntensity):n.lifetime>=n.freezePoint+150?n.opacity=Math.max(0,1-(n.lifetime-n.freezePoint-150)/90):(n.opacity=.7,n.y-=.4,n.rotation+=n.rotationSpeed),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.y=Math.random()*e.canvas.height,n.x=Math.random()*e.canvas.width,n.freezePoint=40+Math.random()*30,n.isFrozen=!1,n.rotation=Math.random()*Math.PI*2,n.rotationSpeed=(Math.random()-.5)*.02),n.opacity>0){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),!n.isFrozen&&n.lifetime>=20&&n.lifetime<n.freezePoint){const i=e.createLinearGradient(0,0,0,n.trailLength);i.addColorStop(0,`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${n.color}${Math.floor(n.opacity*100).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${n.color}00`),e.strokeStyle=i,e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n.trailLength),e.stroke()}const r=n.isFrozen?n.size*4:n.size*3,s=e.createRadialGradient(0,0,0,0,0,r);s.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),s.addColorStop(.3,`${n.color}${Math.floor(n.opacity*180).toString(16).padStart(2,"0")}`),s.addColorStop(1,`${n.color}00`),e.fillStyle=s,e.beginPath(),e.arc(0,0,r,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*230).toString(16).padStart(2,"0")}`,e.beginPath();for(let i=0;i<6;i++){const a=Math.PI/3*i,o=Math.cos(a)*n.size,c=Math.sin(a)*n.size;i===0?e.moveTo(o,c):e.lineTo(o,c)}if(e.closePath(),e.fill(),e.fillStyle=`#ffffff${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(0,0,n.size*.5,0,Math.PI*2),e.fill(),n.isFrozen){e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.8})`,e.lineWidth=1.5;for(let a=0;a<6;a++){const o=Math.PI/3*a,c=n.size*3.5;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(o)*c,Math.sin(o)*c),e.stroke(),e.fillStyle=`rgba(220, 235, 255, ${n.opacity*.9})`,e.beginPath(),e.arc(Math.cos(o)*c,Math.sin(o)*c,2,0,Math.PI*2),e.fill()}const i=n.size*2.5+Math.sin(n.lifetime*.05)*n.size*.3;e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.5})`,e.lineWidth=2,e.beginPath(),e.arc(0,0,i,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(220, 235, 255, ${n.opacity*.3})`,e.lineWidth=1,e.beginPath(),e.arc(0,0,i*.6,0,Math.PI*2),e.stroke();for(let a=0;a<4;a++){const o=Math.PI/2*a+n.lifetime*.01,c=i*1.2,u=Math.cos(o)*c,d=Math.sin(o)*c;e.fillStyle=`rgba(255, 255, 255, ${n.opacity*.7})`,e.beginPath(),e.arc(u,d,1.5,0,Math.PI*2),e.fill()}}e.restore()}})},eL=()=>[],tL=(e,t,n)=>({radius:n*.5,maxRadius:n*5+Math.random()*n*3,opacity:1,lifetime:0,maxLifetime:120+Math.random()*80,centerX:e,centerY:t,speed:.8+Math.random()*.6,thickness:2+Math.random()*2}),nL=(e,t,n,r)=>t.map(s=>{s.lifetime++,s.radius+=s.speed;const i=20,a=s.maxLifetime-40;if(s.lifetime<i?s.opacity=s.lifetime/i:s.lifetime>a?s.opacity=Math.max(0,1-(s.lifetime-a)/40):s.opacity=.6+Math.sin(s.lifetime*.1)*.2,s.opacity>0){e.strokeStyle=`rgba(80, 80, 112, ${s.opacity*.4})`,e.lineWidth=s.thickness,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(64, 64, 80, ${s.opacity*.6})`,e.lineWidth=s.thickness*.5,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius-s.thickness,0,Math.PI*2),e.stroke();const o=e.createRadialGradient(s.centerX,s.centerY,s.radius-s.thickness*3,s.centerX,s.centerY,s.radius+s.thickness*2);if(o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(.4,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(.6,`rgba(0, 0, 0, ${s.opacity*.15})`),o.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=o,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.fill(),s.lifetime%8===0&&s.opacity>.3)for(let u=0;u<3;u++){const d=Math.random()*Math.PI*2,h=s.centerX+Math.cos(d)*s.radius,f=s.centerY+Math.sin(d)*s.radius,m=e.createRadialGradient(h,f,0,h,f,3);m.addColorStop(0,`rgba(112, 144, 176, ${s.opacity*.8})`),m.addColorStop(1,"rgba(112, 144, 176, 0)"),e.fillStyle=m,e.beginPath(),e.arc(h,f,3,0,Math.PI*2),e.fill()}}return s}).filter(s=>s.lifetime<s.maxLifetime),rL=(e,t,n=12)=>{const r=[];for(let s=0;s<n;s++){const i=Math.PI*2/n*s+(Math.random()-.5)*.4,a=60+Math.random()*45;r.push({x:e+Math.cos(i)*a,y:t+Math.sin(i)*a,size:5+Math.random()*8,angle:i,distance:a,orbitSpeed:8e-4+Math.random()*.0015,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.025,opacity:.7+Math.random()*.3})}return r},px=(e,t,n=25)=>{const r=[];for(let s=0;s<n;s++){const i=Math.random()*Math.PI*2,a=.15+Math.random()*.3;r.push({x:e+(Math.random()-.5)*90,y:t+(Math.random()-.5)*90,vx:Math.cos(i)*a,vy:Math.sin(i)*a,size:.8+Math.random()*1.5,opacity:.2+Math.random()*.3,life:0,maxLife:120+Math.random()*120})}return r},sL=(e,t,n,r,s)=>{t.forEach(i=>{i.angle+=i.orbitSpeed,i.rotation+=i.rotationSpeed,i.x=n+Math.cos(i.angle)*i.distance,i.y=r+Math.sin(i.angle)*i.distance,e.save(),e.translate(i.x,i.y),e.rotate(i.rotation),e.fillStyle=`rgba(0, 0, 0, ${i.opacity*.4})`,e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.6)",e.beginPath();const a=5+Math.floor(Math.random()*3);for(let c=0;c<a;c++){const u=Math.PI*2/a*c,d=i.size*(.8+Math.random()*.5),h=Math.cos(u)*d,f=Math.sin(u)*d;c===0?e.moveTo(h,f):e.lineTo(h,f)}e.closePath(),e.fill(),e.fillStyle=`${s}${Math.floor(i.opacity*255).toString(16).padStart(2,"0")}`,e.shadowBlur=8,e.shadowColor=s,e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${i.opacity*.6})`,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 0.8)",e.stroke();const o=e.createRadialGradient(0,0,0,0,0,i.size*.6);o.addColorStop(0,`rgba(255, 255, 255, ${i.opacity*.4})`),o.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=o,e.shadowBlur=0,e.beginPath(),e.arc(0,0,i.size*.6,0,Math.PI*2),e.fill(),e.restore()})},iL=(e,t,n,r,s)=>{t.forEach(i=>{i.x+=i.vx,i.y+=i.vy,i.life++;const a=1-i.life/i.maxLife,o=i.opacity*a;if(i.life<i.maxLife&&o>.01){const c=e.createRadialGradient(i.x,i.y,0,i.x,i.y,i.size*4);c.addColorStop(0,`${n}${Math.floor(o*.8*255).toString(16).padStart(2,"0")}`),c.addColorStop(.5,`${n}${Math.floor(o*.3*255).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${n}00`),e.fillStyle=c,e.beginPath(),e.arc(i.x,i.y,i.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`${n}${Math.floor(o*255).toString(16).padStart(2,"0")}`,e.shadowBlur=5,e.shadowColor=n,e.beginPath(),e.arc(i.x,i.y,i.size,0,Math.PI*2),e.fill(),e.shadowBlur=0,Math.random()<.15&&(e.fillStyle=`rgba(255, 255, 255, ${o*.8})`,e.beginPath(),e.arc(i.x,i.y,i.size*.5,0,Math.PI*2),e.fill())}if(i.life>=i.maxLife){if(r!==void 0&&s!==void 0){const c=Math.random()*Math.PI*2,u=70+Math.random()*30;i.x=r+Math.cos(c)*u,i.y=s+Math.sin(c)*u;const d=.15+Math.random()*.35,h=Math.random()*Math.PI*2;i.vx=Math.cos(h)*d,i.vy=Math.sin(h)*d}i.life=0,i.opacity=.35+Math.random()*.45}})},aL=(e,t,n,r=4)=>Array.from({length:r},(s,i)=>({x:e,y:t,radius:n,opacity:.6-i*.15,delay:i*15,scale:1+i*.15,phaseOffset:0})),oL=(e,t,n,r,s,i)=>{t.forEach((a,o)=>{a.phaseOffset+=.001;const c=n,u=r+Math.sin(s-a.phaseOffset*50)*3;a.x+=(c-a.x)*(.05/(o+1)),a.y+=(u-a.y)*(.05/(o+1));const d=a.radius*a.scale,h=e.createRadialGradient(a.x,a.y,d*.3,a.x,a.y,d*2);h.addColorStop(0,`${i}${Math.floor(a.opacity*.4*255).toString(16).padStart(2,"0")}`),h.addColorStop(.5,`${i}${Math.floor(a.opacity*.2*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${i}00`),e.fillStyle=h,e.beginPath(),e.arc(a.x,a.y,d*2,0,Math.PI*2),e.fill();const f=e.createRadialGradient(a.x-d*.25,a.y-d*.25,0,a.x,a.y,d);f.addColorStop(0,`${i}${Math.floor(a.opacity*.8*255).toString(16).padStart(2,"0")}`),f.addColorStop(.7,`${i}${Math.floor(a.opacity*.5*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${i}${Math.floor(a.opacity*.2*255).toString(16).padStart(2,"0")}`),e.fillStyle=f,e.beginPath(),e.arc(a.x,a.y,d,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${a.opacity*.3})`,e.lineWidth=1.5,e.beginPath(),e.arc(a.x-d*.3,a.y-d*.3,d*.6,Math.PI,Math.PI*2),e.stroke();const m=(Date.now()/1e3+o*.5)%2;for(let w=0;w<3;w++){const v=d*(1.2+m*.5+w*.3),b=a.opacity*(1-m/2)*.4;b>.05&&(e.strokeStyle=`rgba(208, 208, 232, ${b})`,e.lineWidth=2,e.beginPath(),e.arc(a.x,a.y,v,0,Math.PI*2),e.stroke())}})},lL=e=>Array.from({length:3},(t,n)=>({radius:e*(1.15+n*.2),opacity:.6-n*.15,pulsePhase:Math.PI*2*n/3,thickness:3-n*.5})),cL=(e,t,n,r)=>{t.forEach(s=>{s.pulsePhase+=.02;const i=Math.sin(s.pulsePhase)*.2+.8,a=s.opacity*i;e.strokeStyle=`rgba(160, 48, 48, ${a})`,e.lineWidth=s.thickness,e.shadowBlur=10,e.shadowColor=`rgba(200, 64, 64, ${a})`,e.beginPath(),e.arc(n,r,s.radius,0,Math.PI*2),e.stroke(),e.shadowBlur=0})},uL=(e,t,n=30)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*4+2,opacity:Math.random()*.8+.2,fadeSpeed:.002+Math.random()*.003,lifetime:0,maxLifetime:200+Math.random()*200})),dL=(e,t)=>{t.forEach(n=>{if(n.x+=n.vx,n.y+=n.vy,n.lifetime++,n.opacity-=n.fadeSpeed,(n.lifetime>=n.maxLifetime||n.opacity<=0)&&(n.x=Math.random()*e.canvas.width,n.y=Math.random()*e.canvas.height,n.opacity=Math.random()*.8+.2,n.lifetime=0),n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*3);r.addColorStop(0,`rgba(160, 160, 176, ${n.opacity})`),r.addColorStop(.5,`rgba(160, 160, 176, ${n.opacity*.5})`),r.addColorStop(1,"rgba(160, 160, 176, 0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*3,0,Math.PI*2),e.fill()}})},hL=()=>[],fL=(e,t,n,r,s)=>(Math.random()<.015&&t.push({radius:s,opacity:.6,lifetime:0,maxLifetime:120}),t.map(i=>(i.lifetime++,i.radius+=1,i.opacity=(1-i.lifetime/i.maxLifetime)*.6,i.lifetime<i.maxLifetime&&i.opacity>.05&&(e.strokeStyle=`rgba(168, 168, 200, ${i.opacity})`,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.arc(n,r,i.radius,0,Math.PI*2),e.stroke(),e.setLineDash([])),i)).filter(i=>i.lifetime<i.maxLifetime)),mL=(e,t,n=40)=>{const r=["#C8B8D8","#B8A8C8","#D8C8E8"];return Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.4,vy:-.2-Math.random()*.3,size:Math.random()*3+1.5,opacity:Math.random()*.7+.3,color:r[Math.floor(Math.random()*r.length)],floatPhase:Math.random()*Math.PI*2,floatSpeed:.02+Math.random()*.03}))},pL=(e,t)=>{t.forEach(n=>{n.floatPhase+=n.floatSpeed,n.x+=n.vx+Math.sin(n.floatPhase)*.3,n.y+=n.vy,n.y<-10&&(n.y=e.canvas.height+10,n.x=Math.random()*e.canvas.width),n.x<-10&&(n.x=e.canvas.width+10),n.x>e.canvas.width+10&&(n.x=-10);const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*2.5);r.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),r.addColorStop(.5,`${n.color}${Math.floor(n.opacity*128).toString(16).padStart(2,"0")}`),r.addColorStop(1,`${n.color}00`),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*2.5,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(n.x,n.y,n.size*.8,0,Math.PI*2),e.fill()})},gL=(e,t,n=25)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*6+3,opacity:Math.random()*.4+.2,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,lifetime:0,maxLifetime:300+Math.random()*300,fragmentType:Math.floor(Math.random()*3)})),yL=(e,t)=>{t.forEach(n=>{n.x+=n.vx,n.y+=n.vy,n.rotation+=n.rotationSpeed,n.lifetime++,n.x<0&&(n.x=e.canvas.width),n.x>e.canvas.width&&(n.x=0),n.y<0&&(n.y=e.canvas.height),n.y>e.canvas.height&&(n.y=0),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.opacity=Math.random()*.4+.2);const r=n.lifetime<60?n.lifetime/60:(n.maxLifetime-n.lifetime)/60,s=Math.min(n.opacity,r);if(s>.05){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),e.globalAlpha=s,e.strokeStyle="#888898",e.fillStyle="rgba(136, 136, 152, 0.3)",e.lineWidth=1.5,e.beginPath(),n.fragmentType===0)e.moveTo(0,-n.size),e.lineTo(n.size,n.size),e.lineTo(-n.size,n.size);else if(n.fragmentType===1)e.rect(-n.size/2,-n.size/2,n.size,n.size);else for(let i=0;i<5;i++){const a=Math.PI*2*i/5-Math.PI/2,o=Math.cos(a)*n.size,c=Math.sin(a)*n.size;i===0?e.moveTo(o,c):e.lineTo(o,c)}e.closePath(),e.fill(),e.stroke(),e.restore()}})},vL=(e,t,n)=>{const r=["","","","","",""];return Array.from({length:6},(s,i)=>({x:e,y:t,symbol:r[i],size:12+Math.random()*8,opacity:.6+Math.random()*.3,rotation:0,pulsePhase:Math.PI*2*i/6,orbitAngle:Math.PI*2*i/6,orbitSpeed:.005+Math.random()*.003,orbitRadius:n*(1.4+Math.random()*.3)}))},xL=(e,t,n,r)=>{t.forEach(s=>{s.orbitAngle+=s.orbitSpeed,s.pulsePhase+=.02,s.rotation+=.01;const i=n+Math.cos(s.orbitAngle)*s.orbitRadius,a=r+Math.sin(s.orbitAngle)*s.orbitRadius,o=Math.sin(s.pulsePhase)*.3+.7,c=s.opacity*o,u=e.createRadialGradient(i,a,0,i,a,s.size*2);u.addColorStop(0,`rgba(184, 168, 136, ${c*.5})`),u.addColorStop(1,"rgba(184, 168, 136, 0)"),e.fillStyle=u,e.beginPath(),e.arc(i,a,s.size*2,0,Math.PI*2),e.fill(),e.save(),e.translate(i,a),e.rotate(s.rotation),e.fillStyle=`rgba(184, 168, 136, ${c})`,e.font=`${s.size}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(s.symbol,0,0),e.restore()})},wL=(e=12)=>Array.from({length:e},(t,n)=>({angle:Math.PI*2*n/e,length:50+Math.random()*30,opacity:.3+Math.random()*.4,width:2+Math.random()*3,pulsePhase:Math.random()*Math.PI*2,speed:.02+Math.random()*.02})),bL=(e,t,n,r,s)=>{if(!isFinite(n)||!isFinite(r)||!isFinite(s)){console.warn("Invalid moon parameters in drawLightRays:",{moonX:n,moonY:r,moonRadius:s});return}t.forEach(i=>{i.pulsePhase+=i.speed,i.angle+=.003;const a=Math.sin(i.pulsePhase)*.4+.6,o=i.opacity*a,c=n+Math.cos(i.angle)*s,u=r+Math.sin(i.angle)*s,d=n+Math.cos(i.angle)*(s+i.length),h=r+Math.sin(i.angle)*(s+i.length);if(!isFinite(c)||!isFinite(u)||!isFinite(d)||!isFinite(h))return;const f=e.createLinearGradient(c,u,d,h);f.addColorStop(0,`rgba(248, 248, 255, ${o})`),f.addColorStop(.5,`rgba(248, 248, 255, ${o*.6})`),f.addColorStop(1,"rgba(248, 248, 255, 0)"),e.strokeStyle=f,e.lineWidth=i.width,e.lineCap="round",e.beginPath(),e.moveTo(c,u),e.lineTo(d,h),e.stroke()})},SL=()=>[],kL=(e,t,n,r)=>{if(Math.random()<.3){const s=Math.PI/4+Math.random()*(Math.PI/6),i=15+Math.random()*10;t.push({x:Math.random()*n,y:-50-Math.random()*100,vx:Math.cos(s)*i,vy:Math.sin(s)*i,length:50+Math.random()*50,opacity:Math.random()*.4+.6,trailLength:100+Math.random()*80,color:"#FFFFFF"})}return t.map(s=>{if(s.x+=s.vx,s.y+=s.vy,s.opacity-=.008,s.opacity>.05){const i=e.createLinearGradient(s.x,s.y,s.x-s.vx*3,s.y-s.vy*3);i.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${s.color}${Math.floor(s.opacity*128).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${s.color}00`),e.strokeStyle=i,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*3,s.y-s.vy*3),e.stroke(),e.fillStyle=`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(s.x,s.y,2,0,Math.PI*2),e.fill()}return s}).filter(s=>s.opacity>.05&&s.x<n+50&&s.y<r+50)},EL=()=>{const e=["rgba(220, 240, 255, 0.9)","rgba(255, 255, 255, 0.95)","rgba(200, 230, 255, 0.85)","rgba(240, 250, 255, 0.9)"],t=["hexagon","diamond","triangle"];return Array.from({length:12},(n,r)=>({angle:Math.PI*2*r/12,distance:80+r%3*20,size:8+Math.random()*8,rotation:Math.random()*Math.PI*2,rotationSpeed:.02+Math.random()*.03,orbitSpeed:.008+Math.random()*.004,opacity:.6+Math.random()*.3,color:e[r%e.length],pulsePhase:Math.random()*Math.PI*2,shardType:t[r%3]}))},jL=(e,t,n,r,s)=>{e.save(),t.forEach(a=>{a.angle+=a.orbitSpeed,a.rotation+=a.rotationSpeed,a.pulsePhase+=.03;const o=n+Math.cos(a.angle)*(s+a.distance),c=r+Math.sin(a.angle)*(s+a.distance),u=a.opacity*(.8+.2*Math.sin(a.pulsePhase));if(e.save(),e.translate(o,c),e.rotate(a.rotation),e.globalCompositeOperation="screen",e.shadowBlur=15,e.shadowColor=a.color,e.fillStyle=a.color.replace(/[\d.]+\)$/g,`${u})`),e.strokeStyle=`rgba(255, 255, 255, ${u*.8})`,e.lineWidth=1.5,e.beginPath(),a.shardType==="hexagon"){for(let d=0;d<6;d++){const h=Math.PI/3*d,f=Math.cos(h)*a.size,m=Math.sin(h)*a.size;d===0?e.moveTo(f,m):e.lineTo(f,m)}e.closePath()}else a.shardType==="diamond"?(e.moveTo(0,-a.size),e.lineTo(a.size*.6,0),e.lineTo(0,a.size),e.lineTo(-a.size*.6,0),e.closePath()):(e.moveTo(0,-a.size),e.lineTo(a.size*.866,a.size*.5),e.lineTo(-a.size*.866,a.size*.5),e.closePath());e.fill(),e.stroke(),e.globalCompositeOperation="lighter",e.fillStyle=`rgba(255, 255, 255, ${u*.6})`,e.beginPath(),e.arc(0,0,a.size*.3,0,Math.PI*2),e.fill(),e.restore()});const i=e.createRadialGradient(n,r,s*.8,n,r,s*1.5);i.addColorStop(0,"rgba(220, 240, 255, 0.15)"),i.addColorStop(.6,"rgba(200, 230, 255, 0.08)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.globalCompositeOperation="screen",e.fillStyle=i,e.beginPath(),e.arc(n,r,s*1.5,0,Math.PI*2),e.fill(),e.restore()},CL=(e=120)=>Array.from({length:e},()=>({x:(Math.random()-.5)*2,y:(Math.random()-.5)*2,z:Math.random(),speed:.001+Math.random()*.002,size:1+Math.random()*2,brightness:.3+Math.random()*.7})),TL=(e,t,n,r)=>{const s=n/2,i=r/2;return t.map(a=>{a.z+=a.speed,a.z>=1&&(a.x=(Math.random()-.5)*2,a.y=(Math.random()-.5)*2,a.z=0);const o=a.z*2,c=s+a.x*s*o,u=i+a.y*i*o,d=a.size*(.5+a.z*1.5),h=a.brightness*a.z,f=a.z-a.speed,m=f*2,w=s+a.x*s*m,v=i+a.y*i*m;if(f>0){const x=e.createLinearGradient(w,v,c,u);x.addColorStop(0,"rgba(255, 255, 255, 0)"),x.addColorStop(1,`rgba(255, 255, 255, ${h*.6})`),e.strokeStyle=x,e.lineWidth=d*.5,e.lineCap="round",e.beginPath(),e.moveTo(w,v),e.lineTo(c,u),e.stroke()}const b=e.createRadialGradient(c,u,0,c,u,d*2);return b.addColorStop(0,`rgba(255, 255, 255, ${h})`),b.addColorStop(.5,`rgba(200, 220, 255, ${h*.5})`),b.addColorStop(1,"rgba(200, 220, 255, 0)"),e.fillStyle=b,e.beginPath(),e.arc(c,u,d*2,0,Math.PI*2),e.fill(),a})},PL=(e,t,n=4)=>{const r=[["#FF6B9D","#C44569","#8B3A62"],["#4A90E2","#7B68EE","#9370DB"],["#00D9FF","#0099CC","#006699"],["#FF8C42","#FF6B35","#C44536"],["#6BCF7F","#4ECDC4","#44A08D"]];return Array.from({length:n},()=>{const s=r[Math.floor(Math.random()*r.length)];return{x:Math.random()*e,y:Math.random()*t,size:150+Math.random()*250,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*5e-4,colors:s,opacity:.15+Math.random()*.15,pulsePhase:Math.random()*Math.PI*2,pulseSpeed:.01+Math.random()*.01}})},NL=(e,t,n,r,s=0,i=0)=>t.map(a=>{a.rotation+=a.rotationSpeed,a.pulsePhase+=a.pulseSpeed;const o=Math.sin(a.pulsePhase)*.2+.8,c=a.size*o,u=a.opacity*o,d=a.x+s*.1,h=a.y+i*.1,f=(d%n+n)%n,m=(h%r+r)%r;return e.save(),e.translate(f,m),e.rotate(a.rotation),a.colors.forEach((w,v)=>{const b=c*(1-v*.2),x=u*(1-v*.3),g=e.createRadialGradient(0,0,0,0,0,b);g.addColorStop(0,`${w}${Math.floor(x*255).toString(16).padStart(2,"0")}`),g.addColorStop(.4,`${w}${Math.floor(x*.6*255).toString(16).padStart(2,"0")}`),g.addColorStop(.7,`${w}${Math.floor(x*.3*255).toString(16).padStart(2,"0")}`),g.addColorStop(1,`${w}00`),e.fillStyle=g,e.fillRect(-b,-b,b*2,b*2)}),e.restore(),a});function _L({ctx:e,width:t,height:n,phenomenon:r}){const s=e.createLinearGradient(0,0,0,n);s.addColorStop(0,r.skyPalette[0]),s.addColorStop(.5,r.skyPalette[1]),s.addColorStop(1,r.skyPalette[2]),e.fillStyle=s,e.fillRect(0,0,t,n)}function ML(e,t,n){return Array.from({length:Math.floor(120*n.starDensity)},()=>({x:Math.random()*e,y:Math.random()*t*.6,size:Math.random()*2+.5,opacity:Math.random()*.8+.2,twinkleSpeed:Math.random()*.02+.01,twinklePhase:Math.random()*Math.PI*2}))}function RL({ctx:e,phenomenon:t,parallaxOffset:n,stars:r}){if(t.starDensity===0)return;const s=n.x*.5,i=n.y*.5;r.forEach(a=>{a.twinklePhase+=a.twinkleSpeed;const o=a.opacity*(Math.sin(a.twinklePhase)*.5+.5),c=a.x+s,u=a.y+i;e.beginPath(),e.arc(c,u,a.size,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${o})`,e.fill(),a.size>1.5&&(e.beginPath(),e.arc(c,u,a.size*2,0,Math.PI*2),e.fillStyle=`rgba(255,255,255,${o*.2})`,e.fill())})}function AL(e,t,n){return Array.from({length:5},()=>({x:Math.random()*e,y:t*.2+Math.random()*t*.3,width:Math.random()*100+80,height:Math.random()*40+30,speed:(Math.random()*.15+.05)*n.cloudSpeed,opacity:(Math.random()*.15+.1)*n.cloudOpacity}))}function OL({ctx:e,width:t,phenomenon:n,clouds:r}){n.cloudOpacity!==0&&r.forEach(s=>{n.cloudSpeed>.2&&(s.x+=s.speed,s.x>t+s.width&&(s.x=-s.width)),e.fillStyle=`rgba(150,150,180,${s.opacity*.6})`,e.beginPath(),e.ellipse(s.x+5,s.y+5,s.width/2,s.height/2,0,0,Math.PI*2),e.fill();const i=e.createRadialGradient(s.x,s.y-s.height*.3,0,s.x,s.y,s.width/2);i.addColorStop(0,`rgba(230,230,250,${s.opacity})`),i.addColorStop(.6,`rgba(200,200,230,${s.opacity*.8})`),i.addColorStop(1,`rgba(180,180,210,${s.opacity*.5})`),e.fillStyle=i,e.beginPath(),e.ellipse(s.x,s.y,s.width/2,s.height/2,0,0,Math.PI*2),e.fill(),[{x:-.4,y:-.3,w:.35,h:.5},{x:-.2,y:-.4,w:.3,h:.45},{x:.1,y:-.35,w:.35,h:.5},{x:.35,y:-.25,w:.3,h:.45}].forEach(o=>{const c=e.createRadialGradient(s.x+s.width*o.x,s.y+s.height*o.y,0,s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w);c.addColorStop(0,`rgba(240,240,255,${s.opacity})`),c.addColorStop(.7,`rgba(210,210,240,${s.opacity*.7})`),c.addColorStop(1,`rgba(190,190,220,${s.opacity*.3})`),e.fillStyle=c,e.beginPath(),e.ellipse(s.x+s.width*o.x,s.y+s.height*o.y,s.width*o.w,s.height*o.h,0,0,Math.PI*2),e.fill()})})}const DL=["#FFFFFF","#FFE4B5","#87CEEB","#DDA0DD","#F0E68C","#98FB98","#FFB6C1","#B0E0E6","#FFDAB9","#E6E6FA"];function IL(e,t){return Array.from({length:10},(n,r)=>({x:e+Math.random()*100,y:Math.random()*t*.6,length:Math.random()*60+40,speed:Math.random()*1.5+1,angle:Math.PI/4+(Math.random()-.5)*.3,color:DL[r],opacity:Math.random()*.3+.7,isActive:!1,trailLength:Math.random()*80+60}))}function LL(e){const{ctx:t,width:n,height:r,phenomenon:s,shootingStars:i}=e;let a=e.timer;if(s.shootingStarChance===0)return{shootingStars:i,timer:a};if(i.forEach(o=>{if(!o.isActive)return;if(o.x-=Math.cos(o.angle)*o.speed,o.y+=Math.sin(o.angle)*o.speed,o.x<-o.trailLength||o.y>r+o.trailLength){o.isActive=!1;return}t.save();const c=t.createLinearGradient(o.x,o.y,o.x+Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength);c.addColorStop(0,o.color),c.addColorStop(.5,`${o.color}88`),c.addColorStop(1,`${o.color}00`),t.strokeStyle=c,t.lineWidth=2,t.lineCap="round",t.globalAlpha=o.opacity,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(o.x+Math.cos(o.angle)*o.trailLength,o.y-Math.sin(o.angle)*o.trailLength),t.stroke();const u=t.createRadialGradient(o.x,o.y,0,o.x,o.y,8);u.addColorStop(0,"#FFFFFF"),u.addColorStop(.3,o.color),u.addColorStop(1,`${o.color}00`),t.fillStyle=u,t.beginPath(),t.arc(o.x,o.y,8,0,Math.PI*2),t.fill(),t.fillStyle="#FFFFFF",t.beginPath(),t.arc(o.x,o.y,2,0,Math.PI*2),t.fill(),t.restore()}),a++,a>3600+Math.random()*3600){a=0;const o=i.map((c,u)=>c.isActive?-1:u).filter(c=>c!==-1);if(o.length>0){const u=Math.random()<s.shootingStarChance&&o.length>=3?Math.min(Math.floor(Math.random()*3)+3,o.length):1;for(let d=0;d<u;d++){const h=o.splice(Math.floor(Math.random()*o.length),1)[0],f=i[h];f.isActive=!0,f.x=n+Math.random()*100,f.y=-50-Math.random()*100}}}return{shootingStars:i,timer:a}}const Uh=(e,t)=>{e=e.replace("#","");const n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16),i=Math.min(255,Math.floor(n*t)),a=Math.min(255,Math.floor(r*t)),o=Math.min(255,Math.floor(s*t));return`#${i.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`};function $L(e,t,n,r,s){if(Math.abs(s-.5)<.01)return;e.save(),e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.clip();const i="rgba(5, 10, 25, 0.85)",a="rgba(5, 10, 25, 0.5)";if(s<.5){const o=s*2,c=r*(1-o),u=e.createLinearGradient(t-r,n,t-r+c*2.2,n);u.addColorStop(0,i),u.addColorStop(.4,i),u.addColorStop(.7,a),u.addColorStop(1,"rgba(5, 10, 25, 0)"),e.fillStyle=u,e.fillRect(t-r,n-r,c*2.2,r*2)}else if(s>.5){const o=1-(s-.5)*2,c=r*(1-o),u=e.createLinearGradient(t+r-c*2.2,n,t+r,n);u.addColorStop(0,"rgba(5, 10, 25, 0)"),u.addColorStop(.3,a),u.addColorStop(.6,i),u.addColorStop(1,i),e.fillStyle=u,e.fillRect(t+r-c*2.2,n-r,c*2.2,r*2)}e.restore()}function Nd(e){const n={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[e.rarity];return 40*(e.moonSize||1)*n}function FL({ctx:e,phenomenon:t,parallaxOffset:n,moonPosition:r,moonPhase:s}){const i={...r};i.phase+=.005;const a=Math.sin(i.phase)*3,o=n.x*.8,c=n.y*.8,u=i.x+o,d=i.y+c,h=Nd(t),f=t.moonTint,m=e.createRadialGradient(u,d+a,0,u,d+a,h*1.5);m.addColorStop(0,`${f}50`),m.addColorStop(.5,`${f}26`),m.addColorStop(1,`${f}00`),e.fillStyle=m,e.beginPath(),e.arc(u,d+a,h*1.5,0,Math.PI*2),e.fill();const w=e.createLinearGradient(u-h,d+a-h,u+h,d+a+h);return w.addColorStop(0,t.moonTint),w.addColorStop(.3,Uh(t.moonTint,.9)),w.addColorStop(.6,Uh(t.moonTint,.8)),w.addColorStop(1,Uh(t.moonTint,.7)),e.fillStyle=w,e.beginPath(),e.arc(u,d+a,h,0,Math.PI*2),e.fill(),t.rarity==="mythic"&&BL(e,u,d+a,h,t,i.phase),t.id==="lunarTransientPhenomena"&&zL(e,u,d+a,h,t,i.phase),$L(e,u,d+a,h,s.phase),t.id==="crystalMoon"&&VL(e,u,d+a,h,i.phase),i}function BL(e,t,n,r,s,i){const a=e.createRadialGradient(t,n,r*.7,t,n,r*1.8);a.addColorStop(0,`${s.uiAccent}00`),a.addColorStop(.3,`${s.uiAccent}40`),a.addColorStop(.6,`${s.uiAccent}20`),a.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=a,e.beginPath(),e.arc(t,n,r*1.8,0,Math.PI*2),e.fill(),e.strokeStyle=`${s.uiAccent}60`,e.lineWidth=2,e.beginPath(),e.arc(t,n,r-1,0,Math.PI*2),e.stroke();const o=i*2,c=(Math.sin(o)*.15+.25)*255,u=Math.floor(c).toString(16).padStart(2,"0"),d=e.createRadialGradient(t-r*.3,n-r*.3,0,t-r*.3,n-r*.3,r*.6);d.addColorStop(0,`#ffffff${u}`),d.addColorStop(1,"#ffffff00"),e.fillStyle=d,e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.fill()}function zL(e,t,n,r,s,i){const a=i*3,o=Math.sin(a)*.3+.7,c=e.createRadialGradient(t,n,r*.5,t,n,r*3);c.addColorStop(0,`${s.uiAccent}${Math.floor(o*120).toString(16).padStart(2,"0")}`),c.addColorStop(.3,`${s.uiAccent}${Math.floor(o*80).toString(16).padStart(2,"0")}`),c.addColorStop(.6,`${s.uiAccent}${Math.floor(o*40).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=c,e.beginPath(),e.arc(t,n,r*3,0,Math.PI*2),e.fill();const u=i*4,d=(Math.sin(u)*60+280)%360;e.strokeStyle=`hsla(${d}, 80%, 70%, ${o*.8})`,e.lineWidth=3,e.beginPath(),e.arc(t,n,r+2,0,Math.PI*2),e.stroke();const h=e.createRadialGradient(t,n,0,t,n,r*.8);h.addColorStop(0,`rgba(255, 255, 255, ${o*.4})`),h.addColorStop(.5,`${s.uiAccent}${Math.floor(o*100).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=h,e.beginPath(),e.arc(t,n,r*.8,0,Math.PI*2),e.fill();const f=12,m=r*2;for(let w=0;w<f;w++){const v=w/f*Math.PI*2+i,b=t+Math.cos(v)*m,x=n+Math.sin(v)*m,g=e.createRadialGradient(b,x,0,b,x,4);g.addColorStop(0,`${s.uiAccent}${Math.floor(o*200).toString(16).padStart(2,"0")}`),g.addColorStop(1,`${s.uiAccent}00`),e.fillStyle=g,e.beginPath(),e.arc(b,x,4,0,Math.PI*2),e.fill()}}function VL(e,t,n,r,s){e.save();const i=8;for(let o=0;o<i;o++){const c=Math.PI*2*o/i+s*.3,u=Math.PI*2*(o+1)/i+s*.3,d=r*.95,h=r*.6,f=t+Math.cos(c)*d,m=n+Math.sin(c)*d,w=t+Math.cos(u)*d,v=n+Math.sin(u)*d,b=t+Math.cos(u)*h,x=n+Math.sin(u)*h,g=t+Math.cos(c)*h,y=n+Math.sin(c)*h,S=o%2===0?.08:.04,k=e.createLinearGradient(f,m,t,n);k.addColorStop(0,`rgba(255, 255, 255, ${S})`),k.addColorStop(.5,`rgba(200, 230, 255, ${S*.8})`),k.addColorStop(1,`rgba(180, 220, 255, ${S*.5})`),e.fillStyle=k,e.strokeStyle=`rgba(220, 240, 255, ${.15+S})`,e.lineWidth=.5,e.beginPath(),e.moveTo(f,m),e.lineTo(w,v),e.lineTo(b,x),e.lineTo(g,y),e.closePath(),e.fill(),e.stroke()}const a=20;for(let o=0;o<a;o++){const c=Math.PI*2*o/a+s*(o%3),u=.2+o%5*.15,d=r*u,h=t+Math.cos(c)*d,f=n+Math.sin(c)*d,m=Math.sin(s*4+o*.5)*.5+.5,w=(.8+m*1.2)*(o%3===0?1.2:.8),v=e.createRadialGradient(h,f,0,h,f,w*2.5);v.addColorStop(0,`rgba(255, 255, 255, ${.5*m})`),v.addColorStop(.4,`rgba(220, 240, 255, ${.3*m})`),v.addColorStop(1,"rgba(200, 230, 255, 0)"),e.fillStyle=v,e.beginPath(),e.arc(h,f,w*2.5,0,Math.PI*2),e.fill()}e.restore()}function UL(){const e=p.useRef([]),t=p.useRef([]),n=p.useRef([]),r=p.useRef([]),s=p.useRef([]),i=p.useRef([]),a=p.useRef([]),o=p.useRef([]),c=p.useRef([]),u=p.useRef([]),d=p.useRef([]),h=p.useRef([]),f=p.useRef([]),m=p.useRef([]),w=p.useRef([]),v=p.useRef([]),b=p.useRef([]),x=p.useRef([]),g=p.useRef([]),y=p.useRef([]),S=p.useRef([]),k=p.useRef([]),E=p.useRef([]),C=p.useRef([]),j=p.useRef(Date.now()),T=p.useCallback((N,R,I,$,X)=>{const ee=N.effectIntensity||.5,K={normal:0,rare:.3,very_rare:.5,legendary:.75,mythic:1}[N.rarity];if(N.id==="superBlueBloodMoon"?t.current=Vh(20,"#B84060","#d85080"):N.id==="brokenMoon"?t.current=Vh(25,"#9898B8","#6868a8",.008,.015):N.id==="emptySky"&&(t.current=Vh(30,"#606080","#707090",.008,.012)),N.rarity==="normal"||!N.specialEffect)return;const q=N.specialEffect;q==="flash"?e.current=$3():q==="sparkle"?n.current=V5(R.x,R.y,60):q==="echo"?f.current=aL(R.x,R.y,I,4):q==="aurora"?r.current=V3(X):q==="fireflies"?s.current=W3($,X,Math.floor((10+ee*20)*K)):q==="snow"?i.current=G3($,Math.floor((30+ee*70)*K)):q==="fog"?a.current=q3($,X):q==="meteorShower"?u.current=X3($,X,Math.floor((10+ee*15)*K)):q==="frozenTime"?d.current=J3($,X,Math.floor((20+ee*20)*K)):q==="voidRipples"?h.current=eL():q==="shattered"?(o.current=rL(R.x,R.y,12),c.current=px(R.x,R.y,25)):q==="bloodRing"?m.current=lL(I):q==="fadeParticles"?w.current=uL($,X):q==="silence"?v.current=hL():q==="dreamDust"?b.current=mL($,X):q==="memoryFragments"?x.current=gL($,X):q==="ancientRunes"?g.current=vL(R.x,R.y,I):q==="lightRays"?y.current=wL():q==="shootingStars"?S.current=SL():q==="starfield"?k.current=CL(150):q==="nebula"?E.current=PL($,X,5):q==="prismLights"&&(C.current=EL())},[]),P=p.useCallback((N,R,I,$,X)=>{R.specialEffect==="nebula"&&E.current.length>0&&(E.current=NL(N,E.current,I,$,X.x,X.y)),R.specialEffect==="starfield"&&k.current.length>0&&(k.current=TL(N,k.current,I,$))},[]),M=p.useCallback((N,R,I)=>{R.specialEffect==="aurora"&&r.current.length>0&&U3(N,r.current,I),R.specialEffect==="fog"&&a.current.length>0&&Y3(N,a.current,I)},[]),O=p.useCallback((N,R,I)=>{if(R.specialEffect!=="shattered")return;const $=Date.now();$-j.current>1e4&&(c.current=px(I.x,I.y,25),j.current=$),c.current.length>0&&iL(N,c.current,R.moonTint,I.x,I.y),o.current.length>0&&sL(N,o.current,I.x,I.y,R.moonTint)},[]),U=p.useCallback((N,R,I,$,X,ee)=>{const K=R.specialEffect;K&&(K==="flash"&&e.current.length>=0&&(Math.random()<.025&&e.current.push(z5(I.x,I.y,$)),e.current=F3(N,e.current)),K==="sparkle"&&n.current.length>0&&z3(N,n.current),K==="bloodRing"&&m.current.length>0&&cL(N,m.current,I.x,I.y),K==="fadeParticles"&&w.current.length>0&&dL(N,w.current),K==="silence"&&v.current.length>=0&&(v.current=fL(N,v.current,I.x,I.y,$)),K==="dreamDust"&&b.current.length>0&&pL(N,b.current),K==="memoryFragments"&&x.current.length>0&&yL(N,x.current),K==="ancientRunes"&&g.current.length>0&&xL(N,g.current,I.x,I.y),K==="lightRays"&&y.current.length>0&&bL(N,y.current,I.x,I.y,$),K==="prismLights"&&C.current.length>0&&jL(N,C.current,I.x,I.y,$),K==="shootingStars"&&S.current.length>=0&&(S.current=kL(N,S.current,X,ee)))},[]),D=p.useCallback((N,R,I)=>{(R.id==="superBlueBloodMoon"||R.id==="brokenMoon"||R.id==="emptySky")&&t.current.length>0&&B3(N,t.current,I.x,I.y)},[]),Y=p.useCallback((N,R,I,$)=>{R.specialEffect==="snow"&&i.current.length>0&&K3(N,i.current,I,$),R.specialEffect==="meteorShower"&&u.current.length>0&&Q3(N,u.current,I,$),R.specialEffect==="frozenTime"&&d.current.length>0&&Z3(N,d.current)},[]),B=p.useCallback((N,R,I)=>{if(R.specialEffect!=="voidRipples")return;const $=Nd(R);Math.random()<.015&&h.current.push(tL(I.x,I.y+Math.sin(I.phase)*3,$)),h.current=nL(N,h.current,I.x,I.y)},[]),z=p.useCallback((N,R,I)=>{R.specialEffect==="echo"&&f.current.length>0&&oL(N,f.current,I.x,I.y,I.phase,R.moonTint)},[]),_=p.useCallback((N,R,I,$)=>{R.specialEffect==="fireflies"&&s.current.length>0&&H3(N,s.current,I,$)},[]);return{moonFlashesRef:e,sparklesRef:n,echoMoonsRef:f,firefliesRef:s,initializeParticleEffects:T,drawBackgroundEffects:P,drawAtmosphericEffects:M,drawShatteredEffects:O,drawSpecialEffects:U,drawOrbitingEffects:D,drawWeatherEffects:Y,drawVoidEffects:B,drawEchoMoonsEffect:z,drawFirefliesEffect:_}}function WL({canvasRef:e,phenomenon:t,moonPositionRef:n,parallaxOffsetRef:r,moonFlashesRef:s,sparklesRef:i}){const a=p.useRef(null),o=p.useRef(0),c=p.useRef(!1),[u,d]=p.useState(null),[h,f]=p.useState(Mu()),m=p.useCallback((E,C)=>{var N,R;if(!e.current||!t||!n.current)return console.log(" isMoonHit: No canvas or phenomenon"),!1;const j=e.current.getBoundingClientRect(),T=E-j.left,P=C-j.top,M=n.current,O=((N=r.current)==null?void 0:N.x)??0,U=((R=r.current)==null?void 0:R.y)??0,D=M.x+O*.8,Y=M.y+Math.sin(M.phase)*3+U*.8,B=Nd(t),z=Math.sqrt(Math.pow(T-D,2)+Math.pow(P-Y,2)),_=z<B*1.5;return console.log(" Moon Hit Check:",{clickX:T.toFixed(0),clickY:P.toFixed(0),moonX:D.toFixed(0),moonY:Y.toFixed(0),dist:z.toFixed(0),moonRadius:B.toFixed(0),threshold:(B*1.5).toFixed(0),hit:_}),_},[e,t,n,r]),w=p.useCallback(()=>{var O,U;if(!e.current||!t||!n.current)return;const E=n.current,C=((O=r.current)==null?void 0:O.x)??0,j=((U=r.current)==null?void 0:U.y)??0,T=E.x+C*.8,P=E.y+Math.sin(E.phase)*3+j*.8;navigator.vibrate&&navigator.vibrate(20),s.current.push(z5(T,P));const M=V5(T,P,15);i.current=[...i.current,...M]},[e,t,n,r,s,i]),v=p.useCallback(()=>{f(Mu()),d("phase"),w()},[w]),b=p.useCallback(()=>{navigator.vibrate&&navigator.vibrate([50,30,50]),d("phenomenon")},[]),x=p.useCallback(E=>{console.log(" Touch Start triggered");const C=E.touches[0];m(C.clientX,C.clientY)&&(E.preventDefault(),c.current=!1,o.current=Date.now(),a.current=setTimeout(()=>{c.current||b()},500))},[m,b]),g=p.useCallback(()=>{c.current=!0,a.current&&(clearTimeout(a.current),a.current=null)},[]),y=p.useCallback(E=>{if(a.current&&(clearTimeout(a.current),a.current=null),Date.now()-o.current<500&&!c.current){const j=E.changedTouches[0];m(j.clientX,j.clientY)&&v()}},[m,v]),S=p.useCallback(E=>{m(E.clientX,E.clientY)&&v()},[m,v]),k=p.useCallback(()=>{d(null)},[]);return p.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),{overlayType:u,currentMoonPhase:h,handleTouchStart:x,handleTouchMove:g,handleTouchEnd:y,handleCanvasClick:S,handleCloseOverlay:k}}function HL({onRefresh:e,onExpand:t,onCollapse:n,pullThreshold:r=100,expandThreshold:s=50}={}){const i=p.useRef(null),[a,o]=p.useState({pullDistance:0,isRefreshing:!1,isPulling:!1,isExpanded:!1,gestureDirection:"none"}),c=p.useRef(0),u=p.useRef(0),d=p.useRef(!1),h=p.useRef(null),f=p.useCallback(x=>{if(a.isRefreshing)return;const g=x.touches[0];c.current=g.clientY,u.current=g.clientX,d.current=!0,h.current=null,o(y=>({...y,isPulling:!0,gestureDirection:"none"}))},[a.isRefreshing]),m=p.useCallback(x=>{if(!d.current||a.isRefreshing)return;const g=x.touches[0],y=g.clientY-c.current,S=g.clientX-u.current;if(h.current||(Math.abs(y)>10||Math.abs(S)>10)&&(h.current=Math.abs(y)>Math.abs(S)?"vertical":"horizontal"),h.current!=="vertical")return;const k=y>0?2.5:4,E=y/k;o(C=>({...C,pullDistance:Math.max(-50,Math.min(150,E)),gestureDirection:y>0?"down":"up"})),y>0&&x.preventDefault()},[a.isRefreshing]),w=p.useCallback(async()=>{if(!d.current)return;d.current=!1,h.current=null;const{pullDistance:x,gestureDirection:g}=a;if(g==="down"&&x>=r&&e){o(y=>({...y,isRefreshing:!0,pullDistance:r,isPulling:!1}));try{await e()}finally{o(y=>({...y,isRefreshing:!1,pullDistance:0}))}return}g==="down"&&x>=s&&t?(t(),o(y=>({...y,isExpanded:!0}))):g==="up"&&x<=-s&&n&&(n(),o(y=>({...y,isExpanded:!1}))),o(y=>({...y,pullDistance:0,isPulling:!1,gestureDirection:"none"}))},[a,r,s,e,t,n]);p.useEffect(()=>{const x=i.current;if(x)return x.addEventListener("touchstart",f,{passive:!0}),x.addEventListener("touchmove",m,{passive:!1}),x.addEventListener("touchend",w,{passive:!0}),()=>{x.removeEventListener("touchstart",f),x.removeEventListener("touchmove",m),x.removeEventListener("touchend",w)}},[f,m,w]);const v=Math.min(Math.abs(a.pullDistance)/r,1),b=a.pullDistance>=r;return{containerRef:i,...a,progress:v,isReady:b}}const gx="mythic-moon-collection",Wh="mythic-locked-moon",yx={superBloodMoon:{type:"blood",color:"#DC143C",secondaryColor:"#8B0000",speed:1.5,density:.8,glow:!0},superBlueBloodMoon:{type:"aurora",color:"#B840A0",secondaryColor:"#4040B8",speed:1.2,density:.7,glow:!0},lunarTransientPhenomena:{type:"lightning",color:"#C8A8F8",secondaryColor:"#FFFFFF",speed:2.5,density:.5,glow:!0},hybridEclipse:{type:"fire",color:"#FFB870",secondaryColor:"#D8A860",speed:1,density:.6,glow:!0},stillMoon:{type:"crystals",color:"#B0C4DE",secondaryColor:"#E0F0FF",speed:.3,density:.4,glow:!1},echoMoon:{type:"stars",color:"#D0D0E8",secondaryColor:"#9090B8",speed:.8,density:.6,glow:!1},brokenMoon:{type:"void",color:"#9898B8",secondaryColor:"#484868",speed:1.8,density:.9,glow:!1},emptySky:{type:"void",color:"#404040",secondaryColor:"#202020",speed:.5,density:.2,glow:!1},crystalMoon:{type:"crystals",color:"#E0F0FF",secondaryColor:"#80C0FF",speed:.6,density:.7,glow:!0},arcticMoon:{type:"snow",color:"#90DCC8",secondaryColor:"#FFFFFF",speed:.7,density:.8,glow:!1},shatteredMoon:{type:"void",color:"#9898C8",secondaryColor:"#6060A0",speed:2,density:.7,glow:!0},cosmicVoyageMoon:{type:"stars",color:"#8090C0",secondaryColor:"#4060A0",speed:1,density:.9,glow:!0},nebulaDreamMoon:{type:"aurora",color:"#B888D8",secondaryColor:"#D060A0",speed:.9,density:.6,glow:!0}};function U5(){const[e,t]=p.useState({}),[n,r]=p.useState(!1);p.useEffect(()=>{const w=localStorage.getItem(gx);if(w)try{t(JSON.parse(w))}catch(v){console.error("Failed to parse moon collection:",v)}r(!0)},[]),p.useEffect(()=>{n&&localStorage.setItem(gx,JSON.stringify(e))},[e,n]);const s=p.useCallback(w=>{const v=new Date().toISOString();t(b=>{const x=b[w.id];return x?{...b,[w.id]:{...x,encounterCount:x.encounterCount+1,lastEncountered:v}}:{...b,[w.id]:{id:w.id,firstEncountered:v,encounterCount:1,lastEncountered:v,isFavorite:!1,isLocked:!1,themeDurationBoost:0}}})},[]),i=p.useCallback(w=>{t(v=>{const b=v[w];return b?{...v,[w]:{...b,isFavorite:!b.isFavorite}}:v})},[]),a=p.useCallback(w=>{t(v=>{const b=v[w];if(!b)return v;if(b.encounterCount<5&&!b.isLocked)return console.log(` Need ${5-b.encounterCount} more encounters to unlock Lock Theme feature`),v;const x=!b.isLocked;x?(localStorage.setItem(Wh,w),console.log(` Moon locked: ${w}`)):(localStorage.removeItem(Wh),console.log(` Moon unlocked: ${w}`));const g={...v};return Object.keys(g).forEach(y=>{y!==w&&g[y].isLocked&&(g[y]={...g[y],isLocked:!1})}),{...g,[w]:{...b,isLocked:x}}})},[]),o=p.useCallback(()=>localStorage.getItem(Wh),[]),c=p.useCallback((w,v)=>{t(b=>{const x=b[w];return x?{...b,[w]:{...x,themeDurationBoost:Math.min(86400,x.themeDurationBoost+v)}}:b})},[]),u=p.useCallback(w=>{const v=w.transitionSpeed*2,b=e[w.id],x=(b==null?void 0:b.themeDurationBoost)||0;return v+x},[e]),d=p.useCallback(()=>{const w=Object.keys(Rn),v=Object.keys(e),b=g=>v.filter(y=>{var S;return((S=Rn[y])==null?void 0:S.rarity)===g}).length,x=Object.values(e).reduce((g,y)=>g+y.encounterCount,0);return{totalDiscovered:v.length,totalEncounters:x,mythicCount:b("mythic"),legendaryCount:b("legendary"),veryRareCount:b("very_rare"),rareCount:b("rare"),normalCount:b("normal"),completionPercent:Math.round(v.length/w.length*100)}},[e]),h=p.useCallback(()=>Object.values(Rn).filter(w=>w.rarity==="mythic").map(w=>({...w,discovered:!!e[w.id],entry:e[w.id]||null,particles:yx[w.id]||null})),[e]),f=p.useCallback(w=>yx[w]||null,[]),m=p.useCallback(w=>!!e[w],[e]);return{collection:e,isLoaded:n,recordEncounter:s,toggleFavorite:i,toggleLock:a,getLockedMoonId:o,addDurationBoost:c,getEffectiveThemeDuration:u,getStats:d,getMythicMoons:h,getParticleConfig:f,isDiscovered:m}}const GL={normal:{bg:"bg-slate-900/90",border:"border-slate-600",text:"text-slate-300"},rare:{bg:"bg-blue-950/90",border:"border-blue-500",text:"text-blue-300"},very_rare:{bg:"bg-purple-950/90",border:"border-purple-500",text:"text-purple-300"},legendary:{bg:"bg-amber-950/90",border:"border-amber-500",text:"text-amber-300"},mythic:{bg:"bg-rose-950/90",border:"border-rose-400",text:"text-rose-300"}},KL={normal:"",rare:"",very_rare:"",legendary:"",mythic:""};function qL({type:e,moonPhase:t,phenomenon:n,onClose:r}){const s=GL[(n==null?void 0:n.rarity)||"normal"];return l.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:r,children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),l.jsxs("div",{className:`relative max-w-sm w-full rounded-2xl border-2 ${s.bg} ${s.border} p-6 shadow-2xl animate-scale-in`,onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Close",children:l.jsx(Ua,{className:"w-4 h-4 text-white/80"})}),e==="phase"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full bg-white/10",children:l.jsx(v0,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:t.phaseName}),l.jsx("p",{className:"text-sm text-white/70",children:t.phaseNameTh})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[Math.round(t.illumination*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[t.age.toFixed(1)," ",l.jsx("span",{className:"text-sm font-normal",children:""})]})]})]}),l.jsx("div",{className:"flex justify-center py-2",children:l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white/90 shadow-lg"}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-900/90",style:{clipPath:t.phase<.5?`inset(0 ${(1-t.phase*2)*100}% 0 0)`:`inset(0 0 0 ${(t.phase-.5)*2*100}%)`}})]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"30"},children:l.jsx(yt,{className:"w-6 h-6",style:{color:n==null?void 0:n.uiAccent}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:n==null?void 0:n.name}),l.jsx("p",{className:"text-sm text-white/70",children:n==null?void 0:n.nameEn})]})]}),l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${s.bg} border ${s.border}`,children:[l.jsx(m2,{className:`w-4 h-4 ${s.text}`}),l.jsx("span",{className:`text-sm font-medium ${s.text}`,children:KL[(n==null?void 0:n.rarity)||"normal"]})]}),l.jsxs("p",{className:"text-lg italic text-white/80 border-l-2 pl-3",style:{borderColor:n==null?void 0:n.uiAccent},children:['"',n==null?void 0:n.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.starDensity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.cloudOpacity)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.round(((n==null?void 0:n.shootingStarChance)||0)*100),"%"]})]}),l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-lg font-semibold text-white",children:[(((n==null?void 0:n.moonSize)||1)*100).toFixed(0),"%"]})]})]}),(n==null?void 0:n.specialEffect)&&l.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-white/50 mb-1",children:""}),l.jsxs("p",{className:"text-base font-medium text-white capitalize",children:[n.specialEffect,n.effectIntensity&&l.jsxs("span",{className:"text-white/60 ml-2",children:["(",Math.round(n.effectIntensity*100),"%)"]})]})]}),l.jsx("div",{className:"flex items-center justify-center gap-2 pt-2",children:l.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:(n==null?void 0:n.uiAccent)+"20",color:n==null?void 0:n.uiAccent},children:["#",n==null?void 0:n.emotionTag]})}),l.jsx("p",{className:"text-center text-sm text-white/60",children:""})]})]})]})}function YL({phenomenon:e}){const t=()=>e?e.rarity==="mythic"?{superBloodMoon:"'Cinzel', serif",superBlueBloodMoon:"'UnifrakturMaguntia', cursive",lunarTransientPhenomena:"'Orbitron', sans-serif",hybridEclipse:"'Spectral', serif",stillMoon:"'Abril Fatface', serif",echoMoon:"'Righteous', cursive",brokenMoon:"'Creepster', cursive",emptySky:"'Nosifer', cursive",crystalMoon:"'Poiret One', cursive",shatteredMoon:"'Creepster', cursive"}[e.id]||"'Cinzel', serif":e.rarity==="legendary"?"'Playfair Display', serif":e.rarity==="very_rare"?"'Cormorant Garamond', serif":e.rarity==="rare"?e.id==="snowMoon"?"'Mountains of Christmas', cursive":"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",n=()=>e?e.rarity==="mythic"?"text-6xl":e.rarity==="legendary"||e.rarity==="very_rare"?"text-5xl":"text-4xl":"text-4xl",r=()=>e?e.rarity==="mythic"?`0 0 5px ${e.uiAccent}99, 0 0 12px ${e.uiAccent}55, 0 3px 8px rgba(0, 0, 0, 0.8)`:e.rarity==="legendary"?`0 0 12px ${e.uiAccent}, 0 0 25px ${e.uiAccent}aa, 0 4px 10px rgba(0, 0, 0, 0.8)`:e.rarity==="very_rare"?`0 0 20px ${e.uiAccent}aa, 0 0 40px ${e.uiAccent}66, 0 4px 8px rgba(0, 0, 0, 0.6)`:e.rarity==="rare"?"0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 4px 8px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)",s=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.id==="emptySky"||e.id==="brokenMoon"?"#ffffff":e.uiAccent:"#ffffff",i=()=>e?e.rarity==="mythic"?"pulse 3s ease-in-out infinite":e.rarity==="legendary"?"pulse 4s ease-in-out infinite":"none":"none",a=()=>e?e.rarity==="mythic"||e.rarity==="legendary"?"'Cormorant Garamond', serif":e.rarity==="very_rare"?"'Philosopher', sans-serif":"'Inter', sans-serif":"'Inter', sans-serif",o=()=>e?e.rarity==="mythic"?`0 0 12px ${e.uiAccent}aa, 0 0 25px ${e.uiAccent}44, 0 2px 6px rgba(0, 0, 0, 0.7)`:e.rarity==="legendary"?`0 0 15px ${e.uiAccent}99, 0 2px 5px rgba(0, 0, 0, 0.6)`:e.rarity==="very_rare"?`0 0 12px ${e.uiAccent}66, 0 2px 4px rgba(0, 0, 0, 0.5)`:"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)",c=()=>e&&(e.rarity==="mythic"||e.rarity==="legendary")?e.uiAccent:"rgba(255, 255, 255, 0.95)",u=()=>e&&e.rarity==="mythic"?"text-xl":"text-lg";return l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-6 pt-10 pointer-events-none",children:[l.jsx("h1",{className:`font-bold text-white mb-2 tracking-wide transition-all duration-500 ${n()}`,style:{fontFamily:t(),textShadow:r(),color:s(),animation:i()},children:"Dream book"}),e&&l.jsx("p",{className:`italic font-light transition-all duration-500 ${u()}`,style:{fontFamily:a(),textShadow:o(),color:c()},children:e.subtitle})]})}function XL({pullDistance:e,progress:t,isRefreshing:n,isReady:r,isPulling:s}){const i=e>15||n,a=.5+t*.5,o=t*180,c=t*.6;return l.jsxs("div",{className:W("absolute left-1/2 -translate-x-1/2 z-20 pointer-events-none","transition-all duration-300 ease-out",i?"opacity-100":"opacity-0"),style:{top:Math.max(8,Math.min(e*.8,80)),transform:`translateX(-50%) scale(${a})`},children:[l.jsx("div",{className:W("absolute inset-0 rounded-full blur-xl transition-opacity",r?"bg-primary/40":"bg-white/20"),style:{opacity:c,transform:`scale(${1.5+t*.5})`}}),l.jsx("div",{className:W("relative flex items-center justify-center w-12 h-12 rounded-full","backdrop-blur-md border transition-all duration-300",n?"bg-primary/30 border-primary/50 shadow-lg shadow-primary/20":r?"bg-primary/20 border-primary/40":"bg-white/10 border-white/20"),children:n?l.jsxs("div",{className:"relative",children:[l.jsx(pd,{className:"w-5 h-5 text-primary animate-spin"}),l.jsx(yt,{className:"absolute -top-1 -right-1 w-3 h-3 text-primary animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx(yt,{className:"absolute -bottom-1 -left-1 w-2 h-2 text-primary animate-pulse",style:{animationDelay:"0.5s"}})]}):l.jsx(ys,{className:W("w-6 h-6 transition-all duration-300",r?"text-primary":"text-white/70"),style:{transform:`rotate(${o}deg)`}})}),l.jsx("div",{className:W("absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap","text-[10px] font-medium transition-all duration-300",r?"text-primary":"text-white/50"),style:{opacity:t>.3?1:0,transform:`translateX(-50%) translateY(${(1-t)*10}px)`},children:n?"...":r?"":"..."}),s&&t>.2&&l.jsx("div",{className:"absolute inset-0",children:[...Array(3)].map((u,d)=>l.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-white/40",style:{left:`${50+(d-1)*20}%`,top:`${-20-d*10}%`,opacity:t*(.8-d*.2),transform:`scale(${1-d*.2})`,animation:`float ${1+d*.3}s ease-in-out infinite`}},d))})]})}function QL(){const e=p.useRef(null),t=p.useRef(),n=D3(),{recordEncounter:r}=U5(),s=I3(),{shouldRenderFrame:i}=L3({targetFPS:s?15:60,enableAdaptive:!0,minFPS:15,maxFPS:60}),a=p.useRef([]),o=p.useRef([]),c=p.useRef([]),u=p.useRef(0),d=p.useRef({x:0,y:0,phase:0}),h=p.useRef(Mu()),f=p.useRef({x:0,y:0}),[m,w]=p.useState(null),v=p.useCallback(async()=>{const{phenomenon:K,isNewEncounter:q}=ml();w(K),_u(K),q&&r(K);const V=K.rarity==="mythic"?" MYTHIC  ":"";_t.success(` ${V}${K.name}`,{description:K.subtitle,duration:K.rarity==="mythic"?5e3:3e3}),await new Promise(me=>setTimeout(me,800))},[r]),{containerRef:b,pullDistance:x,isRefreshing:g,isPulling:y,progress:S,isReady:k}=HL({onRefresh:v,pullThreshold:100}),{moonFlashesRef:E,sparklesRef:C,initializeParticleEffects:j,drawBackgroundEffects:T,drawAtmosphericEffects:P,drawShatteredEffects:M,drawSpecialEffects:O,drawOrbitingEffects:U,drawWeatherEffects:D,drawVoidEffects:Y,drawEchoMoonsEffect:B,drawFirefliesEffect:z}=UL(),{overlayType:_,currentMoonPhase:N,handleTouchStart:R,handleTouchMove:I,handleTouchEnd:$,handleCanvasClick:X,handleCloseOverlay:ee}=WL({canvasRef:e,phenomenon:m,moonPositionRef:d,parallaxOffsetRef:n,moonFlashesRef:E,sparklesRef:C});return p.useEffect(()=>{const{phenomenon:K,isNewEncounter:q}=ml();w(K),_u(K),q&&r(K),console.log(" Moon Phenomenon:",K.name,`(${K.rarity})`)},[r]),p.useEffect(()=>{if(!m)return;const K=e.current;if(!K)return;const q=K.getContext("2d");if(!q)return;(()=>{const Qt=K.getBoundingClientRect();K.width=Qt.width*window.devicePixelRatio,K.height=Qt.height*window.devicePixelRatio,q.scale(window.devicePixelRatio,window.devicePixelRatio)})();const me=K.getBoundingClientRect(),he=me.width,se=me.height;a.current=ML(he,se,m),o.current=AL(he,se,m),c.current=IL(he,se),d.current={x:he*.7,y:se*.25,phase:0},h.current=Mu();const de=d.current,fe=Nd(m);j(m,de,fe,he,se);const Ke=()=>{f.current={x:window.scrollX,y:window.scrollY}};window.addEventListener("scroll",Ke,{passive:!0});const lt=Qt=>{if(!i(Qt)){t.current=requestAnimationFrame(lt);return}q.clearRect(0,0,he,se);const Ct={ctx:q,width:he,height:se,phenomenon:m,parallaxOffset:s?{x:0,y:0}:n.current};_L(Ct),s||(T(q,m,he,se,f.current),P(q,m,he)),RL({...Ct,stars:a.current}),s||(B(q,m,d.current),z(q,m,he,se));const ar=s?.001:.005,Rr={...d.current};if(s&&(Rr.phase+=ar),d.current=FL({...Ct,moonPosition:s?Rr:d.current,moonPhase:h.current}),s||(M(q,m,d.current),O(q,m,d.current,fe,he,se),U(q,m,d.current)),OL({...Ct,clouds:o.current}),!s){D(q,m,he,se),Y(q,m,d.current);const or=LL({...Ct,shootingStars:c.current,timer:u.current});c.current=or.shootingStars,u.current=or.timer}t.current=requestAnimationFrame(lt)};return t.current=requestAnimationFrame(lt),()=>{t.current&&cancelAnimationFrame(t.current),window.removeEventListener("scroll",Ke)}},[m,s,i,j,T,P,M,O,U,D,Y,B,z]),l.jsxs("div",{ref:b,className:"relative w-full h-[60vh] min-h-[400px] overflow-hidden",style:{transform:`translateY(${g?20:x*.3}px)`,transition:y?"none":"transform 0.3s ease-out"},children:[l.jsx(XL,{pullDistance:x,progress:S,isRefreshing:g,isReady:k,isPulling:y}),l.jsx("canvas",{ref:e,onClick:X,onTouchStart:R,onTouchMove:I,onTouchEnd:$,className:"absolute inset-0 w-full h-full cursor-pointer",style:{width:"100%",height:"100%",touchAction:"pan-y"}}),l.jsx(YL,{phenomenon:m}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background via-background/50 to-transparent pointer-events-none"}),_&&l.jsx(qL,{type:_,moonPhase:N,phenomenon:m,onClose:ee})]})}function le({className:e,...t}){return l.jsx("div",{className:W("animate-pulse rounded-md bg-muted",e),...t})}function W5({compact:e}){return e?l.jsxs("div",{className:"card-minimal flex items-center gap-3",children:[l.jsx(le,{className:"w-10 h-10 rounded-full shrink-0"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(le,{className:"h-4 w-24"}),l.jsx(le,{className:"h-3 w-32"})]}),l.jsx(le,{className:"h-6 w-6 rounded-full"})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"h-4 w-20"}),l.jsx(le,{className:"h-5 w-5 rounded-full"})]}),l.jsx(le,{className:"h-4 w-16"})]}),l.jsx(le,{className:"h-5 w-32"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{className:"h-5 w-16 rounded-full"}),l.jsx(le,{className:"h-5 w-20 rounded-full"}),l.jsx(le,{className:"h-5 w-14 rounded-full"})]}),l.jsx(le,{className:"h-12 w-full"})]})}function JL(){return l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(le,{className:"h-8 w-32"}),l.jsx(le,{className:"h-4 w-48"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(le,{className:"h-[120px] w-full rounded-md"}),l.jsx(le,{className:"h-10 w-full rounded-md"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:[...Array(3)].map((e,t)=>l.jsx(le,{className:"h-12 w-full rounded-md"},t))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(le,{className:"h-5 w-24"}),l.jsx(le,{className:"h-4 w-16"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((e,t)=>l.jsx(W5,{compact:!0},t))})]})]})}function ZL({onRefresh:e,threshold:t=80,resistance:n=2.5}){const r=p.useRef(null),[s,i]=p.useState(0),[a,o]=p.useState(!1),[c,u]=p.useState(!1),d=p.useRef(0),h=p.useRef(0),f=p.useCallback(v=>{a||(d.current=v.touches[0].clientY)},[a]),m=p.useCallback(v=>{if(a)return;const b=r.current;if(!b)return;h.current=v.touches[0].clientY;const x=h.current-d.current,g=b.scrollTop<=0,y=x>0;if(g&&y){const S=x/n;S>5&&(v.preventDefault(),u(!0),i(S))}else c&&!y&&(u(!1),i(0))},[a,n,c]),w=p.useCallback(async()=>{if(!(!c||a)){if(u(!1),s>=t){o(!0),i(t);try{await e()}catch(v){console.error("Refresh failed:",v)}finally{o(!1),i(0)}}else i(0);d.current=0,h.current=0}},[c,a,s,t,e]);return p.useEffect(()=>{const v=r.current;if(v)return v.addEventListener("touchstart",f,{passive:!0}),v.addEventListener("touchmove",m,{passive:!1}),v.addEventListener("touchend",w,{passive:!0}),()=>{v.removeEventListener("touchstart",f),v.removeEventListener("touchmove",m),v.removeEventListener("touchend",w)}},[f,m,w]),{containerRef:r,pullDistance:s,isRefreshing:a,isPulling:c}}function H5({children:e,onRefresh:t,className:n}){const{containerRef:r,pullDistance:s,isRefreshing:i,isPulling:a}=ZL({onRefresh:t,threshold:80}),o=Math.min(s/80,1),c=s>10||i;return l.jsxs("div",{ref:r,className:W("relative",n),style:{overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[l.jsx("div",{className:W("absolute left-0 right-0 flex justify-center transition-all duration-200 z-10",c?"opacity-100":"opacity-0"),style:{top:-40+s,transform:`translateY(${Math.min(s,60)}px)`},children:l.jsx("div",{className:W("flex items-center justify-center w-10 h-10 rounded-full","bg-primary/10 backdrop-blur-sm border border-primary/20","shadow-lg"),children:i?l.jsx(pd,{className:"w-5 h-5 text-primary animate-spin"}):l.jsx(V_,{className:W("w-5 h-5 text-primary transition-transform duration-200",o>=1&&"rotate-180"),style:{transform:`rotate(${o*180}deg)`,opacity:o}})})}),l.jsx("div",{style:{transform:`translateY(${i?60:s*.5}px)`,transition:a?"none":"transform 0.2s ease-out"},children:e})]})}const $m=(e,t)=>t.some(n=>e instanceof n);let vx,xx;function e$(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t$(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fm=new WeakMap,Hh=new WeakMap,_d=new WeakMap;function n$(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(Ru(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return _d.set(t,e),t}function r$(e){if(Fm.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Fm.set(e,t)}let Bm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Fm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ru(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function G5(e){Bm=e(Bm)}function s$(e){return t$().includes(e)?function(...t){return e.apply(zm(this),t),Ru(this.request)}:function(...t){return Ru(e.apply(zm(this),t))}}function i$(e){return typeof e=="function"?s$(e):(e instanceof IDBTransaction&&r$(e),$m(e,e$())?new Proxy(e,Bm):e)}function Ru(e){if(e instanceof IDBRequest)return n$(e);if(Hh.has(e))return Hh.get(e);const t=i$(e);return t!==e&&(Hh.set(e,t),_d.set(t,e)),t}const zm=e=>_d.get(e),a$=["get","getKey","getAll","getAllKeys","count"],o$=["put","add","delete","clear"],Gh=new Map;function wx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Gh.get(t))return Gh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=o$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||a$.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Gh.set(t,i),i}G5(e=>({...e,get:(t,n,r)=>wx(t,n)||e.get(t,n,r),has:(t,n)=>!!wx(t,n)||e.has(t,n)}));const l$=["continue","continuePrimaryKey","advance"],bx={},Vm=new WeakMap,K5=new WeakMap,c$={get(e,t){if(!l$.includes(t))return e[t];let n=bx[t];return n||(n=bx[t]=function(...r){Vm.set(this,K5.get(this)[t](...r))}),n}};async function*u$(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,c$);for(K5.set(n,t),_d.set(n,zm(t));t;)yield n,t=await(Vm.get(n)||t.continue()),Vm.delete(n)}function Sx(e,t){return t===Symbol.asyncIterator&&$m(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&$m(e,[IDBIndex,IDBObjectStore])}G5(e=>({...e,get(t,n,r){return Sx(t,n)?u$:e.get(t,n,r)},has(t,n){return Sx(t,n)||e.has(t,n)}}));function d$(){return navigator.onLine}function h$(e){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}function f$(){const[e,t]=p.useState(d$());return p.useEffect(()=>h$(t),[]),e}function q5(){const e=f$(),[t,n]=p.useState(!1),[r,s]=p.useState(!1);return p.useEffect(()=>{if(!e)s(!0);else if(r){n(!0);const i=setTimeout(()=>{n(!1),s(!1)},3e3);return()=>clearTimeout(i)}},[e,r]),e&&!t?null:l.jsx("div",{className:W("fixed top-16 left-1/2 -translate-x-1/2 z-50","flex items-center gap-2 px-4 py-2 rounded-full","text-sm font-medium shadow-lg","animate-in slide-in-from-top duration-300",e?"bg-green-500/90 text-white":"bg-yellow-500/90 text-yellow-950"),children:e?l.jsxs(l.Fragment,{children:[l.jsx(uM,{className:"w-4 h-4"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(cM,{className:"w-4 h-4"}),l.jsx("span",{children:""})]})})}function da({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>{i(!0)},t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0)":"translateY(20px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function m$(){return l.jsx(da,{delay:0,duration:500,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl",children:""}),l.jsx("p",{className:"text-muted-foreground",children:""})]})})}const p$=fd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?XN:"button";return l.jsx(a,{className:W(p$({variant:t,size:n,className:e})),ref:i,...s})});ye.displayName="Button";const Dl=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Dl.displayName="Textarea";const dn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));dn.displayName="Input";const g$=fd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:e,variant:t,...n}){return l.jsx("div",{className:W(g$({variant:t}),e),...n})}function y$({suggestions:e,editing:t,analyzing:n,onToggleEdit:r,onConfirm:s,onCancel:i,onUpdate:a}){var o,c;return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"AI "})]}),l.jsx(ye,{variant:"ghost",size:"sm",onClick:r,children:t?l.jsx(wu,{className:"w-4 h-4"}):l.jsx(x0,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),t?l.jsx(dn,{value:e.world,onChange:u=>a("world",u.target.value),className:"mt-1 h-8"}):l.jsx(xe,{variant:"secondary",children:e.world})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsxs(xe,{variant:e.threatLevel>=3?"destructive":"secondary",children:["Level ",e.threatLevel]})]}),((o=e.entities)==null?void 0:o.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Entities: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.entities.map((u,d)=>l.jsx(xe,{variant:"outline",children:u},d))})]}),((c=e.environments)==null?void 0:c.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Environments: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.environments.map((u,d)=>l.jsx(xe,{variant:"outline",children:u},d))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ye,{onClick:s,disabled:n,className:"flex-1 gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(y0,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wu,{className:"w-4 h-4"}),""]})}),l.jsx(ye,{variant:"outline",onClick:i,children:l.jsx(Ua,{className:"w-4 h-4"})})]})]})}function v$({existingWorlds:e,existingEntities:t,onDreamSaved:n}){const[r,s]=p.useState(""),[i,a]=p.useState(!1),[o,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=async()=>{if(!r.trim()){_t.error("");return}a(!0);try{const x=await E3(r,e,t,["fog","sea","mountain","city","tunnel","rain","night","sunset","forest","building"]);c(x),d(!0),_t.success("! ")}catch(x){console.error("Error analyzing:",x),_t.error("")}finally{a(!1)}},w=async()=>{if(o){a(!0);try{const x=new Date;if(await F5({date:x.toISOString().split("T")[0],wakeTime:x.toTimeString().slice(0,5),world:o.world||"Unknown",timeSystem:o.timeSystem||"unknown",environments:o.environments||[],entities:o.entities||[],threatLevel:o.threatLevel||0,safetyOverride:o.safetyOverride||"unknown",exit:o.exit||"unknown",notes:r})){_t.success("! ",{description:`: ${o.world} | Threat: ${o.threatLevel}`}),s(""),c(null),d(!1),f(!1);const y=await yi();n(y.slice(0,5))}else _t.error("")}catch(x){console.error("Error saving:",x),_t.error("")}finally{a(!1)}}},v=()=>{d(!1),c(null),f(!1)},b=(x,g)=>{c(y=>y?{...y,[x]:g}:null)};return l.jsx(da,{delay:100,duration:450,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Dl,{placeholder:"... ",value:r,onChange:x=>s(x.target.value),className:"min-h-[120px] resize-none",disabled:u}),u&&o&&l.jsx(y$,{suggestions:o,editing:h,analyzing:i,onToggleEdit:()=>f(!h),onConfirm:w,onCancel:v,onUpdate:b}),!u&&l.jsx(ye,{onClick:m,disabled:i||!r.trim(),className:"w-full gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx(y0,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yt,{className:"w-4 h-4"}),""]})})]})})}function x$(){const e=[{to:"/logs/new",icon:h2,label:" ()"},{to:"/library",icon:g0,label:""},{to:"/logs",icon:v0,label:""}];return l.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map((t,n)=>l.jsx(da,{delay:200+n*80,duration:400,children:l.jsx(ye,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(Dt,{to:t.to,children:[l.jsx(t.icon,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:t.label})]})})},t.to))})}const kx={0:{border:"border-l-4 border-l-muted-foreground/30",bg:"bg-card",badge:"bg-muted text-muted-foreground"},1:{border:"border-l-4 border-l-emerald-500",bg:"bg-gradient-to-r from-emerald-500/5 to-transparent",badge:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"},2:{border:"border-l-4 border-l-yellow-500",bg:"bg-gradient-to-r from-yellow-500/5 to-transparent",badge:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400"},3:{border:"border-l-4 border-l-orange-500",bg:"bg-gradient-to-r from-orange-500/8 to-transparent",badge:"bg-orange-500/20 text-orange-700 dark:text-orange-400"},4:{border:"border-l-4 border-l-red-500",bg:"bg-gradient-to-r from-red-500/10 to-transparent",badge:"bg-red-500/20 text-red-700 dark:text-red-400"},5:{border:"border-l-4 border-l-rose-600",bg:"bg-gradient-to-r from-rose-600/15 to-transparent",badge:"bg-rose-600/25 text-rose-700 dark:text-rose-400 font-semibold"}},w$={0:"",1:"",2:"",3:"",4:"",5:""};function Y5({dream:e,compact:t,showEdit:n=!1}){const r=new Date(e.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),s=kx[e.threatLevel]||kx[0];return l.jsxs("div",{className:"relative group",children:[l.jsxs(Dt,{to:`/logs/${e.id}`,className:W("block rounded-lg p-4 transition-all duration-200","border border-border hover:border-primary/30","hover:shadow-md hover:-translate-y-0.5",s.border,s.bg),children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e.id}),l.jsxs("span",{className:W("inline-flex items-center justify-center gap-1 px-2 py-0.5 text-xs rounded-full",s.badge),children:[l.jsx("span",{className:"text-[10px]",children:w$[e.threatLevel]}),e.threatLevel]})]}),l.jsx("p",{className:"font-medium truncate",children:e.world}),!t&&e.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.wakeTime})]})]}),!t&&e.environments.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.environments.slice(0,4).map(i=>l.jsx("span",{className:"tag",children:i},i)),e.environments.length>4&&l.jsxs("span",{className:"tag",children:["+",e.environments.length-4]})]})]}),n&&l.jsx(Dt,{to:`/logs/${e.id}`,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:i=>i.stopPropagation(),children:l.jsx(ye,{size:"icon",variant:"ghost",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",children:l.jsx(x0,{className:"w-3 h-3"})})})]})}function b$({dreams:e}){return e.length===0?l.jsx(da,{delay:500,duration:400,children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(ye,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(Dt,{to:"/logs/new",children:""})})]})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx(da,{delay:450,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsx(Dt,{to:"/logs",className:"text-sm text-primary hover:underline",children:""})]})}),l.jsx("div",{className:"space-y-2",children:e.map((t,n)=>l.jsx(da,{delay:500+n*80,duration:400,children:l.jsx(Y5,{dream:t,compact:!0})},t.id))})]})}function S$(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState([]),[a,o]=p.useState([]),c=p.useCallback(async()=>{try{const[d,h,f]=await Promise.all([yi(),Ol(),Pd()]);t(d.slice(0,5)),i(h.map(m=>m.name)),o(f.map(m=>m.name))}catch(d){console.error("Error loading data:",d)}finally{r(!1)}},[]);p.useEffect(()=>{c()},[c]);const u=p.useCallback(async()=>{await c(),_t.success("")},[c]);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(q5,{}),l.jsx(QL,{}),l.jsx(H5,{onRefresh:u,className:"flex-1",children:l.jsxs("div",{className:"space-y-8 py-4 pb-28 container-app",children:[l.jsx(m$,{}),l.jsx(v$,{existingWorlds:s,existingEntities:a,onDreamSaved:t}),l.jsx(x$,{}),n?l.jsx(JL,{}):l.jsx(b$,{dreams:e})]})}),l.jsx(jd,{})]})}function pl(e,[t,n]){return Math.min(n,Math.max(t,e))}var k$=p.createContext(void 0);function Il(e){const t=p.useContext(k$);return e||t||"ltr"}var Kh=0;function X5(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ex()),document.body.insertAdjacentElement("beforeend",e[1]??Ex()),Kh++,()=>{Kh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kh--}},[])}function Ex(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qh="focusScope.autoFocusOnMount",Yh="focusScope.autoFocusOnUnmount",jx={bubbles:!1,cancelable:!0},E$="FocusScope",V0=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,c]=p.useState(null),u=Xe(s),d=Xe(i),h=p.useRef(null),f=ce(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(y){if(m.paused||!o)return;const S=y.target;o.contains(S)?h.current=S:zr(h.current,{select:!0})},b=function(y){if(m.paused||!o)return;const S=y.relatedTarget;S!==null&&(o.contains(S)||zr(h.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&zr(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const g=new MutationObserver(x);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),g.disconnect()}}},[r,o,m.paused]),p.useEffect(()=>{if(o){Tx.add(m);const v=document.activeElement;if(!o.contains(v)){const x=new CustomEvent(qh,jx);o.addEventListener(qh,u),o.dispatchEvent(x),x.defaultPrevented||(j$(_$(Q5(o)),{select:!0}),document.activeElement===v&&zr(o))}return()=>{o.removeEventListener(qh,u),setTimeout(()=>{const x=new CustomEvent(Yh,jx);o.addEventListener(Yh,d),o.dispatchEvent(x),x.defaultPrevented||zr(v??document.body,{select:!0}),o.removeEventListener(Yh,d),Tx.remove(m)},0)}}},[o,u,d,m]);const w=p.useCallback(v=>{if(!n&&!r||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const g=v.currentTarget,[y,S]=C$(g);y&&S?!v.shiftKey&&x===S?(v.preventDefault(),n&&zr(y,{select:!0})):v.shiftKey&&x===y&&(v.preventDefault(),n&&zr(S,{select:!0})):x===g&&v.preventDefault()}},[n,r,m.paused]);return l.jsx(J.div,{tabIndex:-1,...a,ref:f,onKeyDown:w})});V0.displayName=E$;function j$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(zr(r,{select:t}),document.activeElement!==n)return}function C$(e){const t=Q5(e),n=Cx(t,e),r=Cx(t.reverse(),e);return[n,r]}function Q5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cx(e,t){for(const n of e)if(!T$(n,{upTo:t}))return n}function T$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function P$(e){return e instanceof HTMLInputElement&&"select"in e}function zr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&P$(e)&&t&&e.select()}}var Tx=N$();function N$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Px(e,t),e.unshift(t)},remove(t){var n;e=Px(e,t),(n=e[0])==null||n.resume()}}}function Px(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _$(e){return e.filter(t=>t.tagName!=="A")}function U0(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var M$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ni=new WeakMap,gc=new WeakMap,yc={},Xh=0,J5=function(e){return e&&(e.host||J5(e.parentNode))},R$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=J5(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},A$=function(e,t,n,r){var s=R$(t,Array.isArray(e)?e:[e]);yc[n]||(yc[n]=new WeakMap);var i=yc[n],a=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",v=(Ni.get(f)||0)+1,b=(i.get(f)||0)+1;Ni.set(f,v),i.set(f,b),a.push(f),v===1&&w&&gc.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),o.clear(),Xh++,function(){a.forEach(function(h){var f=Ni.get(h)-1,m=i.get(h)-1;Ni.set(h,f),i.set(h,m),f||(gc.has(h)||h.removeAttribute(r),gc.delete(h)),m||h.removeAttribute(n)}),Xh--,Xh||(Ni=new WeakMap,Ni=new WeakMap,gc=new WeakMap,yc={})}},Z5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=M$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),A$(r,s,n,"aria-hidden")):function(){return null}},Hc="right-scroll-bar-position",Gc="width-before-scroll-bar",O$="with-scroll-bars-hidden",D$="--removed-body-scroll-bar-size";function Qh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var L$=typeof window<"u"?p.useLayoutEffect:p.useEffect,Nx=new WeakMap;function $$(e,t){var n=I$(null,function(r){return e.forEach(function(s){return Qh(s,r)})});return L$(function(){var r=Nx.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(o){i.has(o)||Qh(o,null)}),i.forEach(function(o){s.has(o)||Qh(o,a)})}Nx.set(n,e)},[e]),n}function F$(e){return e}function B$(e,t){t===void 0&&(t=F$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function z$(e){e===void 0&&(e={});var t=B$(null);return t.options=Kn({async:!0,ssr:!1},e),t}var ek=function(e){var t=e.sideCar,n=qa(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Kn({},n))};ek.isSideCarExport=!0;function V$(e,t){return e.useMedium(t),ek}var tk=z$(),Jh=function(){},Md=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Jh,onWheelCapture:Jh,onTouchMoveCapture:Jh}),s=r[0],i=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,y=e.gapMode,S=qa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=$$([n,t]),C=Kn(Kn({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:tk,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:y}),a?p.cloneElement(p.Children.only(o),Kn(Kn({},C),{ref:E})):p.createElement(g,Kn({},C,{className:c,ref:E}),o))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:Gc,zeroRight:Hc};var U$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=U$();return t&&e.setAttribute("nonce",t),e}function H$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function G$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var K$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W$())&&(H$(t,n),G$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},q$=function(){var e=K$();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nk=function(){var e=q$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Y$={left:0,top:0,right:0,gap:0},Zh=function(e){return parseInt(e||"",10)||0},X$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Zh(n),Zh(r),Zh(s)]},Q$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Y$;var t=X$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},J$=nk(),ha="data-scroll-locked",Z$=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(O$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hc,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ha,`] {
    `).concat(D$,": ").concat(o,`px;
  }
`)},_x=function(){var e=parseInt(document.body.getAttribute(ha)||"0",10);return isFinite(e)?e:0},e8=function(){p.useEffect(function(){return document.body.setAttribute(ha,(_x()+1).toString()),function(){var e=_x()-1;e<=0?document.body.removeAttribute(ha):document.body.setAttribute(ha,e.toString())}},[])},t8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;e8();var i=p.useMemo(function(){return Q$(s)},[s]);return p.createElement(J$,{styles:Z$(i,!t,s,n?"":"!important")})},Um=!1;if(typeof window<"u")try{var vc=Object.defineProperty({},"passive",{get:function(){return Um=!0,!0}});window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Um=!1}var _i=Um?{passive:!1}:!1,n8=function(e){return e.tagName==="TEXTAREA"},rk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n8(e)&&n[t]==="visible")},r8=function(e){return rk(e,"overflowY")},s8=function(e){return rk(e,"overflowX")},Mx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=sk(e,r);if(s){var i=ik(e,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},i8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},a8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},sk=function(e,t){return e==="v"?r8(t):s8(t)},ik=function(e,t){return e==="v"?i8(t):a8(t)},o8=function(e,t){return e==="h"&&t==="rtl"?-1:1},l8=function(e,t,n,r,s){var i=o8(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,c=t.contains(o),u=!1,d=a>0,h=0,f=0;do{if(!o)break;var m=ik(e,o),w=m[0],v=m[1],b=m[2],x=v-b-i*w;(w||x)&&sk(e,o)&&(h+=x,f+=w);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},xc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rx=function(e){return[e.deltaX,e.deltaY]},Ax=function(e){return e&&"current"in e?e.current:e},c8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d8=0,Mi=[];function h8(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(d8++)[0],i=p.useState(nk)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=zD([e.lockRef.current],(e.shards||[]).map(Ax),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=xc(v),g=n.current,y="deltaX"in v?v.deltaX:g[0]-x[0],S="deltaY"in v?v.deltaY:g[1]-x[1],k,E=v.target,C=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in v&&C==="h"&&E.type==="range")return!1;var j=Mx(C,E);if(!j)return!0;if(j?k=C:(k=C==="v"?"h":"v",j=Mx(C,E)),!j)return!1;if(!r.current&&"changedTouches"in v&&(y||S)&&(r.current=k),!k)return!0;var T=r.current||k;return l8(T,b,v,T==="h"?y:S)},[]),c=p.useCallback(function(v){var b=v;if(!(!Mi.length||Mi[Mi.length-1]!==i)){var x="deltaY"in b?Rx(b):xc(b),g=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&c8(k.delta,x)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var y=(a.current.shards||[]).map(Ax).filter(Boolean).filter(function(k){return k.contains(b.target)}),S=y.length>0?o(b,y[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(v,b,x,g){var y={name:v,delta:b,target:x,should:g,shadowParent:f8(x)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=p.useCallback(function(v){n.current=xc(v),r.current=void 0},[]),h=p.useCallback(function(v){u(v.type,Rx(v),v.target,o(v,e.lockRef.current))},[]),f=p.useCallback(function(v){u(v.type,xc(v),v.target,o(v,e.lockRef.current))},[]);p.useEffect(function(){return Mi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,_i),document.addEventListener("touchmove",c,_i),document.addEventListener("touchstart",d,_i),function(){Mi=Mi.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,_i),document.removeEventListener("touchmove",c,_i),document.removeEventListener("touchstart",d,_i)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:u8(s)}):null,m?p.createElement(t8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function f8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m8=V$(tk,h8);var W0=p.forwardRef(function(e,t){return p.createElement(Md,Kn({},e,{ref:t,sideCar:m8}))});W0.classNames=Md.classNames;var p8=[" ","Enter","ArrowUp","ArrowDown"],g8=[" ","Enter"],ci="Select",[Rd,Ad,y8]=cd(ci),[Ya]=hn(ci,[y8,xd]),Od=xd(),[v8,Ts]=Ya(ci),[x8,w8]=Ya(ci),ak=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:w}=e,v=Od(t),[b,x]=p.useState(null),[g,y]=p.useState(null),[S,k]=p.useState(!1),E=Il(u),[C,j]=gs({prop:r,defaultProp:s??!1,onChange:i,caller:ci}),[T,P]=gs({prop:a,defaultProp:o,onChange:c,caller:ci}),M=p.useRef(null),O=b?w||!!b.closest("form"):!0,[U,D]=p.useState(new Set),Y=Array.from(U).map(B=>B.props.value).join(";");return l.jsx(GA,{...v,children:l.jsxs(v8,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:ds(),value:T,onValueChange:P,open:C,onOpenChange:j,dir:E,triggerPointerDownPosRef:M,disabled:f,children:[l.jsx(Rd.Provider,{scope:t,children:l.jsx(x8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{D(z=>new Set(z).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{D(z=>{const _=new Set(z);return _.delete(B),_})},[]),children:n})}),O?l.jsxs(_k,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:B=>P(B.target.value),disabled:f,form:w,children:[T===void 0?l.jsx("option",{value:""}):null,Array.from(U)]},Y):null]})})};ak.displayName=ci;var ok="SelectTrigger",lk=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Od(n),a=Ts(ok,n),o=a.disabled||r,c=ce(t,a.onTriggerChange),u=Ad(n),d=p.useRef("touch"),[h,f,m]=Rk(v=>{const b=u().filter(y=>!y.disabled),x=b.find(y=>y.value===a.value),g=Ak(b,v,x);g!==void 0&&a.onValueChange(g.value)}),w=v=>{o||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(G2,{asChild:!0,...i,children:l.jsx(J.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Mk(a.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:G(s.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:G(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(b&&v.key===" ")&&p8.includes(v.key)&&(w(),v.preventDefault())})})})});lk.displayName=ok;var ck="SelectValue",uk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...o}=e,c=Ts(ck,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ce(t,c.onValueNodeChange);return et(()=>{u(d)},[u,d]),l.jsx(J.span,{...o,ref:h,style:{pointerEvents:"none"},children:Mk(c.value)?l.jsx(l.Fragment,{children:a}):i})});uk.displayName=ck;var b8="SelectIcon",dk=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(J.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});dk.displayName=b8;var S8="SelectPortal",hk=e=>l.jsx(ud,{asChild:!0,...e});hk.displayName=S8;var ui="SelectContent",fk=p.forwardRef((e,t)=>{const n=Ts(ui,e.__scopeSelect),[r,s]=p.useState();if(et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?mi.createPortal(l.jsx(mk,{scope:e.__scopeSelect,children:l.jsx(Rd.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(pk,{...e,ref:t})});fk.displayName=ui;var Sn=10,[mk,Ps]=Ya(ui),k8="SelectContentImpl",E8=Ma("SelectContent.RemoveScroll"),pk=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:b,...x}=e,g=Ts(ui,n),[y,S]=p.useState(null),[k,E]=p.useState(null),C=ce(t,V=>S(V)),[j,T]=p.useState(null),[P,M]=p.useState(null),O=Ad(n),[U,D]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(y)return Z5(y)},[y]),X5();const B=p.useCallback(V=>{const[me,...he]=O().map(fe=>fe.ref.current),[se]=he.slice(-1),de=document.activeElement;for(const fe of V)if(fe===de||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===me&&k&&(k.scrollTop=0),fe===se&&k&&(k.scrollTop=k.scrollHeight),fe==null||fe.focus(),document.activeElement!==de))return},[O,k]),z=p.useCallback(()=>B([j,y]),[B,j,y]);p.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:_,triggerPointerDownPosRef:N}=g;p.useEffect(()=>{if(y){let V={x:0,y:0};const me=se=>{var de,fe;V={x:Math.abs(Math.round(se.pageX)-(((de=N.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(se.pageY)-(((fe=N.current)==null?void 0:fe.y)??0))}},he=se=>{V.x<=10&&V.y<=10?se.preventDefault():y.contains(se.target)||_(!1),document.removeEventListener("pointermove",me),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",he,{capture:!0})}}},[y,_,N]),p.useEffect(()=>{const V=()=>_(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[_]);const[R,I]=Rk(V=>{const me=O().filter(de=>!de.disabled),he=me.find(de=>de.ref.current===document.activeElement),se=Ak(me,V,he);se&&setTimeout(()=>se.ref.current.focus())}),$=p.useCallback((V,me,he)=>{const se=!Y.current&&!he;(g.value!==void 0&&g.value===me||se)&&(T(V),se&&(Y.current=!0))},[g.value]),X=p.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=p.useCallback((V,me,he)=>{const se=!Y.current&&!he;(g.value!==void 0&&g.value===me||se)&&M(V)},[g.value]),K=r==="popper"?Wm:gk,q=K===Wm?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return l.jsx(mk,{scope:n,content:y,viewport:k,onViewportChange:E,itemRefCallback:$,selectedItem:j,onItemLeave:X,itemTextRefCallback:ee,focusSelectedItem:z,selectedItemText:P,position:r,isPositioned:U,searchRef:R,children:l.jsx(W0,{as:E8,allowPinchZoom:!0,children:l.jsx(V0,{asChild:!0,trapped:g.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:G(s,V=>{var me;(me=g.trigger)==null||me.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(K,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:V=>V.preventDefault(),...x,...q,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:G(x.onKeyDown,V=>{const me=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!me&&V.key.length===1&&I(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let se=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(V.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const de=V.target,fe=se.indexOf(de);se=se.slice(fe+1)}setTimeout(()=>B(se)),V.preventDefault()}})})})})})})});pk.displayName=k8;var j8="SelectItemAlignedPosition",gk=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Ts(ui,n),a=Ps(ui,n),[o,c]=p.useState(null),[u,d]=p.useState(null),h=ce(t,C=>d(C)),f=Ad(n),m=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:g}=a,y=p.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&v&&b&&x){const C=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const de=P.left-j.left,fe=T.left-de,Ke=C.left-fe,lt=C.width+Ke,Qt=Math.max(lt,j.width),Ct=window.innerWidth-Sn,ar=pl(fe,[Sn,Math.max(Sn,Ct-Qt)]);o.style.minWidth=lt+"px",o.style.left=ar+"px"}else{const de=j.right-P.right,fe=window.innerWidth-T.right-de,Ke=window.innerWidth-C.right-fe,lt=C.width+Ke,Qt=Math.max(lt,j.width),Ct=window.innerWidth-Sn,ar=pl(fe,[Sn,Math.max(Sn,Ct-Qt)]);o.style.minWidth=lt+"px",o.style.right=ar+"px"}const M=f(),O=window.innerHeight-Sn*2,U=v.scrollHeight,D=window.getComputedStyle(u),Y=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),z=parseInt(D.borderBottomWidth,10),_=parseInt(D.paddingBottom,10),N=Y+B+U+_+z,R=Math.min(b.offsetHeight*5,N),I=window.getComputedStyle(v),$=parseInt(I.paddingTop,10),X=parseInt(I.paddingBottom,10),ee=C.top+C.height/2-Sn,K=O-ee,q=b.offsetHeight/2,V=b.offsetTop+q,me=Y+B+V,he=N-me;if(me<=ee){const de=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const fe=u.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(K,q+(de?X:0)+fe+z),lt=me+Ke;o.style.height=lt+"px"}else{const de=M.length>0&&b===M[0].ref.current;o.style.top="0px";const Ke=Math.max(ee,Y+v.offsetTop+(de?$:0)+q)+he;o.style.height=Ke+"px",v.scrollTop=me-ee+v.offsetTop}o.style.margin=`${Sn}px 0`,o.style.minHeight=R+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,o,u,v,b,x,i.dir,r]);et(()=>y(),[y]);const[S,k]=p.useState();et(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(C=>{C&&w.current===!0&&(y(),g==null||g(),w.current=!1)},[y,g]);return l.jsx(T8,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(J.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gk.displayName=j8;var C8="SelectPopperPosition",Wm=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Sn,...i}=e,a=Od(n);return l.jsx(K2,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wm.displayName=C8;var[T8,H0]=Ya(ui,{}),Hm="SelectViewport",yk=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Ps(Hm,n),a=H0(Hm,n),o=ce(t,i.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Rd.Slot,{scope:n,children:l.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-Sn*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(v,b);if(x<w){const g=x+m,y=Math.min(w,g),S=g-y;h.style.height=y+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yk.displayName=Hm;var vk="SelectGroup",[P8,N8]=Ya(vk),_8=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ds();return l.jsx(P8,{scope:n,id:s,children:l.jsx(J.div,{role:"group","aria-labelledby":s,...r,ref:t})})});_8.displayName=vk;var xk="SelectLabel",wk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=N8(xk,n);return l.jsx(J.div,{id:s.id,...r,ref:t})});wk.displayName=xk;var Au="SelectItem",[M8,bk]=Ya(Au),Sk=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,o=Ts(Au,n),c=Ps(Au,n),u=o.value===r,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),w=ce(t,g=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,g,r,s)}),v=ds(),b=p.useRef("touch"),x=()=>{s||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(M8,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(g=>{h(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:l.jsx(Rd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(J.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:G(a.onFocus,()=>m(!0)),onBlur:G(a.onBlur,()=>m(!1)),onClick:G(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:G(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:G(a.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:G(a.onPointerMove,g=>{var y;b.current=g.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(a.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:G(a.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(g8.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});Sk.displayName=Au;var yo="SelectItemText",kk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Ts(yo,n),o=Ps(yo,n),c=bk(yo,n),u=w8(yo,n),[d,h]=p.useState(null),f=ce(t,x=>h(x),c.onItemTextChange,x=>{var g;return(g=o.itemTextRefCallback)==null?void 0:g.call(o,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return et(()=>(v(w),()=>b(w)),[v,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(J.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?mi.createPortal(i.children,a.valueNode):null]})});kk.displayName=yo;var Ek="SelectItemIndicator",jk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bk(Ek,n).isSelected?l.jsx(J.span,{"aria-hidden":!0,...r,ref:t}):null});jk.displayName=Ek;var Gm="SelectScrollUpButton",Ck=p.forwardRef((e,t)=>{const n=Ps(Gm,e.__scopeSelect),r=H0(Gm,e.__scopeSelect),[s,i]=p.useState(!1),a=ce(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Pk,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Ck.displayName=Gm;var Km="SelectScrollDownButton",Tk=p.forwardRef((e,t)=>{const n=Ps(Km,e.__scopeSelect),r=H0(Km,e.__scopeSelect),[s,i]=p.useState(!1),a=ce(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),s?l.jsx(Pk,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Tk.displayName=Km;var Pk=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Ps("SelectScrollButton",n),a=p.useRef(null),o=Ad(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),et(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(J.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),R8="SelectSeparator",Nk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(J.div,{"aria-hidden":!0,...r,ref:t})});Nk.displayName=R8;var qm="SelectArrow",A8=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Od(n),i=Ts(qm,n),a=Ps(qm,n);return i.open&&a.position==="popper"?l.jsx(q2,{...s,...r,ref:t}):null});A8.displayName=qm;var O8="SelectBubbleInput",_k=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=ce(r,s),a=U0(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(J.select,{...n,style:{...$S,...n.style},ref:i,defaultValue:t})});_k.displayName=O8;function Mk(e){return e===""||e===void 0}function Rk(e){const t=Xe(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Ak(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=D8(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function D8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var I8=ak,Ok=lk,L8=uk,$8=dk,F8=hk,Dk=fk,B8=yk,Ik=wk,Lk=Sk,z8=kk,V8=jk,$k=Ck,Fk=Tk,Bk=Nk;const an=I8,on=L8,Vt=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Ok,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx($8,{asChild:!0,children:l.jsx(ys,{className:"h-4 w-4 opacity-50"})})]}));Vt.displayName=Ok.displayName;const zk=p.forwardRef(({className:e,...t},n)=>l.jsx($k,{ref:n,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Ra,{className:"h-4 w-4"})}));zk.displayName=$k.displayName;const Vk=p.forwardRef(({className:e,...t},n)=>l.jsx(Fk,{ref:n,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ys,{className:"h-4 w-4"})}));Vk.displayName=Fk.displayName;const Ut=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(F8,{children:l.jsxs(Dk,{ref:s,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(zk,{}),l.jsx(B8,{className:W("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Vk,{})]})}));Ut.displayName=Dk.displayName;const U8=p.forwardRef(({className:e,...t},n)=>l.jsx(Ik,{ref:n,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));U8.displayName=Ik.displayName;const it=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Lk,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(V8,{children:l.jsx(wu,{className:"h-4 w-4"})})}),l.jsx(z8,{children:t})]}));it.displayName=Lk.displayName;const W8=p.forwardRef(({className:e,...t},n)=>l.jsx(Bk,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));W8.displayName=Bk.displayName;const Ox=["fog","sea","mountain","city","tunnel","rain","night","sunset"],G0=["inactive","activated","unknown"],K0=["none","helper","separation","wake","unknown"],Uk=["wake","separation","collapse","unknown"];p.createContext({hasAnimated:!1,setHasAnimated:()=>{}});function An({children:e,delay:t=0,duration:n=400,className:r="",animation:s="fade-up"}){const[i,a]=p.useState(!1);p.useEffect(()=>{const c=setTimeout(()=>a(!0),t);return()=>clearTimeout(c)},[t]);const o=()=>{if(i)return"translateY(0) translateX(0) scale(1)";switch(s){case"fade":return"translateY(0) scale(1)";case"scale":return"scale(0.95)";case"slide-left":return"translateX(-20px)";case"slide-right":return"translateX(20px)";case"fade-up":default:return"translateY(16px)"}};return l.jsx("div",{className:`transition-all ${r}`,style:{opacity:i?1:0,transform:o(),transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function H8({children:e,baseDelay:t=0,staggerDelay:n=60,duration:r=400,className:s="",animation:i="fade-up"}){return l.jsx("div",{className:s,children:e.map((a,o)=>l.jsx(An,{delay:t+o*n,duration:r,animation:i,children:a},o))})}function G8(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,o]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState("all"),[f,m]=p.useState("all"),[w,v]=p.useState("all"),[b,x]=p.useState("all"),g=p.useCallback(async()=>{try{const[k,E]=await Promise.all([yi(),Ol()]);t(k),r(E)}catch(k){console.error("Error loading data:",k)}finally{i(!1)}},[]);p.useEffect(()=>{g()},[g]);const y=p.useCallback(async()=>{await g(),_t.success("")},[g]),S=e.filter(k=>{var E;if(c){const C=c.toLowerCase();if(!(k.world.toLowerCase().includes(C)||((E=k.notes)==null?void 0:E.toLowerCase().includes(C))||k.entities.some(T=>T.toLowerCase().includes(C))||k.environments.some(T=>T.toLowerCase().includes(C))))return!1}return!(d!=="all"&&k.world!==d||f!=="all"&&k.threatLevel!==Number(f)||w!=="all"&&k.timeSystem!==w||b!=="all"&&k.safetyOverride!==b)});return s?l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{children:"Dream Logs"})}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,E)=>l.jsx(W5,{},E))})]}):l.jsxs(H5,{onRefresh:y,className:"h-full",children:[l.jsx(q5,{}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsx(An,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{children:"Dream Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>o(!a),children:l.jsx(q_,{className:"w-4 h-4"})}),l.jsx(ye,{asChild:!0,size:"sm",children:l.jsxs(Dt,{to:"/logs/new",children:[l.jsx(h2,{className:"w-4 h-4 mr-1"}),"New"]})})]})]})}),l.jsx(An,{delay:60,duration:400,children:l.jsxs("div",{className:"relative",children:[l.jsx(f2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(dn,{type:"text",placeholder:" dreams... (world, notes, entities, environments)",value:c,onChange:k=>u(k.target.value),className:"pl-9 pr-9"}),c&&l.jsx(ye,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>u(""),children:l.jsx(Ua,{className:"w-3 h-3"})})]})}),a&&l.jsx(An,{delay:0,duration:300,animation:"fade",children:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(an,{value:d,onValueChange:h,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"World"})}),l.jsxs(Ut,{children:[l.jsx(it,{value:"all",children:"All Worlds"}),n.map(k=>l.jsx(it,{value:k.name,children:k.name},k.id))]})]}),l.jsxs(an,{value:f,onValueChange:m,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Threat"})}),l.jsxs(Ut,{children:[l.jsx(it,{value:"all",children:"All Threats"}),[0,1,2,3,4,5].map(k=>l.jsxs(it,{value:String(k),children:["Level ",k]},k))]})]}),l.jsxs(an,{value:w,onValueChange:v,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Time System"})}),l.jsxs(Ut,{children:[l.jsx(it,{value:"all",children:"All"}),G0.map(k=>l.jsx(it,{value:k,children:k},k))]})]}),l.jsxs(an,{value:b,onValueChange:x,children:[l.jsx(Vt,{className:"text-sm",children:l.jsx(on,{placeholder:"Safety"})}),l.jsxs(Ut,{children:[l.jsx(it,{value:"all",children:"All"}),K0.map(k=>l.jsx(it,{value:k,children:k},k))]})]})]})]})}),l.jsx("div",{className:"space-y-2",children:S.length===0?l.jsx(An,{delay:120,duration:400,children:l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(ye,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(Dt,{to:"/logs/new",children:""})})]})}):l.jsx(H8,{baseDelay:120,staggerDelay:50,duration:400,className:"space-y-2",children:S.map(k=>l.jsx(Y5,{dream:k,showEdit:!0},k.id))})})]})]})}var K8="Label",Wk=p.forwardRef((e,t)=>l.jsx(J.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Wk.displayName=K8;var Hk=Wk;const q8=fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=p.forwardRef(({className:e,...t},n)=>l.jsx(Hk,{ref:n,className:W(q8(),e),...t}));St.displayName=Hk.displayName;function Y8({date:e,wakeTime:t,onDateChange:n,onWakeTimeChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"date",children:"Date"}),l.jsx(dn,{id:"date",type:"date",value:e,onChange:s=>n(s.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"wakeTime",children:"Wake Time"}),l.jsx(dn,{id:"wakeTime",type:"time",value:t,onChange:s=>r(s.target.value),required:!0})]})]})}function X8({worlds:e,selectedWorld:t,newWorld:n,onWorldChange:r,onNewWorldChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"World"}),l.jsxs(an,{value:t,onValueChange:r,children:[l.jsx(Vt,{children:l.jsx(on,{placeholder:"Select or create new"})}),l.jsx(Ut,{children:e.map(i=>l.jsx(it,{value:i.name,children:i.name},i.id))})]}),l.jsx(dn,{placeholder:"...",value:n,onChange:i=>s(i.target.value)})]})}function Q8({selectedEnvironments:e,newEnvironment:t,onToggleEnvironment:n,onNewEnvironmentChange:r,onAddEnvironment:s}){const i=e.filter(a=>!Ox.includes(a));return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Environments"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Ox.map(a=>l.jsx("button",{type:"button",onClick:()=>n(a),className:`tag transition-colors ${e.includes(a)?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,children:a},a))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(dn,{type:"text",placeholder:" environment ...",value:t,onChange:a=>r(a.target.value),className:"flex-1"}),l.jsx(ye,{type:"button",variant:"outline",size:"sm",disabled:!t,onClick:s,children:""})]}),i.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:i.map(a=>l.jsx("button",{type:"button",onClick:()=>n(a),className:"tag bg-primary text-primary-foreground",children:a},a))})]})}var Dd="Checkbox",[J8]=hn(Dd),[Z8,q0]=J8(Dd);function eF(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=gs({prop:n,defaultProp:s??!1,onChange:c,caller:Dd}),[w,v]=p.useState(null),[b,x]=p.useState(null),g=p.useRef(!1),y=w?!!a||!!w.closest("form"):!0,S={checked:f,disabled:i,setChecked:m,control:w,setControl:v,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:fs(s)?!1:s,isFormControl:y,bubbleInput:b,setBubbleInput:x};return l.jsx(Z8,{scope:t,...S,children:tF(h)?h(S):r})}var Gk="CheckboxTrigger",Kk=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:w}=q0(Gk,e),v=ce(s,d),b=p.useRef(c);return p.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const g=()=>h(b.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[i,h]),l.jsx(J.button,{type:"button",role:"checkbox","aria-checked":fs(c)?"mixed":c,"aria-required":u,"data-state":Jk(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:v,onKeyDown:G(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:G(n,x=>{h(g=>fs(g)?!0:!g),w&&m&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});Kk.displayName=Gk;var Y0=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(eF,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(Kk,{...h,ref:t,__scopeCheckbox:n}),f&&l.jsx(Qk,{__scopeCheckbox:n})]})})});Y0.displayName=Dd;var qk="CheckboxIndicator",Yk=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=q0(qk,n);return l.jsx(fn,{present:r||fs(i.checked)||i.checked===!0,children:l.jsx(J.span,{"data-state":Jk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Yk.displayName=qk;var Xk="CheckboxBubbleInput",Qk=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=q0(Xk,e),w=ce(n,m),v=U0(i),b=P0(r);p.useEffect(()=>{const g=f;if(!g)return;const y=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(y,"checked").set,E=!s.current;if(v!==i&&k){const C=new Event("click",{bubbles:E});g.indeterminate=fs(i),k.call(g,fs(i)?!1:i),g.dispatchEvent(C)}},[f,v,i,s]);const x=p.useRef(fs(i)?!1:i);return l.jsx(J.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:o,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Qk.displayName=Xk;function tF(e){return typeof e=="function"}function fs(e){return e==="indeterminate"}function Jk(e){return fs(e)?"indeterminate":e?"checked":"unchecked"}const Zk=p.forwardRef(({className:e,...t},n)=>l.jsx(Y0,{ref:n,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Yk,{className:W("flex items-center justify-center text-current"),children:l.jsx(wu,{className:"h-4 w-4"})})}));Zk.displayName=Y0.displayName;function nF({entities:e,selectedEntities:t,newEntity:n,onToggleEntity:r,onNewEntityChange:s}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Entities"}),l.jsx("div",{className:"space-y-2",children:e.map(i=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zk,{id:i.id,checked:t.includes(i.name),onCheckedChange:()=>r(i.name)}),l.jsx("label",{htmlFor:i.id,className:"text-sm",children:i.name})]},i.id))}),l.jsx(dn,{placeholder:" entity ...",value:n,onChange:i=>s(i.target.value)})]})}function rF({timeSystem:e,threatLevel:t,safetyOverride:n,exit:r,onTimeSystemChange:s,onThreatLevelChange:i,onSafetyOverrideChange:a,onExitChange:o}){return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Time System"}),l.jsxs(an,{value:e,onValueChange:c=>s(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:G0.map(c=>l.jsx(it,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(St,{children:["Threat Level: ",t]}),l.jsx("input",{type:"range",min:"0",max:"5",value:t,onChange:c=>i(Number(c.target.value)),className:"w-full accent-primary"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Safety Override"}),l.jsxs(an,{value:n,onValueChange:c=>a(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:K0.map(c=>l.jsx(it,{value:c,children:c},c))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{children:"Exit"}),l.jsxs(an,{value:r,onValueChange:c=>o(c),children:[l.jsx(Vt,{children:l.jsx(on,{})}),l.jsx(Ut,{children:Uk.map(c=>l.jsx(it,{value:c,children:c},c))})]})]})]})}var eE=["PageUp","PageDown"],tE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xa="Slider",[Ym,sF,iF]=cd(Xa),[rE]=hn(Xa,[iF]),[aF,Id]=rE(Xa),sE=p.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:w,...v}=e,b=p.useRef(new Set),x=p.useRef(0),y=a==="horizontal"?oF:lF,[S=[],k]=gs({prop:d,defaultProp:u,onChange:M=>{var U;(U=[...b.current][x.current])==null||U.focus(),h(M)}}),E=p.useRef(S);function C(M){const O=fF(S,M);P(M,O)}function j(M){P(M,x.current)}function T(){const M=E.current[x.current];S[x.current]!==M&&f(S)}function P(M,O,{commit:U}={commit:!1}){const D=yF(i),Y=vF(Math.round((M-r)/i)*i+r,D),B=pl(Y,[r,s]);k((z=[])=>{const _=dF(z,B,O);if(gF(_,c*i)){x.current=_.indexOf(B);const N=String(_)!==String(z);return N&&U&&f(_),N?_:z}else return z})}return l.jsx(aF,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:s,valueIndexToChangeRef:x,thumbs:b.current,values:S,orientation:a,form:w,children:l.jsx(Ym.Provider,{scope:e.__scopeSlider,children:l.jsx(Ym.Slot,{scope:e.__scopeSlider,children:l.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:t,onPointerDown:G(v.onPointerDown,()=>{o||(E.current=S)}),min:r,max:s,inverted:m,onSlideStart:o?void 0:C,onSlideMove:o?void 0:j,onSlideEnd:o?void 0:T,onHomeKeyDown:()=>!o&&P(r,0,{commit:!0}),onEndKeyDown:()=>!o&&P(s,S.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:O})=>{if(!o){const Y=eE.includes(M.key)||M.shiftKey&&tE.includes(M.key)?10:1,B=x.current,z=S[B],_=i*Y*O;P(z+_,B,{commit:!0})}}})})})})});sE.displayName=Xa;var[iE,aE]=rE(Xa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oF=p.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=p.useState(null),m=ce(t,y=>f(y)),w=p.useRef(void 0),v=Il(s),b=v==="ltr",x=b&&!i||!b&&i;function g(y){const S=w.current||h.getBoundingClientRect(),k=[0,S.width],C=X0(k,x?[n,r]:[r,n]);return w.current=S,C(y-S.left)}return l.jsx(iE,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(oE,{dir:v,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=g(y.clientX);a==null||a(S)},onSlideMove:y=>{const S=g(y.clientX);o==null||o(S)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const k=nE[x?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:k?-1:1})}})})}),lF=p.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=e,d=p.useRef(null),h=ce(t,d),f=p.useRef(void 0),m=!s;function w(v){const b=f.current||d.current.getBoundingClientRect(),x=[0,b.height],y=X0(x,m?[r,n]:[n,r]);return f.current=b,y(v-b.top)}return l.jsx(iE,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(oE,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);a==null||a(b)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:v=>{const x=nE[m?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:x?-1:1})}})})}),oE=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=e,d=Id(Xa,n);return l.jsx(J.span,{...u,ref:t,onKeyDown:G(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):eE.concat(tE).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:G(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:G(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:G(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),lE="SliderTrack",cE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Id(lE,n);return l.jsx(J.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});cE.displayName=lE;var Xm="SliderRange",uE=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Id(Xm,n),i=aE(Xm,n),a=p.useRef(null),o=ce(t,a),c=s.values.length,u=s.values.map(f=>fE(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(J.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:o,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});uE.displayName=Xm;var Qm="SliderThumb",dE=p.forwardRef((e,t)=>{const n=sF(e.__scopeSlider),[r,s]=p.useState(null),i=ce(t,o=>s(o)),a=p.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(cF,{...e,ref:i,index:a})}),cF=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,a=Id(Qm,n),o=aE(Qm,n),[c,u]=p.useState(null),d=ce(t,g=>u(g)),h=c?a.form||!!c.closest("form"):!0,f=P0(c),m=a.values[r],w=m===void 0?0:fE(m,a.min,a.max),v=hF(r,a.values.length),b=f==null?void 0:f[o.size],x=b?mF(b,w,o.direction):0;return p.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${w}% + ${x}px)`},children:[l.jsx(Ym.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(J.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:G(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&l.jsx(hE,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});dE.displayName=Qm;var uF="RadioBubbleInput",hE=p.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=p.useRef(null),i=ce(s,r),a=U0(t);return p.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("input",{bubbles:!0});d.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(J.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});hE.displayName=uF;function dF(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function fE(e,t,n){const i=100/(n-t)*(e-t);return pl(i,[0,100])}function hF(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function fF(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function mF(e,t,n){const r=e/2,i=X0([0,50],[0,r]);return(r-i(t)*n)*n}function pF(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function gF(e,t){if(t>0){const n=pF(e);return Math.min(...n)>=t}return!0}function X0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yF(e){return(String(e).split(".")[1]||"").length}function vF(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var mE=sE,xF=cE,wF=uE,bF=dE;const pE=p.forwardRef(({className:e,...t},n)=>l.jsxs(mE,{ref:n,className:W("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(xF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(wF,{className:"absolute h-full bg-primary"})}),l.jsx(bF,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pE.displayName=mE.displayName;const SF=[{id:"fear",label:"",emoji:"",color:"bg-red-500/20 border-red-500/50 text-red-400"},{id:"joy",label:"",emoji:"",color:"bg-yellow-500/20 border-yellow-500/50 text-yellow-400"},{id:"sadness",label:"",emoji:"",color:"bg-blue-500/20 border-blue-500/50 text-blue-400"},{id:"anxiety",label:"",emoji:"",color:"bg-orange-500/20 border-orange-500/50 text-orange-400"},{id:"peace",label:"",emoji:"",color:"bg-green-500/20 border-green-500/50 text-green-400"},{id:"excitement",label:"",emoji:"",color:"bg-pink-500/20 border-pink-500/50 text-pink-400"},{id:"confusion",label:"",emoji:"",color:"bg-purple-500/20 border-purple-500/50 text-purple-400"},{id:"wonder",label:"",emoji:"",color:"bg-cyan-500/20 border-cyan-500/50 text-cyan-400"}],kF=[{id:"dark",label:"",gradient:"from-gray-900 to-gray-700"},{id:"golden",label:"",gradient:"from-amber-500 to-orange-600"},{id:"blue",label:"",gradient:"from-blue-400 to-indigo-600"},{id:"purple",label:"",gradient:"from-purple-500 to-pink-600"},{id:"green",label:"",gradient:"from-emerald-400 to-teal-600"},{id:"red",label:"",gradient:"from-red-500 to-rose-700"},{id:"white",label:"",gradient:"from-gray-100 to-gray-300"},{id:"rainbow",label:"",gradient:"from-red-400 via-yellow-400 to-blue-500"}];function EF({storySummary:e,onStorySummaryChange:t,emotions:n,onEmotionsChange:r,atmosphereColors:s,onAtmosphereColorsChange:i,lucidityLevel:a,onLucidityLevelChange:o}){const c=h=>{n.includes(h)?r(n.filter(f=>f!==h)):r([...n,h])},u=h=>{s.includes(h)?i(s.filter(f=>f!==h)):i([...s,h])},d=h=>h<=1?"":h<=3?"":h<=5?"":h<=7?"":h<=9?"":"";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"storySummary",className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx(Dl,{id:"storySummary",placeholder:"... ? ? ?",value:e,onChange:h=>t(h.target.value),className:"min-h-[120px] resize-none"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:SF.map(h=>l.jsxs("button",{type:"button",onClick:()=>c(h.id),className:W("px-3 py-1.5 rounded-full border text-sm font-medium transition-all",n.includes(h.id)?h.color+" border-2 scale-105":"bg-muted/50 border-border text-muted-foreground hover:bg-muted"),children:[l.jsx("span",{className:"mr-1",children:h.emoji}),h.label]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:kF.map(h=>l.jsxs("button",{type:"button",onClick:()=>u(h.id),className:W("relative overflow-hidden px-4 py-2 rounded-lg text-sm font-medium transition-all",s.includes(h.id)?"ring-2 ring-primary ring-offset-2 ring-offset-background scale-105":"opacity-70 hover:opacity-100"),children:[l.jsx("div",{className:W("absolute inset-0 bg-gradient-to-br",h.gradient)}),l.jsx("span",{className:"relative text-white drop-shadow-md",children:h.label})]},h.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-base font-medium flex items-center gap-2",children:"  (Lucidity)"}),l.jsxs(xe,{variant:"secondary",className:"text-sm",children:[a,"/10 - ",d(a)]})]}),l.jsx(pE,{value:[a],onValueChange:([h])=>o(h),min:0,max:10,step:1,className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]})]})}const Q0=p.createContext({});function J0(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ld=p.createContext(null),Z0=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jF extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CF({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(Z0);return p.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(jF,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const TF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=J0(PF),c=p.useId(),u=p.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),d=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[n]),p.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(e=l.jsx(CF,{isPresent:n,children:e})),l.jsx(Ld.Provider,{value:d,children:e})};function PF(){return new Map}function gE(e=!0){const t=p.useContext(Ld);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{e&&s(i)},[e]);const a=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const wc=e=>e.key||"";function Dx(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const eg=typeof window<"u",yE=eg?p.useLayoutEffect:p.useEffect,NF=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=gE(a),u=p.useMemo(()=>Dx(e),[e]),d=a&&!o?[]:u.map(wc),h=p.useRef(!0),f=p.useRef(u),m=J0(()=>new Map),[w,v]=p.useState(u),[b,x]=p.useState(u);yE(()=>{h.current=!1,f.current=u;for(let S=0;S<b.length;S++){const k=wc(b[S]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[b,d.length,d.join("-")]);const g=[];if(u!==w){let S=[...u];for(let k=0;k<b.length;k++){const E=b[k],C=wc(E);d.includes(C)||(S.splice(k,0,E),g.push(E))}i==="wait"&&g.length&&(S=g),x(Dx(S)),v(u);return}const{forceRender:y}=p.useContext(Q0);return l.jsx(l.Fragment,{children:b.map(S=>{const k=wc(S),E=a&&!o?!1:u===b||d.includes(k),C=()=>{if(m.has(k))m.set(k,!0);else return;let j=!0;m.forEach(T=>{T||(j=!1)}),j&&(y==null||y(),x(f.current),a&&(c==null||c()),r&&r())};return l.jsx(TF,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:C,children:S},k)})})},Gt=e=>e;let vE=Gt;function tg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ia=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},xr=e=>e*1e3,wr=e=>e/1e3,_F={useManualTiming:!1};function MF(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&r?t:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const bc=["read","resolveKeyframes","update","preRender","render","postRender"],RF=40;function xE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=bc.reduce((x,g)=>(x[g]=MF(i),x),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,RF),1),s.timestamp=x,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},w=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:bc.reduce((x,g)=>{const y=a[g];return x[g]=(S,k=!1,E=!1)=>(n||w(),y.schedule(S,k,E)),x},{}),cancel:x=>{for(let g=0;g<bc.length;g++)a[bc[g]].cancel(x)},state:s,steps:a}}const{schedule:Te,cancel:ws,state:st,steps:ef}=xE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),wE=p.createContext({strict:!1}),Ix={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},La={};for(const e in Ix)La[e]={isEnabled:t=>Ix[e].some(n=>!!t[n])};function AF(e){for(const t in e)La[t]={...La[t],...e[t]}}const OF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ou(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OF.has(e)}let bE=e=>!Ou(e);function DF(e){e&&(bE=t=>t.startsWith("on")?!Ou(t):e(t))}try{DF(require("@emotion/is-prop-valid").default)}catch{}function IF(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(bE(s)||n===!0&&Ou(s)||!t&&!Ou(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function LF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const $d=p.createContext({});function gl(e){return typeof e=="string"||Array.isArray(e)}function Fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rg=["initial",...ng];function Bd(e){return Fd(e.animate)||rg.some(t=>gl(e[t]))}function SE(e){return!!(Bd(e)||e.variants)}function $F(e,t){if(Bd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||gl(n)?n:void 0,animate:gl(r)?r:void 0}}return e.inherit!==!1?t:{}}function FF(e){const{initial:t,animate:n}=$F(e,p.useContext($d));return p.useMemo(()=>({initial:t,animate:n}),[Lx(t),Lx(n)])}function Lx(e){return Array.isArray(e)?e.join(" "):e}const BF=Symbol.for("motionComponentSymbol");function Qi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zF(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Qi(n)&&(n.current=r))},[t])}const sg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VF="framerAppearId",kE="data-"+sg(VF),{schedule:ig}=xE(queueMicrotask,!1),EE=p.createContext({});function UF(e,t,n,r,s){var i,a;const{visualElement:o}=p.useContext($d),c=p.useContext(wE),u=p.useContext(Ld),d=p.useContext(Z0).reducedMotion,h=p.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=p.useContext(EE);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&WF(h.current,n,s,m);const w=p.useRef(!1);p.useInsertionEffect(()=>{f&&w.current&&f.update(n,u)});const v=n[kE],b=p.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return yE(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ig.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),b.current=!1))}),f}function WF(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:jE(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Qi(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function jE(e){if(e)return e.options.allowProjection!==!1?e.projection:jE(e.parent)}function HF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,a;e&&AF(e);function o(u,d){let h;const f={...p.useContext(Z0),...u,layoutId:GF(u)},{isStatic:m}=f,w=FF(u),v=r(u,m);if(!m&&eg){KF();const b=qF(f);h=b.MeasureLayout,w.visualElement=UF(s,v,f,t,b.ProjectionNode)}return l.jsxs($d.Provider,{value:w,children:[h&&w.visualElement?l.jsx(h,{visualElement:w.visualElement,...f}):null,n(s,u,zF(v,w.visualElement,d),v,m,w.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=p.forwardRef(o);return c[BF]=s,c}function GF({layoutId:e}){const t=p.useContext(Q0).id;return t&&e!==void 0?t+"-"+e:e}function KF(e,t){p.useContext(wE).strict}function qF(e){const{drag:t,layout:n}=La;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ag(e){return typeof e!="string"||e.includes("-")?!1:!!(YF.indexOf(e)>-1||/[A-Z]/u.test(e))}function $x(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function og(e,t,n,r){if(typeof t=="function"){const[s,i]=$x(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=$x(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Jm=e=>Array.isArray(e),XF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),QF=e=>Jm(e)?e[e.length-1]||0:e,gt=e=>!!(e&&e.getVelocity);function Kc(e){const t=gt(e)?e.get():e;return XF(t)?t.toValue():t}function JF({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const a={latestValues:ZF(r,s,i,e),renderState:t()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const CE=e=>(t,n)=>{const r=p.useContext($d),s=p.useContext(Ld),i=()=>JF(e,t,r,s);return n?i():J0(i)};function ZF(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Kc(i[f]);let{initial:a,animate:o}=e;const c=Bd(e),u=SE(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Fd(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=og(e,f[m]);if(w){const{transitionEnd:v,transition:b,...x}=w;for(const g in x){let y=x[g];if(Array.isArray(y)){const S=d?y.length-1:0;y=y[S]}y!==null&&(s[g]=y)}for(const g in v)s[g]=v[g]}}}return s}const Qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vi=new Set(Qa),TE=e=>t=>typeof t=="string"&&t.startsWith(e),PE=TE("--"),e6=TE("var(--"),lg=e=>e6(e)?t6.test(e.split("/*")[0].trim()):!1,t6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pr=(e,t,n)=>n>t?t:n<e?e:n,Ja={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yl={...Ja,transform:e=>Pr(0,1,e)},Sc={...Ja,default:1},Ll=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vr=Ll("deg"),tr=Ll("%"),ne=Ll("px"),n6=Ll("vh"),r6=Ll("vw"),Fx={...tr,parse:e=>tr.parse(e)/100,transform:e=>tr.transform(e*100)},s6={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},i6={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:Vr,skewX:Vr,skewY:Vr,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:yl,originX:Fx,originY:Fx,originZ:ne},Bx={...Ja,transform:Math.round},cg={...s6,...i6,zIndex:Bx,size:ne,fillOpacity:yl,strokeOpacity:yl,numOctaves:Bx},a6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o6=Qa.length;function l6(e,t,n){let r="",s=!0;for(let i=0;i<o6;i++){const a=Qa[i],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=NE(o,cg[a]);if(!c){s=!1;const d=a6[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ug(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(vi.has(c)){a=!0;continue}else if(PE(c)){s[c]=u;continue}else{const d=NE(u,cg[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=l6(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const c6={offset:"stroke-dashoffset",array:"stroke-dasharray"},u6={offset:"strokeDashoffset",array:"strokeDasharray"};function d6(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?c6:u6;e[i.offset]=ne.transform(-r);const a=ne.transform(t),o=ne.transform(n);e[i.array]=`${a} ${o}`}function zx(e,t,n){return typeof e=="string"?e:ne.transform(t+n*e)}function h6(e,t,n){const r=zx(t,e.x,e.width),s=zx(n,e.y,e.height);return`${r} ${s}`}function dg(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(ug(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:w}=e;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=h6(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&d6(f,a,o,c,!1)}const hg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_E=()=>({...hg(),attrs:{}}),fg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ME(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const RE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AE(e,t,n,r){ME(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(RE.has(s)?s:sg(s),t.attrs[s])}const Du={};function f6(e){Object.assign(Du,e)}function OE(e,{layout:t,layoutId:n}){return vi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Du[e]||e==="opacity")}function mg(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(gt(s[a])||t.style&&gt(t.style[a])||OE(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function DE(e,t,n){const r=mg(e,t,n);for(const s in e)if(gt(e[s])||gt(t[s])){const i=Qa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function m6(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Vx=["x","y","width","height","cx","cy","r"],p6={useVisualState:CE({scrapeMotionValuesFromProps:DE,createRenderState:_E,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const o in s)if(vi.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<Vx.length;o++){const c=Vx[o];e[c]!==t[c]&&(a=!0)}a&&Te.read(()=>{m6(n,r),Te.render(()=>{dg(r,s,fg(n.tagName),e.transformTemplate),AE(n,r)})})}})},g6={useVisualState:CE({scrapeMotionValuesFromProps:mg,createRenderState:hg})};function IE(e,t,n){for(const r in t)!gt(t[r])&&!OE(r,n)&&(e[r]=t[r])}function y6({transformTemplate:e},t){return p.useMemo(()=>{const n=hg();return ug(n,t,e),Object.assign({},n.vars,n.style)},[t])}function v6(e,t){const n=e.style||{},r={};return IE(r,n,e),Object.assign(r,y6(e,t)),r}function x6(e,t){const n={},r=v6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function w6(e,t,n,r){const s=p.useMemo(()=>{const i=_E();return dg(i,t,fg(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};IE(i,e.style,e),s.style={...i,...s.style}}return s}function b6(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(ag(n)?w6:x6)(r,i,a,n),u=IF(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=p.useMemo(()=>gt(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function S6(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...ag(r)?p6:g6,preloadedFeatures:e,useRender:b6(s),createVisualElement:t,Component:r};return HF(a)}}function LE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zd(e,t,n){const r=e.getProps();return og(r,t,n!==void 0?n:r.custom,e)}const k6=tg(()=>window.ScrollTimeline!==void 0);class E6{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(k6()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j6 extends E6{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function pg(e,t){return e?e[t]||e.default||e:void 0}const Zm=2e4;function $E(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zm;)t+=n,r=e.next(t);return t>=Zm?1/0:t}function gg(e){return typeof e=="function"}function Ux(e,t){e.timeline=t,e.onfinish=null}const yg=e=>Array.isArray(e)&&typeof e[0]=="number",C6={linearEasing:void 0};function T6(e,t){const n=tg(e);return()=>{var r;return(r=C6[t])!==null&&r!==void 0?r:n()}}const Iu=T6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ia(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function BE(e){return!!(typeof e=="function"&&Iu()||!e||typeof e=="string"&&(e in ep||Iu())||yg(e)||Array.isArray(e)&&e.every(BE))}const vo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ep={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vo([0,.65,.55,1]),circOut:vo([.55,0,1,.45]),backIn:vo([.31,.01,.66,-.59]),backOut:vo([.33,1.53,.69,.99])};function zE(e,t){if(e)return typeof e=="function"&&Iu()?FE(e,t):yg(e)?vo(e):Array.isArray(e)?e.map(n=>zE(n,t)||ep.easeOut):ep[e]}const kn={x:!1,y:!1};function VE(){return kn.x||kn.y}function P6(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function UE(e,t){const n=P6(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wx(e){return t=>{t.pointerType==="touch"||VE()||e(t)}}function N6(e,t,n={}){const[r,s,i]=UE(e,n),a=Wx(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=Wx(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const WE=(e,t)=>t?e===t?!0:WE(e,t.parentElement):!1,vg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function M6(e){return _6.has(e.tagName)||e.tabIndex!==-1}const xo=new WeakSet;function Hx(e){return t=>{t.key==="Enter"&&e(t)}}function tf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const R6=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Hx(()=>{if(xo.has(n))return;tf(n,"down");const s=Hx(()=>{tf(n,"up")}),i=()=>tf(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Gx(e){return vg(e)&&!VE()}function A6(e,t,n={}){const[r,s,i]=UE(e,n),a=o=>{const c=o.currentTarget;if(!Gx(o)||xo.has(c))return;xo.add(c);const u=t(o),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Gx(m)||!xo.has(c))&&(xo.delete(c),typeof u=="function"&&u(m,{success:w}))},h=m=>{d(m,n.useGlobalTarget||WE(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{!M6(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>R6(u,s),s)}),i}function O6(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}const HE=new Set(["width","height","top","left","right","bottom",...Qa]);let qc;function D6(){qc=void 0}const nr={now:()=>(qc===void 0&&nr.set(st.isProcessing||_F.useManualTiming?st.timestamp:performance.now()),qc),set:e=>{qc=e,queueMicrotask(D6)}};function xg(e,t){e.indexOf(t)===-1&&e.push(t)}function wg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bg{constructor(){this.subscriptions=[]}add(t){return xg(this.subscriptions,t),()=>wg(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function GE(e,t){return t?e*(1e3/t):0}const Kx=30,I6=e=>!isNaN(parseFloat(e));class L6{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=nr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=nr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=I6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kx);return GE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(e,t){return new L6(e,t)}function $6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vl(n))}function F6(e,t){const n=zd(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=QF(i[a]);$6(e,a,o)}}function B6(e){return!!(gt(e)&&e.add)}function tp(e,t){const n=e.getValue("willChange");if(B6(n))return n.add(t)}function KE(e){return e.props[kE]}const qE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,z6=1e-7,V6=12;function U6(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=qE(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>z6&&++o<V6);return a}function $l(e,t,n,r){if(e===t&&n===r)return Gt;const s=i=>U6(i,0,1,e,n);return i=>i===0||i===1?i:qE(s(i),t,r)}const YE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XE=e=>t=>1-e(1-t),QE=$l(.33,1.53,.69,.99),Sg=XE(QE),JE=YE(Sg),ZE=e=>(e*=2)<1?.5*Sg(e):.5*(2-Math.pow(2,-10*(e-1))),kg=e=>1-Math.sin(Math.acos(e)),ej=XE(kg),tj=YE(kg),nj=e=>/^0[^.\s]+$/u.test(e);function W6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nj(e):!0}const Oo=e=>Math.round(e*1e5)/1e5,Eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H6(e){return e==null}const G6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jg=(e,t)=>n=>!!(typeof n=="string"&&G6.test(n)&&n.startsWith(e)||t&&!H6(n)&&Object.prototype.hasOwnProperty.call(n,t)),rj=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Eg);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},K6=e=>Pr(0,255,e),nf={...Ja,transform:e=>Math.round(K6(e))},Ks={test:jg("rgb","red"),parse:rj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+nf.transform(e)+", "+nf.transform(t)+", "+nf.transform(n)+", "+Oo(yl.transform(r))+")"};function q6(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const np={test:jg("#"),parse:q6,transform:Ks.transform},Ji={test:jg("hsl","hue"),parse:rj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tr.transform(Oo(t))+", "+tr.transform(Oo(n))+", "+Oo(yl.transform(r))+")"},ft={test:e=>Ks.test(e)||np.test(e)||Ji.test(e),parse:e=>Ks.test(e)?Ks.parse(e):Ji.test(e)?Ji.parse(e):np.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ks.transform(e):Ji.transform(e)},Y6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Eg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Y6))===null||n===void 0?void 0:n.length)||0)>0}const sj="number",ij="color",Q6="var",J6="var(",qx="${}",Z6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Z6,c=>(ft.test(c)?(r.color.push(i),s.push(ij),n.push(ft.parse(c))):c.startsWith(J6)?(r.var.push(i),s.push(Q6),n.push(c)):(r.number.push(i),s.push(sj),n.push(parseFloat(c))),++i,qx)).split(qx);return{values:n,split:o,indexes:r,types:s}}function aj(e){return xl(e).values}function oj(e){const{split:t,types:n}=xl(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===sj?i+=Oo(s[a]):o===ij?i+=ft.transform(s[a]):i+=s[a]}return i}}const eB=e=>typeof e=="number"?0:e;function tB(e){const t=aj(e);return oj(e)(t.map(eB))}const bs={test:X6,parse:aj,createTransformer:oj,getAnimatableNone:tB},nB=new Set(["brightness","contrast","saturate","opacity"]);function rB(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Eg)||[];if(!r)return e;const s=n.replace(r,"");let i=nB.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const sB=/\b([a-z-]*)\(.*?\)/gu,rp={...bs,getAnimatableNone:e=>{const t=e.match(sB);return t?t.map(rB).join(" "):e}},iB={...cg,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:rp,WebkitFilter:rp},Cg=e=>iB[e];function lj(e,t){let n=Cg(e);return n!==rp&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aB=new Set(["auto","none","0"]);function oB(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!aB.has(i)&&xl(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=lj(n,s)}const Yx=e=>e===Ja||e===ne,Xx=(e,t)=>parseFloat(e.split(", ")[t]),Qx=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Xx(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Xx(i[1],e):0}},lB=new Set(["x","y","z"]),cB=Qa.filter(e=>!lB.has(e));function uB(e){const t=[];return cB.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $a={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qx(4,13),y:Qx(5,14)};$a.translateX=$a.x;$a.translateY=$a.y;const ni=new Set;let sp=!1,ip=!1;function cj(){if(ip){const e=Array.from(ni).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=uB(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ip=!1,sp=!1,ni.forEach(e=>e.complete()),ni.clear()}function uj(){ni.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ip=!0)})}function dB(){uj(),cj()}class Tg{constructor(t,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ni.add(this),sp||(sp=!0,Te.read(uj),Te.resolveKeyframes(cj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ni.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ni.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fB(e){const t=hB.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function hj(e,t,n=1){const[r,s]=fB(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return dj(a)?parseFloat(a):a}return lg(s)?hj(s,t,n+1):s}const fj=e=>t=>t.test(e),mB={test:e=>e==="auto",parse:e=>e},mj=[Ja,ne,tr,Vr,r6,n6,mB],Jx=e=>mj.find(fj(e));class pj extends Tg{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),lg(u))){const d=hj(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!HE.has(r)||t.length!==2)return;const[s,i]=t,a=Jx(s),o=Jx(i);if(a!==o)if(Yx(a)&&Yx(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)W6(t[s])&&r.push(s);r.length&&oB(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=$a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Zx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bs.test(e)||e==="0")&&!e.startsWith("url("));function pB(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gB(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Zx(s,t),o=Zx(i,t);return!a||!o?!1:pB(e)||(n==="spring"||gg(n))&&r}const yB=e=>e!==null;function Vd(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(yB),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const vB=40;class gj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=nr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dB(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=nr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!gB(t,r,s,i))if(a)this.options.duration=0;else{c&&c(Vd(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ae=(e,t,n)=>e+(t-e)*n;function rf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;s=rf(c,o,e+1/3),i=rf(c,o,e),a=rf(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Lu(e,t){return n=>n>0?t:e}const sf=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},wB=[np,Ks,Ji],bB=e=>wB.find(t=>t.test(e));function ew(e){const t=bB(e);if(!t)return!1;let n=t.parse(e);return t===Ji&&(n=xB(n)),n}const tw=(e,t)=>{const n=ew(e),r=ew(t);if(!n||!r)return Lu(e,t);const s={...n};return i=>(s.red=sf(n.red,r.red,i),s.green=sf(n.green,r.green,i),s.blue=sf(n.blue,r.blue,i),s.alpha=Ae(n.alpha,r.alpha,i),Ks.transform(s))},SB=(e,t)=>n=>t(e(n)),Fl=(...e)=>e.reduce(SB),ap=new Set(["none","hidden"]);function kB(e,t){return ap.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function EB(e,t){return n=>Ae(e,t,n)}function Pg(e){return typeof e=="number"?EB:typeof e=="string"?lg(e)?Lu:ft.test(e)?tw:TB:Array.isArray(e)?yj:typeof e=="object"?ft.test(e)?tw:jB:Lu}function yj(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Pg(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function jB(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Pg(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function CB(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=(n=e.values[o])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const TB=(e,t)=>{const n=bs.createTransformer(t),r=xl(e),s=xl(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ap.has(e)&&!s.values.length||ap.has(t)&&!r.values.length?kB(e,t):Fl(yj(CB(r,s),s.values),n):Lu(e,t)};function vj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ae(e,t,n):Pg(e)(e,t)}const PB=5;function xj(e,t,n){const r=Math.max(t-PB,0);return GE(n-e(r),t-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},af=.001;function NB({duration:e=Fe.duration,bounce:t=Fe.bounce,velocity:n=Fe.velocity,mass:r=Fe.mass}){let s,i,a=1-t;a=Pr(Fe.minDamping,Fe.maxDamping,a),e=Pr(Fe.minDuration,Fe.maxDuration,wr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=op(u,a),w=Math.exp(-h);return af-f/m*w},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,w=Math.exp(-h),v=op(Math.pow(u,2),a);return(-s(u)+af>0?-1:1)*((f-m)*w)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-af+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const o=5/e,c=MB(s,i,o);if(e=xr(e),isNaN(c))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const _B=12;function MB(e,t,n){let r=n;for(let s=1;s<_B;s++)r=r-e(r)/t(r);return r}function op(e,t){return e*Math.sqrt(1-t*t)}const RB=["duration","bounce"],AB=["stiffness","damping","mass"];function nw(e,t){return t.some(n=>e[n]!==void 0)}function OB(e){let t={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...e};if(!nw(e,AB)&&nw(e,RB))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Pr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Fe.mass,stiffness:s,damping:i}}else{const n=NB(e);t={...t,...n,mass:Fe.mass},t.isResolvedFromDuration=!0}return t}function wj(e=Fe.visualDuration,t=Fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=OB({...n,velocity:-wr(n.velocity||0)}),w=f||0,v=u/(2*Math.sqrt(c*d)),b=a-i,x=wr(Math.sqrt(c/d)),g=Math.abs(b)<5;r||(r=g?Fe.restSpeed.granular:Fe.restSpeed.default),s||(s=g?Fe.restDelta.granular:Fe.restDelta.default);let y;if(v<1){const k=op(x,v);y=E=>{const C=Math.exp(-v*x*E);return a-C*((w+v*x*b)/k*Math.sin(k*E)+b*Math.cos(k*E))}}else if(v===1)y=k=>a-Math.exp(-x*k)*(b+(w+x*b)*k);else{const k=x*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*x*E),j=Math.min(k*E,300);return a-C*((w+v*x*b)*Math.sinh(j)+k*b*Math.cosh(j))/k}}const S={calculatedDuration:m&&h||null,next:k=>{const E=y(k);if(m)o.done=k>=h;else{let C=0;v<1&&(C=k===0?xr(w):xj(y,k,E));const j=Math.abs(C)<=r,T=Math.abs(a-E)<=s;o.done=j&&T}return o.value=o.done?a:E,o},toString:()=>{const k=Math.min($E(S),Zm),E=FE(C=>S.next(k*C).value,k,30);return k+"ms "+E}};return S}function rw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>o!==void 0&&j<o||c!==void 0&&j>c,w=j=>o===void 0?c:c===void 0||Math.abs(o-j)<Math.abs(c-j)?o:c;let v=n*t;const b=h+v,x=a===void 0?b:a(b);x!==b&&(v=x-h);const g=j=>-v*Math.exp(-j/r),y=j=>x+g(j),S=j=>{const T=g(j),P=y(j);f.done=Math.abs(T)<=u,f.value=f.done?x:P};let k,E;const C=j=>{m(f.value)&&(k=j,E=wj({keyframes:[f.value,w(f.value)],velocity:xj(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let T=!1;return!E&&k===void 0&&(T=!0,S(j),C(j)),k!==void 0&&j>=k?E.next(j-k):(!T&&S(j),f)}}}const DB=$l(.42,0,1,1),IB=$l(0,0,.58,1),bj=$l(.42,0,.58,1),LB=e=>Array.isArray(e)&&typeof e[0]!="number",$B={linear:Gt,easeIn:DB,easeInOut:bj,easeOut:IB,circIn:kg,circInOut:tj,circOut:ej,backIn:Sg,backInOut:JE,backOut:QE,anticipate:ZE},sw=e=>{if(yg(e)){vE(e.length===4);const[t,n,r,s]=e;return $l(t,n,r,s)}else if(typeof e=="string")return $B[e];return e};function FB(e,t,n){const r=[],s=n||vj,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Gt:t;o=Fl(c,o)}r.push(o)}return r}function BB(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(vE(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=FB(t,r,s),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ia(e[h],e[h+1],d);return o[h](f)};return n?d=>u(Pr(e[0],e[i-1],d)):u}function zB(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ia(0,t,r);e.push(Ae(n,1,s))}}function VB(e){const t=[0];return zB(t,e.length-1),t}function UB(e,t){return e.map(n=>n*t)}function WB(e,t){return e.map(()=>t||bj).splice(0,e.length-1)}function $u({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=LB(r)?r.map(sw):sw(r),i={done:!1,value:t[0]},a=UB(n&&n.length===t.length?n:VB(t),e),o=BB(a,t,{ease:Array.isArray(s)?s:WB(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const HB=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Te.update(t,!0),stop:()=>ws(t),now:()=>st.isProcessing?st.timestamp:nr.now()}},GB={decay:rw,inertia:rw,tween:$u,keyframes:$u,spring:wj},KB=e=>e/100;class Ng extends gj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Tg,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=gg(n)?n:GB[n]||$u;let c,u;o!==$u&&typeof t[0]!="number"&&(c=Fl(KB,vj(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=$E(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,S=i;if(m){const j=Math.min(this.currentTime,d)/h;let T=Math.floor(j),P=j%1;!P&&j>=1&&(P=1),P===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(w==="reverse"?(P=1-P,v&&(P-=v/h)):w==="mirror"&&(S=a)),y=Pr(0,1,P)*h}const k=g?{done:!1,value:c[0]}:S.next(y);o&&(k.value=o(k.value));let{done:E}=k;!g&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&s!==void 0&&(k.value=Vd(c,this.options,s)),b&&b(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?wr(t.calculatedDuration):0}get time(){return wr(this.currentTime)}set time(t){t=xr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=HB,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qB=new Set(["opacity","clipPath","filter","transform"]);function YB(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=zE(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const XB=tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fu=10,QB=2e4;function JB(e){return gg(e.type)||e.type==="spring"||!BE(e.ease)}function ZB(e,t){const n=new Ng({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<QB;)r=n.sample(i),s.push(r.value),i+=Fu;return{times:void 0,keyframes:s,duration:i-Fu,ease:"linear"}}const Sj={anticipate:ZE,backInOut:JE,circInOut:tj};function ez(e){return e in Sj}class iw extends gj{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new pj(i,(a,o)=>this.onKeyframesResolved(a,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Iu()&&ez(i)&&(i=Sj[i]),JB(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:w,...v}=this.options,b=ZB(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,s=b.times,i=b.ease,a="keyframes"}const d=YB(o.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ux(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Vd(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return wr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return wr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;Ux(r,t)}return Gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,w=new Ng({...m,keyframes:r,duration:s,type:i,ease:a,times:o,isGenerator:!0}),v=xr(this.time);u.setWithVelocity(w.sample(v-Fu).value,w.sample(v).value,Fu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return XB()&&r&&qB.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const tz={type:"spring",stiffness:500,damping:25,restSpeed:10},nz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rz={type:"keyframes",duration:.8},sz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iz=(e,{keyframes:t})=>t.length>2?rz:vi.has(e)?e.startsWith("scale")?nz(t[1]):tz:sz;function az({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _g=(e,t,n,r={},s,i)=>a=>{const o=pg(r,e)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-xr(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};az(o)||(d={...d,...iz(e,d)}),d.duration&&(d.duration=xr(d.duration)),d.repeatDelay&&(d.repeatDelay=xr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Vd(d.keyframes,o);if(f!==void 0)return Te.update(()=>{d.onUpdate(f),d.onComplete()}),new j6([])}return!i&&iw.supports(d)?new iw(d):new Ng(d)};function oz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&oz(d,h))continue;const w={delay:n,...pg(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=KE(e);if(x){const g=window.MotionHandoffAnimation(x,h,Te);g!==null&&(w.startTime=g,v=!0)}}tp(e,h),f.start(_g(h,f,m,e.shouldReduceMotion&&HE.has(h)?{type:!1}:w,e,v));const b=f.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Te.update(()=>{o&&F6(e,o)})}),u}function lp(e,t,n={}){var r;const s=zd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(kj(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return lz(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function lz(e,t,n=0,r=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(cz).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(lp(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function cz(e,t){return e.sortNodePosition(t)}function uz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>lp(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=lp(e,t,n);else{const s=typeof t=="function"?zd(e,t,n.custom):t;r=Promise.all(kj(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const dz=rg.length;function Ej(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ej(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<dz;n++){const r=rg[n],s=e.props[r];(gl(s)||s===!1)&&(t[r]=s)}return t}const hz=[...ng].reverse(),fz=ng.length;function mz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>uz(e,n,r)))}function pz(e){let t=mz(e),n=aw(),r=!0;const s=c=>(u,d)=>{var h;const f=zd(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:w,...v}=f;u={...u,...v,...w}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=Ej(e.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let b=0;b<fz;b++){const x=hz[b],g=n[x],y=u[x]!==void 0?u[x]:d[x],S=gl(y),k=x===c?g.isActive:null;k===!1&&(w=b);let E=y===d[x]&&y!==u[x]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...m},!g.isActive&&k===null||!y&&!g.prevProp||Fd(y)||typeof y=="boolean")continue;const C=gz(g.prevProp,y);let j=C||x===c&&g.isActive&&!E&&S||b>w&&S,T=!1;const P=Array.isArray(y)?y:[y];let M=P.reduce(s(x),{});k===!1&&(M={});const{prevResolvedValues:O={}}=g,U={...O,...M},D=z=>{j=!0,f.has(z)&&(T=!0,f.delete(z)),g.needsAnimating[z]=!0;const _=e.getValue(z);_&&(_.liveStyle=!1)};for(const z in U){const _=M[z],N=O[z];if(m.hasOwnProperty(z))continue;let R=!1;Jm(_)&&Jm(N)?R=!LE(_,N):R=_!==N,R?_!=null?D(z):f.add(z):_!==void 0&&f.has(z)?D(z):g.protectedKeys[z]=!0}g.prevProp=y,g.prevResolvedValues=M,g.isActive&&(m={...m,...M}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&C)||T)&&h.push(...P.map(z=>({animation:z,options:{type:x}})))}if(f.size){const b={};f.forEach(x=>{const g=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),b[x]=g??null}),h.push({animation:b})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=aw(),r=!0}}}function gz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LE(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aw(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class Ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yz extends Ns{constructor(t){super(t),t.animationState||(t.animationState=pz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let vz=0;class xz extends Ns{constructor(){super(...arguments),this.id=vz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wz={animation:{Feature:yz},exit:{Feature:xz}};function wl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bl(e){return{point:{x:e.pageX,y:e.pageY}}}const bz=e=>t=>vg(t)&&e(t,Bl(t));function Do(e,t,n,r){return wl(e,t,bz(n),r)}const ow=(e,t)=>Math.abs(e-t);function Sz(e,t){const n=ow(e.x,t.x),r=ow(e.y,t.y);return Math.sqrt(n**2+r**2)}class jj{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=lf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Sz(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=h,{timestamp:v}=st;this.history.push({...w,timestamp:v});const{onStart:b,onMove:x}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=of(f,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=lf(h.type==="pointercancel"?this.lastMoveEventInfo:of(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),w&&w(h,b)},!vg(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Bl(t),o=of(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=st;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,lf(o,this.history)),this.removeListeners=Fl(Do(this.contextWindow,"pointermove",this.handlePointerMove),Do(this.contextWindow,"pointerup",this.handlePointerUp),Do(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function of(e,t){return t?{point:t(e.point)}:e}function lw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lf({point:e},t){return{point:e,delta:lw(e,Cj(t)),offset:lw(e,kz(t)),velocity:Ez(t,.1)}}function kz(e){return e[0]}function Cj(e){return e[e.length-1]}function Ez(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Cj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>xr(t)));)n--;if(!r)return{x:0,y:0};const i=wr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Tj=1e-4,jz=1-Tj,Cz=1+Tj,Pj=.01,Tz=0-Pj,Pz=0+Pj;function qt(e){return e.max-e.min}function Nz(e,t,n){return Math.abs(e-t)<=n}function cw(e,t,n,r=.5){e.origin=r,e.originPoint=Ae(t.min,t.max,e.origin),e.scale=qt(n)/qt(t),e.translate=Ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jz&&e.scale<=Cz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Tz&&e.translate<=Pz||isNaN(e.translate))&&(e.translate=0)}function Io(e,t,n,r){cw(e.x,t.x,n.x,r?r.originX:void 0),cw(e.y,t.y,n.y,r?r.originY:void 0)}function uw(e,t,n){e.min=n.min+t.min,e.max=e.min+qt(t)}function _z(e,t,n){uw(e.x,t.x,n.x),uw(e.y,t.y,n.y)}function dw(e,t,n){e.min=t.min-n.min,e.max=e.min+qt(t)}function Lo(e,t,n){dw(e.x,t.x,n.x),dw(e.y,t.y,n.y)}function Mz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ae(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ae(n,e,r.max):Math.min(e,n)),e}function hw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Rz(e,{top:t,left:n,bottom:r,right:s}){return{x:hw(e.x,n,s),y:hw(e.y,t,r)}}function fw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Az(e,t){return{x:fw(e.x,t.x),y:fw(e.y,t.y)}}function Oz(e,t){let n=.5;const r=qt(e),s=qt(t);return s>r?n=Ia(t.min,t.max-r,e.min):r>s&&(n=Ia(e.min,e.max-s,t.min)),Pr(0,1,n)}function Dz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cp=.35;function Iz(e=cp){return e===!1?e=0:e===!0&&(e=cp),{x:mw(e,"left","right"),y:mw(e,"top","bottom")}}function mw(e,t,n){return{min:pw(e,t),max:pw(e,n)}}function pw(e,t){return typeof e=="number"?e:e[t]||0}const gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:gw(),y:gw()}),yw=()=>({min:0,max:0}),ze=()=>({x:yw(),y:yw()});function en(e){return[e("x"),e("y")]}function Nj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Lz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $z(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cf(e){return e===void 0||e===1}function up({scale:e,scaleX:t,scaleY:n}){return!cf(e)||!cf(t)||!cf(n)}function $s(e){return up(e)||_j(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _j(e){return vw(e.x)||vw(e.y)}function vw(e){return e&&e!=="0%"}function Bu(e,t,n){const r=e-n,s=t*r;return n+s}function xw(e,t,n,r,s){return s!==void 0&&(e=Bu(e,s,r)),Bu(e,n,r)+t}function dp(e,t=0,n=1,r,s){e.min=xw(e.min,t,n,r,s),e.max=xw(e.max,t,n,r,s)}function Mj(e,{x:t,y:n}){dp(e.x,t.translate,t.scale,t.originPoint),dp(e.y,n.translate,n.scale,n.originPoint)}const ww=.999999999999,bw=1.0000000000001;function Fz(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ta(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Mj(e,a)),r&&$s(i.latestValues)&&ta(e,i.latestValues))}t.x<bw&&t.x>ww&&(t.x=1),t.y<bw&&t.y>ww&&(t.y=1)}function ea(e,t){e.min=e.min+t,e.max=e.max+t}function Sw(e,t,n,r,s=.5){const i=Ae(e.min,e.max,s);dp(e,t,n,i,r)}function ta(e,t){Sw(e.x,t.x,t.scaleX,t.scale,t.originX),Sw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Rj(e,t){return Nj($z(e.getBoundingClientRect(),t))}function Bz(e,t,n){const r=Rj(e,n),{scroll:s}=t;return s&&(ea(r.x,s.offset.x),ea(r.y,s.offset.y)),r}const Aj=({current:e})=>e?e.ownerDocument.defaultView:null,zz=new WeakMap;class Vz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:w}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O6(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(b=>{let x=this.getAxisMotionValue(b).get()||0;if(tr.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[b];y&&(x=qt(y)*(parseFloat(x)/100))}}this.originPoint[b]=x}),w&&Te.postRender(()=>w(d,h)),tp(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=Uz(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),c=()=>en(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new jj(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Aj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Te.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!kc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Mz(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Rz(s.layoutBox,n):this.constraints=!1,this.elastic=Iz(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Dz(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Qi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Bz(r,s.root,this.visualElement.getTransformPagePoint());let a=Az(s.layout.layoutBox,i);if(n){const o=n(Lz(a));this.hasMutatedConstraints=!!o,o&&(a=Nj(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=en(d=>{if(!kc(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return tp(this.visualElement,t),r.start(_g(t,r,0,n,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){en(n=>{const{drag:r}=this.getProps();if(!kc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(t[n]-Ae(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};en(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=Oz({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(a=>{if(!kc(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Ae(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;zz.set(this.visualElement,this);const t=this.visualElement.current,n=Do(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Qi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Te.read(r);const a=wl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(en(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=cp,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function kc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Uz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Wz extends Ns{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new Vz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const kw=e=>(t,n)=>{e&&Te.postRender(()=>e(t,n))};class Hz extends Ns{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new jj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Aj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:kw(t),onStart:kw(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Te.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Do(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ew(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const uo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=Ew(e,t.target.x),r=Ew(e,t.target.y);return`${n}% ${r}%`}},Gz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=bs.parse(e);if(s.length>5)return r;const i=bs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=Ae(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class Kz extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;f6(qz),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Te.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ig.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Oj(e){const[t,n]=gE(),r=p.useContext(Q0);return l.jsx(Kz,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(EE),isPresent:t,safeToRemove:n})}const qz={borderRadius:{...uo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uo,borderTopRightRadius:uo,borderBottomLeftRadius:uo,borderBottomRightRadius:uo,boxShadow:Gz};function Yz(e,t,n){const r=gt(e)?e:vl(e);return r.start(_g("",r,t,n)),r.animation}function Xz(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Qz=(e,t)=>e.depth-t.depth;class Jz{constructor(){this.children=[],this.isDirty=!1}add(t){xg(this.children,t),this.isDirty=!0}remove(t){wg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Qz),this.isDirty=!1,this.children.forEach(t)}}function Zz(e,t){const n=nr.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ws(r),e(i-t))};return Te.read(r,!0),()=>ws(r)}const Dj=["TopLeft","TopRight","BottomLeft","BottomRight"],eV=Dj.length,jw=e=>typeof e=="string"?parseFloat(e):e,Cw=e=>typeof e=="number"||ne.test(e);function tV(e,t,n,r,s,i){s?(e.opacity=Ae(0,n.opacity!==void 0?n.opacity:1,nV(r)),e.opacityExit=Ae(t.opacity!==void 0?t.opacity:1,0,rV(r))):i&&(e.opacity=Ae(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<eV;a++){const o=`border${Dj[a]}Radius`;let c=Tw(t,o),u=Tw(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Cw(c)===Cw(u)?(e[o]=Math.max(Ae(jw(c),jw(u),r),0),(tr.test(u)||tr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Ae(t.rotate||0,n.rotate||0,r))}function Tw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nV=Ij(0,.5,ej),rV=Ij(.5,.95,Gt);function Ij(e,t,n){return r=>r<e?0:r>t?1:n(Ia(e,t,r))}function Pw(e,t){e.min=t.min,e.max=t.max}function Zt(e,t){Pw(e.x,t.x),Pw(e.y,t.y)}function Nw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _w(e,t,n,r,s){return e-=t,e=Bu(e,1/n,r),s!==void 0&&(e=Bu(e,1/s,r)),e}function sV(e,t=0,n=1,r=.5,s,i=e,a=e){if(tr.test(t)&&(t=parseFloat(t),t=Ae(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Ae(i.min,i.max,r);e===i&&(o-=t),e.min=_w(e.min,t,n,o,s),e.max=_w(e.max,t,n,o,s)}function Mw(e,t,[n,r,s],i,a){sV(e,t[n],t[r],t[s],t.scale,i,a)}const iV=["x","scaleX","originX"],aV=["y","scaleY","originY"];function Rw(e,t,n,r){Mw(e.x,t,iV,n?n.x:void 0,r?r.x:void 0),Mw(e.y,t,aV,n?n.y:void 0,r?r.y:void 0)}function Aw(e){return e.translate===0&&e.scale===1}function Lj(e){return Aw(e.x)&&Aw(e.y)}function Ow(e,t){return e.min===t.min&&e.max===t.max}function oV(e,t){return Ow(e.x,t.x)&&Ow(e.y,t.y)}function Dw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $j(e,t){return Dw(e.x,t.x)&&Dw(e.y,t.y)}function Iw(e){return qt(e.x)/qt(e.y)}function Lw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lV{constructor(){this.members=[]}add(t){xg(this.members,t),t.scheduleRender()}remove(t){if(wg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cV(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wo=typeof window<"u"&&window.MotionDebug!==void 0,uf=["","X","Y","Z"],uV={visibility:"hidden"},$w=1e3;let dV=0;function df(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Fj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=KE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Fj(r)}function Bj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=dV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wo&&(Fs.totalNodes=Fs.resolvedTargetDeltas=Fs.recalculatedProjection=0),this.nodes.forEach(mV),this.nodes.forEach(xV),this.nodes.forEach(wV),this.nodes.forEach(pV),wo&&window.MotionDebug.record(Fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jz)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new bg),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Xz(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Zz(f,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Bw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||jV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),g=!this.targetLayout||!$j(this.targetLayout,w)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...pg(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||Bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fw);return}this.isUpdating||this.nodes.forEach(yV),this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(hV),this.nodes.forEach(fV),this.clearAllSnapshots();const o=nr.now();st.delta=Pr(0,1e3/60,o-st.timestamp),st.timestamp=o,st.isProcessing=!0,ef.update.process(st),ef.preRender.process(st),ef.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ig.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Lj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||$s(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),CV(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return ze();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(TV))){const{scroll:d}=this.root;d&&(ea(c.x,d.offset.x),ea(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=ze();if(Zt(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Zt(c,a),ea(c.x,h.offset.x),ea(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=ze();Zt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ta(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$s(d.latestValues)&&ta(c,d.latestValues)}return $s(this.latestValues)&&ta(c,this.latestValues),c}removeTransform(a){const o=ze();Zt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$s(u.latestValues))continue;up(u.latestValues)&&u.updateSnapshot();const d=ze(),h=u.measurePageBox();Zt(d,h),Rw(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $s(this.latestValues)&&Rw(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_z(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),Mj(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Lo(this.relativeTargetOrigin,this.target,m.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wo&&Fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||up(this.parent.latestValues)||_j(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===st.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Zt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Fz(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ze());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nw(this.prevProjectionDelta.x,this.projectionDelta.x),Nw(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),wo&&Fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zi(),this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ze(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=m!==w,b=this.getStack(),x=!b||b.members.length<=1,g=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(EV));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const k=S/1e3;zw(h.x,a.x,k),zw(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kV(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&oV(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ze()),Zt(y,this.relativeTarget)),v&&(this.animationValues=d,tV(d,u,this.latestValues,k,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=Yz(0,$w,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($w),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&zj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ze();const h=qt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=qt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Zt(o,c),ta(o,d),Io(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lV),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&df("z",a,u,this.animationValues);for(let d=0;d<uf.length;d++)df(`rotate${uf[d]}`,a,u,this.animationValues),df(`skew${uf[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uV;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kc(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=cV(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:w}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Du){if(f[v]===void 0)continue;const{correct:b,applyTo:x}=Du[v],g=u.transform==="none"?f[v]:b(f[v],h);if(x){const y=x.length;for(let S=0;S<y;S++)u[x[S]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Kc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Fw),this.root.sharedNodes.clear()}}}function hV(e){e.updateLayout()}function fV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?en(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(f);f.min=r[h].min,f.max=f.min+m}):zj(i,n.layoutBox,r)&&en(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Zi();Io(o,r,n.layoutBox);const c=Zi();a?Io(c,e.applyTransform(s,!0),n.measuredBox):Io(c,r,n.layoutBox);const u=!Lj(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=ze();Lo(w,n.layoutBox,f.layoutBox);const v=ze();Lo(v,r,m.layoutBox),$j(w,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mV(e){wo&&Fs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gV(e){e.clearSnapshot()}function Fw(e){e.clearMeasurements()}function yV(e){e.isLayoutDirty=!1}function vV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xV(e){e.resolveTargetDelta()}function wV(e){e.calcProjection()}function bV(e){e.resetSkewAndRotation()}function SV(e){e.removeLeadSnapshot()}function zw(e,t,n){e.translate=Ae(t.translate,0,n),e.scale=Ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vw(e,t,n,r){e.min=Ae(t.min,n.min,r),e.max=Ae(t.max,n.max,r)}function kV(e,t,n,r){Vw(e.x,t.x,n.x,r),Vw(e.y,t.y,n.y,r)}function EV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jV={duration:.45,ease:[.4,0,.1,1]},Uw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ww=Uw("applewebkit/")&&!Uw("chrome/")?Math.round:Gt;function Hw(e){e.min=Ww(e.min),e.max=Ww(e.max)}function CV(e){Hw(e.x),Hw(e.y)}function zj(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nz(Iw(t),Iw(n),.2)}function TV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const PV=Bj({attachResizeListener:(e,t)=>wl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hf={current:void 0},Vj=Bj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hf.current){const e=new PV({});e.mount(window),e.setOptions({layoutScroll:!0}),hf.current=e}return hf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NV={pan:{Feature:Hz},drag:{Feature:Wz,ProjectionNode:Vj,MeasureLayout:Oj}};function Gw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Te.postRender(()=>i(t,Bl(t)))}class _V extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=N6(t,n=>(Gw(this.node,n,"Start"),r=>Gw(this.node,r,"End"))))}unmount(){}}class MV extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(wl(this.node.current,"focus",()=>this.onFocus()),wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kw(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Te.postRender(()=>i(t,Bl(t)))}class RV extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=A6(t,n=>(Kw(this.node,n,"Start"),(r,{success:s})=>Kw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hp=new WeakMap,ff=new WeakMap,AV=e=>{const t=hp.get(e.target);t&&t(e)},OV=e=>{e.forEach(AV)};function DV({root:e,...t}){const n=e||document;ff.has(n)||ff.set(n,{});const r=ff.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(OV,{root:e,...t})),r[s]}function IV(e,t,n){const r=DV(t);return hp.set(e,n),r.observe(e),()=>{hp.delete(e),r.unobserve(e)}}const LV={some:0,all:1};class $V extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:LV[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return IV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(FV(t,n))&&this.startObserver()}unmount(){}}function FV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BV={inView:{Feature:$V},tap:{Feature:RV},focus:{Feature:MV},hover:{Feature:_V}},zV={layout:{ProjectionNode:Vj,MeasureLayout:Oj}},fp={current:null},Uj={current:!1};function VV(){if(Uj.current=!0,!!eg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fp.current=e.matches;e.addListener(t),t()}else fp.current=!1}const UV=[...mj,ft,bs],WV=e=>UV.find(fj(e)),qw=new WeakMap;function HV(e,t,n){for(const r in t){const s=t[r],i=n[r];if(gt(s))e.addValue(r,s);else if(gt(i))e.addValue(r,vl(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,vl(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Yw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=nr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Te.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Bd(n),this.isVariantNode=SE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const w=f[m];c[m]!==void 0&&gt(w)&&w.set(c[m],!1)}}mount(t){this.current=t,qw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Uj.current||VV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qw.delete(this.current),this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vi.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in La){const n=La[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yw.length;r++){const s=Yw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=HV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=vl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(dj(s)||nj(s))?s=parseFloat(s):!WV(s)&&bs.test(n)&&(s=lj(t,n)),this.setBaseTarget(t,gt(s)?s.get():s)),gt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=og(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Wj extends GV{constructor(){super(...arguments),this.KeyframeResolver=pj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KV(e){return window.getComputedStyle(e)}class qV extends Wj{constructor(){super(...arguments),this.type="html",this.renderInstance=ME}readValueFromInstance(t,n){if(vi.has(n)){const r=Cg(n);return r&&r.default||0}else{const r=KV(t),s=(PE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Rj(t,n)}build(t,n,r){ug(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mg(t,n,r)}}class YV extends Wj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vi.has(n)){const r=Cg(n);return r&&r.default||0}return n=RE.has(n)?n:sg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return DE(t,n,r)}build(t,n,r){dg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){AE(t,n,r,s)}mount(t){this.isSVGTag=fg(t.tagName),super.mount(t)}}const XV=(e,t)=>ag(e)?new YV(t):new qV(t,{allowProjection:e!==p.Fragment}),QV=S6({...wz,...BV,...NV,...zV},XV),Pt=LF(QV);function JV({coverUrl:e,isGenerating:t,onRegenerate:n,dreamTitle:r}){const[s,i]=p.useState(!1),a=()=>{if(!e)return;const o=document.createElement("a");o.href=e,o.download=`dream-cover-${Date.now()}.png`,o.click()};return l.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(yt,{className:"h-5 w-5 text-primary"}),""]}),e&&!t&&l.jsxs("div",{className:"flex gap-2",children:[n&&l.jsxs(ye,{variant:"outline",size:"sm",onClick:n,children:[l.jsx(pd,{className:"h-4 w-4 mr-1"}),""]}),l.jsxs(ye,{variant:"outline",size:"sm",onClick:a,children:[l.jsx(K_,{className:"h-4 w-4 mr-1"}),""]})]})]}),l.jsx("div",{className:W("relative aspect-[2/3] max-w-[280px] mx-auto rounded-lg overflow-hidden","bg-gradient-to-br from-primary/20 via-background to-primary/10","border-2 border-primary/30 shadow-2xl shadow-primary/20"),children:l.jsx(NF,{mode:"wait",children:t?l.jsxs(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 animate-ping",children:l.jsx(yt,{className:"h-12 w-12 text-primary/30"})}),l.jsx(y0,{className:"h-12 w-12 text-primary animate-spin"})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"AI "})]}),l.jsx("div",{className:"flex gap-1",children:[0,1,2].map(o=>l.jsx(Pt.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:o*.2}},o))})]},"loading"):e?l.jsxs(Pt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20},className:"relative w-full h-full",children:[l.jsx("img",{src:e,alt:"Dream Cover",className:W("w-full h-full object-cover transition-opacity duration-500",s?"opacity-100":"opacity-0"),onLoad:()=>i(!0)}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/30 to-transparent"}),r&&l.jsx("div",{className:"absolute bottom-0 inset-x-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:l.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:r})})]},"image"):l.jsxs(Pt.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center gap-3 p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:l.jsx(yt,{className:"h-8 w-8 text-primary/60"})}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[' ""',l.jsx("br",{}),""]})]},"placeholder")})})]})}var Ud="Dialog",[Hj]=hn(Ud),[ZV,Bn]=Hj(Ud),Gj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=p.useRef(null),c=p.useRef(null),[u,d]=gs({prop:r,defaultProp:s??!1,onChange:i,caller:Ud});return l.jsx(ZV,{scope:t,triggerRef:o,contentRef:c,contentId:ds(),titleId:ds(),descriptionId:ds(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};Gj.displayName=Ud;var Kj="DialogTrigger",eU=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(Kj,n),i=ce(t,s.triggerRef);return l.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ag(s.open),...r,ref:i,onClick:G(e.onClick,s.onOpenToggle)})});eU.displayName=Kj;var Mg="DialogPortal",[tU,qj]=Hj(Mg,{forceMount:void 0}),Yj=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Bn(Mg,t);return l.jsx(tU,{scope:t,forceMount:n,children:p.Children.map(r,a=>l.jsx(fn,{present:n||i.open,children:l.jsx(ud,{asChild:!0,container:s,children:a})}))})};Yj.displayName=Mg;var zu="DialogOverlay",Xj=p.forwardRef((e,t)=>{const n=qj(zu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Bn(zu,e.__scopeDialog);return i.modal?l.jsx(fn,{present:r||i.open,children:l.jsx(rU,{...s,ref:t})}):null});Xj.displayName=zu;var nU=Ma("DialogOverlay.RemoveScroll"),rU=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(zu,n);return l.jsx(W0,{as:nU,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(J.div,{"data-state":Ag(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),di="DialogContent",Qj=p.forwardRef((e,t)=>{const n=qj(di,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Bn(di,e.__scopeDialog);return l.jsx(fn,{present:r||i.open,children:i.modal?l.jsx(sU,{...s,ref:t}):l.jsx(iU,{...s,ref:t})})});Qj.displayName=di;var sU=p.forwardRef((e,t)=>{const n=Bn(di,e.__scopeDialog),r=p.useRef(null),s=ce(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Z5(i)},[]),l.jsx(Jj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault())})}),iU=p.forwardRef((e,t)=>{const n=Bn(di,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(Jj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Jj=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=Bn(di,n),c=p.useRef(null),u=ce(t,c);return X5(),l.jsxs(l.Fragment,{children:[l.jsx(V0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Pl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Ag(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(aU,{titleId:o.titleId}),l.jsx(lU,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Rg="DialogTitle",Zj=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(Rg,n);return l.jsx(J.h2,{id:s.titleId,...r,ref:t})});Zj.displayName=Rg;var eC="DialogDescription",tC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(eC,n);return l.jsx(J.p,{id:s.descriptionId,...r,ref:t})});tC.displayName=eC;var nC="DialogClose",rC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(nC,n);return l.jsx(J.button,{type:"button",...r,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});rC.displayName=nC;function Ag(e){return e?"open":"closed"}var sC="DialogTitleWarning",[Q7,iC]=qN(sC,{contentName:di,titleName:Rg,docsSlug:"dialog"}),aU=({titleId:e})=>{const t=iC(sC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},oU="DialogDescriptionWarning",lU=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iC(oU).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},cU=Gj,uU=Yj,aC=Xj,oC=Qj,lC=Zj,cC=tC,dU=rC;const hU=cU,fU=uU,uC=p.forwardRef(({className:e,...t},n)=>l.jsx(aC,{ref:n,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uC.displayName=aC.displayName;const dC=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(fU,{children:[l.jsx(uC,{}),l.jsxs(oC,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(dU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Ua,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dC.displayName=oC.displayName;const hC=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hC.displayName="DialogHeader";const fC=p.forwardRef(({className:e,...t},n)=>l.jsx(lC,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));fC.displayName=lC.displayName;const mU=p.forwardRef(({className:e,...t},n)=>l.jsx(cC,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));mU.displayName=cC.displayName;function cr({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function pU(){var k;const e=I0(),[t,n]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState(!1),[o,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(!1),[m,w]=p.useState({date:new Date().toISOString().split("T")[0],wakeTime:"",world:"",newWorld:"",timeSystem:"unknown",environments:[],newEnvironment:"",selectedEntities:[],newEntity:"",threatLevel:0,safetyOverride:"none",exit:"unknown",notes:"",storySummary:"",emotions:[],atmosphereColors:[],lucidityLevel:5});p.useEffect(()=>{(async()=>{const[C,j]=await Promise.all([Ol(),Pd()]);n(C.map(T=>({id:T.id,name:T.name}))),s(j.map(T=>({id:T.id,name:T.name})))})()},[]);const v=async()=>{c(!0);try{const{data:E,error:C}=await Ne.functions.invoke("generate-cover",{body:{storySummary:m.storySummary||m.notes,emotions:m.emotions,atmosphereColors:m.atmosphereColors,environments:m.environments,world:m.newWorld||m.world,threatLevel:m.threatLevel,lucidityLevel:m.lucidityLevel}});return C?(console.error("Cover generation error:",C),Oi({title:"",description:C.message,variant:"destructive"}),null):E!=null&&E.coverUrl?(d(E.coverUrl),E.coverUrl):null}catch(E){return console.error("Cover generation failed:",E),Oi({title:"",description:"",variant:"destructive"}),null}finally{c(!1)}},b=async E=>{E.preventDefault(),a(!0);try{const C=m.newWorld||m.world,j=[...m.selectedEntities];m.newEntity&&j.push(m.newEntity);const T=[...m.environments];m.newEnvironment&&T.push(m.newEnvironment);const P=[m.storySummary,m.notes].filter(Boolean).join(`

---

`);await F5({date:m.date,wakeTime:m.wakeTime,world:C,timeSystem:m.timeSystem,environments:T,entities:j,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,notes:P||void 0})?(Oi({title:""}),m.storySummary||m.notes?(f(!0),await v()):e("/logs")):Oi({title:"",variant:"destructive"})}catch(C){console.error("Error saving dream:",C),Oi({title:"",variant:"destructive"})}finally{a(!1)}},x=E=>{w(C=>({...C,environments:C.environments.includes(E)?C.environments.filter(j=>j!==E):[...C.environments,E]}))},g=E=>{w(C=>({...C,selectedEntities:C.selectedEntities.includes(E)?C.selectedEntities.filter(j=>j!==E):[...C.selectedEntities,E]}))},y=()=>{m.newEnvironment&&!m.environments.includes(m.newEnvironment)&&w(E=>({...E,environments:[...E.environments,E.newEnvironment],newEnvironment:""}))},S=()=>{f(!1),e("/logs")};return l.jsxs("div",{className:"py-4 pb-28",children:[l.jsx(cr,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(o2,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"flex items-center gap-2",children:[l.jsx(md,{className:"w-5 h-5"}),""]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsx(cr,{delay:60,duration:400,children:l.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/10 via-background to-primary/5 border border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(yt,{className:"w-5 h-5 text-primary"}),l.jsx("h2",{className:"font-semibold",children:""})]}),l.jsx(EF,{storySummary:m.storySummary,onStorySummaryChange:E=>w(C=>({...C,storySummary:E})),emotions:m.emotions,onEmotionsChange:E=>w(C=>({...C,emotions:E})),atmosphereColors:m.atmosphereColors,onAtmosphereColorsChange:E=>w(C=>({...C,atmosphereColors:E})),lucidityLevel:m.lucidityLevel,onLucidityLevelChange:E=>w(C=>({...C,lucidityLevel:E}))})]})}),l.jsx(cr,{delay:120,duration:400,children:l.jsx(Y8,{date:m.date,wakeTime:m.wakeTime,onDateChange:E=>w(C=>({...C,date:E})),onWakeTimeChange:E=>w(C=>({...C,wakeTime:E}))})}),l.jsx(cr,{delay:180,duration:400,children:l.jsx(X8,{worlds:t,selectedWorld:m.world,newWorld:m.newWorld,onWorldChange:E=>w(C=>({...C,world:E})),onNewWorldChange:E=>w(C=>({...C,newWorld:E}))})}),l.jsx(cr,{delay:240,duration:400,children:l.jsx(rF,{timeSystem:m.timeSystem,threatLevel:m.threatLevel,safetyOverride:m.safetyOverride,exit:m.exit,onTimeSystemChange:E=>w(C=>({...C,timeSystem:E})),onThreatLevelChange:E=>w(C=>({...C,threatLevel:E})),onSafetyOverrideChange:E=>w(C=>({...C,safetyOverride:E})),onExitChange:E=>w(C=>({...C,exit:E}))})}),l.jsx(cr,{delay:300,duration:400,children:l.jsx(Q8,{selectedEnvironments:m.environments,newEnvironment:m.newEnvironment,onToggleEnvironment:x,onNewEnvironmentChange:E=>w(C=>({...C,newEnvironment:E})),onAddEnvironment:y})}),l.jsx(cr,{delay:360,duration:400,children:l.jsx(nF,{entities:r,selectedEntities:m.selectedEntities,newEntity:m.newEntity,onToggleEntity:g,onNewEntityChange:E=>w(C=>({...C,newEntity:E}))})}),l.jsx(cr,{delay:420,duration:400,children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"notes",children:"Notes  (optional)"}),l.jsx(Dl,{id:"notes",placeholder:"  , ...",value:m.notes,onChange:E=>w(C=>({...C,notes:E.target.value})),className:"min-h-[80px]"})]})}),l.jsx(cr,{delay:480,duration:400,children:l.jsx(ye,{type:"submit",className:"w-full gap-2",disabled:i||o,children:i?"...":l.jsxs(l.Fragment,{children:[l.jsx(yt,{className:"w-4 h-4"}),""]})})})]}),l.jsx(hU,{open:h,onOpenChange:f,children:l.jsxs(dC,{className:"sm:max-w-md",children:[l.jsx(hC,{children:l.jsxs(fC,{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-5 h-5 text-primary"}),""]})}),l.jsx(JV,{coverUrl:u,isGenerating:o,onRegenerate:v,dreamTitle:((k=m.storySummary)==null?void 0:k.slice(0,50))||m.world}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsx(ye,{variant:"outline",onClick:S,children:""})})]})})]})}function gU({dreamId:e,isEditing:t,saving:n,onBack:r,onEdit:s,onCancel:i,onSave:a,onDelete:o}){return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ye,{variant:"ghost",size:"icon",onClick:r,children:l.jsx(o2,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:e})]}),l.jsx("div",{className:"flex gap-1",children:t?l.jsxs(l.Fragment,{children:[l.jsx(ye,{variant:"ghost",size:"icon",onClick:i,disabled:n,children:l.jsx(Ua,{className:"w-4 h-4"})}),l.jsx(ye,{size:"icon",onClick:a,disabled:n,children:l.jsx(rM,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(ye,{variant:"ghost",size:"icon",onClick:s,children:l.jsx(x0,{className:"w-4 h-4"})}),l.jsx(ye,{variant:"ghost",size:"icon",onClick:o,children:l.jsx(aM,{className:"w-4 h-4"})})]})})]})}function yU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.world,onChange:n=>t({world:n.target.value}),className:"text-xl font-semibold mb-2",placeholder:""})}function vU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:String(e.threatLevel),onValueChange:n=>t({threatLevel:Number(n)}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:[0,1,2,3,4,5].map(n=>l.jsxs(it,{value:String(n),children:["Level ",n]},n))})]})}function xU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.timeSystem,onValueChange:n=>t({timeSystem:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:G0.map(n=>l.jsx(it,{value:n,children:n},n))})]})}function wU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.safetyOverride,onValueChange:n=>t({safetyOverride:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:K0.map(n=>l.jsx(it,{value:n,children:n},n))})]})}function bU({editForm:e,onFormChange:t}){return l.jsxs(an,{value:e.exit,onValueChange:n=>t({exit:n}),children:[l.jsx(Vt,{className:"h-8",children:l.jsx(on,{})}),l.jsx(Ut,{children:Uk.map(n=>l.jsx(it,{value:n,children:n},n))})]})}function SU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.environments.join(", "),onChange:n=>t({environments:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"fog, sea, mountain ()"})}function kU({editForm:e,onFormChange:t}){return l.jsx(dn,{value:e.entities.join(", "),onChange:n=>t({entities:n.target.value.split(",").map(r=>r.trim()).filter(Boolean)}),placeholder:"Entity1, Entity2 ()"})}function EU({editForm:e,onFormChange:t}){return l.jsx(Dl,{value:e.notes,onChange:n=>t({notes:n.target.value}),className:"min-h-[120px]",placeholder:"..."})}const jU={0:"bg-muted text-muted-foreground",1:"bg-yellow-100 text-yellow-800",2:"bg-orange-100 text-orange-800",3:"bg-orange-200 text-orange-900",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};function CU({dream:e,isEditing:t,editForm:n,onFormChange:r}){return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Threat Level"}),t?l.jsx(vU,{editForm:n,onFormChange:r}):l.jsx("span",{className:`threat-badge text-lg ${jU[e.threatLevel]}`,children:e.threatLevel})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Time System"}),t?l.jsx(xU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.timeSystem})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Safety Override"}),t?l.jsx(wU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.safetyOverride})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Exit"}),t?l.jsx(bU,{editForm:n,onFormChange:r}):l.jsx("p",{className:"font-medium",children:e.exit})]})]})}function Ri({children:e,delay:t=0,duration:n=400}){const[r,s]=p.useState(!1);return p.useEffect(()=>{const i=setTimeout(()=>s(!0),t);return()=>clearTimeout(i)},[t]),l.jsx("div",{className:"transition-all",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(16px)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function TU(){const{id:e}=hD(),t=I0(),[n,r]=p.useState(null),[s,i]=p.useState(!0),[a,o]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState({world:"",threatLevel:0,timeSystem:"unknown",safetyOverride:"unknown",exit:"unknown",environments:[],entities:[],notes:""});p.useEffect(()=>{(async()=>{try{const S=(await yi()).find(k=>k.id===e);r(S||null),S&&h({world:S.world,threatLevel:S.threatLevel,timeSystem:S.timeSystem,safetyOverride:S.safetyOverride,exit:S.exit,environments:S.environments,entities:S.entities,notes:S.notes||""})}catch(y){console.error("Error loading dream:",y)}finally{i(!1)}})()},[e]);const f=g=>{h(y=>({...y,...g}))},m=()=>o(!0),w=()=>{n&&h({world:n.world,threatLevel:n.threatLevel,timeSystem:n.timeSystem,safetyOverride:n.safetyOverride,exit:n.exit,environments:n.environments,entities:n.entities,notes:n.notes||""}),o(!1)},v=async()=>{if(n){u(!0);try{const g=await b3(n.id,d);g?(r(g),o(!1),_t.success("")):_t.error("")}catch(g){console.error("Error saving:",g),_t.error("")}finally{u(!1)}}},b=async()=>{n&&confirm("?")&&(await S3(n.id)?(_t.success(""),t("/logs")):_t.error(""))};if(s)return l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."});if(!n)return l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-muted-foreground",children:""}),l.jsx(ye,{asChild:!0,variant:"link",className:"mt-2 p-0",children:l.jsx(Dt,{to:"/logs",children:""})})]});const x=new Date(n.date).toLocaleDateString("th-TH",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(Ri,{delay:0,duration:400,children:l.jsx(gU,{dreamId:n.id,isEditing:a,saving:c,onBack:()=>t(-1),onEdit:m,onCancel:w,onSave:v,onDelete:b})}),l.jsx(Ri,{delay:80,duration:400,children:l.jsxs("div",{children:[a?l.jsx(yU,{editForm:d,onFormChange:f}):l.jsx("h1",{className:"text-xl mb-1",children:n.world}),l.jsxs("p",{className:"text-muted-foreground",children:[x,"  ",n.wakeTime]})]})}),l.jsx(Ri,{delay:160,duration:400,children:l.jsx(CU,{dream:n,isEditing:a,editForm:d,onFormChange:f})}),l.jsx(Ri,{delay:240,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Environments"}),a?l.jsx(SU,{editForm:d,onFormChange:f}):n.environments.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.environments.map(g=>l.jsx("span",{className:"tag",children:g},g))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Ri,{delay:320,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Entities"}),a?l.jsx(kU,{editForm:d,onFormChange:f}):n.entities.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.entities.map(g=>l.jsx("span",{className:"tag-accent",children:g},g))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})}),l.jsx(Ri,{delay:400,duration:400,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),a?l.jsx(EU,{editForm:d,onFormChange:f}):n.notes?l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.notes}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})})]})}function De(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Nr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mC(e,t){const n=De(e);return isNaN(t)?Nr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const pC=6048e5,PU=864e5;let NU={};function Wd(){return NU}function On(e,t){var o,c,u,d;const n=Wd(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=De(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Vu(e){return On(e,{weekStartsOn:1})}function gC(e){const t=De(e),n=t.getFullYear(),r=Nr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Vu(r),i=Nr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Vu(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Uu(e){const t=De(e);return t.setHours(0,0,0,0),t}function Xw(e){const t=De(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _U(e,t){const n=Uu(e),r=Uu(t),s=+n-Xw(n),i=+r-Xw(r);return Math.round((s-i)/PU)}function MU(e){const t=gC(e),n=Nr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vu(n)}function RU(e,t){const n=t*7;return mC(e,n)}function Og(e){return Nr(e,Date.now())}function AU(e,t){const n=Uu(e),r=Uu(t);return+n==+r}function OU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DU(e){if(!OU(e)&&typeof e!="number")return!1;const t=De(e);return!isNaN(Number(t))}function IU(e,t){const n=De(e.start),r=De(e.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let o=1;const c=[];for(;+a<=i;)c.push(De(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return s?c.reverse():c}function LU(e,t){const n=De(e.start),r=De(e.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setDate(1);let o=1;const c=[];for(;+a<=i;)c.push(De(a)),a.setMonth(a.getMonth()+o);return s?c.reverse():c}function $U(e,t){const n=De(e.start),r=De(e.end);let s=+n>+r;const i=On(s?r:n,t),a=On(s?n:r,t);i.setHours(15),a.setHours(15);const o=+a.getTime();let c=i,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,s=!s);const d=[];for(;+c<=o;)c.setHours(0),d.push(De(c)),c=RU(c,u),c.setHours(15);return s?d.reverse():d}function FU(e){const t=De(e),n=Nr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const BU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zU=(e,t,n)=>{let r;const s=BU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fa(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const VU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HU={date:fa({formats:VU,defaultWidth:"full"}),time:fa({formats:UU,defaultWidth:"full"}),dateTime:fa({formats:WU,defaultWidth:"full"})},GU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KU=(e,t,n,r)=>GU[e];function qn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const qU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e9=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t9={ordinalNumber:e9,era:qn({values:qU,defaultWidth:"wide"}),quarter:qn({values:YU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:XU,defaultWidth:"wide"}),day:qn({values:QU,defaultWidth:"wide"}),dayPeriod:qn({values:JU,defaultWidth:"wide",formattingValues:ZU,defaultFormattingWidth:"wide"})};function Yn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?r9(o,h=>h.test(a)):n9(o,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function n9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function r9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yC(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const s9=/^(\d+)(th|st|nd|rd)?/i,i9=/\d+/i,a9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o9={any:[/^b/i,/^(a|c)/i]},l9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c9={any:[/1/i,/2/i,/3/i,/4/i]},u9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g9={ordinalNumber:yC({matchPattern:s9,parsePattern:i9,valueCallback:e=>parseInt(e,10)}),era:Yn({matchPatterns:a9,defaultMatchWidth:"wide",parsePatterns:o9,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:l9,defaultMatchWidth:"wide",parsePatterns:c9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:u9,defaultMatchWidth:"wide",parsePatterns:d9,defaultParseWidth:"any"}),day:Yn({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:m9,defaultMatchWidth:"any",parsePatterns:p9,defaultParseWidth:"any"})},y9={code:"en-US",formatDistance:zU,formatLong:HU,formatRelative:KU,localize:t9,match:g9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function v9(e){const t=De(e);return _U(t,FU(t))+1}function x9(e){const t=De(e),n=+Vu(t)-+MU(t);return Math.round(n/pC)+1}function vC(e,t){var d,h,f,m;const n=De(e),r=n.getFullYear(),s=Wd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Nr(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=On(a,t),c=Nr(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=On(c,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function w9(e,t){var o,c,u,d;const n=Wd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=vC(e,t),i=Nr(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),On(i,t)}function b9(e,t){const n=De(e),r=+On(n,t)-+w9(n,t);return Math.round(r/pC)+1}function ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Fr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ve(s,t.length)}},Ai={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Fr.y(e,t)},Y:function(e,t,n,r){const s=vC(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return ve(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ve(i,t.length)},R:function(e,t){const n=gC(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Fr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=b9(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ve(s,t.length)},I:function(e,t,n){const r=x9(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fr.d(e,t)},D:function(e,t,n){const r=v9(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ve(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ve(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ai.noon:r===0?s=Ai.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ai.evening:r>=12?s=Ai.afternoon:r>=4?s=Ai.morning:s=Ai.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fr.s(e,t)},S:function(e,t){return Fr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Zw(r);case"XXXX":case"XX":return Bs(r);case"XXXXX":case"XXX":default:return Bs(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Zw(r);case"xxxx":case"xx":return Bs(r);case"xxxxx":case"xxx":default:return Bs(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jw(r,":");case"OOOO":default:return"GMT"+Bs(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jw(r,":");case"zzzz":default:return"GMT"+Bs(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return ve(r,t.length)}};function Jw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+ve(i,2)}function Zw(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):Bs(e,t)}function Bs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ve(Math.trunc(r/60),2),i=ve(r%60,2);return n+s+t+i}const eb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},S9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return eb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eb(r,t)).replace("{{time}}",xC(s,t))},k9={p:xC,P:S9},E9=/^D+$/,j9=/^Y+$/,C9=["D","DD","YY","YYYY"];function T9(e){return E9.test(e)}function P9(e){return j9.test(e)}function N9(e,t,n){const r=_9(e,t,n);if(console.warn(r),C9.includes(e))throw new RangeError(r)}function _9(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const M9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A9=/^'([^]*?)'?$/,O9=/''/g,D9=/[a-zA-Z]/;function mt(e,t,n){var d,h,f,m,w,v,b,x;const r=Wd(),s=(n==null?void 0:n.locale)??r.locale??y9,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,o=De(e);if(!DU(o))throw new RangeError("Invalid time value");let c=t.match(R9).map(g=>{const y=g[0];if(y==="p"||y==="P"){const S=k9[y];return S(g,s.formatLong)}return g}).join("").match(M9).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:I9(g)};if(Qw[y])return{isToken:!0,value:g};if(y.match(D9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&P9(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&T9(y))&&N9(y,t,String(e));const S=Qw[y[0]];return S(o,y,s.localize,u)}).join("")}function I9(e){const t=e.match(A9);return t?t[1].replace(O9,"'"):e}function L9(e,t,n){const r=On(e,n),s=On(t,n);return+r==+s}function $9(e,t){const n=De(e),r=De(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function F9(e){return $9(e,Og(e))}function B9(e,t){return L9(e,Og(e),t)}function z9(e){return AU(e,Og(e))}function V9(e,t){return mC(e,-t)}function U9(){return l.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden",children:l.jsx(le,{className:"w-full h-full"})})}function W9(){return l.jsxs("div",{className:"bg-card rounded-lg border",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(le,{className:"w-1 h-8 rounded-full"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(le,{className:"h-4 w-20"}),l.jsx(le,{className:"h-3 w-16"})]})]}),l.jsx(le,{className:"w-5 h-5 rounded"})]}),l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>l.jsx(U9,{},t))})})]})}function H9(){return l.jsx("div",{className:"space-y-4 p-4",children:[...Array(3)].map((e,t)=>l.jsx(W9,{},t))})}const G9={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},K9=(e,t,n)=>{let r;const s=G9[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e==="halfAMinute"?""+r:" "+r:r+"":r},q9={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Y9={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},X9={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q9={date:fa({formats:q9,defaultWidth:"full"}),time:fa({formats:Y9,defaultWidth:"medium"}),dateTime:fa({formats:X9,defaultWidth:"full"})},J9={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},Z9=(e,t,n,r)=>J9[e],eW={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},tW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},nW={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},rW={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},sW={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},iW={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},aW=(e,t)=>String(e),oW={ordinalNumber:aW,era:qn({values:eW,defaultWidth:"wide"}),quarter:qn({values:tW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:rW,defaultWidth:"wide"}),day:qn({values:nW,defaultWidth:"wide"}),dayPeriod:qn({values:sW,defaultWidth:"wide",formattingValues:iW,defaultFormattingWidth:"wide"})},lW=/^\d+/i,cW=/\d+/i,uW={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},dW={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},hW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},fW={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},mW={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},pW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},gW={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},yW={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},vW={any:/^(||||(.*?)?.*(||||))/i},xW={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},wW={ordinalNumber:yC({matchPattern:lW,parsePattern:cW,valueCallback:e=>parseInt(e,10)}),era:Yn({matchPatterns:uW,defaultMatchWidth:"wide",parsePatterns:dW,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:hW,defaultMatchWidth:"wide",parsePatterns:fW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:mW,defaultMatchWidth:"wide",parsePatterns:pW,defaultParseWidth:"any"}),day:Yn({matchPatterns:gW,defaultMatchWidth:"wide",parsePatterns:yW,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:vW,defaultMatchWidth:"any",parsePatterns:xW,defaultParseWidth:"any"})},Ss={code:"th",formatDistance:K9,formatLong:Q9,formatRelative:Z9,localize:oW,match:wW,options:{weekStartsOn:0,firstWeekContainsDate:1}},mf=new Map;function bW(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[i,a]=p.useState(null);return p.useEffect(()=>{var u;if(!e.notes||e.notes.trim().length<10){n(null);return}const o=`${e.id}-${(u=e.notes)==null?void 0:u.slice(0,50)}`;if(mf.has(o)){n(mf.get(o));return}(async()=>{s(!0),a(null);try{const{data:d,error:h}=await Ne.functions.invoke("analyze-cover",{body:{notes:e.notes,world:e.world,environments:e.environments,threatLevel:e.threatLevel,entities:e.entities}});if(h)throw h;d&&!d.error?(mf.set(o,d),n(d)):d!=null&&d.error&&a(d.error)}catch(d){console.error("Failed to fetch cover style:",d),a(d instanceof Error?d.message:"Unknown error")}finally{s(!1)}})()},[e.id,e.notes,e.world,e.environments,e.threatLevel,e.entities]),{style:t,loading:r,error:i}}const Ec=new Map;function SW(e,t){const[n,r]=p.useState(null),[s,i]=p.useState(!1),[a,o]=p.useState(null);return p.useEffect(()=>{if(!e.notes||e.notes.trim().length<10){r(null);return}const c=e.id;if(Ec.has(c)){r(Ec.get(c));return}const u=async()=>{const{data:{publicUrl:h}}=Ne.storage.from("dream-symbols").getPublicUrl(`${e.id}.png`);try{if((await fetch(h,{method:"HEAD"})).ok)return Ec.set(c,h),r(h),!0}catch{}return!1};(async()=>{i(!0),o(null);try{if(await u()){i(!1);return}const{data:f,error:m}=await Ne.functions.invoke("generate-symbol",{body:{dreamId:e.id,notes:e.notes,world:e.world,environments:e.environments,threatLevel:e.threatLevel,mood:t,entities:e.entities}});if(m)throw m;f&&!f.error&&f.symbolUrl?(Ec.set(c,f.symbolUrl),r(f.symbolUrl)):f!=null&&f.error&&o(f.error)}catch(h){console.error("Failed to generate symbol:",h),o(h instanceof Error?h.message:"Unknown error")}finally{i(!1)}})()},[e.id,e.notes,e.world,e.environments,e.threatLevel,t]),{symbolUrl:n,loading:s,error:a}}function kW(e,t=[],n=[],r=0,s=""){const i=`${e} ${t.join(" ")} ${n.join(" ")} ${s}`.toLowerCase();console.log(`[SymbolGenerator] Generating symbol for: "${e}"`),console.log(`[SymbolGenerator] Environments: [${t.join(", ")}]`),console.log(`[SymbolGenerator] Entities: [${n.join(", ")}]`),console.log(`[SymbolGenerator] Threat: ${r}`);const a={0:"none",1:"slow",2:"slow",3:"medium",4:"medium",5:"pulse"},o=Math.min(5,Math.max(1,Math.ceil((n.length+r)/2))),c=EW(i,t,r);return console.log(`[SymbolGenerator] Result: type=${c}, complexity=${o}, rotation=${a[r]}`),{type:c,complexity:o,rotation:a[r]||"slow"}}function EW(e,t=[],n){const r={moon:["night","sleep","dream","rest","peaceful","calm","lunar","pale","",""],void:["empty","fog","nothing","void","darkness","lost","forgotten","",""],spiral:["sea","water","spiral","journey","infinite","flow","tide","",""],eye:["watch","see","observe","witness","eye","sight","vision","",""],flame:["fire","hot","danger","power","energy","explosion","sunset","",""],heart:["love","emotion","feeling","care","compassion","heart","",""],lotus:["rain","peace","awakening","growth","flower","rebirth","nature","",""],tree:["mountain","growth","tree","nature","forest","standing","roots","","",""],gate:["city","tunnel","passage","door","entrance","transition","","",""],crown:["power","victory","authority","leader","royal","highest","",""],key:["secret","unlock","mystery","hidden","locked","discover","",""],skull:["death","danger","threat","evil","hostile","monster","enemy","intruder","",""],hourglass:["time","urgency","countdown","deadline","sand","",""],compass:["direction","journey","travel","navigation","path","","",""],infinity:["eternal","infinite","forever","endless","cycle","",""]},s={fog:"void",sea:"spiral",mountain:"tree",city:"gate",tunnel:"gate",rain:"lotus",night:"moon",sunset:"flame"};if(t.length>0){for(const i of t)if(s[i])return console.log(`[SymbolGenerator] Matched environment "${i}"  ${s[i]}`),s[i]}for(const[i,a]of Object.entries(r))if(a.some(o=>e.includes(o)))return console.log(`[SymbolGenerator] Matched keyword in content  ${i}`),i;return n>=4?(console.log(`[SymbolGenerator] High threat level (${n})  skull`),"skull"):(console.log("[SymbolGenerator] No match found, using default  moon"),"moon")}const jW={fog:{hue:200,saturation:20},sea:{hue:200,saturation:70},mountain:{hue:30,saturation:40},city:{hue:45,saturation:60},tunnel:{hue:280,saturation:30},rain:{hue:220,saturation:50},night:{hue:260,saturation:80},sunset:{hue:15,saturation:90}},jc={inactive:{brightness:.7,animSpeed:.3},activated:{brightness:1.2,animSpeed:.8},unknown:{brightness:.9,animSpeed:.5}},tb={none:"diagonal",helper:"circular",separation:"grid",wake:"radial",unknown:"noise"},Cc={wake:{glow:"#60a5fa",symbol:""},separation:{glow:"#a78bfa",symbol:""},collapse:{glow:"#f87171",symbol:""},unknown:{glow:"#9ca3af",symbol:""}},nb={0:{base:"#064e3b",accent:"#34d399"},1:{base:"#1e3a5f",accent:"#60a5fa"},2:{base:"#312e81",accent:"#818cf8"},3:{base:"#581c87",accent:"#c084fc"},4:{base:"#7c2d12",accent:"#fb923c"},5:{base:"#7f1d1d",accent:"#f87171"}};function pf(e){return e.split("").reduce((t,n,r)=>t+n.charCodeAt(0)*(r+1),0)}function CW(e,t){var S;if(t){const E={dim:.6,normal:1,bright:1.2,glowing:1.5}[t.brightness]||1,C={waves:"diagonal",circles:"circular",stars:"radial",lines:"diagonal",dots:"grid",crystals:"radial",smoke:"noise",spiral:"circular"},j=`hsl(${t.primaryHue}, ${t.saturation}%, 25%)`,T=`hsl(${t.secondaryHue}, ${t.saturation-10}%, 35%)`,P=`hsl(${t.accentHue}, ${Math.min(90,t.saturation+20)}%, 60%)`;return{primary:j,secondary:T,accent:P,gradientAngle:t.gradientAngle,particleCount:20+e.threatLevel*4,patternType:C[t.pattern]||"grid",patternSeed:pf(t.mood+t.symbolType),timeEffect:jc[e.timeSystem]||jc.unknown,exitStyle:Cc[e.exit]||Cc.unknown,brightness:E,animSpeed:t.particleStyle==="pulsing"?.8:t.particleStyle==="orbiting"?.6:.4,aiEnhanced:!0,aiMood:t.mood,aiSymbolType:t.symbolType,aiSymbolComplexity:t.symbolComplexity,aiSymbolRotation:t.symbolRotation,aiKeywords:t.keywords,particleStyle:t.particleStyle}}let n=240,r=50;if(e.environments&&e.environments.length>0){const k=e.environments.map(E=>jW[E]||{hue:200,saturation:50});n=k.reduce((E,C)=>E+C.hue,0)/k.length,r=k.reduce((E,C)=>E+C.saturation,0)/k.length}const s=nb[e.threatLevel]||nb[2],i=jc[e.timeSystem]||jc.unknown,a=tb[e.safetyOverride]||tb.unknown,o=Cc[e.exit]||Cc.unknown,c=((S=e.entities)==null?void 0:S.length)||0,u=10+c*3+e.threatLevel*4,d=pf(e.world||"unknown"),h=pf(e.id),f=(d+h)%360,m=(n+e.threatLevel*15)%360,w=(m+30+c*10)%360,v=`hsl(${m}, ${Math.min(90,r+20)}%, ${25+e.threatLevel*3}%)`,b=`hsl(${w}, ${Math.min(85,r+10)}%, ${35+e.threatLevel*2}%)`,x=s.accent,g=d*h+e.threatLevel*100+c*50,y=kW(e.world,e.environments,e.entities,e.threatLevel,e.notes||"");return{primary:v,secondary:b,accent:x,gradientAngle:f,particleCount:u,patternType:a,patternSeed:g,timeEffect:i,exitStyle:o,brightness:i.brightness,animSpeed:i.animSpeed*(1+e.threatLevel*.15),aiEnhanced:!1,aiMood:null,aiSymbolType:y.type,aiSymbolComplexity:y.complexity,aiSymbolRotation:y.rotation,aiKeywords:[],particleStyle:"floating"}}function TW(e){var n,r,s,i;const t=["dot"];return((n=e.environments)!=null&&n.includes("night")||(r=e.environments)!=null&&r.includes("sunset"))&&t.push("star"),((s=e.environments)!=null&&s.includes("fog")||(i=e.environments)!=null&&i.includes("sea"))&&t.push("ring"),e.threatLevel>=3&&t.push("triangle"),e.threatLevel>=4&&t.push("diamond"),e.entities&&e.entities.length>0&&t.push("star","ring"),t}function wC({dream:e}){const t=p.useRef(null),n=p.useRef([]),r=p.useRef(),s=p.useRef(0),{style:i}=bW(e),a=SW(e,i==null?void 0:i.mood),o=p.useMemo(()=>CW(e,i),[e,i]),c=p.useMemo(()=>TW(e),[e]);p.useEffect(()=>{const h=t.current;if(!h)return;const f=h.getContext("2d");if(!f)return;(()=>{const g=h.getBoundingClientRect();h.width=g.width*window.devicePixelRatio,h.height=g.height*window.devicePixelRatio,f.scale(window.devicePixelRatio,window.devicePixelRatio)})(),(()=>{const g=[],y=h.getBoundingClientRect();for(let S=0;S<o.particleCount;S++){const k=(S+o.patternSeed)%c.length;g.push({x:Math.random()*y.width,y:Math.random()*y.height,vx:(Math.random()-.5)*o.animSpeed,vy:(Math.random()-.5)*o.animSpeed,size:Math.random()*2.5+.5+e.threatLevel*.2,opacity:Math.random()*.4+.2+(o.brightness-1)*.2,type:c[k],color:S%3===0?o.accent:S%3===1?o.secondary:"#ffffff"})}n.current=g})();const v=(g,y,S,k)=>{g.save(),g.globalAlpha=.08*o.brightness,g.strokeStyle=o.accent,g.fillStyle=o.accent,g.lineWidth=.5;const E=o.patternSeed;switch(o.patternType){case"diagonal":for(let T=0;T<12;T++){const P=(E+T*20)%100-50+Math.sin(k*.001+T)*5;g.beginPath(),g.moveTo(P,0),g.lineTo(P+y,S),g.stroke()}break;case"circular":for(let T=1;T<=5;T++){const P=(T*30+Math.sin(k*.002+T)*10)*(E%3+1)/2;g.beginPath(),g.arc(y/2,S/2,P,0,Math.PI*2),g.stroke()}break;case"grid":const C=20+E%20;for(let T=0;T<y;T+=C)for(let P=0;P<S;P+=C){const M=Math.sin(k*.002+T*.01+P*.01+E*.01)*3;g.beginPath(),g.arc(T+M,P+M,1.5,0,Math.PI*2),g.fill()}break;case"radial":const j=8+E%8;for(let T=0;T<j;T++){const P=T/j*Math.PI*2+k*.001,M=80+Math.sin(k*.003+T)*20;g.beginPath(),g.moveTo(y/2,S/2),g.lineTo(y/2+Math.cos(P)*M,S/2+Math.sin(P)*M),g.stroke()}break;case"noise":for(let T=0;T<40;T++){const P=E*T*7%y,M=E*T*11%S+Math.sin(k*.003+T)*2,O=(E+T)%3+1;g.globalAlpha=(.05+(E+T)%10*.01)*o.brightness,g.beginPath(),g.arc(P,M,O,0,Math.PI*2),g.fill()}break}g.restore()},b=(g,y)=>{g.save(),g.globalAlpha=y.opacity,g.fillStyle=y.color,g.strokeStyle=y.color,g.shadowBlur=y.size*4,g.shadowColor=y.color;const{x:S,y:k,size:E,type:C}=y;switch(C){case"dot":g.beginPath(),g.arc(S,k,E,0,Math.PI*2),g.fill();break;case"star":const j=E*1.8;g.beginPath(),g.moveTo(S,k-j),g.lineTo(S+j*.3,k),g.lineTo(S,k+j),g.lineTo(S-j*.3,k),g.closePath(),g.fill(),g.beginPath(),g.moveTo(S-j,k),g.lineTo(S+j,k),g.moveTo(S,k-j),g.lineTo(S,k+j),g.lineWidth=.3,g.stroke();break;case"ring":g.beginPath(),g.arc(S,k,E*1.5,0,Math.PI*2),g.lineWidth=.8,g.stroke();break;case"triangle":const T=E*2;g.beginPath(),g.moveTo(S,k-T),g.lineTo(S+T*.866,k+T*.5),g.lineTo(S-T*.866,k+T*.5),g.closePath(),g.fill();break;case"diamond":const P=E*1.5;g.beginPath(),g.moveTo(S,k-P),g.lineTo(S+P,k),g.lineTo(S,k+P),g.lineTo(S-P,k),g.closePath(),g.fill();break}g.restore()},x=()=>{s.current+=16;const g=h.getBoundingClientRect();f.clearRect(0,0,g.width,g.height);const y=o.gradientAngle*Math.PI/180,S=g.width/2-Math.cos(y)*g.width,k=g.height/2-Math.sin(y)*g.height,E=g.width/2+Math.cos(y)*g.width,C=g.height/2+Math.sin(y)*g.height,j=f.createLinearGradient(S,k,E,C);j.addColorStop(0,o.primary),j.addColorStop(.5,o.secondary),j.addColorStop(1,o.primary),f.fillStyle=j,f.fillRect(0,0,g.width,g.height),v(f,g.width,g.height,s.current),n.current.forEach(P=>{P.x+=P.vx,P.y+=P.vy,P.x<0&&(P.x=g.width),P.x>g.width&&(P.x=0),P.y<0&&(P.y=g.height),P.y>g.height&&(P.y=0),b(f,P)});const T=f.createRadialGradient(g.width/2,g.height,0,g.width/2,g.height,g.width*.6);T.addColorStop(0,o.exitStyle.glow+"20"),T.addColorStop(1,"transparent"),f.fillStyle=T,f.fillRect(0,0,g.width,g.height),r.current=requestAnimationFrame(x)};return x(),()=>{r.current&&cancelAnimationFrame(r.current)}},[o,c,e.threatLevel]);const u=e.environments&&e.environments.length>0,d=e.entities&&e.entities.length>0;return l.jsx(Dt,{to:`/logs/${e.id}`,className:"group block",children:l.jsxs("div",{className:"aspect-[2/3] rounded-xl overflow-hidden relative shadow-lg hover:shadow-2xl transition-all duration-500 group-hover:scale-[1.02] border border-white/10",style:{boxShadow:`0 4px 24px ${o.accent}30, 0 0 40px ${o.exitStyle.glow}15`},children:[a.symbolUrl&&!a.loading&&l.jsx("img",{src:a.symbolUrl,alt:"Dream cover",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),l.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full mix-blend-overlay opacity-60",style:{width:"100%",height:"100%"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[8px] text-white/50 font-mono bg-black/30 px-1.5 py-0.5 rounded backdrop-blur-sm",children:e.id}),o.aiEnhanced&&l.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded backdrop-blur-sm bg-primary/30 text-primary-foreground",children:[l.jsx(yt,{className:"w-2 h-2"}),"AI"]})]}),l.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${o.accent}30`},children:[l.jsx("span",{className:"text-[10px]",style:{color:o.accent},children:o.exitStyle.symbol}),l.jsxs("span",{className:"text-[9px] text-white/80 font-medium",children:["Lv.",e.threatLevel]})]})]}),e.timeSystem!=="unknown"&&l.jsx("div",{className:"absolute top-9 right-2",children:l.jsxs("div",{className:"flex items-center gap-0.5 px-1 py-0.5 rounded backdrop-blur-sm text-[8px]",style:{backgroundColor:e.timeSystem==="activated"?"rgba(96, 165, 250, 0.3)":"rgba(156, 163, 175, 0.2)",color:e.timeSystem==="activated"?"#60a5fa":"#9ca3af"},children:[l.jsx(vr,{className:"w-2 h-2"}),e.timeSystem==="activated"?"ON":"OFF"]})}),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-3",children:[a.loading&&l.jsx("div",{className:"absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(yt,{className:"w-6 h-6 text-white/60 animate-pulse"}),l.jsx("span",{className:"text-[10px] text-white/40",children:"..."})]})}),l.jsx("h3",{className:"font-bold text-base sm:text-lg text-center leading-snug text-white drop-shadow-lg line-clamp-2 mb-2",children:e.world||"Unknown"}),l.jsxs("div",{className:"flex flex-wrap gap-1 justify-center mb-2",children:[u&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${o.accent}20`,color:o.accent},children:[l.jsx(jr,{className:"w-2 h-2"}),e.environments.length]}),d&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${o.accent}20`,color:o.accent},children:[l.jsx(Zn,{className:"w-2 h-2"}),e.entities.length]}),e.safetyOverride!=="none"&&e.safetyOverride!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:"rgba(167, 139, 250, 0.2)",color:"#a78bfa"},children:[l.jsx(_l,{className:"w-2 h-2"}),e.safetyOverride]}),e.exit!=="unknown"&&l.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[8px] px-1.5 py-0.5 rounded-full backdrop-blur-sm",style:{backgroundColor:`${o.exitStyle.glow}20`,color:o.exitStyle.glow},children:[l.jsx(Z_,{className:"w-2 h-2"}),e.exit]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[l.jsx("div",{className:"h-px w-4 bg-gradient-to-r from-transparent to-white/40"}),l.jsx("div",{className:"w-1 h-1 rounded-full",style:{backgroundColor:o.accent}}),l.jsx("div",{className:"h-px w-4 bg-gradient-to-l from-transparent to-white/40"})]}),l.jsxs("div",{className:"text-center space-y-0.5",children:[l.jsx("p",{className:"text-[10px] text-white/60 font-light tracking-wider",children:mt(new Date(e.date),"d MMM yyyy",{locale:Ss})}),e.wakeTime&&l.jsx("p",{className:"text-[9px] text-white/40",children:e.wakeTime})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/0 to-transparent group-hover:via-white/10 transition-all duration-700 transform translate-x-full group-hover:translate-x-0"}),l.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{boxShadow:`inset 0 0 30px ${o.accent}40`}})]})})}function bC({children:e,className:t="",staggerDelay:n=80,animationDuration:r=400}){const[s,i]=p.useState(new Set),[a,o]=p.useState(!1);return p.useEffect(()=>{if(a){i(new Set(e.map((u,d)=>d)));return}i(new Set);const c=[];return e.forEach((u,d)=>{const h=setTimeout(()=>{i(f=>new Set([...f,d])),d===e.length-1&&setTimeout(()=>o(!0),r)},d*n);c.push(h)}),()=>{c.forEach(clearTimeout)}},[e.length,n,r,a]),l.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 ${t}`,children:e.map((c,u)=>l.jsx("div",{className:"transition-all",style:{opacity:s.has(u)?1:0,transform:s.has(u)?"translateY(0) scale(1)":"translateY(20px) scale(0.95)",transitionDuration:`${r}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:c},u))})}function Tc({title:e,dreams:t,colorClass:n,isExpanded:r,onToggle:s}){return t.length===0?null:l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-1 h-8 ${n} rounded-full`}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),r?l.jsx(Ra,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ys,{className:"w-5 h-5 text-muted-foreground"})]}),r&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx(bC,{staggerDelay:60,animationDuration:350,children:t.map(i=>l.jsx(wC,{dream:i},i.id))})})]})}function PW({worldName:e,dreams:t,isExpanded:n,onToggle:r}){return l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(u2,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:e}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," "]})]})]}),n?l.jsx(Ra,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ys,{className:"w-5 h-5 text-muted-foreground"})]}),n&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx(bC,{staggerDelay:60,animationDuration:350,children:t.map(s=>l.jsx(wC,{dream:s},s.id))})})]})}function NW({searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:s,currentPhenomenon:i,onChangePhenomenon:a,showDreamFilters:o=!0}){return l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Dream Library"}),i&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i.uiAccent}}),i.name]}),l.jsxs("span",{className:"opacity-60",children:["(",i.rarity,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ye,{variant:"outline",size:"sm",onClick:a,className:"h-8 px-2",title:"",children:l.jsx(sM,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[s," "]})]})]}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(f2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(dn,{placeholder:"...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r("date"),className:W("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="date"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(l2,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>r("world"),className:W("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="world"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(u2,{className:"w-4 h-4"}),""]})]})]})]})})}const rb={stars:{gradient:"linear-gradient(90deg, #1e3a5f, #3b82f6, #60a5fa, #93c5fd)",glowColor:"#3b82f6",innerPattern:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.3) 1px, transparent 1px), radial-gradient(circle at 60% 30%, rgba(255,255,255,0.2) 1px, transparent 1px), radial-gradient(circle at 80% 70%, rgba(255,255,255,0.25) 1px, transparent 1px)"},fire:{gradient:"linear-gradient(90deg, #7f1d1d, #dc2626, #f97316, #fbbf24)",glowColor:"#f97316",innerPattern:"repeating-linear-gradient(90deg, transparent, transparent 4px, rgba(255,200,100,0.1) 4px, rgba(255,200,100,0.1) 8px)"},snow:{gradient:"linear-gradient(90deg, #e0f2fe, #bae6fd, #7dd3fc, #38bdf8)",glowColor:"#38bdf8",innerPattern:"radial-gradient(circle at 30% 40%, rgba(255,255,255,0.5) 1px, transparent 1px), radial-gradient(circle at 70% 60%, rgba(255,255,255,0.4) 1px, transparent 1px)"},crystals:{gradient:"linear-gradient(90deg, #312e81, #4f46e5, #818cf8, #c4b5fd)",glowColor:"#818cf8",innerPattern:"linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 45%, rgba(255,255,255,0.1) 55%, transparent 60%)"},void:{gradient:"linear-gradient(90deg, #0f0f0f, #1f1f3a, #2d1b4e, #4c1d95)",glowColor:"#7c3aed",innerPattern:"radial-gradient(ellipse at 50% 50%, rgba(139,92,246,0.2) 0%, transparent 70%)"},blood:{gradient:"linear-gradient(90deg, #450a0a, #7f1d1d, #b91c1c, #dc2626)",glowColor:"#dc2626",innerPattern:"repeating-linear-gradient(180deg, transparent, transparent 2px, rgba(0,0,0,0.2) 2px, rgba(0,0,0,0.2) 4px)"},aurora:{gradient:"linear-gradient(90deg, #22c55e, #14b8a6, #06b6d4, #8b5cf6, #ec4899)",glowColor:"#14b8a6",innerPattern:"linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(255,255,255,0.05) 100%)"},lightning:{gradient:"linear-gradient(90deg, #0c4a6e, #0284c7, #38bdf8, #fef08a)",glowColor:"#fef08a",innerPattern:"linear-gradient(135deg, transparent 40%, rgba(254,240,138,0.3) 45%, transparent 50%)"},mythic:{gradient:"linear-gradient(90deg, #581c87, #9333ea, #c026d3, #f472b6)",glowColor:"#c026d3",borderStyle:"2px solid rgba(192,38,211,0.5)",innerPattern:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"},legendary:{gradient:"linear-gradient(90deg, #78350f, #d97706, #f59e0b, #fcd34d)",glowColor:"#f59e0b",borderStyle:"2px solid rgba(245,158,11,0.5)",innerPattern:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%)"},very_rare:{gradient:"linear-gradient(90deg, #1e3a8a, #3b82f6, #60a5fa, #a78bfa)",glowColor:"#60a5fa",borderStyle:"1px solid rgba(96,165,250,0.4)",innerPattern:"radial-gradient(circle at 80% 50%, rgba(167,139,250,0.3) 0%, transparent 50%)"},rare:{gradient:"linear-gradient(90deg, #065f46, #059669, #10b981, #6ee7b7)",glowColor:"#10b981",borderStyle:"1px solid rgba(16,185,129,0.4)"},normal:{gradient:"linear-gradient(90deg, #374151, #4b5563, #6b7280, #9ca3af)",glowColor:"#6b7280"}},sb={stars:{shimmerDuration:3,sparkleAnimation:!0},fire:{shimmerDuration:.8,waveAnimation:!0},snow:{shimmerDuration:4,sparkleAnimation:!0},crystals:{shimmerDuration:2.5,pulseAnimation:!0},void:{shimmerDuration:5,pulseAnimation:!0},blood:{shimmerDuration:1.5,waveAnimation:!0},aurora:{shimmerDuration:6,waveAnimation:!0},lightning:{shimmerDuration:.3,sparkleAnimation:!0},mythic:{shimmerDuration:2,pulseAnimation:!0,sparkleAnimation:!0},legendary:{shimmerDuration:1.5,waveAnimation:!0,sparkleAnimation:!0},very_rare:{shimmerDuration:2.5,sparkleAnimation:!0},rare:{shimmerDuration:3},normal:{shimmerDuration:4}};function SC({value:e,max:t=100,particleConfig:n,className:r,height:s=12,showGlow:i=!0,animated:a=!0,label:o,variant:c}){const u=p.useRef(null),d=p.useRef([]),h=p.useRef(),f=Math.min(100,Math.max(0,e/t*100)),m=c||(n==null?void 0:n.type)||"normal",w=rb[m]||rb.normal,v=sb[m]||sb.normal,b=p.useMemo(()=>n?(g,y,S,k)=>{const E=n,j=Math.random()>.6&&E.secondaryColor?E.secondaryColor:E.color;let T=0,P=0,M=2,O=0,U=0;switch(E.type){case"stars":T=(Math.random()-.5)*E.speed*.5,P=(Math.random()-.3)*E.speed*.3,M=Math.random()*3+1,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.1;break;case"fire":T=(Math.random()-.5)*E.speed*.3,P=-Math.random()*E.speed*2,M=Math.random()*4+2;break;case"snow":T=(Math.random()-.5)*E.speed*.2,P=Math.random()*E.speed*.5,M=Math.random()*3+1,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.05;break;case"crystals":T=(Math.random()-.5)*E.speed*.4,P=(Math.random()-.5)*E.speed*.4,M=Math.random()*4+2,O=Math.random()*Math.PI*2,U=(Math.random()-.5)*.08;break;case"void":T=(Math.random()-.5)*E.speed*2,P=(Math.random()-.5)*E.speed*2,M=Math.random()*2+1;break;case"blood":T=(Math.random()-.5)*E.speed*.3,P=Math.random()*E.speed*.8,M=Math.random()*3+2;break;case"aurora":T=E.speed*.5,P=Math.sin(g*.1)*E.speed*.3,M=Math.random()*5+3;break;case"lightning":T=(Math.random()-.5)*E.speed*4,P=(Math.random()-.5)*E.speed*4,M=Math.random()*2+1;break}return{x:g+S*f/100,y:y+k/2+(Math.random()-.5)*k*.8,vx:T,vy:P,size:M,opacity:Math.random()*.8+.2,color:j,life:0,maxLife:30+Math.random()*30,rotation:O,rotationSpeed:U}}:null,[n,f]);p.useEffect(()=>{if(!a||!u.current||!n)return;const g=u.current,y=g.getContext("2d");if(!y)return;const S=g.getBoundingClientRect();g.width=S.width*window.devicePixelRatio,g.height=S.height*window.devicePixelRatio,y.scale(window.devicePixelRatio,window.devicePixelRatio);const k=S.width,E=S.height,C=()=>{y.clearRect(0,0,k,E),b&&Math.random()<n.density*.3&&d.current.push(b(0,0,k,E)),d.current=d.current.filter(j=>{j.x+=j.vx,j.y+=j.vy,j.life++,j.rotation!==void 0&&j.rotationSpeed!==void 0&&(j.rotation+=j.rotationSpeed);const T=j.life/j.maxLife,P=j.opacity*(1-T);if(P<=0)return!1;switch(y.save(),y.translate(j.x,j.y),j.rotation!==void 0&&y.rotate(j.rotation),n.glow&&(y.shadowColor=j.color,y.shadowBlur=j.size*3),y.fillStyle=j.color,y.globalAlpha=P,n.type){case"crystals":y.beginPath(),y.moveTo(0,-j.size),y.lineTo(j.size*.7,0),y.lineTo(0,j.size),y.lineTo(-j.size*.7,0),y.closePath(),y.fill(),y.fillStyle="rgba(255,255,255,0.5)",y.beginPath(),y.moveTo(0,-j.size*.5),y.lineTo(j.size*.3,0),y.lineTo(0,j.size*.3),y.closePath(),y.fill();break;case"stars":_W(y,0,0,5,j.size,j.size*.4);break;case"lightning":y.beginPath(),y.moveTo(0,0),y.lineTo(j.vx*3,j.vy*3),y.strokeStyle=j.color,y.lineWidth=j.size*.5,y.lineCap="round",y.stroke(),Math.random()>.7&&(y.beginPath(),y.moveTo(j.vx*1.5,j.vy*1.5),y.lineTo(j.vx*2+(Math.random()-.5)*4,j.vy*2+(Math.random()-.5)*4),y.lineWidth=j.size*.3,y.stroke());break;case"fire":y.beginPath(),y.moveTo(0,-j.size),y.bezierCurveTo(j.size,-j.size*.5,j.size,j.size*.5,0,j.size),y.bezierCurveTo(-j.size,j.size*.5,-j.size,-j.size*.5,0,-j.size),y.fill();break;case"snow":for(let M=0;M<6;M++)y.save(),y.rotate(Math.PI/3*M),y.beginPath(),y.moveTo(0,0),y.lineTo(0,-j.size),y.strokeStyle=j.color,y.lineWidth=j.size*.2,y.stroke(),y.restore();break;case"void":y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill(),y.beginPath(),y.arc(0,0,j.size*.5,0,Math.PI*2),y.fillStyle="rgba(0,0,0,0.5)",y.fill();break;case"aurora":y.beginPath(),y.ellipse(0,0,j.size*2,j.size*.5,0,0,Math.PI*2),y.fill();break;case"blood":y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill(),y.beginPath(),y.arc(j.size*.3,-j.size*.3,j.size*.3,0,Math.PI*2),y.fillStyle="rgba(255,100,100,0.5)",y.fill();break;default:y.beginPath(),y.arc(0,0,j.size,0,Math.PI*2),y.fill()}return y.restore(),!0}),d.current.length>60&&(d.current=d.current.slice(-60)),h.current=requestAnimationFrame(C)};return C(),()=>{h.current&&cancelAnimationFrame(h.current)}},[a,n,b]),n!=null&&n.color;const x=n?w.gradient:"hsl(var(--primary))";return l.jsxs("div",{className:W("relative w-full",r),children:[o&&l.jsxs("div",{className:"flex justify-between items-center mb-1.5 text-xs",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:o}),l.jsxs("span",{className:"text-foreground font-semibold",children:[Math.round(f),"%"]})]}),l.jsxs("div",{className:"relative overflow-hidden rounded-full bg-secondary/50 backdrop-blur-sm",style:{height:s,border:w.borderStyle,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.2)"},children:[l.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)"}}),l.jsxs(Pt.div,{className:"h-full rounded-full relative overflow-hidden",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.8,ease:"easeOut"},style:{background:x,boxShadow:i&&(n!=null&&n.glow)?`0 0 12px ${w.glowColor}, 0 0 24px ${w.glowColor}50, inset 0 1px 0 rgba(255,255,255,0.3)`:"inset 0 1px 0 rgba(255,255,255,0.3)"},children:[w.innerPattern&&l.jsx("div",{className:"absolute inset-0",style:{background:w.innerPattern}}),a&&v.pulseAnimation&&f>0&&l.jsx(Pt.div,{className:"absolute inset-0 rounded-full",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{background:`radial-gradient(ellipse at 70% 50%, ${w.glowColor}40, transparent 70%)`}}),a&&v.waveAnimation&&f>0&&l.jsx(Pt.div,{className:"absolute inset-0",animate:{x:["-100%","100%"]},transition:{duration:v.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",width:"50%"}}),a&&v.sparkleAnimation&&f>0&&l.jsxs(l.Fragment,{children:[l.jsx(Pt.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:1.5,repeat:1/0,delay:0},style:{left:"20%",top:"30%"}}),l.jsx(Pt.div,{className:"absolute w-0.5 h-0.5 rounded-full bg-white",animate:{opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2,repeat:1/0,delay:.5},style:{left:"50%",top:"60%"}}),l.jsx(Pt.div,{className:"absolute w-1 h-1 rounded-full bg-white",animate:{opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:1.8,repeat:1/0,delay:1},style:{left:"75%",top:"40%"}})]}),a&&f>0&&l.jsx(Pt.div,{className:"absolute inset-0",animate:{x:["-200%","200%"]},transition:{duration:v.shimmerDuration||2,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.15) 25%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0.15) 75%, transparent 100%)",width:"100%"}}),i&&f>5&&l.jsx(Pt.div,{className:"absolute right-0 top-0 bottom-0 w-4",animate:{opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},style:{background:`linear-gradient(90deg, transparent, ${w.glowColor})`}})]}),a&&n&&l.jsx("canvas",{ref:u,className:"absolute inset-0 w-full h-full pointer-events-none",style:{height:s*4,top:-s*1.5}}),f>0&&f<100&&l.jsx(Pt.div,{className:"absolute top-0 bottom-0 w-0.5",initial:{opacity:0},animate:{opacity:[.5,1,.5],left:`${f}%`},transition:{opacity:{duration:1,repeat:1/0},left:{duration:.8,ease:"easeOut"}},style:{background:"rgba(255,255,255,0.8)",boxShadow:`0 0 4px ${w.glowColor}`}})]})]})}function _W(e,t,n,r,s,i){let a=Math.PI/2*3;const o=Math.PI/r;e.beginPath(),e.moveTo(t,n-s);for(let c=0;c<r;c++){let u=t+Math.cos(a)*s,d=n+Math.sin(a)*s;e.lineTo(u,d),a+=o,u=t+Math.cos(a)*i,d=n+Math.sin(a)*i,e.lineTo(u,d),a+=o}e.lineTo(t,n-s),e.closePath(),e.fill()}var Dg="Progress",Ig=100,[MW]=hn(Dg),[RW,AW]=MW(Dg),kC=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=OW,...a}=e;(s||s===0)&&!ib(s)&&console.error(DW(`${s}`,"Progress"));const o=ib(s)?s:Ig;r!==null&&!ab(r,o)&&console.error(IW(`${r}`,"Progress"));const c=ab(r,o)?r:null,u=Wu(c)?i(c,o):void 0;return l.jsx(RW,{scope:n,value:c,max:o,children:l.jsx(J.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Wu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":CC(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});kC.displayName=Dg;var EC="ProgressIndicator",jC=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=AW(EC,n);return l.jsx(J.div,{"data-state":CC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});jC.displayName=EC;function OW(e,t){return`${Math.round(e/t*100)}%`}function CC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wu(e){return typeof e=="number"}function ib(e){return Wu(e)&&!isNaN(e)&&e>0}function ab(e,t){return Wu(e)&&!isNaN(e)&&e<=t&&e>=0}function DW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ig}\`.`}function IW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ig} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TC=kC,LW=jC;const mp=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(TC,{ref:r,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(LW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));mp.displayName=TC.displayName;const gf={mythic:"from-purple-500 via-pink-500 to-rose-500",legendary:"from-amber-400 via-orange-500 to-red-500",very_rare:"from-blue-400 via-indigo-500 to-purple-500",rare:"from-cyan-400 via-teal-500 to-emerald-500",normal:"from-slate-400 via-gray-500 to-zinc-500"},$W={mythic:"Mythic",legendary:"Legendary",very_rare:"Very Rare",rare:"Rare",normal:"Normal"},FW=[{type:"stars",label:"Starfall",color:"#3b82f6",secondary:"#93c5fd",value:75},{type:"fire",label:"Inferno",color:"#f97316",secondary:"#fbbf24",value:85},{type:"snow",label:"Frostbite",color:"#38bdf8",secondary:"#e0f2fe",value:70},{type:"crystals",label:"Crystal",color:"#818cf8",secondary:"#c4b5fd",value:80},{type:"void",label:"Void",color:"#7c3aed",secondary:"#4c1d95",value:65},{type:"aurora",label:"Aurora",color:"#14b8a6",secondary:"#ec4899",value:90},{type:"lightning",label:"Thunder",color:"#fef08a",secondary:"#38bdf8",value:78},{type:"blood",label:"Crimson",color:"#dc2626",secondary:"#b91c1c",value:72}],BW=F.memo(function({moon:t,entry:n,isExpanded:r,onToggleExpand:s,onToggleFavorite:i,onToggleLock:a,onAddBoost:o,particles:c}){return l.jsxs("div",{className:W("rounded-xl border overflow-hidden","bg-gradient-to-br from-card via-card to-background"),style:{borderColor:(c==null?void 0:c.color)+"40",boxShadow:c!=null&&c.glow?`0 0 20px ${c.color}20`:void 0},children:[l.jsxs("button",{onClick:s,className:"w-full p-4 flex items-center gap-3 hover:bg-accent/50 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{background:c?`linear-gradient(135deg, ${c.color}, ${c.secondaryColor||c.color})`:"hsl(var(--primary))"},children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 text-left min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:t.name}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.nameEn})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs(xe,{variant:"secondary",className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:["",(n==null?void 0:n.encounterCount)||0]}),r?l.jsx(Ra,{className:"h-4 w-4"}):l.jsx(ys,{className:"h-4 w-4"})]})]}),r&&l.jsx("div",{className:"border-t animate-fade-in",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("p",{className:"text-sm italic text-muted-foreground",children:['"',t.subtitle,'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c2,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"truncate",children:"First seen:"}),l.jsx("span",{className:"text-muted-foreground truncate",children:n!=null&&n.firstEncountered?new Date(n.firstEncountered).toLocaleDateString("th-TH"):"-"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"truncate",children:"Last seen:"}),l.jsx("span",{className:"text-muted-foreground truncate",children:n!=null&&n.lastEncountered?new Date(n.lastEncountered).toLocaleDateString("th-TH"):"-"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Theme Duration Boost"}),l.jsxs("span",{className:"text-muted-foreground",children:["+",zW((n==null?void 0:n.themeDurationBoost)||0)," (max 1 day)"]})]}),l.jsx(SC,{value:(n==null?void 0:n.themeDurationBoost)||0,max:86400,particleConfig:c,height:10,animated:!1}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>o(3600),disabled:((n==null?void 0:n.encounterCount)??0)<5||((n==null?void 0:n.themeDurationBoost)||0)>=86400,title:((n==null?void 0:n.encounterCount)??0)<5?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,className:"flex-1",children:[l.jsx(vr,{className:"h-3 w-3 mr-1"}),"+1h"]}),l.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>o(21600),disabled:((n==null?void 0:n.encounterCount)??0)<5||((n==null?void 0:n.themeDurationBoost)||0)>=86400,title:((n==null?void 0:n.encounterCount)??0)<5?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,className:"flex-1",children:[l.jsx(vr,{className:"h-3 w-3 mr-1"}),"+6h"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ye,{size:"sm",variant:n!=null&&n.isLocked?"default":"outline",onClick:a,disabled:((n==null?void 0:n.encounterCount)??0)<5&&!(n!=null&&n.isLocked),className:W("flex-1",(n==null?void 0:n.isLocked)&&"bg-amber-500 hover:bg-amber-600 text-white"),title:((n==null?void 0:n.encounterCount)??0)<5&&!(n!=null&&n.isLocked)?` ${5-((n==null?void 0:n.encounterCount)??0)} `:void 0,children:n!=null&&n.isLocked?l.jsxs(l.Fragment,{children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Unlock Theme"]}):l.jsxs(l.Fragment,{children:[l.jsx(J_,{className:"h-4 w-4 mr-2"}),((n==null?void 0:n.encounterCount)??0)<5?`Lock (${(n==null?void 0:n.encounterCount)??0}/5)`:"Lock Theme"]})}),l.jsxs(ye,{size:"sm",variant:n!=null&&n.isFavorite?"default":"outline",onClick:i,className:"flex-1",children:[l.jsx(X_,{className:W("h-4 w-4 mr-2",(n==null?void 0:n.isFavorite)&&"fill-current")}),n!=null&&n.isFavorite?"Unfavorite":"Favorite"]})]}),(n==null?void 0:n.isLocked)&&l.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[l.jsx(Mo,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Theme Locked"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This moon will always be your theme. No random re-rolling."})]})]})})]})});function zW(e){return e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m`:e<86400?`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`:`${Math.floor(e/86400)}d ${Math.floor(e%86400/3600)}h`}function VW({className:e,compact:t=!1}){const{collection:n,getMythicMoons:r,getStats:s,toggleFavorite:i,toggleLock:a,addDurationBoost:o,getParticleConfig:c}=U5(),[u,d]=p.useState(null),[h,f]=p.useState(!1),[m,w]=p.useState(!1),v=p.useMemo(()=>r(),[r]),b=p.useMemo(()=>s(),[s]),x=p.useMemo(()=>v.filter(S=>S.discovered),[v]),g=p.useMemo(()=>v.filter(S=>!S.discovered),[v]),y=p.useMemo(()=>({mythic:{count:b.mythicCount,max:v.length},legendary:{count:b.legendaryCount,max:Object.values(Rn).filter(S=>S.rarity==="legendary").length},very_rare:{count:b.veryRareCount,max:Object.values(Rn).filter(S=>S.rarity==="very_rare").length},rare:{count:b.rareCount,max:Object.values(Rn).filter(S=>S.rarity==="rare").length},normal:{count:b.normalCount,max:Object.values(Rn).filter(S=>S.rarity==="normal").length}}),[b,v.length]);return t?l.jsxs("div",{className:W("space-y-3",e),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Mythic Collection"})]}),l.jsxs(xe,{variant:"secondary",children:[b.mythicCount," / ",v.length]})]}),l.jsx(mp,{value:b.mythicCount/v.length*100,className:"h-2"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.slice(0,6).map(S=>l.jsx("div",{className:W("w-8 h-8 rounded-full flex items-center justify-center text-xs",S.discovered?"bg-gradient-to-br "+gf.mythic:"bg-muted"),title:S.discovered?S.name:"???",children:S.discovered?l.jsx("span",{className:"text-white",children:""}):l.jsx(Mo,{className:"h-3 w-3 text-muted-foreground"})},S.id)),v.length>6&&l.jsxs("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-xs text-muted-foreground",children:["+",v.length-6]})]})]}):l.jsxs("div",{className:W("space-y-6",e),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20",children:l.jsx(lM,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Mythic Codex"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.totalEncounters," total encounters"]})]})]}),l.jsxs(xe,{variant:"outline",className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:[b.completionPercent,"% Complete"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Collection Progress"}),l.jsxs("span",{children:[b.totalDiscovered," / ",Object.keys(Rn).length]})]}),l.jsx(mp,{value:b.completionPercent,className:"h-2"})]}),l.jsx("div",{className:"space-y-3",children:["mythic","legendary","very_rare","rare","normal"].map(S=>{const{count:k,max:E}=y[S],C=E>0?k/E*100:0;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center text-xs",children:[l.jsx("span",{className:W("font-medium px-2 py-0.5 rounded-full bg-gradient-to-r text-white",gf[S]),children:$W[S]}),l.jsxs("span",{className:"text-muted-foreground",children:[k," / ",E]})]}),l.jsx("div",{className:"h-3 rounded-full overflow-hidden bg-secondary/50",children:l.jsx("div",{className:W("h-full rounded-full bg-gradient-to-r transition-all duration-500",gf[S]),style:{width:`${C}%`}})})]},S)})}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsxs("button",{onClick:()=>w(!m),className:"w-full flex items-center justify-between text-xs font-medium text-muted-foreground hover:text-foreground transition-colors",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"h-3 w-3"}),"Particle Effect Showcase"]}),m?l.jsx(Ra,{className:"h-4 w-4"}):l.jsx(ys,{className:"h-4 w-4"})]}),m&&l.jsx("div",{className:"grid gap-3 mt-3 animate-fade-in",children:FW.map(S=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:S.label}),l.jsx(SC,{value:S.value,max:100,variant:S.type,height:14,showGlow:!0,animated:!0,particleConfig:{type:S.type,color:S.color,secondaryColor:S.secondary,density:.6,speed:1.2,glow:!0}})]},S.type))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(m2,{className:"h-4 w-4 text-amber-500"}),"Discovered Mythic Moons (",x.length,")"]}),l.jsx("div",{className:"space-y-3",children:x.map(S=>{const k=n[S.id],E=u===S.id,C=c(S.id);return l.jsx(BW,{moon:S,entry:k,isExpanded:E,onToggleExpand:()=>d(E?null:S.id),onToggleFavorite:()=>i(S.id),onToggleLock:()=>a(S.id),onAddBoost:j=>o(S.id,j),particles:C},S.id)})}),x.length===0&&l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(yt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No Mythic moons discovered yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Keep exploring to find rare moon phenomena!"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between text-sm font-medium",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Mo,{className:"h-4 w-4 text-muted-foreground"}),"Undiscovered (",g.length,")"]}),h?l.jsx(Ra,{className:"h-4 w-4"}):l.jsx(ys,{className:"h-4 w-4"})]}),h&&l.jsx("div",{className:"grid grid-cols-2 gap-2 animate-fade-in",children:g.map(S=>l.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border border-dashed flex items-center gap-2",children:[l.jsx(Mo,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-sm text-muted-foreground truncate",children:"???"})]},S.id))})]})]})}var yf="rovingFocusGroup.onEntryFocus",UW={bubbles:!1,cancelable:!0},zl="RovingFocusGroup",[pp,PC,WW]=cd(zl),[HW,NC]=hn(zl,[WW]),[GW,KW]=HW(zl),_C=p.forwardRef((e,t)=>l.jsx(pp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(pp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qW,{...e,ref:t})})}));_C.displayName=zl;var qW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=ce(t,f),w=Il(i),[v,b]=gs({prop:a,defaultProp:o??null,onChange:c,caller:zl}),[x,g]=p.useState(!1),y=Xe(u),S=PC(n),k=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(yf,y),()=>j.removeEventListener(yf,y)},[y]),l.jsx(GW,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(j=>b(j),[b]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>C(j=>j-1),[]),children:l.jsx(J.div,{tabIndex:x||E===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{k.current=!0}),onFocus:G(e.onFocus,j=>{const T=!k.current;if(j.target===j.currentTarget&&T&&!x){const P=new CustomEvent(yf,UW);if(j.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=S().filter(B=>B.focusable),O=M.find(B=>B.active),U=M.find(B=>B.id===v),Y=[O,U,...M].filter(Boolean).map(B=>B.ref.current);AC(Y,d)}}k.current=!1}),onBlur:G(e.onBlur,()=>g(!1))})})}),MC="RovingFocusGroupItem",RC=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...o}=e,c=ds(),u=i||c,d=KW(MC,n),h=d.currentTabStopId===u,f=PC(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),l.jsx(pp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(J.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:G(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:G(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:G(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=QW(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=f().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const S=y.indexOf(b.currentTarget);y=d.loop?JW(y,S+1):y.slice(S+1)}setTimeout(()=>AC(y))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});RC.displayName=MC;var YW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QW(e,t,n){const r=XW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return YW[r]}function AC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function JW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ZW=_C,e7=RC,Hd="Tabs",[t7]=hn(Hd,[NC]),OC=NC(),[n7,Lg]=t7(Hd),DC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Il(o),[h,f]=gs({prop:r,onChange:s,defaultProp:i??"",caller:Hd});return l.jsx(n7,{scope:n,baseId:ds(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:l.jsx(J.div,{dir:d,"data-orientation":a,...u,ref:t})})});DC.displayName=Hd;var IC="TabsList",LC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Lg(IC,n),a=OC(n);return l.jsx(ZW,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(J.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});LC.displayName=IC;var $C="TabsTrigger",FC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Lg($C,n),o=OC(n),c=VC(a.baseId,r),u=UC(a.baseId,r),d=r===a.value;return l.jsx(e7,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(J.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:G(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:G(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:G(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});FC.displayName=$C;var BC="TabsContent",zC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,o=Lg(BC,n),c=VC(o.baseId,r),u=UC(o.baseId,r),d=r===o.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(fn,{present:s||d,children:({present:f})=>l.jsx(J.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});zC.displayName=BC;function VC(e,t){return`${e}-trigger-${t}`}function UC(e,t){return`${e}-content-${t}`}var r7=DC,WC=LC,HC=FC,GC=zC;const KC=r7,$g=p.forwardRef(({className:e,...t},n)=>l.jsx(WC,{ref:n,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$g.displayName=WC.displayName;const ma=p.forwardRef(({className:e,...t},n)=>l.jsx(HC,{ref:n,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ma.displayName=HC.displayName;const pa=p.forwardRef(({className:e,...t},n)=>l.jsx(GC,{ref:n,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pa.displayName=GC.displayName;function s7(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Fg="ScrollArea",[qC]=hn(Fg),[i7,mn]=qC(Fg),YC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[o,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,w]=p.useState(null),[v,b]=p.useState(null),[x,g]=p.useState(0),[y,S]=p.useState(0),[k,E]=p.useState(!1),[C,j]=p.useState(!1),T=ce(t,M=>c(M)),P=Il(s);return l.jsx(i7,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:j,onCornerWidthChange:g,onCornerHeightChange:S,children:l.jsx(J.div,{dir:P,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});YC.displayName=Fg;var XC="ScrollAreaViewport",QC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=mn(XC,n),o=p.useRef(null),c=ce(t,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(J.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QC.displayName=XC;var ir="ScrollAreaScrollbar",Bg=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(ir,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,o=e.orientation==="horizontal";return p.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),s.type==="hover"?l.jsx(a7,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(o7,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(JC,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(zg,{...r,ref:t}):null});Bg.displayName=ir;var a7=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(ir,e.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const o=s.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(fn,{present:n||i,children:l.jsx(JC,{"data-state":i?"visible":"hidden",...r,ref:t})})}),o7=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mn(ir,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Kd(()=>c("SCROLL_END"),100),[o,c]=s7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),l.jsx(fn,{present:n||o!=="hidden",children:l.jsx(zg,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),JC=p.forwardRef((e,t)=>{const n=mn(ir,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=p.useState(!1),o=e.orientation==="horizontal",c=Kd(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?u:d)}},10);return Fa(n.viewport,c),Fa(n.content,c),l.jsx(fn,{present:r||i,children:l.jsx(zg,{"data-state":i?"visible":"hidden",...s,ref:t})})}),zg=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=mn(ir,e.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[o,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rT(o.viewport,o.content),d={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,m){return f7(f,a.current,o,m)}return n==="horizontal"?l.jsx(l7,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=ob(f,o,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(c7,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=ob(f,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),l7=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mn(ir,e.__scopeScrollArea),[a,o]=p.useState(),c=p.useRef(null),u=ce(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(eT,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),iT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gu(a.paddingLeft),paddingEnd:Gu(a.paddingRight)}})}})}),c7=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mn(ir,e.__scopeScrollArea),[a,o]=p.useState(),c=p.useRef(null),u=ce(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(eT,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),iT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gu(a.paddingTop),paddingEnd:Gu(a.paddingBottom)}})}})}),[u7,ZC]=qC(ir),eT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=mn(ir,n),[w,v]=p.useState(null),b=ce(t,T=>v(T)),x=p.useRef(null),g=p.useRef(""),y=m.viewport,S=r.content-r.viewport,k=Xe(d),E=Xe(c),C=Kd(h,10);function j(T){if(x.current){const P=T.clientX-x.current.left,M=T.clientY-x.current.top;u({x:P,y:M})}}return p.useEffect(()=>{const T=P=>{const M=P.target;(w==null?void 0:w.contains(M))&&k(P,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,w,S,k]),p.useEffect(E,[r,E]),Fa(w,C),Fa(m.content,C),l.jsx(u7,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Xe(i),onThumbPointerUp:Xe(a),onThumbPositionChange:E,onThumbPointerDown:Xe(o),children:l.jsx(J.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:G(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(T))}),onPointerMove:G(e.onPointerMove,j),onPointerUp:G(e.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Hu="ScrollAreaThumb",tT=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ZC(Hu,e.__scopeScrollArea);return l.jsx(fn,{present:n||s.hasThumb,children:l.jsx(d7,{ref:t,...r})})}),d7=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=mn(Hu,n),a=ZC(Hu,n),{onThumbPositionChange:o}=a,c=ce(t,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=Kd(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=m7(h,o);u.current=m,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,o]),l.jsx(J.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:G(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,v=h.clientY-m.top;a.onThumbPointerDown({x:w,y:v})}),onPointerUp:G(e.onPointerUp,a.onThumbPointerUp)})});tT.displayName=Hu;var Vg="ScrollAreaCorner",nT=p.forwardRef((e,t)=>{const n=mn(Vg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(h7,{...e,ref:t}):null});nT.displayName=Vg;var h7=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=mn(Vg,n),[i,a]=p.useState(0),[o,c]=p.useState(0),u=!!(i&&o);return Fa(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Fa(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?l.jsx(J.div,{...r,ref:t,style:{width:i,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gu(e){return e?parseInt(e,10):0}function rT(e,t){const n=e/t;return isNaN(n)?0:n}function Gd(e){const t=rT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function f7(e,t,n,r="ltr"){const s=Gd(n),i=s/2,a=t||i,o=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return sT([c,u],h)(e)}function ob(e,t,n="ltr"){const r=Gd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,o=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=pl(e,c);return sT([0,a],[0,o])(u)}function sT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function iT(e,t){return e>0&&e<t}var m7=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,o=n.top!==i.top;(a||o)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Kd(e,t){const n=Xe(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Fa(e,t){const n=Xe(t);et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var aT=YC,p7=QC,g7=nT;const gp=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(aT,{ref:r,className:W("relative overflow-hidden",e),...n,children:[l.jsx(p7,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(oT,{}),l.jsx(g7,{})]}));gp.displayName=aT.displayName;const oT=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Bg,{ref:r,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(tT,{className:"relative flex-1 rounded-full bg-border"})}));oT.displayName=Bg.displayName;function y7(){const[e,t]=p.useState(""),[n,r]=p.useState("date"),[s,i]=p.useState("dreams"),[a,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState({today:!0,thisWeek:!0,thisMonth:!0,older:!1}),[f,m]=p.useState(null);p.useEffect(()=>{const{phenomenon:y}=ml();m(y)},[]);const w=()=>{A3();const{phenomenon:y}=ml();m(y),_u(y)};p.useEffect(()=>{(async()=>{try{const S=await yi();o(S)}catch(S){console.error("Error loading data:",S)}finally{u(!1)}})()},[]);const v=p.useMemo(()=>e?a.filter(y=>{var S;return y.world.toLowerCase().includes(e.toLowerCase())||y.entities.some(k=>k.toLowerCase().includes(e.toLowerCase()))||((S=y.notes)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}):a,[a,e]),b=p.useMemo(()=>{const y=[],S=[],k=[],E=[];return v.forEach(C=>{const j=new Date(C.date);z9(j)?y.push(C):B9(j,{weekStartsOn:1})?S.push(C):F9(j)?k.push(C):E.push(C)}),{today:y,thisWeek:S,thisMonth:k,older:E}},[v]),x=p.useMemo(()=>{const y={};return v.forEach(S=>{const k=S.world||"Unknown World";y[k]||(y[k]=[]),y[k].push(S)}),Object.entries(y).sort((S,k)=>k[1].length-S[1].length)},[v]),g=y=>{h(S=>({...S,[y]:!S[y]}))};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx(NW,{searchQuery:e,onSearchChange:t,groupBy:n,onGroupByChange:r,totalDreams:v.length,currentPhenomenon:f,onChangePhenomenon:w,showDreamFilters:s==="dreams"}),l.jsxs(KC,{value:s,onValueChange:y=>i(y),className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"px-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs($g,{className:"w-full h-12 bg-transparent gap-2",children:[l.jsxs(ma,{value:"dreams",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(md,{className:"h-4 w-4"}),l.jsx("span",{children:"Dream Logs"})]}),l.jsxs(ma,{value:"codex",className:"flex-1 gap-2 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[l.jsx(v0,{className:"h-4 w-4"}),l.jsx("span",{children:"Mythic Codex"})]})]})}),l.jsx(pa,{value:"dreams",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(gp,{className:"h-full pb-28",children:c?l.jsx(H9,{}):v.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground px-4",children:[l.jsx(g0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):n==="date"?l.jsxs("div",{className:"space-y-4 p-4",children:[l.jsx(Tc,{title:"",dreams:b.today,colorClass:"bg-primary",isExpanded:d.today,onToggle:()=>g("today")}),l.jsx(Tc,{title:"",dreams:b.thisWeek,colorClass:"bg-blue-500",isExpanded:d.thisWeek,onToggle:()=>g("thisWeek")}),l.jsx(Tc,{title:"",dreams:b.thisMonth,colorClass:"bg-emerald-500",isExpanded:d.thisMonth,onToggle:()=>g("thisMonth")}),l.jsx(Tc,{title:"",dreams:b.older,colorClass:"bg-muted-foreground/50",isExpanded:d.older,onToggle:()=>g("older")})]}):l.jsx("div",{className:"space-y-4 p-4",children:x.map(([y,S])=>l.jsx(PW,{worldName:y,dreams:S,isExpanded:d[y]??!0,onToggle:()=>g(y)},y))})})}),l.jsx(pa,{value:"codex",className:"flex-1 mt-0 overflow-hidden",children:l.jsx(gp,{className:"h-full pb-28",children:l.jsx("div",{className:"p-4",children:l.jsx(VW,{})})})})]}),l.jsx(jd,{})]})}function lb({dreams:e,mode:t}){const n=p.useMemo(()=>{if(e.length===0)return[];const s=[...e].sort((o,c)=>new Date(o.date).getTime()-new Date(c.date).getTime()),i=new Date(s[0].date),a=new Date(s[s.length-1].date);return t==="week"?$U({start:i,end:a},{weekStartsOn:1}).map(c=>{const u=new Date(c);u.setDate(u.getDate()+6);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:mt(c,"d MMM",{locale:Ss}),count:d,period:c}}).slice(-12):LU({start:i,end:a}).map(c=>{const u=new Date(c);u.setMonth(u.getMonth()+1),u.setDate(0);const d=e.filter(h=>{const f=new Date(h.date);return f>=c&&f<=u}).length;return{label:mt(c,"MMM yy",{locale:Ss}),count:d,period:c}}).slice(-12)},[e,t]),r=Math.max(...n.map(s=>s.count),1);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(p0,{className:"w-4 h-4 text-primary"}),l.jsxs("h2",{className:"text-sm font-semibold",children:[" (",t==="week"?"":"",")"]})]}),l.jsxs("div",{className:"space-y-2",children:[n.map((s,i)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:s.label}),l.jsxs("span",{className:"font-semibold",children:[s.count," "]})]}),l.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s.count/r*100}%`}})})]},i)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})]})}function v7({dreams:e}){const t=p.useMemo(()=>{const n=new Set(["","","","","","","","","","","","","","","","","","","","","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","is","was","were"]),r=new Map;e.forEach(c=>{[c.notes||"",...c.environments,...c.entities,c.world].join(" ").split(/[\s,.:;!?()[\]{}]+/).filter(h=>h.length>2&&!n.has(h.toLowerCase())).map(h=>h.toLowerCase()).forEach(h=>{r.set(h,(r.get(h)||0)+1)})});const s=Array.from(r.entries()).map(([c,u])=>({word:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,30);if(s.length===0)return[];const i=Math.max(...s.map(c=>c.count)),a=Math.min(...s.map(c=>c.count)),o=i-a||1;return s.map(({word:c,count:u})=>({word:c,count:u,size:12+(u-a)/o*24}))},[e]);return t.length===0?l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(hv,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:""})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hv,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center items-center py-4 min-h-[200px]",children:t.map(({word:n,count:r,size:s})=>l.jsx("span",{className:"cursor-default hover:text-primary transition-colors",style:{fontSize:`${s}px`,fontWeight:Math.round(300+s/36*400),opacity:.6+s/36*.4},title:`${r} `,children:n},n))})]})}function x7({dreams:e}){const t=p.useMemo(()=>{const n=new Map;return e.forEach(r=>{[...r.environments,...r.entities,r.world,r.timeSystem,r.safetyOverride].forEach(i=>{i&&i!=="unknown"&&i!=="none"&&n.set(i,(n.get(i)||0)+1)})}),Array.from(n.entries()).map(([r,s])=>({tag:r,count:s})).sort((r,s)=>s.count-r.count).slice(0,20)},[e]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(iM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:""})]}),t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(({tag:n,count:r})=>l.jsxs(xe,{variant:"secondary",className:"text-xs px-3 py-1 gap-2",children:[l.jsx("span",{children:n}),l.jsx("span",{className:"text-primary font-semibold",children:r})]},n))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function w7({dreams:e}){const t=p.useMemo(()=>{const r=[...e].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime()),s=Array.from({length:14},(c,u)=>{const d=V9(new Date,u),h=r.filter(m=>mt(new Date(m.date),"yyyy-MM-dd")===mt(d,"yyyy-MM-dd")),f=h.length>0?h.reduce((m,w)=>m+w.threatLevel,0)/h.length:0;return{date:d,label:mt(d,"d MMM",{locale:Ss}),avgThreat:f,count:h.length}}).reverse(),i=s.slice(-7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),a=s.slice(0,7).filter(c=>c.count>0).reduce((c,u,d,h)=>c+u.avgThreat/h.length,0),o=i-a;return{data:s,trend:o,recentAvg:i,previousAvg:a}},[e]),n=Math.max(...t.data.map(r=>r.avgThreat),5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tl,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Trends"})]}),t.trend!==0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t.trend>0?"text-red-500":t.trend<0?"text-green-500":"text-muted-foreground"}`,children:[t.trend>0?l.jsx(tl,{className:"w-3 h-3"}):t.trend<0?l.jsx(oM,{className:"w-3 h-3"}):l.jsx(eM,{className:"w-3 h-3"}),l.jsx("span",{children:Math.abs(t.trend).toFixed(2)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.recentAvg.toFixed(2)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.previousAvg.toFixed(2)})]})]}),l.jsx("div",{className:"space-y-2",children:t.data.map((r,s)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:r.label}),l.jsx("span",{className:`font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.count>0?r.avgThreat.toFixed(1):"-"})]}),r.count>0&&l.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${r.avgThreat>=4?"bg-red-500":r.avgThreat>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${r.avgThreat/n*100}%`}})})]},s))})]})}function b7({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;e.forEach(o=>{o.environments.forEach(c=>{s.set(c,(s.get(c)||0)+1)})});const i=new Map;e.forEach(o=>{if(o.entities.length>=2){const c=o.entities.sort().join(" + ");i.set(c,(i.get(c)||0)+1)}});const a=new Map;for(let o=0;o<e.length-1;o++){const c=`${e[o].world}  ${e[o+1].world}`;a.set(c,(a.get(c)||0)+1)}return{recurringEnvs:Array.from(s.entries()).filter(([o,c])=>c>=3).map(([o,c])=>({env:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,5),recurringCombos:Array.from(i.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({combo:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3),worldPatterns:Array.from(a.entries()).filter(([o,c])=>c>=2).map(([o,c])=>({seq:o,count:c})).sort((o,c)=>c.count-o.count).slice(0,3)}},[e]),r=n.recurringEnvs.length>0||n.recurringCombos.length>0||n.worldPatterns.length>0;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Recurring Patterns"})]}),r?l.jsxs("div",{className:"space-y-4",children:[n.recurringEnvs.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringEnvs.map(({env:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:s}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]}),n.recurringCombos.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringCombos.map(({combo:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]}),n.worldPatterns.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.worldPatterns.map(({seq:s,count:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))})]})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function S7({dreams:e,entities:t}){const n=p.useMemo(()=>{const s=new Map;return t.forEach(i=>{const a=i.dreamIds.length;if(a>=2){const o=e.filter(c=>i.dreamIds.includes(c.id)).sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime())[0];s.set(i.name,{count:a,role:i.role,lastSeen:(o==null?void 0:o.date)||""})}}),Array.from(s.entries()).map(([i,a])=>({name:i,...a})).sort((i,a)=>a.count-i.count).slice(0,10)},[e,t]),r=p.useMemo(()=>n.filter(s=>s.count>=3).map(s=>` "${s.name}"  ${s.count} !`),[n]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zn,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Entities "})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((s,i)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50/50 dark:bg-blue-950/20 border border-blue-500/50 rounded-lg",children:[l.jsx(H_,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:s})]},i))}),n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(({name:s,count:i,role:a})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a})]}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[i," "]})]},s))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" entities "})]})}function k7({dreams:e}){const t=p.useMemo(()=>{if(e.length===0)return{currentStreak:0,longestStreak:0,totalDays:0,streakDays:[]};const r=[...e].sort((w,v)=>new Date(v.date).getTime()-new Date(w.date).getTime()),s=new Set(r.map(w=>mt(new Date(w.date),"yyyy-MM-dd")));let i=0,a=new Date;for(a.setHours(0,0,0,0);s.has(mt(a,"yyyy-MM-dd"));)i++,a.setDate(a.getDate()-1);if(i===0&&(a=new Date,a.setDate(a.getDate()-1),a.setHours(0,0,0,0),s.has(mt(a,"yyyy-MM-dd"))))for(i=1,a.setDate(a.getDate()-1);s.has(mt(a,"yyyy-MM-dd"));)i++,a.setDate(a.getDate()-1);const o=new Date(r[r.length-1].date),c=new Date(r[0].date),u=IU({start:o,end:c});let d=0,h=0;u.forEach(w=>{s.has(mt(w,"yyyy-MM-dd"))?(h++,d=Math.max(d,h)):h=0});const f=[],m=new Date;m.setHours(0,0,0,0);for(let w=0;w<i&&w<7;w++)f.push(new Date(m)),m.setDate(m.getDate()-1);return{currentStreak:i,longestStreak:d,totalDays:s.size,streakDays:f.reverse()}},[e]),n=r=>r>=30?"":r>=14?"":r>=7?"":r>=3?"":"";return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ch,{className:"w-4 h-4 text-orange-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Dream Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("div",{className:"text-4xl mb-2",children:n(t.currentStreak)}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:t.currentStreak}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(U_,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.longestStreak}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(Ch,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.totalDays}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),t.streakDays.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex gap-1 justify-center",children:t.streakDays.map((r,s)=>l.jsxs("div",{className:"flex flex-col items-center",title:mt(r,"d MMM yyyy",{locale:Ss}),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:l.jsx(Ch,{className:"w-4 h-4 text-orange-500"})}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:mt(r,"d")})]},s))})]}),t.currentStreak===0&&l.jsx("div",{className:"text-center p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" streak ! "})}),t.currentStreak>=7&&l.jsx("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["!  ",t.currentStreak," ","! "]})})]})}function E7(){return l.jsxs("div",{className:"card-minimal space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-3 w-20"})]}),l.jsx(le,{className:"h-8 w-12"})]})}function j7(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-5 h-5 rounded"}),l.jsx(le,{className:"h-6 w-40"})]}),l.jsx(le,{className:"h-8 w-8 rounded"})]}),l.jsx(le,{className:"h-10 w-full rounded-lg"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>l.jsx(E7,{},t))}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-4 w-32"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(6)].map((e,t)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-16 h-3"}),l.jsx(le,{className:"flex-1 h-2 rounded-full"}),l.jsx(le,{className:"w-8 h-3"})]},t))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-4 h-4 rounded"}),l.jsx(le,{className:"h-4 w-24"})]}),l.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"w-8 h-8 rounded-full"}),l.jsx(le,{className:"h-4 w-24"})]}),l.jsx(le,{className:"h-5 w-12 rounded-full"})]},t))})]})]})}function C7({totalDreams:e,worldsCount:t,entitiesCount:n,threatsCount:r}){const s={dreams:e*3,worlds:t*.5,entities:n*.5,threats:r*.3,relations:e*.5},a=Object.values(s).reduce((h,f)=>h+f,0)/1024,o=500,c=a/o*100,u=o-a,d=Math.floor(u/(a/e||3))+e;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(G_,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Database Usage"})]}),l.jsxs(xe,{variant:"outline",className:"text-xs",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),l.jsxs("span",{className:"font-semibold",children:[a.toFixed(2)," MB / ",o," MB"]})]}),l.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all rounded-full ${c>80?"bg-red-500":c>60?"bg-orange-500":c>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.toFixed(2),"%    ",u.toFixed(2)," MB"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Y_,{className:"w-3 h-3"}),"Dream Logs"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.dreams.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(jr,{className:"w-3 h-3"}),"Worlds"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.worlds.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Zn,{className:"w-3 h-3"}),"Entities"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.entities.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Aa,{className:"w-3 h-3"}),"Threats"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[s.threats.toFixed(1)," KB"]})]})]}),l.jsxs("div",{className:"pt-2 border-t space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-semibold text-primary",children:["~",d.toLocaleString()," logs"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(d-e).toLocaleString()," logs"]})]})]})}function T7({totalDreams:e,avgThreatLevel:t,threatTrend:n,worldsCount:r,entitiesCount:s}){return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(l2,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Dreams"})]}),l.jsx("p",{className:"text-2xl font-bold",children:e})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(tl,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"})]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-2xl font-bold",children:t}),n!==0&&e>7&&l.jsxs(xe,{variant:n>0?"destructive":"secondary",className:"text-xs",children:[n>0?"":""," ",Math.abs(n).toFixed(1)]})]})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(jr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Worlds"})]}),l.jsx("p",{className:"text-2xl font-bold",children:r})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Zn,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Entities"})]}),l.jsx("p",{className:"text-2xl font-bold",children:s})]})]})}function P7({dreams:e,worldCounts:t,timeSystemCounts:n}){const r=e.length,s=e.slice(0,7),i=e.slice(7,14),a=s.length>0?s.reduce((f,m)=>f+m.threatLevel,0)/s.length:0,o=i.length>0?i.reduce((f,m)=>f+m.threatLevel,0)/i.length:0,c=a-o,u=[];c>.5?u.push({type:"warning",text:` ${c.toFixed(1)} `,icon:Aa}):c<-.5&&u.push({type:"success",text:` ${Math.abs(c).toFixed(1)} `,icon:_l}),n.activated>n.inactive&&u.push({type:"info",text:"Time System ",icon:vr});const d=s.filter(f=>f.threatLevel>=4).length;d>=3&&u.push({type:"danger",text:` ${d} `,icon:Aa});const h=t[0];return h&&h.count>r*.3&&u.push({type:"info",text:` "${h.name}"  (${h.count} )`,icon:jr}),u.length===0?null:l.jsx("div",{className:"space-y-2",children:u.map((f,m)=>l.jsxs("div",{className:`card-minimal flex items-start gap-3 ${f.type==="danger"?"border-red-500/50 bg-red-50/50 dark:bg-red-950/20":f.type==="warning"?"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20":f.type==="success"?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-blue-500/50 bg-blue-50/50 dark:bg-blue-950/20"}`,children:[l.jsx(f.icon,{className:`w-4 h-4 mt-0.5 ${f.type==="danger"?"text-red-500":f.type==="warning"?"text-orange-500":f.type==="success"?"text-green-500":"text-blue-500"}`}),l.jsx("p",{className:"text-sm flex-1",children:f.text})]},m))})}function N7({dreams:e}){const t=e.length,n=[0,1,2,3,4,5].map(r=>({level:r,count:e.filter(s=>s.threatLevel===r).length}));return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tl,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Distribution"})]}),l.jsx("div",{className:"space-y-2",children:n.map(({level:r,count:s})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs w-16",children:["Level ",r]}),l.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${r>=4?"bg-red-500":r>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:s})]},r))})]})}function Ue({children:e,delay:t=0,duration:n=400,className:r=""}){const[s,i]=p.useState(!1);return p.useEffect(()=>{const a=setTimeout(()=>{i(!0)},t);return()=>clearTimeout(a)},[t]),l.jsx("div",{className:`transition-all ${r}`,style:{opacity:s?1:0,transform:s?"translateY(0) scale(1)":"translateY(16px) scale(0.98)",transitionDuration:`${n}ms`,transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e})}function _7({worlds:e}){const t=e.map(n=>({name:n.name,count:n.dreamIds.length,stability:n.stability})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Worlds"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(stability ",n.stability,"/5)"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function M7({entities:e}){const t=e.map(n=>({name:n.name,role:n.role,count:n.dreamIds.length})).sort((n,r)=>r.count-n.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zn,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Entities"})]}),l.jsxs("div",{className:"space-y-2",children:[t.map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",r+1]}),l.jsx("span",{children:n.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.role,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.count," dreams"]})]},n.name)),t.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})}function R7({threats:e}){const t=e.filter(r=>r.level>=4),n=e.map(r=>({name:r.name,level:r.level,count:r.dreamIds.length})).sort((r,s)=>s.count-r.count).slice(0,5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Aa,{className:"w-4 h-4 text-red-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Analysis"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"High Threats (Level 4-5)"}),l.jsx("span",{className:"font-semibold text-red-500",children:t.length})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Most Common Threats:"}),n.map((r,s)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",s+1]}),l.jsx("span",{children:r.name}),l.jsxs("span",{className:`text-xs ${r.level>=4?"text-red-500":"text-muted-foreground"}`,children:["(level ",r.level,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.count," times"]})]},r.name)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]})}function A7({dreams:e}){const t=e.length,n={inactive:e.filter(r=>r.timeSystem==="inactive").length,activated:e.filter(r=>r.timeSystem==="activated").length,unknown:e.filter(r=>r.timeSystem==="unknown").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Time System Usage"})]}),l.jsx("div",{className:"space-y-2",children:[{label:"Inactive",value:n.inactive,color:"bg-slate-500"},{label:"Activated",value:n.activated,color:"bg-blue-500"},{label:"Unknown",value:n.unknown,color:"bg-muted-foreground"}].map(({label:r,value:s,color:i})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:r}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:`h-full ${i} rounded-full transition-all`,style:{width:`${t>0?s/t*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:s})]})]},r))})]})}function O7({dreams:e}){const t={};e.forEach(r=>{r.environments.forEach(s=>{t[s]=(t[s]||0)+1})});const n=Object.entries(t).sort((r,s)=>s[1]-r[1]).slice(0,10);return n.length===0?null:l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dM,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top Environments"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(([r,s])=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-secondary rounded-full",children:[l.jsx("span",{className:"text-sm",children:r}),l.jsx(xe,{variant:"outline",className:"text-xs ml-1",children:s})]},r))})]})}function D7({dreams:e}){const t={none:e.filter(n=>n.safetyOverride==="none").length,helper:e.filter(n=>n.safetyOverride==="helper").length,separation:e.filter(n=>n.safetyOverride==="separation").length,wake:e.filter(n=>n.safetyOverride==="wake").length};return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_l,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Safety Override Usage"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(t).map(([n,r])=>l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1 capitalize",children:n}),l.jsx("p",{className:"text-xl font-bold",children:r})]},n))})]})}function I7(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,o]=p.useState([]),[c,u]=p.useState(!0),[d,h]=p.useState(!1),[f,m]=p.useState(new Date),w=p.useCallback(async(j=!1)=>{j?h(!0):u(!0);try{const[T,P,M,O]=await Promise.all([yi(),Ol(),Pd(),k3()]);t(T),r(P),i(M),o(O),m(new Date)}catch(T){console.error("Error loading data:",T)}finally{u(!1),h(!1)}},[]);p.useEffect(()=>{w()},[w]);const v=e.length,b=e.length>0?(e.reduce((j,T)=>j+T.threatLevel,0)/e.length).toFixed(1):"0",x=e.slice(0,7),g=e.slice(7,14),y=x.length>0?x.reduce((j,T)=>j+T.threatLevel,0)/x.length:0,S=g.length>0?g.reduce((j,T)=>j+T.threatLevel,0)/g.length:0,k=y-S,E=n.map(j=>({name:j.name,count:j.dreamIds.length})).sort((j,T)=>T.count-j.count),C={inactive:e.filter(j=>j.timeSystem==="inactive").length,activated:e.filter(j=>j.timeSystem==="activated").length,unknown:e.filter(j=>j.timeSystem==="unknown").length};return c?l.jsx("div",{className:"py-4",children:l.jsx(j7,{})}):l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsx(Ue,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(p0,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{children:"Statistics & Insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:f.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),l.jsx(ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(!0),disabled:d,children:l.jsx(pd,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]})]})}),l.jsx(Ue,{delay:80,duration:400,children:l.jsxs(KC,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs($g,{className:"grid w-full grid-cols-3",children:[l.jsx(ma,{value:"overview",children:"Overview"}),l.jsx(ma,{value:"analytics",children:"Analytics"}),l.jsx(ma,{value:"patterns",children:"Patterns"})]}),l.jsxs(pa,{value:"overview",className:"space-y-6",children:[l.jsx(Ue,{delay:160,duration:400,children:l.jsx(P7,{dreams:e,worldCounts:E,timeSystemCounts:C})}),l.jsx(Ue,{delay:240,duration:400,children:l.jsx(C7,{totalDreams:v,worldsCount:n.length,entitiesCount:s.length,threatsCount:a.length})}),l.jsx(Ue,{delay:320,duration:400,children:l.jsx(T7,{totalDreams:v,avgThreatLevel:b,threatTrend:k,worldsCount:n.length,entitiesCount:s.length})}),l.jsx(Ue,{delay:400,duration:400,children:l.jsx(N7,{dreams:e})}),l.jsx(Ue,{delay:480,duration:400,children:l.jsx(_7,{worlds:n})}),l.jsx(Ue,{delay:560,duration:400,children:l.jsx(M7,{entities:s})}),l.jsx(Ue,{delay:640,duration:400,children:l.jsx(R7,{threats:a})}),l.jsx(Ue,{delay:720,duration:400,children:l.jsx(A7,{dreams:e})}),l.jsx(Ue,{delay:800,duration:400,children:l.jsx(O7,{dreams:e})}),l.jsx(Ue,{delay:880,duration:400,children:l.jsx(D7,{dreams:e})})]}),l.jsxs(pa,{value:"analytics",className:"space-y-6",children:[l.jsx(Ue,{delay:100,duration:400,children:l.jsx(lb,{dreams:e,mode:"week"})}),l.jsx(Ue,{delay:180,duration:400,children:l.jsx(lb,{dreams:e,mode:"month"})}),l.jsx(Ue,{delay:260,duration:400,children:l.jsx(w7,{dreams:e})}),l.jsx(Ue,{delay:340,duration:400,children:l.jsx(v7,{dreams:e})}),l.jsx(Ue,{delay:420,duration:400,children:l.jsx(x7,{dreams:e})}),l.jsx(Ue,{delay:500,duration:400,children:l.jsx(k7,{dreams:e})})]}),l.jsxs(pa,{value:"patterns",className:"space-y-6",children:[l.jsx(Ue,{delay:100,duration:400,children:l.jsx(b7,{dreams:e,entities:s})}),l.jsx(Ue,{delay:180,duration:400,children:l.jsx(S7,{dreams:e,entities:s})})]})]})})]})}function L7({dreams:e}){const t=p.useMemo(()=>[...e].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()),[e]),n=r=>r>=4?"text-red-500 bg-red-100 dark:bg-red-950":r>=3?"text-orange-500 bg-orange-100 dark:bg-orange-950":"text-primary bg-primary/10";return e.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(vr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),t.map((r,s)=>l.jsxs("div",{className:"relative pl-16 pb-8 last:pb-0",children:[l.jsx("div",{className:W("absolute left-6 w-5 h-5 rounded-full border-4 border-background",n(r.threatLevel))}),l.jsx(Dt,{to:`/logs/${r.id}`,children:l.jsxs("div",{className:"card-minimal hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:mt(new Date(r.date),"d MMMM yyyy",{locale:Ss})})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:r.wakeTime})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(jr,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-semibold",children:r.world})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Aa,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Threat Level:"}),l.jsx(xe,{variant:"outline",className:n(r.threatLevel),children:r.threatLevel})]}),r.entities.length>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Zn,{className:"w-3 h-3 text-muted-foreground mt-0.5"}),l.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:r.entities.map(i=>l.jsx(xe,{variant:"secondary",className:"text-xs",children:i},i))})]}),r.environments.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.environments.map(i=>l.jsx(xe,{variant:"outline",className:"text-xs",children:i},i))}),r.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes}),r.safetyOverride!=="none"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(_l,{className:"w-3 h-3 text-orange-500"}),l.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Safety Override: ",r.safetyOverride]})]})]})]})})]},r.id))]})})}function $7({dreams:e,worlds:t}){const n=p.useMemo(()=>{const r=[];for(let s=0;s<e.length;s++)for(let i=s+1;i<e.length;i++){const a=e[s],o=e[i],c=[];a.world===o.world&&c.push(`: ${a.world}`);const u=a.entities.filter(h=>o.entities.includes(h));u.length>0&&c.push(`: ${u.join(", ")}`);const d=a.environments.filter(h=>o.environments.includes(h));d.length>0&&c.push(`: ${d.join(", ")}`),Math.abs(a.threatLevel-o.threatLevel)<=1&&c.push(` (${a.threatLevel}-${o.threatLevel})`),a.timeSystem===o.timeSystem&&a.timeSystem!=="unknown"&&c.push(`Time System: ${a.timeSystem}`),c.length>=2&&r.push({dream1:a,dream2:o,connections:c,strength:c.length})}return r.sort((s,i)=>i.strength-s.strength).slice(0,15)},[e]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(pm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(pm,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length," "]})]}),n.map((r,s)=>l.jsxs("div",{className:"card-minimal",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[": ",r.strength," "]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(Dt,{to:`/logs/${r.dream1.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream1.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream1.date).toLocaleDateString("th-TH")}),r.dream1.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream1.entities.slice(0,3).map(i=>l.jsx(xe,{variant:"outline",className:"text-xs",children:i},i))})]})}),l.jsx(Dt,{to:`/logs/${r.dream2.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream2.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream2.date).toLocaleDateString("th-TH")}),r.dream2.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream2.entities.slice(0,3).map(i=>l.jsx(xe,{variant:"outline",className:"text-xs",children:i},i))})]})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:r.connections.map((i,a)=>l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-primary"}),i]},a))})]},s))]})}function F7({dreams:e,worlds:t}){const n=p.useMemo(()=>{const r={};t.forEach(i=>{const a=e.filter(d=>d.world===i.name),o=a.length>0?a.reduce((d,h)=>d+h.threatLevel,0)/a.length:0,c={};a.forEach(d=>{d.entities.forEach(h=>{c[h]=(c[h]||0)+1})});const u=Object.entries(c).filter(([d,h])=>h>=2).sort((d,h)=>h[1]-d[1]).map(([d])=>d).slice(0,5);r[i.name]={world:i,dreamCount:a.length,connections:{},avgThreat:o,commonEntities:u}});const s=[...e].sort((i,a)=>new Date(i.date).getTime()-new Date(a.date).getTime());for(let i=0;i<s.length-1;i++){const a=s[i].world,o=s[i+1].world;if(a!==o){const c=r[a];c&&(c.connections[o]=(c.connections[o]||0)+1)}}return Object.values(r).sort((i,a)=>a.dreamCount-i.dreamCount)},[e,t]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(mm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(mm,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(jr,{className:"w-4 h-4 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:r.world.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(xe,{variant:"outline",className:"text-xs",children:r.world.type}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:["Stability: ",r.world.stability,"/5"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:r.dreamCount}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.avgThreat.toFixed(1)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"}),l.jsx("p",{className:"text-sm font-semibold",children:Object.keys(r.connections).length})]})]}),r.commonEntities.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.commonEntities.map(s=>l.jsx(xe,{variant:"secondary",className:"text-xs",children:s},s))})]}),Object.keys(r.connections).length>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(tl,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:":"})]}),l.jsx("div",{className:"space-y-1",children:Object.entries(r.connections).sort((s,i)=>i[1]-s[1]).slice(0,3).map(([s,i])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[" ",s]}),l.jsxs(xe,{variant:"outline",className:"text-xs",children:[i,"x"]})]},s))})]}),r.world.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:r.world.description})]},r.world.id))})]})}function B7({dreams:e,entities:t}){const n=p.useMemo(()=>{const i=[];return t.forEach(a=>{const o=e.filter(f=>a.dreamIds.includes(f.id));if(o.length===0)return;const c=new Set(o.map(f=>f.world)),u=o.reduce((f,m)=>f+m.threatLevel,0)/o.length,d=[...o].sort((f,m)=>new Date(f.date).getTime()-new Date(m.date).getTime()),h=new Map;o.forEach(f=>{f.entities.filter(m=>m!==a.name).forEach(m=>{h.set(m,(h.get(m)||0)+1)})}),i.push({entity:a,appearances:o.length,worlds:c,avgThreat:u,firstSeen:d[0].date,lastSeen:d[d.length-1].date,coAppearances:h})}),i.sort((a,o)=>o.appearances-a.appearances)},[e,t]),r=i=>{switch(i){case"observer":return c2;case"protector":return _l;case"guide":return tM;case"intruder":return Aa;default:return Zn}},s=i=>{switch(i){case"observer":return"text-blue-500 bg-blue-100 dark:bg-blue-950";case"protector":return"text-green-500 bg-green-100 dark:bg-green-950";case"guide":return"text-purple-500 bg-purple-100 dark:bg-purple-950";case"intruder":return"text-red-500 bg-red-100 dark:bg-red-950";default:return"text-muted-foreground bg-secondary"}};return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Zn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Zn,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(i=>{const a=r(i.entity.role);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.entity.name}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(xe,{className:s(i.entity.role),children:[l.jsx(a,{className:"w-3 h-3 mr-1"}),i.entity.role]})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:i.appearances}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Worlds"}),l.jsx("p",{className:"text-sm font-semibold",children:i.worlds.size})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${i.avgThreat>=4?"text-red-500":i.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:i.avgThreat.toFixed(1)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-appear"}),l.jsx("p",{className:"text-sm font-semibold",children:i.coAppearances.size})]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:mt(new Date(i.firstSeen),"d MMM yyyy",{locale:Ss})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:mt(new Date(i.lastSeen),"d MMM yyyy",{locale:Ss})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(i.worlds).map(o=>l.jsx(xe,{variant:"outline",className:"text-xs",children:o},o))})]}),i.coAppearances.size>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"space-y-1",children:Array.from(i.coAppearances.entries()).sort((o,c)=>c[1]-o[1]).slice(0,3).map(([o,c])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:o}),l.jsxs(xe,{variant:"secondary",className:"text-xs",children:[c,"x"]})]},o))})]}),i.entity.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:i.entity.description})]},i.entity.id)})})]})}function z7({dreams:e,worlds:t,entities:n}){const[r,s]=p.useState("timeline"),i=[{id:"timeline",label:"Timeline",icon:vr},{id:"connected",label:"Connected Dreams",icon:pm},{id:"map",label:"Universe Map",icon:mm},{id:"characters",label:"Characters",icon:Zn}];return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsx(An,{delay:0,duration:400,children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(md,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{className:"text-xl font-semibold",children:"Story Mode"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," "]})]})}),l.jsx(An,{delay:80,duration:400,children:l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map((a,o)=>l.jsxs("button",{onClick:()=>s(a.id),className:W("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap",r===a.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(a.icon,{className:"w-4 h-4"}),a.label]},a.id))})})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:l.jsx("div",{className:"p-4",children:l.jsxs(An,{delay:160,duration:400,children:[r==="timeline"&&l.jsx(L7,{dreams:e}),r==="connected"&&l.jsx($7,{dreams:e,worlds:t}),r==="map"&&l.jsx(F7,{dreams:e,worlds:t}),r==="characters"&&l.jsx(B7,{dreams:e,entities:n})]})})}),l.jsx(jd,{})]})}function V7(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[u,d,h]=await Promise.all([yi(),Ol(),Pd()]);t(u),r(d),i(h)}catch(u){console.error("Error loading data:",u)}finally{o(!1)}})()},[]),a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"..."})}):l.jsx(z7,{dreams:e,worlds:n,entities:s})}function U7(){return l.jsxs("div",{className:"py-4 space-y-8 pb-20",children:[l.jsx(An,{delay:0,duration:400,children:l.jsx("h1",{children:"About / Safety"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(An,{delay:80,duration:400,children:l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(d2,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-lg font-medium",children:" Dream book"})]}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Dream book by Bon     structured log    "})]})}),l.jsx(An,{delay:160,duration:400,children:l.jsxs("section",{className:"card-minimal text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dream book by Bon  ",new Date().getFullYear()]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Personal Dream Logging System"})]})})]})]})}const W7=()=>(gi(),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})),H7=new OO,G7=()=>{const e="2026.01.31.002";return p.useEffect(()=>{const{phenomenon:t}=ml();_u(t),console.log(" Global Moon Theme Applied:",t.name),console.log(` App Version: ${e} | Build: ${new Date().toISOString()}`)},[]),l.jsx(IO,{client:H7,children:l.jsxs(uO,{children:[l.jsx(KM,{}),l.jsx(jR,{}),l.jsx(OD,{basename:"/dream-weaver-log",children:l.jsxs(Bv,{children:[l.jsx(wn,{path:"/",element:l.jsx(S$,{})}),l.jsx(wn,{path:"/library",element:l.jsx(y7,{})}),l.jsx(wn,{path:"/story",element:l.jsx(V7,{})}),l.jsx(wn,{path:"/*",element:l.jsx(FD,{children:l.jsxs(Bv,{children:[l.jsx(wn,{path:"/logs",element:l.jsx(G8,{})}),l.jsx(wn,{path:"/logs/new",element:l.jsx(pU,{})}),l.jsx(wn,{path:"/logs/:id",element:l.jsx(TU,{})}),l.jsx(wn,{path:"/statistics",element:l.jsx(I7,{})}),l.jsx(wn,{path:"/about",element:l.jsx(U7,{})}),l.jsx(wn,{path:"*",element:l.jsx(W7,{})})]})})})]})})]})})};MS(document.getElementById("root")).render(l.jsx(G7,{}));
