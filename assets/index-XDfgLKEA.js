var x1=Object.defineProperty;var wm=e=>{throw TypeError(e)};var b1=(e,t,n)=>t in e?x1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Js=(e,t,n)=>b1(e,typeof t!="symbol"?t+"":t,n),uu=(e,t,n)=>t.has(e)||wm("Cannot "+n);var R=(e,t,n)=>(uu(e,t,"read from private field"),n?n.call(e):t.get(e)),Se=(e,t,n)=>t.has(e)?wm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ie=(e,t,n,r)=>(uu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(uu(e,t,"access private method"),n);var Di=(e,t,n,r)=>({set _(s){ie(e,t,s,n)},get _(){return R(e,t,r)}});function S1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bg={exports:{}},bc={},Sg={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),k1=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),P1=Symbol.for("react.suspense"),M1=Symbol.for("react.memo"),R1=Symbol.for("react.lazy"),xm=Symbol.iterator;function O1(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eg=Object.assign,_g={};function no(e,t,n){this.props=e,this.context=t,this.refs=_g,this.updater=n||kg}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cg(){}Cg.prototype=no.prototype;function zh(e,t,n){this.props=e,this.context=t,this.refs=_g,this.updater=n||kg}var Bh=zh.prototype=new Cg;Bh.constructor=zh;Eg(Bh,no.prototype);Bh.isPureReactComponent=!0;var bm=Array.isArray,jg=Object.prototype.hasOwnProperty,Uh={current:null},Tg={key:!0,ref:!0,__self:!0,__source:!0};function Ng(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)jg.call(t,r)&&!Tg.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:Si,type:e,key:a,ref:o,props:s,_owner:Uh.current}}function A1(e,t){return{$$typeof:Si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function I1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sm=/\/+/g;function du(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I1(""+e.key):t.toString(36)}function ml(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Si:case k1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+du(o,0):r,bm(s)?(n="",e!=null&&(n=e.replace(Sm,"$&/")+"/"),ml(s,t,n,"",function(u){return u})):s!=null&&(Wh(s)&&(s=A1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",bm(e))for(var i=0;i<e.length;i++){a=e[i];var c=r+du(a,i);o+=ml(a,t,n,c,s)}else if(c=O1(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=r+du(a,i++),o+=ml(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(e,t,n){if(e==null)return e;var r=[],s=0;return ml(e,r,"","",function(a){return t.call(n,a,s++)}),r}function $1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},pl={transition:null},D1={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Uh};function Pg(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Li,forEach:function(e,t,n){Li(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!Wh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=no;ge.Fragment=E1;ge.Profiler=C1;ge.PureComponent=zh;ge.StrictMode=_1;ge.Suspense=P1;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;ge.act=Pg;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Eg({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Uh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)jg.call(t,c)&&!Tg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Si,type:e.type,key:s,ref:a,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:T1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j1,_context:e},e.Consumer=e};ge.createElement=Ng;ge.createFactory=function(e){var t=Ng.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:N1,render:e}};ge.isValidElement=Wh;ge.lazy=function(e){return{$$typeof:R1,_payload:{_status:-1,_result:e},_init:$1}};ge.memo=function(e,t){return{$$typeof:M1,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=pl.transition;pl.transition={};try{e()}finally{pl.transition=t}};ge.unstable_act=Pg;ge.useCallback=function(e,t){return Tt.current.useCallback(e,t)};ge.useContext=function(e){return Tt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Tt.current.useEffect(e,t)};ge.useId=function(){return Tt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Tt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};ge.useRef=function(e){return Tt.current.useRef(e)};ge.useState=function(e){return Tt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Tt.current.useTransition()};ge.version="18.3.1";Sg.exports=ge;var v=Sg.exports;const z=xg(v),Vh=S1({__proto__:null,default:z},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=v,F1=Symbol.for("react.element"),z1=Symbol.for("react.fragment"),B1=Object.prototype.hasOwnProperty,U1=L1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W1={key:!0,ref:!0,__self:!0,__source:!0};function Mg(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)B1.call(t,r)&&!W1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:F1,type:e,key:a,ref:o,props:s,_owner:U1.current}}bc.Fragment=z1;bc.jsx=Mg;bc.jsxs=Mg;bg.exports=bc;var l=bg.exports,Rg={exports:{}},Qt={},Og={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,S){var U=M.length;M.push(S);e:for(;0<U;){var Z=U-1>>>1,F=M[Z];if(0<s(F,S))M[Z]=S,M[U]=F,U=Z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var S=M[0],U=M.pop();if(U!==S){M[0]=U;e:for(var Z=0,F=M.length,E=F>>>1;Z<E;){var X=2*(Z+1)-1,T=M[X],H=X+1,D=M[H];if(0>s(T,U))H<F&&0>s(D,T)?(M[Z]=D,M[H]=U,Z=H):(M[Z]=T,M[X]=U,Z=X);else if(H<F&&0>s(D,U))M[Z]=D,M[H]=U,Z=H;else break e}}return S}function s(M,S){var U=M.sortIndex-S.sortIndex;return U!==0?U:M.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],d=1,f=null,h=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=M)r(u),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(u)}}function k(M){if(p=!1,w(M),!b)if(n(c)!==null)b=!0,V(_);else{var S=n(u);S!==null&&q(k,S.startTime-M)}}function _(M,S){b=!1,p&&(p=!1,g(P),P=-1),m=!0;var U=h;try{for(w(S),f=n(c);f!==null&&(!(f.expirationTime>S)||M&&!B());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var F=Z(f.expirationTime<=S);S=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(c)&&r(c),w(S)}else r(c);f=n(c)}if(f!==null)var E=!0;else{var X=n(u);X!==null&&q(k,X.startTime-S),E=!1}return E}finally{f=null,h=U,m=!1}}var j=!1,C=null,P=-1,O=5,A=-1;function B(){return!(e.unstable_now()-A<O)}function L(){if(C!==null){var M=e.unstable_now();A=M;var S=!0;try{S=C(!0,M)}finally{S?Q():(j=!1,C=null)}}else j=!1}var Q;if(typeof y=="function")Q=function(){y(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=L,Q=function(){K.postMessage(null)}}else Q=function(){x(L,0)};function V(M){C=M,j||(j=!0,Q())}function q(M,S){P=x(function(){M(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,V(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var U=h;h=S;try{return M()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,S){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return S()}finally{h=U}},e.unstable_scheduleCallback=function(M,S,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,M={id:d++,callback:S,priorityLevel:M,startTime:U,expirationTime:F,sortIndex:-1},U>Z?(M.sortIndex=U,t(u,M),n(c)===null&&M===n(u)&&(p?(g(P),P=-1):p=!0,q(k,U-Z))):(M.sortIndex=F,t(c,M),b||m||(b=!0,V(_))),M},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(M){var S=h;return function(){var U=h;h=S;try{return M.apply(this,arguments)}finally{h=U}}}})(Ag);Og.exports=Ag;var V1=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=v,Yt=V1;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ig=new Set,Uo={};function qs(e,t){Ga(e,t),Ga(e+"Capture",t)}function Ga(e,t){for(Uo[e]=t,e=0;e<t.length;e++)Ig.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=Object.prototype.hasOwnProperty,G1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,km={},Em={};function q1(e){return fd.call(Em,e)?!0:fd.call(km,e)?!1:G1.test(e)?Em[e]=!0:(km[e]=!0,!1)}function K1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y1(e,t,n,r){if(t===null||typeof t>"u"||K1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function Gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hh,Gh);ht[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hh,Gh);ht[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hh,Gh);ht[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qh(e,t,n,r){var s=ht.hasOwnProperty(t)?ht[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y1(t,n,s,r)&&(n=null),r||s===null?q1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var br=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fi=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),Kh=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),Qh=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),_m=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=_m&&e[_m]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,hu;function Eo(e){if(hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hu=t&&t[1]||""}return`
`+hu+e}var fu=!1;function mu(e,t){if(!e||fu)return"";fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==a[i]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{fu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Eo(e):""}function Q1(e){switch(e.tag){case 5:return Eo(e.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return e=mu(e.type,!1),e;case 11:return e=mu(e.type.render,!1),e;case 1:return e=mu(e.type,!0),e;default:return""}}function yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ma:return"Fragment";case fa:return"Portal";case md:return"Profiler";case Kh:return"StrictMode";case pd:return"Suspense";case gd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dg:return(e.displayName||"Context")+".Consumer";case $g:return(e._context.displayName||"Context")+".Provider";case Yh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qh:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}function J1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(t);case 8:return t===Kh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X1(e){var t=Fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){e._valueTracker||(e._valueTracker=X1(e))}function zg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vd(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bg(e,t){t=t.checked,t!=null&&qh(e,"checked",t,!1)}function wd(e,t){Bg(e,t);var n=ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xd(e,t.type,n):t.hasOwnProperty("defaultValue")&&xd(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xd(e,t,n){(t!=="number"||Il(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _o=Array.isArray;function ja(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(_o(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ns(n)}}function Ug(e,t){var n=ns(t.value),r=ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bi,Vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z1=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){Z1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function Hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Gg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var e2=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kd(e,t){if(t){if(e2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ed(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=null;function Jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cd=null,Ta=null,Na=null;function Pm(e){if(e=_i(e)){if(typeof Cd!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Cc(t),Cd(e.stateNode,e.type,t))}}function qg(e){Ta?Na?Na.push(e):Na=[e]:Ta=e}function Kg(){if(Ta){var e=Ta,t=Na;if(Na=Ta=null,Pm(e),t)for(e=0;e<t.length;e++)Pm(t[e])}}function Yg(e,t){return e(t)}function Qg(){}var pu=!1;function Jg(e,t,n){if(pu)return e(t,n);pu=!0;try{return Yg(e,t,n)}finally{pu=!1,(Ta!==null||Na!==null)&&(Qg(),Kg())}}function Vo(e,t){var n=e.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var jd=!1;if(mr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){jd=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{jd=!1}function t2(e,t,n,r,s,a,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Mo=!1,$l=null,Dl=!1,Td=null,n2={onError:function(e){Mo=!0,$l=e}};function r2(e,t,n,r,s,a,o,i,c){Mo=!1,$l=null,t2.apply(n2,arguments)}function s2(e,t,n,r,s,a,o,i,c){if(r2.apply(this,arguments),Mo){if(Mo){var u=$l;Mo=!1,$l=null}else throw Error(I(198));Dl||(Dl=!0,Td=u)}}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mm(e){if(Ks(e)!==e)throw Error(I(188))}function a2(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Mm(s),e;if(a===r)return Mm(s),t;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,i=s.child;i;){if(i===n){o=!0,n=s,r=a;break}if(i===r){o=!0,r=s,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,r=s;break}if(i===r){o=!0,r=a,n=s;break}i=i.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Zg(e){return e=a2(e),e!==null?ey(e):null}function ey(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ey(e);if(t!==null)return t;e=e.sibling}return null}var ty=Yt.unstable_scheduleCallback,Rm=Yt.unstable_cancelCallback,o2=Yt.unstable_shouldYield,i2=Yt.unstable_requestPaint,qe=Yt.unstable_now,l2=Yt.unstable_getCurrentPriorityLevel,Xh=Yt.unstable_ImmediatePriority,ny=Yt.unstable_UserBlockingPriority,Ll=Yt.unstable_NormalPriority,c2=Yt.unstable_LowPriority,ry=Yt.unstable_IdlePriority,Sc=null,qn=null;function u2(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Sc,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:f2,d2=Math.log,h2=Math.LN2;function f2(e){return e>>>=0,e===0?32:31-(d2(e)/h2|0)|0}var Ui=64,Wi=4194304;function Co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~s;i!==0?r=Co(i):(a&=o,a!==0&&(r=Co(a)))}else o=n&~s,o!==0?r=Co(o):a!==0&&(r=Co(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),s=1<<n,r|=e[n],t&=~s;return r}function m2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Nn(a),i=1<<o,c=s[o];c===-1?(!(i&n)||i&r)&&(s[o]=m2(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Nd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sy(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function gu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function g2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Nn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Zh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var _e=0;function ay(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oy,ef,iy,ly,cy,Pd=!1,Vi=[],Gr=null,qr=null,Kr=null,Ho=new Map,Go=new Map,Ar=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function po(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=_i(t),t!==null&&ef(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function v2(e,t,n,r,s){switch(t){case"focusin":return Gr=po(Gr,e,t,n,r,s),!0;case"dragenter":return qr=po(qr,e,t,n,r,s),!0;case"mouseover":return Kr=po(Kr,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ho.set(a,po(Ho.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Go.set(a,po(Go.get(a)||null,e,t,n,r,s)),!0}return!1}function uy(e){var t=Cs(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=Xg(n),t!==null){e.blockedOn=t,cy(e.priority,function(){iy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Md(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_d=r,n.target.dispatchEvent(r),_d=null}else return t=_i(n),t!==null&&ef(t),e.blockedOn=n,!1;t.shift()}return!0}function Am(e,t,n){gl(e)&&n.delete(t)}function w2(){Pd=!1,Gr!==null&&gl(Gr)&&(Gr=null),qr!==null&&gl(qr)&&(qr=null),Kr!==null&&gl(Kr)&&(Kr=null),Ho.forEach(Am),Go.forEach(Am)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,Pd||(Pd=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,w2)))}function qo(e){function t(s){return go(s,e)}if(0<Vi.length){go(Vi[0],e);for(var n=1;n<Vi.length;n++){var r=Vi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gr!==null&&go(Gr,e),qr!==null&&go(qr,e),Kr!==null&&go(Kr,e),Ho.forEach(t),Go.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)uy(n),n.blockedOn===null&&Ar.shift()}var Pa=br.ReactCurrentBatchConfig,zl=!0;function x2(e,t,n,r){var s=_e,a=Pa.transition;Pa.transition=null;try{_e=1,tf(e,t,n,r)}finally{_e=s,Pa.transition=a}}function b2(e,t,n,r){var s=_e,a=Pa.transition;Pa.transition=null;try{_e=4,tf(e,t,n,r)}finally{_e=s,Pa.transition=a}}function tf(e,t,n,r){if(zl){var s=Md(e,t,n,r);if(s===null)Cu(e,t,r,Bl,n),Om(e,r);else if(v2(s,e,t,n,r))r.stopPropagation();else if(Om(e,r),t&4&&-1<y2.indexOf(e)){for(;s!==null;){var a=_i(s);if(a!==null&&oy(a),a=Md(e,t,n,r),a===null&&Cu(e,t,r,Bl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Cu(e,t,r,null,n)}}var Bl=null;function Md(e,t,n,r){if(Bl=null,e=Jh(r),e=Cs(e),e!==null)if(t=Ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bl=e,null}function dy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l2()){case Xh:return 1;case ny:return 4;case Ll:case c2:return 16;case ry:return 536870912;default:return 16}default:return 16}}var Ur=null,nf=null,yl=null;function hy(){if(yl)return yl;var e,t=nf,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return yl=s.slice(e,1<r?1-r:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Im(){return!1}function Jt(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hi:Im,this.isPropagationStopped=Im,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Jt(ro),Ei=Ue({},ro,{view:0,detail:0}),S2=Jt(Ei),yu,vu,yo,kc=Ue({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(yu=e.screenX-yo.screenX,vu=e.screenY-yo.screenY):vu=yu=0,yo=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),$m=Jt(kc),k2=Ue({},kc,{dataTransfer:0}),E2=Jt(k2),_2=Ue({},Ei,{relatedTarget:0}),wu=Jt(_2),C2=Ue({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),j2=Jt(C2),T2=Ue({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N2=Jt(T2),P2=Ue({},ro,{data:0}),Dm=Jt(P2),M2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O2[e])?!!t[e]:!1}function sf(){return A2}var I2=Ue({},Ei,{key:function(e){if(e.key){var t=M2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$2=Jt(I2),D2=Ue({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=Jt(D2),L2=Ue({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),F2=Jt(L2),z2=Ue({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),B2=Jt(z2),U2=Ue({},kc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=Jt(U2),V2=[9,13,27,32],af=mr&&"CompositionEvent"in window,Ro=null;mr&&"documentMode"in document&&(Ro=document.documentMode);var H2=mr&&"TextEvent"in window&&!Ro,fy=mr&&(!af||Ro&&8<Ro&&11>=Ro),Fm=" ",zm=!1;function my(e,t){switch(e){case"keyup":return V2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function G2(e,t){switch(e){case"compositionend":return py(t);case"keypress":return t.which!==32?null:(zm=!0,Fm);case"textInput":return e=t.data,e===Fm&&zm?null:e;default:return null}}function q2(e,t){if(pa)return e==="compositionend"||!af&&my(e,t)?(e=hy(),yl=nf=Ur=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fy&&t.locale!=="ko"?null:t.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K2[e.type]:t==="textarea"}function gy(e,t,n,r){qg(r),t=Ul(t,"onChange"),0<t.length&&(n=new rf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oo=null,Ko=null;function Y2(e){jy(e,0)}function Ec(e){var t=va(e);if(zg(t))return e}function Q2(e,t){if(e==="change")return t}var yy=!1;if(mr){var xu;if(mr){var bu="oninput"in document;if(!bu){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),bu=typeof Um.oninput=="function"}xu=bu}else xu=!1;yy=xu&&(!document.documentMode||9<document.documentMode)}function Wm(){Oo&&(Oo.detachEvent("onpropertychange",vy),Ko=Oo=null)}function vy(e){if(e.propertyName==="value"&&Ec(Ko)){var t=[];gy(t,Ko,e,Jh(e)),Jg(Y2,t)}}function J2(e,t,n){e==="focusin"?(Wm(),Oo=t,Ko=n,Oo.attachEvent("onpropertychange",vy)):e==="focusout"&&Wm()}function X2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(Ko)}function Z2(e,t){if(e==="click")return Ec(t)}function eS(e,t){if(e==="input"||e==="change")return Ec(t)}function tS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:tS;function Yo(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fd.call(t,s)||!Mn(e[s],t[s]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hm(e,t){var n=Vm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vm(n)}}function wy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xy(){for(var e=window,t=Il();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Il(e.document)}return t}function of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nS(e){var t=xy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wy(n.ownerDocument.documentElement,n)){if(r!==null&&of(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Hm(n,a);var o=Hm(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rS=mr&&"documentMode"in document&&11>=document.documentMode,ga=null,Rd=null,Ao=null,Od=!1;function Gm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||ga==null||ga!==Il(r)||(r=ga,"selectionStart"in r&&of(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ao&&Yo(Ao,r)||(Ao=r,r=Ul(Rd,"onSelect"),0<r.length&&(t=new rf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ga)))}function Gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ya={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Su={},by={};mr&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function _c(e){if(Su[e])return Su[e];if(!ya[e])return e;var t=ya[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in by)return Su[e]=t[n];return e}var Sy=_c("animationend"),ky=_c("animationiteration"),Ey=_c("animationstart"),_y=_c("transitionend"),Cy=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){Cy.set(e,t),qs(t,[e])}for(var ku=0;ku<qm.length;ku++){var Eu=qm[ku],sS=Eu.toLowerCase(),aS=Eu[0].toUpperCase()+Eu.slice(1);is(sS,"on"+aS)}is(Sy,"onAnimationEnd");is(ky,"onAnimationIteration");is(Ey,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(_y,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Km(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,s2(r,t,void 0,e),e.currentTarget=null}function jy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==a&&s.isPropagationStopped())break e;Km(s,i,u),a=c}else for(o=0;o<r.length;o++){if(i=r[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==a&&s.isPropagationStopped())break e;Km(s,i,u),a=c}}}if(Dl)throw e=Td,Dl=!1,Td=null,e}function Pe(e,t){var n=t[Ld];n===void 0&&(n=t[Ld]=new Set);var r=e+"__bubble";n.has(r)||(Ty(t,e,2,!1),n.add(r))}function _u(e,t,n){var r=0;t&&(r|=4),Ty(n,e,r,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[qi]){e[qi]=!0,Ig.forEach(function(n){n!=="selectionchange"&&(oS.has(n)||_u(n,!1,e),_u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,_u("selectionchange",!1,t))}}function Ty(e,t,n,r){switch(dy(t)){case 1:var s=x2;break;case 4:s=b2;break;default:s=tf}n=s.bind(null,t,n,e),s=void 0,!jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Cu(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;i!==null;){if(o=Cs(i),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}i=i.parentNode}}r=r.return}Jg(function(){var u=a,d=Jh(n),f=[];e:{var h=Cy.get(e);if(h!==void 0){var m=rf,b=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":m=$2;break;case"focusin":b="focus",m=wu;break;case"focusout":b="blur",m=wu;break;case"beforeblur":case"afterblur":m=wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=F2;break;case Sy:case ky:case Ey:m=j2;break;case _y:m=B2;break;case"scroll":m=S2;break;case"wheel":m=W2;break;case"copy":case"cut":case"paste":m=N2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Lm}var p=(t&4)!==0,x=!p&&e==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Vo(y,g),k!=null&&p.push(Jo(y,k,w)))),x)break;y=y.return}0<p.length&&(h=new m(h,b,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==_d&&(b=n.relatedTarget||n.fromElement)&&(Cs(b)||b[pr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Cs(b):null,b!==null&&(x=Ks(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(p=$m,k="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Lm,k="onPointerLeave",g="onPointerEnter",y="pointer"),x=m==null?h:va(m),w=b==null?h:va(b),h=new p(k,y+"leave",m,n,d),h.target=x,h.relatedTarget=w,k=null,Cs(d)===u&&(p=new p(g,y+"enter",b,n,d),p.target=w,p.relatedTarget=x,k=p),x=k,m&&b)t:{for(p=m,g=b,y=0,w=p;w;w=Xs(w))y++;for(w=0,k=g;k;k=Xs(k))w++;for(;0<y-w;)p=Xs(p),y--;for(;0<w-y;)g=Xs(g),w--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break t;p=Xs(p),g=Xs(g)}p=null}else p=null;m!==null&&Ym(f,h,m,p,!1),b!==null&&x!==null&&Ym(f,x,b,p,!0)}}e:{if(h=u?va(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=Q2;else if(Bm(h))if(yy)_=eS;else{_=X2;var j=J2}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Z2);if(_&&(_=_(e,u))){gy(f,_,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&xd(h,"number",h.value)}switch(j=u?va(u):window,e){case"focusin":(Bm(j)||j.contentEditable==="true")&&(ga=j,Rd=u,Ao=null);break;case"focusout":Ao=Rd=ga=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Gm(f,n,d);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":Gm(f,n,d)}var C;if(af)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else pa?my(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(fy&&n.locale!=="ko"&&(pa||P!=="onCompositionStart"?P==="onCompositionEnd"&&pa&&(C=hy()):(Ur=d,nf="value"in Ur?Ur.value:Ur.textContent,pa=!0)),j=Ul(u,P),0<j.length&&(P=new Dm(P,e,null,n,d),f.push({event:P,listeners:j}),C?P.data=C:(C=py(n),C!==null&&(P.data=C)))),(C=H2?G2(e,n):q2(e,n))&&(u=Ul(u,"onBeforeInput"),0<u.length&&(d=new Dm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}jy(f,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Vo(e,n),a!=null&&r.unshift(Jo(e,a,s)),a=Vo(e,t),a!=null&&r.push(Jo(e,a,s))),e=e.return}return r}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ym(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=Vo(n,a),c!=null&&o.unshift(Jo(n,c,i))):s||(c=Vo(n,a),c!=null&&o.push(Jo(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var iS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(iS,`
`).replace(lS,"")}function Ki(e,t,n){if(t=Qm(t),Qm(e)!==t&&n)throw Error(I(425))}function Wl(){}var Ad=null,Id=null;function $d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(dS)}:Dd;function dS(e){setTimeout(function(){throw e})}function ju(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qo(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Un="__reactFiber$"+so,Xo="__reactProps$"+so,pr="__reactContainer$"+so,Ld="__reactEvents$"+so,hS="__reactListeners$"+so,fS="__reactHandles$"+so;function Cs(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xm(e);e!==null;){if(n=e[Un])return n;e=Xm(e)}return t}e=n,n=e.parentNode}return null}function _i(e){return e=e[Un]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Cc(e){return e[Xo]||null}var Fd=[],wa=-1;function ls(e){return{current:e}}function Re(e){0>wa||(e.current=Fd[wa],Fd[wa]=null,wa--)}function Te(e,t){wa++,Fd[wa]=e.current,e.current=t}var rs={},bt=ls(rs),It=ls(!1),Ls=rs;function qa(e,t){var n=e.type.contextTypes;if(!n)return rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $t(e){return e=e.childContextTypes,e!=null}function Vl(){Re(It),Re(bt)}function Zm(e,t,n){if(bt.current!==rs)throw Error(I(168));Te(bt,t),Te(It,n)}function Ny(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,J1(e)||"Unknown",s));return Ue({},n,r)}function Hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,Ls=bt.current,Te(bt,e),Te(It,It.current),!0}function ep(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Ny(e,t,Ls),r.__reactInternalMemoizedMergedChildContext=e,Re(It),Re(bt),Te(bt,e)):Re(It),Te(It,n)}var lr=null,jc=!1,Tu=!1;function Py(e){lr===null?lr=[e]:lr.push(e)}function mS(e){jc=!0,Py(e)}function cs(){if(!Tu&&lr!==null){Tu=!0;var e=0,t=_e;try{var n=lr;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lr=null,jc=!1}catch(s){throw lr!==null&&(lr=lr.slice(e+1)),ty(Xh,cs),s}finally{_e=t,Tu=!1}}return null}var xa=[],ba=0,Gl=null,ql=0,en=[],tn=0,Fs=null,ur=1,dr="";function ws(e,t){xa[ba++]=ql,xa[ba++]=Gl,Gl=e,ql=t}function My(e,t,n){en[tn++]=ur,en[tn++]=dr,en[tn++]=Fs,Fs=e;var r=ur;e=dr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var a=32-Nn(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ur=1<<32-Nn(t)+s|n<<s|r,dr=a+e}else ur=1<<a|n<<s|r,dr=e}function lf(e){e.return!==null&&(ws(e,1),My(e,1,0))}function cf(e){for(;e===Gl;)Gl=xa[--ba],xa[ba]=null,ql=xa[--ba],xa[ba]=null;for(;e===Fs;)Fs=en[--tn],en[tn]=null,dr=en[--tn],en[tn]=null,ur=en[--tn],en[tn]=null}var qt=null,Vt=null,De=!1,Cn=null;function Ry(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Vt=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fs!==null?{id:ur,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Vt=null,!0):!1;default:return!1}}function zd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bd(e){if(De){var t=Vt;if(t){var n=t;if(!tp(e,t)){if(zd(e))throw Error(I(418));t=Yr(n.nextSibling);var r=qt;t&&tp(e,t)?Ry(r,n):(e.flags=e.flags&-4097|2,De=!1,qt=e)}}else{if(zd(e))throw Error(I(418));e.flags=e.flags&-4097|2,De=!1,qt=e}}}function np(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function Yi(e){if(e!==qt)return!1;if(!De)return np(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$d(e.type,e.memoizedProps)),t&&(t=Vt)){if(zd(e))throw Oy(),Error(I(418));for(;t;)Ry(e,t),t=Yr(t.nextSibling)}if(np(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=qt?Yr(e.stateNode.nextSibling):null;return!0}function Oy(){for(var e=Vt;e;)e=Yr(e.nextSibling)}function Ka(){Vt=qt=null,De=!1}function uf(e){Cn===null?Cn=[e]:Cn.push(e)}var pS=br.ReactCurrentBatchConfig;function vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=s.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rp(e){var t=e._init;return t(e._payload)}function Ay(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Zr(g,y),g.index=0,g.sibling=null,g}function a(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,y,w,k){return y===null||y.tag!==6?(y=Iu(w,g.mode,k),y.return=g,y):(y=s(y,w),y.return=g,y)}function c(g,y,w,k){var _=w.type;return _===ma?d(g,y,w.props.children,k,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mr&&rp(_)===y.type)?(k=s(y,w.props),k.ref=vo(g,y,w),k.return=g,k):(k=_l(w.type,w.key,w.props,null,g.mode,k),k.ref=vo(g,y,w),k.return=g,k)}function u(g,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=$u(w,g.mode,k),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function d(g,y,w,k,_){return y===null||y.tag!==7?(y=Ds(w,g.mode,k,_),y.return=g,y):(y=s(y,w),y.return=g,y)}function f(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Iu(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fi:return w=_l(y.type,y.key,y.props,null,g.mode,w),w.ref=vo(g,null,y),w.return=g,w;case fa:return y=$u(y,g.mode,w),y.return=g,y;case Mr:var k=y._init;return f(g,k(y._payload),w)}if(_o(y)||fo(y))return y=Ds(y,g.mode,w,null),y.return=g,y;Qi(g,y)}return null}function h(g,y,w,k){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:i(g,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fi:return w.key===_?c(g,y,w,k):null;case fa:return w.key===_?u(g,y,w,k):null;case Mr:return _=w._init,h(g,y,_(w._payload),k)}if(_o(w)||fo(w))return _!==null?null:d(g,y,w,k,null);Qi(g,w)}return null}function m(g,y,w,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,i(y,g,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fi:return g=g.get(k.key===null?w:k.key)||null,c(y,g,k,_);case fa:return g=g.get(k.key===null?w:k.key)||null,u(y,g,k,_);case Mr:var j=k._init;return m(g,y,w,j(k._payload),_)}if(_o(k)||fo(k))return g=g.get(w)||null,d(y,g,k,_,null);Qi(y,k)}return null}function b(g,y,w,k){for(var _=null,j=null,C=y,P=y=0,O=null;C!==null&&P<w.length;P++){C.index>P?(O=C,C=null):O=C.sibling;var A=h(g,C,w[P],k);if(A===null){C===null&&(C=O);break}e&&C&&A.alternate===null&&t(g,C),y=a(A,y,P),j===null?_=A:j.sibling=A,j=A,C=O}if(P===w.length)return n(g,C),De&&ws(g,P),_;if(C===null){for(;P<w.length;P++)C=f(g,w[P],k),C!==null&&(y=a(C,y,P),j===null?_=C:j.sibling=C,j=C);return De&&ws(g,P),_}for(C=r(g,C);P<w.length;P++)O=m(C,g,P,w[P],k),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),y=a(O,y,P),j===null?_=O:j.sibling=O,j=O);return e&&C.forEach(function(B){return t(g,B)}),De&&ws(g,P),_}function p(g,y,w,k){var _=fo(w);if(typeof _!="function")throw Error(I(150));if(w=_.call(w),w==null)throw Error(I(151));for(var j=_=null,C=y,P=y=0,O=null,A=w.next();C!==null&&!A.done;P++,A=w.next()){C.index>P?(O=C,C=null):O=C.sibling;var B=h(g,C,A.value,k);if(B===null){C===null&&(C=O);break}e&&C&&B.alternate===null&&t(g,C),y=a(B,y,P),j===null?_=B:j.sibling=B,j=B,C=O}if(A.done)return n(g,C),De&&ws(g,P),_;if(C===null){for(;!A.done;P++,A=w.next())A=f(g,A.value,k),A!==null&&(y=a(A,y,P),j===null?_=A:j.sibling=A,j=A);return De&&ws(g,P),_}for(C=r(g,C);!A.done;P++,A=w.next())A=m(C,g,P,A.value,k),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),y=a(A,y,P),j===null?_=A:j.sibling=A,j=A);return e&&C.forEach(function(L){return t(g,L)}),De&&ws(g,P),_}function x(g,y,w,k){if(typeof w=="object"&&w!==null&&w.type===ma&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fi:e:{for(var _=w.key,j=y;j!==null;){if(j.key===_){if(_=w.type,_===ma){if(j.tag===7){n(g,j.sibling),y=s(j,w.props.children),y.return=g,g=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mr&&rp(_)===j.type){n(g,j.sibling),y=s(j,w.props),y.ref=vo(g,j,w),y.return=g,g=y;break e}n(g,j);break}else t(g,j);j=j.sibling}w.type===ma?(y=Ds(w.props.children,g.mode,k,w.key),y.return=g,g=y):(k=_l(w.type,w.key,w.props,null,g.mode,k),k.ref=vo(g,y,w),k.return=g,g=k)}return o(g);case fa:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=$u(w,g.mode,k),y.return=g,g=y}return o(g);case Mr:return j=w._init,x(g,y,j(w._payload),k)}if(_o(w))return b(g,y,w,k);if(fo(w))return p(g,y,w,k);Qi(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,w),y.return=g,g=y):(n(g,y),y=Iu(w,g.mode,k),y.return=g,g=y),o(g)):n(g,y)}return x}var Ya=Ay(!0),Iy=Ay(!1),Kl=ls(null),Yl=null,Sa=null,df=null;function hf(){df=Sa=Yl=null}function ff(e){var t=Kl.current;Re(Kl),e._currentValue=t}function Ud(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){Yl=e,df=Sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(df!==e)if(e={context:e,memoizedValue:t,next:null},Sa===null){if(Yl===null)throw Error(I(308));Sa=e,Yl.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var js=null;function mf(e){js===null?js=[e]:js.push(e)}function $y(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mf(t)):(n.next=s.next,s.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gr(e,n)}return s=r.interleaved,s===null?(t.next=t,mf(r)):(t.next=s.next,s.next=t),r.interleaved=t,gr(e,n)}function wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zh(e,n)}}function sp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ql(e,t,n,r){var s=e.updateQueue;Rr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==o&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,i=a;do{var h=i.lane,m=i.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,p=i;switch(h=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){f=b.call(m,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,h=typeof b=="function"?b.call(m,f,h):b,h==null)break e;f=Ue({},f,h);break e;case 2:Rr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Bs|=o,e.lanes=o,e.memoizedState=f}}function ap(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Ci={},Kn=ls(Ci),Zo=ls(Ci),ei=ls(Ci);function Ts(e){if(e===Ci)throw Error(I(174));return e}function gf(e,t){switch(Te(ei,t),Te(Zo,e),Te(Kn,Ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sd(t,e)}Re(Kn),Te(Kn,t)}function Qa(){Re(Kn),Re(Zo),Re(ei)}function Ly(e){Ts(ei.current);var t=Ts(Kn.current),n=Sd(t,e.type);t!==n&&(Te(Zo,e),Te(Kn,n))}function yf(e){Zo.current===e&&(Re(Kn),Re(Zo))}var Fe=ls(0);function Jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nu=[];function vf(){for(var e=0;e<Nu.length;e++)Nu[e]._workInProgressVersionPrimary=null;Nu.length=0}var xl=br.ReactCurrentDispatcher,Pu=br.ReactCurrentBatchConfig,zs=0,ze=null,tt=null,st=null,Xl=!1,Io=!1,ti=0,gS=0;function pt(){throw Error(I(321))}function wf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function xf(e,t,n,r,s,a){if(zs=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xl.current=e===null||e.memoizedState===null?xS:bS,e=n(r,s),Io){a=0;do{if(Io=!1,ti=0,25<=a)throw Error(I(301));a+=1,st=tt=null,t.updateQueue=null,xl.current=SS,e=n(r,s)}while(Io)}if(xl.current=Zl,t=tt!==null&&tt.next!==null,zs=0,st=tt=ze=null,Xl=!1,t)throw Error(I(300));return e}function bf(){var e=ti!==0;return ti=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ze.memoizedState=st=e:st=st.next=e,st}function cn(){if(tt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=st===null?ze.memoizedState:st.next;if(t!==null)st=t,tt=e;else{if(e===null)throw Error(I(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},st===null?ze.memoizedState=st=e:st=st.next=e}return st}function ni(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=cn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=tt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var i=o=null,c=null,u=a;do{var d=u.lane;if((zs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,o=r):c=c.next=f,ze.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=i,Mn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ze.lanes|=a,Bs|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ru(e){var t=cn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Mn(a,t.memoizedState)||(At=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fy(){}function zy(e,t){var n=ze,r=cn(),s=t(),a=!Mn(r.memoizedState,s);if(a&&(r.memoizedState=s,At=!0),r=r.queue,Sf(Wy.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ri(9,Uy.bind(null,n,r,s,t),void 0,null),at===null)throw Error(I(349));zs&30||By(n,t,s)}return s}function By(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uy(e,t,n,r){t.value=n,t.getSnapshot=r,Vy(t)&&Hy(e)}function Wy(e,t,n){return n(function(){Vy(t)&&Hy(e)})}function Vy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function Hy(e){var t=gr(e,1);t!==null&&Pn(t,e,1,-1)}function op(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=wS.bind(null,ze,e),[t.memoizedState,e]}function ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gy(){return cn().memoizedState}function bl(e,t,n,r){var s=Ln();ze.flags|=e,s.memoizedState=ri(1|t,n,void 0,r===void 0?null:r)}function Tc(e,t,n,r){var s=cn();r=r===void 0?null:r;var a=void 0;if(tt!==null){var o=tt.memoizedState;if(a=o.destroy,r!==null&&wf(r,o.deps)){s.memoizedState=ri(t,n,a,r);return}}ze.flags|=e,s.memoizedState=ri(1|t,n,a,r)}function ip(e,t){return bl(8390656,8,e,t)}function Sf(e,t){return Tc(2048,8,e,t)}function qy(e,t){return Tc(4,2,e,t)}function Ky(e,t){return Tc(4,4,e,t)}function Yy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qy(e,t,n){return n=n!=null?n.concat([e]):null,Tc(4,4,Yy.bind(null,t,e),n)}function kf(){}function Jy(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xy(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zy(e,t,n){return zs&21?(Mn(n,t)||(n=sy(),ze.lanes|=n,Bs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function yS(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Pu.transition;Pu.transition={};try{e(!1),t()}finally{_e=n,Pu.transition=r}}function ev(){return cn().memoizedState}function vS(e,t,n){var r=Xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tv(e))nv(t,n);else if(n=$y(e,t,n,r),n!==null){var s=jt();Pn(n,e,r,s),rv(n,t,r)}}function wS(e,t,n){var r=Xr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tv(e))nv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,Mn(i,o)){var c=t.interleaved;c===null?(s.next=s,mf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$y(e,t,s,r),n!==null&&(s=jt(),Pn(n,e,r,s),rv(n,t,r))}}function tv(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function nv(e,t){Io=Xl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zh(e,n)}}var Zl={readContext:ln,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},xS={readContext:ln,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:ip,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bl(4194308,4,Yy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vS.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:op,useDebugValue:kf,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=op(!1),t=e[0];return e=yS.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,s=Ln();if(De){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),at===null)throw Error(I(349));zs&30||By(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ip(Wy.bind(null,r,a,e),[e]),r.flags|=2048,ri(9,Uy.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ln(),t=at.identifierPrefix;if(De){var n=dr,r=ur;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bS={readContext:ln,useCallback:Jy,useContext:ln,useEffect:Sf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Ky,useMemo:Xy,useReducer:Mu,useRef:Gy,useState:function(){return Mu(ni)},useDebugValue:kf,useDeferredValue:function(e){var t=cn();return Zy(t,tt.memoizedState,e)},useTransition:function(){var e=Mu(ni)[0],t=cn().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:zy,useId:ev,unstable_isNewReconciler:!1},SS={readContext:ln,useCallback:Jy,useContext:ln,useEffect:Sf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Ky,useMemo:Xy,useReducer:Ru,useRef:Gy,useState:function(){return Ru(ni)},useDebugValue:kf,useDeferredValue:function(e){var t=cn();return tt===null?t.memoizedState=e:Zy(t,tt.memoizedState,e)},useTransition:function(){var e=Ru(ni)[0],t=cn().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:zy,useId:ev,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nc={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),s=Xr(e),a=hr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Qr(e,a,s),t!==null&&(Pn(t,e,s,r),wl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),s=Xr(e),a=hr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qr(e,a,s),t!==null&&(Pn(t,e,s,r),wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=Xr(e),s=hr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qr(e,s,r),t!==null&&(Pn(t,e,r,n),wl(t,e,r))}};function lp(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Yo(n,r)||!Yo(s,a):!0}function sv(e,t,n){var r=!1,s=rs,a=t.contextType;return typeof a=="object"&&a!==null?a=ln(a):(s=$t(t)?Ls:bt.current,r=t.contextTypes,a=(r=r!=null)?qa(e,s):rs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function cp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function Vd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},pf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ln(a):(a=$t(t)?Ls:bt.current,s.context=qa(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nc.enqueueReplaceState(s,s.state,null),Ql(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var n="",r=t;do n+=Q1(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function av(e,t,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tc||(tc=!0,th=r),Hd(e,t)},n}function ov(e,t,n){n=hr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Hd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hd(e,t),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function up(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=DS.bind(null,e,t,n),t.then(e,e))}function dp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hr(-1,1),t.tag=2,Qr(n,t,1))),n.lanes|=1),e)}var ES=br.ReactCurrentOwner,At=!1;function _t(e,t,n,r){t.child=e===null?Iy(t,null,n,r):Ya(t,e.child,n,r)}function fp(e,t,n,r,s){n=n.render;var a=t.ref;return Ma(t,s),r=xf(e,t,n,r,a,s),n=bf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yr(e,t,s)):(De&&n&&lf(t),t.flags|=1,_t(e,t,r,s),t.child)}function mp(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Mf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,iv(e,t,a,r,s)):(e=_l(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yo,n(o,r)&&e.ref===t.ref)return yr(e,t,s)}return t.flags|=1,e=Zr(a,r),e.ref=t.ref,e.return=t,t.child=e}function iv(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Yo(a,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,yr(e,t,s)}return Gd(e,t,n,r,s)}function lv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ea,zt),zt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Ea,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Te(Ea,zt),zt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Te(Ea,zt),zt|=r;return _t(e,t,s,n),t.child}function cv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gd(e,t,n,r,s){var a=$t(n)?Ls:bt.current;return a=qa(t,a),Ma(t,s),n=xf(e,t,n,r,a,s),r=bf(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yr(e,t,s)):(De&&r&&lf(t),t.flags|=1,_t(e,t,n,s),t.child)}function pp(e,t,n,r,s){if($t(n)){var a=!0;Hl(t)}else a=!1;if(Ma(t,s),t.stateNode===null)Sl(e,t),sv(t,n,r),Vd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=$t(n)?Ls:bt.current,u=qa(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||c!==u)&&cp(t,o,r,u),Rr=!1;var h=t.memoizedState;o.state=h,Ql(t,r,o,s),c=t.memoizedState,i!==r||h!==c||It.current||Rr?(typeof d=="function"&&(Wd(t,n,d,r),c=t.memoizedState),(i=Rr||lp(t,n,i,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Dy(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:wn(t.type,i),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=$t(n)?Ls:bt.current,c=qa(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||h!==c)&&cp(t,o,r,c),Rr=!1,h=t.memoizedState,o.state=h,Ql(t,r,o,s);var b=t.memoizedState;i!==f||h!==b||It.current||Rr?(typeof m=="function"&&(Wd(t,n,m,r),b=t.memoizedState),(u=Rr||lp(t,n,u,r,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return qd(e,t,n,r,a,s)}function qd(e,t,n,r,s,a){cv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ep(t,n,!1),yr(e,t,a);r=t.stateNode,ES.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,i,a)):_t(e,t,i,a),t.memoizedState=r.state,s&&ep(t,n,!0),t.child}function uv(e){var t=e.stateNode;t.pendingContext?Zm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zm(e,t.context,!1),gf(e,t.containerInfo)}function gp(e,t,n,r,s){return Ka(),uf(s),t.flags|=256,_t(e,t,n,r),t.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function dv(e,t,n){var r=t.pendingProps,s=Fe.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Fe,s&1),e===null)return Bd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Rc(o,r,0,null),e=Ds(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yd(n),t.memoizedState=Kd,e):Ef(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return _S(e,t,o,r,i,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=Zr(i,a):(a=Ds(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Yd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Kd,r}return a=e.child,e=a.sibling,r=Zr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ef(e,t){return t=Rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,n,r){return r!==null&&uf(r),Ya(t,e.child,null,n),e=Ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _S(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Ou(Error(I(422))),Ji(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),a=Ds(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ya(t,e.child,null,o),t.child.memoizedState=Yd(o),t.memoizedState=Kd,a);if(!(t.mode&1))return Ji(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(I(419)),r=Ou(a,r,void 0),Ji(e,t,o,r)}if(i=(o&e.childLanes)!==0,At||i){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,gr(e,s),Pn(r,e,s,-1))}return Pf(),r=Ou(Error(I(421))),Ji(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=LS.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Vt=Yr(s.nextSibling),qt=t,De=!0,Cn=null,e!==null&&(en[tn++]=ur,en[tn++]=dr,en[tn++]=Fs,ur=e.id,dr=e.overflow,Fs=t),t=Ef(t,r.children),t.flags|=4096,t)}function yp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ud(e.return,t,n)}function Au(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function hv(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(_t(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,n,t);else if(e.tag===19)yp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Au(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Au(t,!0,n,null,a);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CS(e,t,n){switch(t.tag){case 3:uv(t),Ka();break;case 5:Ly(t);break;case 1:$t(t.type)&&Hl(t);break;case 4:gf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(Kl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?dv(e,t,n):(Te(Fe,Fe.current&1),e=yr(e,t,n),e!==null?e.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,lv(e,t,n)}return yr(e,t,n)}var fv,Qd,mv,pv;fv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qd=function(){};mv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ts(Kn.current);var a=null;switch(n){case"input":s=vd(e,s),r=vd(e,r),a=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),a=[];break;case"textarea":s=bd(e,s),r=bd(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wl)}kd(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",e),a||i===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};pv=function(e,t,n,r){n!==r&&(t.flags|=4)};function wo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jS(e,t,n){var r=t.pendingProps;switch(cf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return $t(t.type)&&Vl(),gt(t),null;case 3:return r=t.stateNode,Qa(),Re(It),Re(bt),vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(sh(Cn),Cn=null))),Qd(e,t),gt(t),null;case 5:yf(t);var s=Ts(ei.current);if(n=t.type,e!==null&&t.stateNode!=null)mv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return gt(t),null}if(e=Ts(Kn.current),Yi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Un]=t,r[Xo]=a,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<jo.length;s++)Pe(jo[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Cm(r,a),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",r);break;case"textarea":Tm(r,a),Pe("invalid",r)}kd(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Ki(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Ki(r.textContent,i,e),s=["children",""+i]):Uo.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":zi(r),jm(r,a,!0);break;case"textarea":zi(r),Nm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Wl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Un]=t,e[Xo]=r,fv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ed(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),s=r;break;case"iframe":case"object":case"embed":Pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<jo.length;s++)Pe(jo[s],e);s=r;break;case"source":Pe("error",e),s=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=r;break;case"details":Pe("toggle",e),s=r;break;case"input":Cm(e,r),s=vd(e,r),Pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":Tm(e,r),s=bd(e,r),Pe("invalid",e);break;default:s=r}kd(n,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?Gg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wo(e,c):typeof c=="number"&&Wo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pe("scroll",e):c!=null&&qh(e,a,c,o))}switch(n){case"input":zi(e),jm(e,r,!1);break;case"textarea":zi(e),Nm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ns(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ja(e,!!r.multiple,a,!1):r.defaultValue!=null&&ja(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)pv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Ts(ei.current),Ts(Kn.current),Yi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(a=r.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:Ki(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return gt(t),null;case 13:if(Re(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Vt!==null&&t.mode&1&&!(t.flags&128))Oy(),Ka(),t.flags|=98560,a=!1;else if(a=Yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Un]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),a=!1}else Cn!==null&&(sh(Cn),Cn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?nt===0&&(nt=3):Pf())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Qa(),Qd(e,t),e===null&&Qo(t.stateNode.containerInfo),gt(t),null;case 10:return ff(t.type._context),gt(t),null;case 17:return $t(t.type)&&Vl(),gt(t),null;case 19:if(Re(Fe),a=t.memoizedState,a===null)return gt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)wo(a,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jl(e),o!==null){for(t.flags|=128,wo(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&qe()>Xa&&(t.flags|=128,r=!0,wo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Jl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!De)return gt(t),null}else 2*qe()-a.renderingStartTime>Xa&&n!==1073741824&&(t.flags|=128,r=!0,wo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=Fe.current,Te(Fe,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Nf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function TS(e,t){switch(cf(t),t.tag){case 1:return $t(t.type)&&Vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(),Re(It),Re(bt),vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yf(t),null;case 13:if(Re(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Fe),null;case 4:return Qa(),null;case 10:return ff(t.type._context),null;case 22:case 23:return Nf(),null;case 24:return null;default:return null}}var Xi=!1,wt=!1,NS=typeof WeakSet=="function"?WeakSet:Set,G=null;function ka(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Jd(e,t,n){try{n()}catch(r){He(e,t,r)}}var vp=!1;function PS(e,t){if(Ad=zl,e=xy(),of(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(i=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(i=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:e,selectionRange:n},zl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:wn(t.type,p),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){He(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=vp,vp=!1,b}function $o(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jd(t,n,a)}s=s.next}while(s!==r)}}function Pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gv(e){var t=e.alternate;t!==null&&(e.alternate=null,gv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Xo],delete t[Ld],delete t[hS],delete t[fS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yv(e){return e.tag===5||e.tag===3||e.tag===4}function wp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wl));else if(r!==4&&(e=e.child,e!==null))for(Zd(e,t,n),e=e.sibling;e!==null;)Zd(e,t,n),e=e.sibling}function eh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(eh(e,t,n),e=e.sibling;e!==null;)eh(e,t,n),e=e.sibling}var ct=null,En=!1;function _r(e,t,n){for(n=n.child;n!==null;)vv(e,t,n),n=n.sibling}function vv(e,t,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:wt||ka(n,t);case 6:var r=ct,s=En;ct=null,_r(e,t,n),ct=r,En=s,ct!==null&&(En?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(En?(e=ct,n=n.stateNode,e.nodeType===8?ju(e.parentNode,n):e.nodeType===1&&ju(e,n),qo(e)):ju(ct,n.stateNode));break;case 4:r=ct,s=En,ct=n.stateNode.containerInfo,En=!0,_r(e,t,n),ct=r,En=s;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jd(n,t,o),s=s.next}while(s!==r)}_r(e,t,n);break;case 1:if(!wt&&(ka(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){He(n,t,i)}_r(e,t,n);break;case 21:_r(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,_r(e,t,n),wt=r):_r(e,t,n);break;default:_r(e,t,n)}}function xp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NS),t.forEach(function(r){var s=FS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:ct=i.stateNode,En=!1;break e;case 3:ct=i.stateNode.containerInfo,En=!0;break e;case 4:ct=i.stateNode.containerInfo,En=!0;break e}i=i.return}if(ct===null)throw Error(I(160));vv(a,o,s),ct=null,En=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wv(t,e),t=t.sibling}function wv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Dn(e),r&4){try{$o(3,e,e.return),Pc(3,e)}catch(p){He(e,e.return,p)}try{$o(5,e,e.return)}catch(p){He(e,e.return,p)}}break;case 1:fn(t,e),Dn(e),r&512&&n!==null&&ka(n,n.return);break;case 5:if(fn(t,e),Dn(e),r&512&&n!==null&&ka(n,n.return),e.flags&32){var s=e.stateNode;try{Wo(s,"")}catch(p){He(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Bg(s,a),Ed(i,o);var u=Ed(i,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Gg(s,f):d==="dangerouslySetInnerHTML"?Vg(s,f):d==="children"?Wo(s,f):qh(s,d,f,u)}switch(i){case"input":wd(s,a);break;case"textarea":Ug(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ja(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?ja(s,!!a.multiple,a.defaultValue,!0):ja(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xo]=a}catch(p){He(e,e.return,p)}}break;case 6:if(fn(t,e),Dn(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){He(e,e.return,p)}}break;case 3:if(fn(t,e),Dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(p){He(e,e.return,p)}break;case 4:fn(t,e),Dn(e);break;case 13:fn(t,e),Dn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(jf=qe())),r&4&&xp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(u=wt)||d,fn(t,e),wt=u):fn(t,e),Dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(h=G,m=h.child,h.tag){case 0:case 11:case 14:case 15:$o(4,h,h.return);break;case 1:ka(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){He(r,n,p)}}break;case 5:ka(h,h.return);break;case 22:if(h.memoizedState!==null){Sp(f);continue}}m!==null?(m.return=h,G=m):Sp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Hg("display",o))}catch(p){He(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){He(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(t,e),Dn(e),r&4&&xp(e);break;case 21:break;default:fn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wo(s,""),r.flags&=-33);var a=wp(e);eh(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,i=wp(e);Zd(e,i,o);break;default:throw Error(I(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MS(e,t,n){G=e,xv(e)}function xv(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xi;if(!o){var i=s.alternate,c=i!==null&&i.memoizedState!==null||wt;i=Xi;var u=wt;if(Xi=o,(wt=c)&&!u)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?kp(s):c!==null?(c.return=o,G=c):kp(s);for(;a!==null;)G=a,xv(a),a=a.sibling;G=s,Xi=i,wt=u}bp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,G=a):bp(e)}}function bp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||Pc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ap(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ap(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}wt||t.flags&512&&Xd(t)}catch(h){He(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Sp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function kp(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pc(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){He(t,s,c)}}var a=t.return;try{Xd(t)}catch(c){He(t,a,c)}break;case 5:var o=t.return;try{Xd(t)}catch(c){He(t,o,c)}}}catch(c){He(t,t.return,c)}if(t===e){G=null;break}var i=t.sibling;if(i!==null){i.return=t.return,G=i;break}G=t.return}}var RS=Math.ceil,ec=br.ReactCurrentDispatcher,_f=br.ReactCurrentOwner,on=br.ReactCurrentBatchConfig,be=0,at=null,Xe=null,dt=0,zt=0,Ea=ls(0),nt=0,si=null,Bs=0,Mc=0,Cf=0,Do=null,Ot=null,jf=0,Xa=1/0,or=null,tc=!1,th=null,Jr=null,Zi=!1,Wr=null,nc=0,Lo=0,nh=null,kl=-1,El=0;function jt(){return be&6?qe():kl!==-1?kl:kl=qe()}function Xr(e){return e.mode&1?be&2&&dt!==0?dt&-dt:pS.transition!==null?(El===0&&(El=sy()),El):(e=_e,e!==0||(e=window.event,e=e===void 0?16:dy(e.type)),e):1}function Pn(e,t,n,r){if(50<Lo)throw Lo=0,nh=null,Error(I(185));ki(e,n,r),(!(be&2)||e!==at)&&(e===at&&(!(be&2)&&(Mc|=n),nt===4&&Ir(e,dt)),Dt(e,r),n===1&&be===0&&!(t.mode&1)&&(Xa=qe()+500,jc&&cs()))}function Dt(e,t){var n=e.callbackNode;p2(e,t);var r=Fl(e,e===at?dt:0);if(r===0)n!==null&&Rm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rm(n),t===1)e.tag===0?mS(Ep.bind(null,e)):Py(Ep.bind(null,e)),uS(function(){!(be&6)&&cs()}),n=null;else{switch(ay(r)){case 1:n=Xh;break;case 4:n=ny;break;case 16:n=Ll;break;case 536870912:n=ry;break;default:n=Ll}n=Tv(n,bv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bv(e,t){if(kl=-1,El=0,be&6)throw Error(I(327));var n=e.callbackNode;if(Ra()&&e.callbackNode!==n)return null;var r=Fl(e,e===at?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rc(e,r);else{t=r;var s=be;be|=2;var a=kv();(at!==e||dt!==t)&&(or=null,Xa=qe()+500,$s(e,t));do try{IS();break}catch(i){Sv(e,i)}while(!0);hf(),ec.current=a,be=s,Xe!==null?t=0:(at=null,dt=0,t=nt)}if(t!==0){if(t===2&&(s=Nd(e),s!==0&&(r=s,t=rh(e,s))),t===1)throw n=si,$s(e,0),Ir(e,r),Dt(e,qe()),n;if(t===6)Ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!OS(s)&&(t=rc(e,r),t===2&&(a=Nd(e),a!==0&&(r=a,t=rh(e,a))),t===1))throw n=si,$s(e,0),Ir(e,r),Dt(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:xs(e,Ot,or);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=jf+500-qe(),10<t)){if(Fl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dd(xs.bind(null,e,Ot,or),t);break}xs(e,Ot,or);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Nn(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RS(r/1960))-r,10<r){e.timeoutHandle=Dd(xs.bind(null,e,Ot,or),r);break}xs(e,Ot,or);break;case 5:xs(e,Ot,or);break;default:throw Error(I(329))}}}return Dt(e,qe()),e.callbackNode===n?bv.bind(null,e):null}function rh(e,t){var n=Do;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=rc(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&sh(t)),e}function sh(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function OS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Mn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Cf,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function Ep(e){if(be&6)throw Error(I(327));Ra();var t=Fl(e,0);if(!(t&1))return Dt(e,qe()),null;var n=rc(e,t);if(e.tag!==0&&n===2){var r=Nd(e);r!==0&&(t=r,n=rh(e,r))}if(n===1)throw n=si,$s(e,0),Ir(e,t),Dt(e,qe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xs(e,Ot,or),Dt(e,qe()),null}function Tf(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Xa=qe()+500,jc&&cs())}}function Us(e){Wr!==null&&Wr.tag===0&&!(be&6)&&Ra();var t=be;be|=1;var n=on.transition,r=_e;try{if(on.transition=null,_e=1,e)return e()}finally{_e=r,on.transition=n,be=t,!(be&6)&&cs()}}function Nf(){zt=Ea.current,Re(Ea)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cS(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:Qa(),Re(It),Re(bt),vf();break;case 5:yf(r);break;case 4:Qa();break;case 13:Re(Fe);break;case 19:Re(Fe);break;case 10:ff(r.type._context);break;case 22:case 23:Nf()}n=n.return}if(at=e,Xe=e=Zr(e.current,null),dt=zt=t,nt=0,si=null,Cf=Mc=Bs=0,Ot=Do=null,js!==null){for(t=0;t<js.length;t++)if(n=js[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}js=null}return e}function Sv(e,t){do{var n=Xe;try{if(hf(),xl.current=Zl,Xl){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xl=!1}if(zs=0,st=tt=ze=null,Io=!1,ti=0,_f.current=null,n===null||n.return===null){nt=1,si=t,Xe=null;break}e:{var a=e,o=n.return,i=n,c=t;if(t=dt,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=dp(o);if(m!==null){m.flags&=-257,hp(m,o,i,a,t),m.mode&1&&up(a,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){up(a,u,t),Pf();break e}c=Error(I(426))}}else if(De&&i.mode&1){var x=dp(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),hp(x,o,i,a,t),uf(Ja(c,i));break e}}a=c=Ja(c,i),nt!==4&&(nt=2),Do===null?Do=[a]:Do.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=av(a,c,t);sp(a,g);break e;case 1:i=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Jr===null||!Jr.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=ov(a,i,t);sp(a,k);break e}}a=a.return}while(a!==null)}_v(n)}catch(_){t=_,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function kv(){var e=ec.current;return ec.current=Zl,e===null?Zl:e}function Pf(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(Bs&268435455)&&!(Mc&268435455)||Ir(at,dt)}function rc(e,t){var n=be;be|=2;var r=kv();(at!==e||dt!==t)&&(or=null,$s(e,t));do try{AS();break}catch(s){Sv(e,s)}while(!0);if(hf(),be=n,ec.current=r,Xe!==null)throw Error(I(261));return at=null,dt=0,nt}function AS(){for(;Xe!==null;)Ev(Xe)}function IS(){for(;Xe!==null&&!o2();)Ev(Xe)}function Ev(e){var t=jv(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?_v(e):Xe=t,_f.current=null}function _v(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TS(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Xe=null;return}}else if(n=jS(n,t,zt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);nt===0&&(nt=5)}function xs(e,t,n){var r=_e,s=on.transition;try{on.transition=null,_e=1,$S(e,t,n,r)}finally{on.transition=s,_e=r}return null}function $S(e,t,n,r){do Ra();while(Wr!==null);if(be&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(g2(e,a),e===at&&(Xe=at=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,Tv(Ll,function(){return Ra(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=on.transition,on.transition=null;var o=_e;_e=1;var i=be;be|=4,_f.current=null,PS(e,n),wv(n,e),nS(Id),zl=!!Ad,Id=Ad=null,e.current=n,MS(n),i2(),be=i,_e=o,on.transition=a}else e.current=n;if(Zi&&(Zi=!1,Wr=e,nc=s),a=e.pendingLanes,a===0&&(Jr=null),u2(n.stateNode),Dt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tc)throw tc=!1,e=th,th=null,e;return nc&1&&e.tag!==0&&Ra(),a=e.pendingLanes,a&1?e===nh?Lo++:(Lo=0,nh=e):Lo=0,cs(),null}function Ra(){if(Wr!==null){var e=ay(nc),t=on.transition,n=_e;try{if(on.transition=null,_e=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,nc=0,be&6)throw Error(I(331));var s=be;for(be|=4,G=e.current;G!==null;){var a=G,o=a.child;if(G.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:$o(8,d,a)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var h=d.sibling,m=d.return;if(gv(d),d===u){G=null;break}if(h!==null){h.return=m,G=h;break}G=m}}}var b=a.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}G=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,G=o;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$o(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,G=g;break e}G=a.return}}var y=e.current;for(G=y;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=y;G!==null;){if(i=G,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Pc(9,i)}}catch(_){He(i,i.return,_)}if(i===o){G=null;break e}var k=i.sibling;if(k!==null){k.return=i.return,G=k;break e}G=i.return}}if(be=s,cs(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Sc,e)}catch{}r=!0}return r}finally{_e=n,on.transition=t}}return!1}function _p(e,t,n){t=Ja(n,t),t=av(e,t,1),e=Qr(e,t,1),t=jt(),e!==null&&(ki(e,1,t),Dt(e,t))}function He(e,t,n){if(e.tag===3)_p(e,e,n);else for(;t!==null;){if(t.tag===3){_p(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){e=Ja(n,e),e=ov(t,e,1),t=Qr(t,e,1),e=jt(),t!==null&&(ki(t,1,e),Dt(t,e));break}}t=t.return}}function DS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(dt&n)===n&&(nt===4||nt===3&&(dt&130023424)===dt&&500>qe()-jf?$s(e,0):Cf|=n),Dt(e,t)}function Cv(e,t){t===0&&(e.mode&1?(t=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):t=1);var n=jt();e=gr(e,t),e!==null&&(ki(e,t,n),Dt(e,n))}function LS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cv(e,n)}function FS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Cv(e,n)}var jv;jv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,CS(e,t,n);At=!!(e.flags&131072)}else At=!1,De&&t.flags&1048576&&My(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sl(e,t),e=t.pendingProps;var s=qa(t,bt.current);Ma(t,n),s=xf(null,t,r,e,s,n);var a=bf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(a=!0,Hl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pf(t),s.updater=Nc,t.stateNode=s,s._reactInternals=t,Vd(t,r,e,n),t=qd(null,t,r,!0,a,n)):(t.tag=0,De&&a&&lf(t),_t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=BS(r),e=wn(r,e),s){case 0:t=Gd(null,t,r,e,n);break e;case 1:t=pp(null,t,r,e,n);break e;case 11:t=fp(null,t,r,e,n);break e;case 14:t=mp(null,t,r,wn(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Gd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),pp(e,t,r,s,n);case 3:e:{if(uv(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Dy(e,t),Ql(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ja(Error(I(423)),t),t=gp(e,t,r,n,s);break e}else if(r!==s){s=Ja(Error(I(424)),t),t=gp(e,t,r,n,s);break e}else for(Vt=Yr(t.stateNode.containerInfo.firstChild),qt=t,De=!0,Cn=null,n=Iy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===s){t=yr(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 5:return Ly(t),e===null&&Bd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,$d(r,s)?o=null:a!==null&&$d(r,a)&&(t.flags|=32),cv(e,t),_t(e,t,o,n),t.child;case 6:return e===null&&Bd(t),null;case 13:return dv(e,t,n);case 4:return gf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ya(t,null,r,n):_t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),fp(e,t,r,s,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Te(Kl,r._currentValue),r._currentValue=o,a!==null)if(Mn(a.value,o)){if(a.children===s.children&&!It.current){t=yr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=hr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ud(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ud(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ma(t,n),s=ln(s),r=r(s),t.flags|=1,_t(e,t,r,n),t.child;case 14:return r=t.type,s=wn(r,t.pendingProps),s=wn(r.type,s),mp(e,t,r,s,n);case 15:return iv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Sl(e,t),t.tag=1,$t(r)?(e=!0,Hl(t)):e=!1,Ma(t,n),sv(t,r,s),Vd(t,r,s,n),qd(null,t,r,!0,e,n);case 19:return hv(e,t,n);case 22:return lv(e,t,n)}throw Error(I(156,t.tag))};function Tv(e,t){return ty(e,t)}function zS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new zS(e,t,n,r)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BS(e){if(typeof e=="function")return Mf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yh)return 11;if(e===Qh)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Mf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ma:return Ds(n.children,s,a,t);case Kh:o=8,s|=8;break;case md:return e=rn(12,n,t,s|2),e.elementType=md,e.lanes=a,e;case pd:return e=rn(13,n,t,s),e.elementType=pd,e.lanes=a,e;case gd:return e=rn(19,n,t,s),e.elementType=gd,e.lanes=a,e;case Lg:return Rc(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $g:o=10;break e;case Dg:o=9;break e;case Yh:o=11;break e;case Qh:o=14;break e;case Mr:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=rn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ds(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function Rc(e,t,n,r){return e=rn(22,e,r,t),e.elementType=Lg,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function $u(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function US(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rf(e,t,n,r,s,a,o,i,c){return e=new US(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pf(a),e}function WS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nv(e){if(!e)return rs;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if($t(n))return Ny(e,n,t)}return t}function Pv(e,t,n,r,s,a,o,i,c){return e=Rf(n,r,!0,e,s,a,o,i,c),e.context=Nv(null),n=e.current,r=jt(),s=Xr(n),a=hr(r,s),a.callback=t??null,Qr(n,a,s),e.current.lanes=s,ki(e,s,r),Dt(e,r),e}function Oc(e,t,n,r){var s=t.current,a=jt(),o=Xr(s);return n=Nv(n),t.context===null?t.context=n:t.pendingContext=n,t=hr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qr(s,t,o),e!==null&&(Pn(e,s,o,a),wl(e,s,o)),o}function sc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Of(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function VS(){return null}var Mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Af(e){this._internalRoot=e}Ac.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Oc(e,t,null,null)};Ac.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){Oc(null,e,null,null)}),t[pr]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&uy(e)}};function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jp(){}function HS(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=sc(o);a.call(u)}}var o=Pv(t,r,e,0,null,!1,!1,"",jp);return e._reactRootContainer=o,e[pr]=o.current,Qo(e.nodeType===8?e.parentNode:e),Us(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=sc(c);i.call(u)}}var c=Rf(e,0,!1,null,null,!1,!1,"",jp);return e._reactRootContainer=c,e[pr]=c.current,Qo(e.nodeType===8?e.parentNode:e),Us(function(){Oc(t,c,n,r)}),c}function $c(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var i=s;s=function(){var c=sc(o);i.call(c)}}Oc(t,o,e,s)}else o=HS(n,t,e,s,r);return sc(o)}oy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Co(t.pendingLanes);n!==0&&(Zh(t,n|1),Dt(t,qe()),!(be&6)&&(Xa=qe()+500,cs()))}break;case 13:Us(function(){var r=gr(e,1);if(r!==null){var s=jt();Pn(r,e,1,s)}}),Of(e,1)}};ef=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=jt();Pn(t,e,134217728,n)}Of(e,134217728)}};iy=function(e){if(e.tag===13){var t=Xr(e),n=gr(e,t);if(n!==null){var r=jt();Pn(n,e,t,r)}Of(e,t)}};ly=function(){return _e};cy=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};Cd=function(e,t,n){switch(t){case"input":if(wd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Cc(r);if(!s)throw Error(I(90));zg(r),wd(r,s)}}}break;case"textarea":Ug(e,n);break;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}};Yg=Tf;Qg=Us;var GS={usingClientEntryPoint:!1,Events:[_i,va,Cc,qg,Kg,Tf]},xo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zg(e),e===null?null:e.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||VS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Sc=el.inject(qS),qn=el}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GS;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(t))throw Error(I(200));return WS(e,t,null,n)};Qt.createRoot=function(e,t){if(!If(e))throw Error(I(299));var n=!1,r="",s=Mv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rf(e,1,!1,null,null,n,!1,r,s),e[pr]=t.current,Qo(e.nodeType===8?e.parentNode:e),new Af(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Zg(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Us(e)};Qt.hydrate=function(e,t,n){if(!Ic(t))throw Error(I(200));return $c(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!If(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Mv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Pv(t,null,e,1,n??null,s,!1,a,o),e[pr]=t.current,Qo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ac(t)};Qt.render=function(e,t,n){if(!Ic(t))throw Error(I(200));return $c(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!Ic(e))throw Error(I(40));return e._reactRootContainer?(Us(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Tf;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ic(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return $c(e,t,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),Rg.exports=Qt;var Ys=Rg.exports;const Ov=xg(Ys);var Av,Tp=Ys;Av=Tp.createRoot,Tp.hydrateRoot;const KS=1,YS=1e6;let Du=0;function QS(){return Du=(Du+1)%Number.MAX_SAFE_INTEGER,Du.toString()}const Lu=new Map,Np=e=>{if(Lu.has(e))return;const t=setTimeout(()=>{Lu.delete(e),Fo({type:"REMOVE_TOAST",toastId:e})},YS);Lu.set(e,t)},JS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,KS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Np(n):e.toasts.forEach(r=>{Np(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cl=[];let jl={toasts:[]};function Fo(e){jl=JS(jl,e),Cl.forEach(t=>{t(jl)})}function Tl({...e}){const t=QS(),n=s=>Fo({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Fo({type:"DISMISS_TOAST",toastId:t});return Fo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function XS(){const[e,t]=v.useState(jl);return v.useEffect(()=>(Cl.push(t),()=>{const n=Cl.indexOf(t);n>-1&&Cl.splice(n,1)}),[e]),{...e,toast:Tl,dismiss:n=>Fo({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Pp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Iv(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Pp(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Pp(e[s],null)}}}}function Ae(...e){return v.useCallback(Iv(...e),e)}function us(e,t=[]){let n=[];function r(a,o){const i=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var g;const{scope:h,children:m,...b}=f,p=((g=h==null?void 0:h[e])==null?void 0:g[c])||i,x=v.useMemo(()=>b,Object.values(b));return l.jsx(p.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||i,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(i){const c=(i==null?void 0:i[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return s.scopeName=e,[r,ZS(s,...t)]}function ZS(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...i,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ai(e){const t=t5(e),n=v.forwardRef((r,s)=>{const{children:a,...o}=r,i=v.Children.toArray(a),c=i.find(r5);if(c){const u=c.props.children,d=i.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var e5=ai("Slot");function t5(e){const t=v.forwardRef((n,r)=>{const{children:s,...a}=n;if(v.isValidElement(s)){const o=a5(s),i=s5(a,s.props);return s.type!==v.Fragment&&(i.ref=r?Iv(r,o):o),v.cloneElement(s,i)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $v=Symbol("radix.slottable");function n5(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$v,t}function r5(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$v}function s5(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...i)=>{const c=a(...i);return s(...i),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function a5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $f(e){const t=e+"CollectionProvider",[n,r]=us(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:g}=p,y=z.useRef(null),w=z.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:g})};o.displayName=t;const i=e+"CollectionSlot",c=ai(i),u=z.forwardRef((p,x)=>{const{scope:g,children:y}=p,w=a(i,g),k=Ae(x,w.collectionRef);return l.jsx(c,{ref:k,children:y})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ai(d),m=z.forwardRef((p,x)=>{const{scope:g,children:y,...w}=p,k=z.useRef(null),_=Ae(x,k),j=a(d,g);return z.useEffect(()=>(j.itemMap.set(k,{ref:k,...w}),()=>void j.itemMap.delete(k))),l.jsx(h,{[f]:"",ref:_,children:y})});m.displayName=d;function b(p){const x=a(e+"CollectionConsumer",p);return z.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,C)=>w.indexOf(j.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},b,r]}var o5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=o5.reduce((e,t)=>{const n=ai(`Primitive.${t}`),r=v.forwardRef((s,a)=>{const{asChild:o,...i}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Dv(e,t){e&&Ys.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function i5(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var l5="DismissableLayer",ah="dismissableLayer.update",c5="dismissableLayer.pointerDownOutside",u5="dismissableLayer.focusOutside",Mp,Lv=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:i,...c}=e,u=v.useContext(Lv),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Ae(t,C=>f(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,k=y>=g,_=h5(C=>{const P=C.target,O=[...u.branches].some(A=>A.contains(P));!k||O||(s==null||s(C),o==null||o(C),C.defaultPrevented||i==null||i())},h),j=f5(C=>{const P=C.target;[...u.branches].some(A=>A.contains(P))||(a==null||a(C),o==null||o(C),C.defaultPrevented||i==null||i())},h);return i5(C=>{y===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Rp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Mp)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Rp())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(ah,C),()=>document.removeEventListener(ah,C)},[]),l.jsx(me.div,{...c,ref:b,style:{pointerEvents:w?k?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,j.onFocusCapture),onBlurCapture:se(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,_.onPointerDownCapture)})});Dc.displayName=l5;var d5="DismissableLayerBranch",Fv=v.forwardRef((e,t)=>{const n=v.useContext(Lv),r=v.useRef(null),s=Ae(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(me.div,{...e,ref:s})});Fv.displayName=d5;function h5(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let c=function(){zv(c5,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function f5(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&zv(u5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rp(){const e=new CustomEvent(ah);document.dispatchEvent(e)}function zv(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Dv(s,a):s.dispatchEvent(a)}var m5=Dc,p5=Fv,ft=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},g5="Portal",Df=v.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[s,a]=v.useState(!1);ft(()=>a(!0),[]);const o=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return o?Ov.createPortal(l.jsx(me.div,{...r,ref:t}),o):null});Df.displayName=g5;function y5(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var ji=e=>{const{present:t,children:n}=e,r=v5(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Ae(r.ref,w5(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};ji.displayName="Presence";function v5(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[i,c]=y5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=tl(r.current);a.current=i==="mounted"?u:"none"},[i]),ft(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=tl(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ft(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=tl(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(a.current=tl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function tl(e){return(e==null?void 0:e.animationName)||"none"}function w5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x5=Vh[" useInsertionEffect ".trim().toString()]||ft;function Za({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=b5({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=v.useCallback(d=>{var f;if(i){const h=S5(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[i,e,a,o]);return[c,u]}function b5({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),a=v.useRef(t);return x5(()=>{a.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function S5(e){return typeof e=="function"}var Bv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k5="VisuallyHidden",Lc=v.forwardRef((e,t)=>l.jsx(me.span,{...e,ref:t,style:{...Bv,...e.style}}));Lc.displayName=k5;var E5=Lc,Lf="ToastProvider",[Ff,_5,C5]=$f("Toast"),[Uv,A4]=us("Toast",[C5]),[j5,Fc]=Uv(Lf),Wv=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[i,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lf}\`. Expected non-empty \`string\`.`),l.jsx(Ff.Provider,{scope:t,children:l.jsx(j5,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:c,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Wv.displayName=Lf;var Vv="ToastViewport",T5=["F8"],oh="toast.viewportPause",ih="toast.viewportResume",Hv=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=T5,label:s="Notifications ({hotkey})",...a}=e,o=Fc(Vv,n),i=_5(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Ae(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=g=>{var w;r.length!==0&&r.every(k=>g[k]||g.code===k)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=c.current,g=f.current;if(b&&x&&g){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(oh);g.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(ih);g.dispatchEvent(j),o.isClosePausedRef.current=!1}},k=j=>{!x.contains(j.relatedTarget)&&w()},_=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",k),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const y=i().map(w=>{const k=w.ref.current,_=[k,...B5(k)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[i]);return v.useEffect(()=>{const x=f.current;if(x){const g=y=>{var _,j,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const P=document.activeElement,O=y.shiftKey;if(y.target===x&&O){(_=u.current)==null||_.focus();return}const L=p({tabbingDirection:O?"backwards":"forwards"}),Q=L.findIndex($=>$===P);Fu(L.slice(Q+1))?y.preventDefault():O?(j=u.current)==null||j.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[i,p]),l.jsxs(p5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(lh,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Fu(x)}}),l.jsx(Ff.Slot,{scope:n,children:l.jsx(me.ol,{tabIndex:-1,...a,ref:h})}),b&&l.jsx(lh,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Fu(x)}})]})});Hv.displayName=Vv;var Gv="ToastFocusProxy",lh=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Fc(Gv,n);return l.jsx(Lc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const i=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(i))&&r()}})});lh.displayName=Gv;var Ti="Toast",N5="toast.swipeStart",P5="toast.swipeMove",M5="toast.swipeCancel",R5="toast.swipeEnd",qv=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[i,c]=Za({prop:r,defaultProp:s??!0,onChange:a,caller:Ti});return l.jsx(ji,{present:n||i,children:l.jsx(I5,{open:i,...o,ref:t,onClose:()=>c(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});qv.displayName=Ti;var[O5,A5]=Uv(Ti,{onClose(){}}),I5=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:i,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...b}=e,p=Fc(Ti,n),[x,g]=v.useState(null),y=Ae(t,$=>g($)),w=v.useRef(null),k=v.useRef(null),_=s||p.duration,j=v.useRef(0),C=v.useRef(_),P=v.useRef(0),{onToastAdd:O,onToastRemove:A}=p,B=un(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),L=v.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(B,$))},[B]);v.useEffect(()=>{const $=p.viewport;if($){const K=()=>{L(C.current),u==null||u()},V=()=>{const q=new Date().getTime()-j.current;C.current=C.current-q,window.clearTimeout(P.current),c==null||c()};return $.addEventListener(oh,V),$.addEventListener(ih,K),()=>{$.removeEventListener(oh,V),$.removeEventListener(ih,K)}}},[p.viewport,_,c,u,L]),v.useEffect(()=>{a&&!p.isClosePausedRef.current&&L(_)},[a,_,p.isClosePausedRef,L]),v.useEffect(()=>(O(),()=>A()),[O,A]);const Q=v.useMemo(()=>x?ew(x):null,[x]);return p.viewport?l.jsxs(l.Fragment,{children:[Q&&l.jsx($5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),l.jsx(O5,{scope:n,onClose:B,children:Ys.createPortal(l.jsx(Ff.ItemSlot,{scope:n,children:l.jsx(m5,{asChild:!0,onEscapeKeyDown:se(i,()=>{p.isFocusedToastEscapeKeyDownRef.current||B(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,$=>{$.key==="Escape"&&(i==null||i($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:se(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:se(e.onPointerMove,$=>{if(!w.current)return;const K=$.clientX-w.current.x,V=$.clientY-w.current.y,q=!!k.current,M=["left","right"].includes(p.swipeDirection),S=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=M?S(0,K):0,Z=M?0:S(0,V),F=$.pointerType==="touch"?10:2,E={x:U,y:Z},X={originalEvent:$,delta:E};q?(k.current=E,nl(P5,f,X,{discrete:!1})):Op(E,p.swipeDirection,F)?(k.current=E,nl(N5,d,X,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>F||Math.abs(V)>F)&&(w.current=null)}),onPointerUp:se(e.onPointerUp,$=>{const K=k.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),k.current=null,w.current=null,K){const q=$.currentTarget,M={originalEvent:$,delta:K};Op(K,p.swipeDirection,p.swipeThreshold)?nl(R5,m,M,{discrete:!0}):nl(M5,h,M,{discrete:!0}),q.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),$5=e=>{const{__scopeToast:t,children:n,...r}=e,s=Fc(Ti,t),[a,o]=v.useState(!1),[i,c]=v.useState(!1);return F5(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:l.jsx(Df,{asChild:!0,children:l.jsx(Lc,{...r,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},D5="ToastTitle",Kv=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(me.div,{...r,ref:t})});Kv.displayName=D5;var L5="ToastDescription",Yv=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(me.div,{...r,ref:t})});Yv.displayName=L5;var Qv="ToastAction",Jv=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(Zv,{altText:n,asChild:!0,children:l.jsx(zf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Qv}\`. Expected non-empty \`string\`.`),null)});Jv.displayName=Qv;var Xv="ToastClose",zf=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=A5(Xv,n);return l.jsx(Zv,{asChild:!0,children:l.jsx(me.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});zf.displayName=Xv;var Zv=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function ew(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),z5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ew(r))}}),t}function nl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Dv(s,a):s.dispatchEvent(a)}var Op=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function F5(e=()=>{}){const t=un(e);ft(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function z5(e){return e.nodeType===e.ELEMENT_NODE}function B5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var U5=Wv,tw=Hv,nw=qv,rw=Kv,sw=Yv,aw=Jv,ow=zf;function iw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=iw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=iw(e))&&(r&&(r+=" "),r+=t);return r}const Ap=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ip=lw,zc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ip(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Ap(d)||Ap(f);return s[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...a,...i}[p]):{...a,...i}[p]===x})?[...u,f,h]:u},[]);return Ip(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...i},c)=>v.createElement("svg",{ref:c,...V5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cw("lucide",s),...i},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const n=v.forwardRef(({className:r,...s},a)=>v.createElement(H5,{ref:a,iconNode:t,className:cw(`lucide-${W5(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=ae("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ae("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ae("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ae("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Vf="-",dk=e=>{const t=fk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const i=o.split(Vf);return i[0]===""&&i.length!==1&&i.shift(),gw(i,t)||hk(o)},getConflictingClassGroupIds:(o,i)=>{const c=n[o]||[];return i&&r[o]?[...c,...r[o]]:c}}},gw=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?gw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Vf);return(o=t.validators.find(({validator:i})=>i(a)))==null?void 0:o.classGroupId},zp=/^\[(.+)\]$/,hk=e=>{if(zp.test(e)){const t=zp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},fk=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return pk(Object.entries(e.classGroups),n).forEach(([a,o])=>{dh(o,r,a,t)}),r},dh=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Bp(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(mk(s)){dh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{dh(o,Bp(t,a),n,r)})})},Bp=(e,t)=>{let n=e;return t.split(Vf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mk=e=>e.isThemeGetter,pk=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,i])=>[t+o,i])):a);return[n,s]}):e,gk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},yw="!",yk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=i=>{const c=[];let u=0,d=0,f;for(let x=0;x<i.length;x++){let g=i[x];if(u===0){if(g===s&&(r||i.slice(x,x+a)===t)){c.push(i.slice(d,x)),d=x+a;continue}if(g==="/"){f=x;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?i:i.substring(d),m=h.startsWith(yw),b=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?i=>n({className:i,parseClassName:o}):o},vk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},wk=e=>({cache:gk(e.cacheSize),parseClassName:yk(e),...dk(e)}),xk=/\s+/,bk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(xk);let i="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let b=!!m,p=r(b?h.substring(0,m):h);if(!p){if(!b){i=u+(i.length>0?" "+i:i);continue}if(p=r(h),!p){i=u+(i.length>0?" "+i:i);continue}b=!1}const x=vk(d).join(":"),g=f?x+yw:x,y=g+p;if(a.includes(y))continue;a.push(y);const w=s(p,b);for(let k=0;k<w.length;++k){const _=w[k];a.push(g+_)}i=u+(i.length>0?" "+i:i)}return i};function Sk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vw(t))&&(r&&(r+=" "),r+=n);return r}const vw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vw(e[r]))&&(n&&(n+=" "),n+=t);return n};function kk(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=wk(u),r=n.cache.get,s=n.cache.set,a=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=bk(c,n);return s(c,d),d}return function(){return a(Sk.apply(null,arguments))}}const Ne=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ww=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ek=/^\d+\/\d+$/,_k=new Set(["px","full","screen"]),Ck=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>Oa(e)||_k.has(e)||Ek.test(e),Cr=e=>ao(e,"length",Lk),Oa=e=>!!e&&!Number.isNaN(Number(e)),Bu=e=>ao(e,"number",Oa),bo=e=>!!e&&Number.isInteger(Number(e)),Mk=e=>e.endsWith("%")&&Oa(e.slice(0,-1)),ce=e=>ww.test(e),jr=e=>Ck.test(e),Rk=new Set(["length","size","percentage"]),Ok=e=>ao(e,Rk,xw),Ak=e=>ao(e,"position",xw),Ik=new Set(["image","url"]),$k=e=>ao(e,Ik,zk),Dk=e=>ao(e,"",Fk),So=()=>!0,ao=(e,t,n)=>{const r=ww.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Lk=e=>jk.test(e)&&!Tk.test(e),xw=()=>!1,Fk=e=>Nk.test(e),zk=e=>Pk.test(e),Bk=()=>{const e=Ne("colors"),t=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),a=Ne("borderRadius"),o=Ne("borderSpacing"),i=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),h=Ne("gap"),m=Ne("gradientColorStops"),b=Ne("gradientColorStopPositions"),p=Ne("inset"),x=Ne("margin"),g=Ne("opacity"),y=Ne("padding"),w=Ne("saturate"),k=Ne("scale"),_=Ne("sepia"),j=Ne("skew"),C=Ne("space"),P=Ne("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",ce,t],L=()=>[ce,t],Q=()=>["",sr,Cr],$=()=>["auto",Oa,ce],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",ce],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Oa,ce];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[sr,Cr],blur:["none","",jr,ce],brightness:Z(),borderColor:[e],borderRadius:["none","","full",jr,ce],borderSpacing:L(),borderWidth:Q(),contrast:Z(),grayscale:S(),hueRotate:Z(),invert:S(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Mk,Cr],inset:B(),margin:B(),opacity:Z(),padding:L(),saturate:Z(),scale:Z(),sepia:S(),skew:Z(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[jr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo,ce]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",bo,ce]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",bo,ce]},ce]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[bo,ce]},ce]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[jr]},jr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jr,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bu]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Oa,Bu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Cr]}],"underline-offset":[{"underline-offset":["auto",sr,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Ak]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ok]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$k]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[sr,ce]}],"outline-w":[{outline:[sr,Cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[sr,Cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jr,Dk]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[bo,ce]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,Cr,Bu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uk=kk(Bk);function we(...e){return Uk(lw(e))}const Wk=U5,bw=v.forwardRef(({className:e,...t},n)=>l.jsx(tw,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bw.displayName=tw.displayName;const Vk=zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sw=v.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(nw,{ref:r,className:we(Vk({variant:t}),e),...n}));Sw.displayName=nw.displayName;const Hk=v.forwardRef(({className:e,...t},n)=>l.jsx(aw,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Hk.displayName=aw.displayName;const kw=v.forwardRef(({className:e,...t},n)=>l.jsx(ow,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Bc,{className:"h-4 w-4"})}));kw.displayName=ow.displayName;const Ew=v.forwardRef(({className:e,...t},n)=>l.jsx(rw,{ref:n,className:we("text-sm font-semibold",e),...t}));Ew.displayName=rw.displayName;const _w=v.forwardRef(({className:e,...t},n)=>l.jsx(sw,{ref:n,className:we("text-sm opacity-90",e),...t}));_w.displayName=sw.displayName;function Gk(){const{toasts:e}=XS();return l.jsxs(Wk,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return l.jsxs(Sw,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Ew,{children:n}),r&&l.jsx(_w,{children:r})]}),s,l.jsx(kw,{})]},t)}),l.jsx(bw,{})]})}var Up=["light","dark"],qk="(prefers-color-scheme: dark)",Kk=v.createContext(void 0),Yk={setTheme:e=>{},themes:[]},Qk=()=>{var e;return(e=v.useContext(Kk))!=null?e:Yk};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:i,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Up.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(b,p=!1,x=!0)=>{let g=o?o[b]:b,y=p?b+"|| ''":`'${g}'`,w="";return s&&x&&!p&&Up.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),n==="class"?p||g?w+=`c.add(${y})`:w+="null":g&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${qk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Jk=e=>{switch(e){case"success":return eE;case"info":return nE;case"warning":return tE;case"error":return rE;default:return null}},Xk=Array(12).fill(0),Zk=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},Xk.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),eE=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tE=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nE=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rE=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sE=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aE=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},hh=1,oE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hh++,a=this.toasts.find(i=>i.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:n}),{...i,...e,id:s,dismissible:o,title:n}):i):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(lE(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),i=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||hh++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Rt=new oE,iE=(e,t)=>{let n=(t==null?void 0:t.id)||hh++;return Rt.addToast({title:e,...t,id:n}),n},lE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cE=iE,uE=()=>Rt.toasts,dE=()=>Rt.getActiveToasts(),jn=Object.assign(cE,{success:Rt.success,info:Rt.info,warning:Rt.warning,error:Rt.error,custom:Rt.custom,message:Rt.message,promise:Rt.promise,dismiss:Rt.dismiss,loading:Rt.loading},{getHistory:uE,getToasts:dE});function hE(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}hE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rl(e){return e.label!==void 0}var fE=3,mE="32px",pE="16px",Wp=4e3,gE=356,yE=14,vE=20,wE=200;function mn(...e){return e.filter(Boolean).join(" ")}function xE(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var bE=e=>{var t,n,r,s,a,o,i,c,u,d,f;let{invert:h,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:g,heights:y,index:w,toasts:k,expanded:_,removeToast:j,defaultRichColors:C,closeButton:P,style:O,cancelButtonStyle:A,actionButtonStyle:B,className:L="",descriptionClassName:Q="",duration:$,position:K,gap:V,loadingIcon:q,expandByDefault:M,classNames:S,icons:U,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:F}=e,[E,X]=z.useState(null),[T,H]=z.useState(null),[D,he]=z.useState(!1),[ke,ue]=z.useState(!1),[le,ye]=z.useState(!1),[Ge,St]=z.useState(!1),[dn,An]=z.useState(!1),[Xn,ms]=z.useState(0),[Zn,N]=z.useState(0),W=z.useRef(m.duration||$||Wp),oe=z.useRef(null),Ie=z.useRef(null),re=w===0,ee=w+1<=g,Pt=m.type,Er=m.dismissible!==!1,fe=m.className||"",ho=m.descriptionClassName||"",er=z.useMemo(()=>y.findIndex(J=>J.toastId===m.id)||0,[y,m.id]),ps=z.useMemo(()=>{var J;return(J=m.closeButton)!=null?J:P},[m.closeButton,P]),Mt=z.useMemo(()=>m.duration||$||Wp,[m.duration,$]),Ke=z.useRef(0),ot=z.useRef(0),tr=z.useRef(0),kt=z.useRef(null),[nr,rr]=K.split("-"),In=z.useMemo(()=>y.reduce((J,pe,xe)=>xe>=er?J:J+pe.height,0),[y,er]),gs=aE(),de=m.invert||h,ve=Pt==="loading";ot.current=z.useMemo(()=>er*V+In,[er,In]),z.useEffect(()=>{W.current=Mt},[Mt]),z.useEffect(()=>{he(!0)},[]),z.useEffect(()=>{let J=Ie.current;if(J){let pe=J.getBoundingClientRect().height;return N(pe),x(xe=>[{toastId:m.id,height:pe,position:m.position},...xe]),()=>x(xe=>xe.filter(rt=>rt.toastId!==m.id))}},[x,m.id]),z.useLayoutEffect(()=>{if(!D)return;let J=Ie.current,pe=J.style.height;J.style.height="auto";let xe=J.getBoundingClientRect().height;J.style.height=pe,N(xe),x(rt=>rt.find(Ye=>Ye.toastId===m.id)?rt.map(Ye=>Ye.toastId===m.id?{...Ye,height:xe}:Ye):[{toastId:m.id,height:xe,position:m.position},...rt])},[D,m.title,m.description,x,m.id]);let Ce=z.useCallback(()=>{ue(!0),ms(ot.current),x(J=>J.filter(pe=>pe.toastId!==m.id)),setTimeout(()=>{j(m)},wE)},[m,j,x,ot]);z.useEffect(()=>{if(m.promise&&Pt==="loading"||m.duration===1/0||m.type==="loading")return;let J;return _||p||F&&gs?(()=>{if(tr.current<Ke.current){let pe=new Date().getTime()-Ke.current;W.current=W.current-pe}tr.current=new Date().getTime()})():W.current!==1/0&&(Ke.current=new Date().getTime(),J=setTimeout(()=>{var pe;(pe=m.onAutoClose)==null||pe.call(m,m),Ce()},W.current)),()=>clearTimeout(J)},[_,p,m,Pt,F,gs,Ce]),z.useEffect(()=>{m.delete&&Ce()},[Ce,m.delete]);function $e(){var J,pe,xe;return U!=null&&U.loading?z.createElement("div",{className:mn(S==null?void 0:S.loader,(J=m==null?void 0:m.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":Pt==="loading"},U.loading):q?z.createElement("div",{className:mn(S==null?void 0:S.loader,(pe=m==null?void 0:m.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Pt==="loading"},q):z.createElement(Zk,{className:mn(S==null?void 0:S.loader,(xe=m==null?void 0:m.classNames)==null?void 0:xe.loader),visible:Pt==="loading"})}return z.createElement("li",{tabIndex:0,ref:Ie,className:mn(L,fe,S==null?void 0:S.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[Pt],(n=m==null?void 0:m.classNames)==null?void 0:n[Pt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":D,"data-promise":!!m.promise,"data-swiped":dn,"data-removed":ke,"data-visible":ee,"data-y-position":nr,"data-x-position":rr,"data-index":w,"data-front":re,"data-swiping":le,"data-dismissible":Er,"data-type":Pt,"data-invert":de,"data-swipe-out":Ge,"data-swipe-direction":T,"data-expanded":!!(_||M&&D),style:{"--index":w,"--toasts-before":w,"--z-index":k.length-w,"--offset":`${ke?Xn:ot.current}px`,"--initial-height":M?"auto":`${Zn}px`,...O,...m.style},onDragEnd:()=>{ye(!1),X(null),kt.current=null},onPointerDown:J=>{ve||!Er||(oe.current=new Date,ms(ot.current),J.target.setPointerCapture(J.pointerId),J.target.tagName!=="BUTTON"&&(ye(!0),kt.current={x:J.clientX,y:J.clientY}))},onPointerUp:()=>{var J,pe,xe,rt;if(Ge||!Er)return;kt.current=null;let Ye=Number(((J=Ie.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xt=Number(((pe=Ie.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hn=new Date().getTime()-((xe=oe.current)==null?void 0:xe.getTime()),Lt=E==="x"?Ye:Xt,$n=Math.abs(Lt)/hn;if(Math.abs(Lt)>=vE||$n>.11){ms(ot.current),(rt=m.onDismiss)==null||rt.call(m,m),H(E==="x"?Ye>0?"right":"left":Xt>0?"down":"up"),Ce(),St(!0),An(!1);return}ye(!1),X(null)},onPointerMove:J=>{var pe,xe,rt,Ye;if(!kt.current||!Er||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let Xt=J.clientY-kt.current.y,hn=J.clientX-kt.current.x,Lt=(xe=e.swipeDirections)!=null?xe:xE(K);!E&&(Math.abs(hn)>1||Math.abs(Xt)>1)&&X(Math.abs(hn)>Math.abs(Xt)?"x":"y");let $n={x:0,y:0};E==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Xt<0||Lt.includes("bottom")&&Xt>0)&&($n.y=Xt):E==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&hn<0||Lt.includes("right")&&hn>0)&&($n.x=hn),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&An(!0),(rt=Ie.current)==null||rt.style.setProperty("--swipe-amount-x",`${$n.x}px`),(Ye=Ie.current)==null||Ye.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},ps&&!m.jsx?z.createElement("button",{"aria-label":Z,"data-disabled":ve,"data-close-button":!0,onClick:ve||!Er?()=>{}:()=>{var J;Ce(),(J=m.onDismiss)==null||J.call(m,m)},className:mn(S==null?void 0:S.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=U==null?void 0:U.close)!=null?a:sE):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:z.createElement(z.Fragment,null,Pt||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:mn(S==null?void 0:S.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||$e():null,m.type!=="loading"?m.icon||(U==null?void 0:U[Pt])||Jk(Pt):null):null,z.createElement("div",{"data-content":"",className:mn(S==null?void 0:S.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},z.createElement("div",{"data-title":"",className:mn(S==null?void 0:S.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?z.createElement("div",{"data-description":"",className:mn(Q,ho,S==null?void 0:S.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&rl(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:J=>{var pe,xe;rl(m.cancel)&&Er&&((xe=(pe=m.cancel).onClick)==null||xe.call(pe,J),Ce())},className:mn(S==null?void 0:S.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&rl(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||B,onClick:J=>{var pe,xe;rl(m.action)&&((xe=(pe=m.action).onClick)==null||xe.call(pe,J),!J.defaultPrevented&&Ce())},className:mn(S==null?void 0:S.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Vp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function SE(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",i=a?pE:mE;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=i:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(i)}),n}var kE=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:b=fE,toastOptions:p,dir:x=Vp(),gap:g=yE,loadingIcon:y,icons:w,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:_}=e,[j,C]=z.useState([]),P=z.useMemo(()=>Array.from(new Set([r].concat(j.filter(F=>F.position).map(F=>F.position)))),[j,r]),[O,A]=z.useState([]),[B,L]=z.useState(!1),[Q,$]=z.useState(!1),[K,V]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=z.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=z.useRef(null),U=z.useRef(!1),Z=z.useCallback(F=>{C(E=>{var X;return(X=E.find(T=>T.id===F.id))!=null&&X.delete||Rt.dismiss(F.id),E.filter(({id:T})=>T!==F.id)})},[]);return z.useEffect(()=>Rt.subscribe(F=>{if(F.dismiss){C(E=>E.map(X=>X.id===F.id?{...X,delete:!0}:X));return}setTimeout(()=>{Ov.flushSync(()=>{C(E=>{let X=E.findIndex(T=>T.id===F.id);return X!==-1?[...E.slice(0,X),{...E[X],...F},...E.slice(X+1)]:[F,...E]})})})}),[]),z.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:E})=>{V(E?"dark":"light")})}catch{F.addListener(({matches:X})=>{try{V(X?"dark":"light")}catch(T){console.error(T)}})}},[d]),z.useEffect(()=>{j.length<=1&&L(!1)},[j]),z.useEffect(()=>{let F=E=>{var X,T;s.every(H=>E[H]||E.code===H)&&(L(!0),(X=q.current)==null||X.focus()),E.code==="Escape"&&(document.activeElement===q.current||(T=q.current)!=null&&T.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),z.useEffect(()=>{if(q.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,U.current=!1)}},[q.current]),z.createElement("section",{ref:t,"aria-label":`${k} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((F,E)=>{var X;let[T,H]=F.split("-");return j.length?z.createElement("ol",{key:F,dir:x==="auto"?Vp():x,tabIndex:-1,ref:q,className:i,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":T,"data-lifted":B&&j.length>1&&!a,"data-x-position":H,style:{"--front-toast-height":`${((X=O[0])==null?void 0:X.height)||0}px`,"--width":`${gE}px`,"--gap":`${g}px`,...m,...SE(c,u)},onBlur:D=>{U.current&&!D.currentTarget.contains(D.relatedTarget)&&(U.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||U.current||(U.current=!0,S.current=D.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{Q||L(!1)},onDragEnd:()=>L(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},j.filter(D=>!D.position&&E===0||D.position===F).map((D,he)=>{var ke,ue;return z.createElement(bE,{key:D.id,icons:w,index:he,toast:D,defaultRichColors:f,duration:(ke=p==null?void 0:p.duration)!=null?ke:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ue=p==null?void 0:p.closeButton)!=null?ue:o,interacting:Q,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:j.filter(le=>le.position==D.position),heights:O.filter(le=>le.position==D.position),setHeights:A,expandByDefault:a,gap:g,loadingIcon:y,expanded:B,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const EE=({...e})=>{const{theme:t="system"}=Qk();return l.jsx(kE,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _E=Vh[" useId ".trim().toString()]||(()=>{}),CE=0;function Ni(e){const[t,n]=v.useState(_E());return ft(()=>{n(r=>r??String(CE++))},[e]),t?`radix-${t}`:""}const jE=["top","right","bottom","left"],ss=Math.min,Bt=Math.max,ic=Math.round,sl=Math.floor,Yn=e=>({x:e,y:e}),TE={left:"right",right:"left",bottom:"top",top:"bottom"},NE={start:"end",end:"start"};function fh(e,t,n){return Bt(e,ss(t,n))}function vr(e,t){return typeof e=="function"?e(t):e}function wr(e){return e.split("-")[0]}function oo(e){return e.split("-")[1]}function Hf(e){return e==="x"?"y":"x"}function Gf(e){return e==="y"?"height":"width"}const PE=new Set(["top","bottom"]);function Gn(e){return PE.has(wr(e))?"y":"x"}function qf(e){return Hf(Gn(e))}function ME(e,t,n){n===void 0&&(n=!1);const r=oo(e),s=qf(e),a=Gf(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=lc(o)),[o,lc(o)]}function RE(e){const t=lc(e);return[mh(e),t,mh(t)]}function mh(e){return e.replace(/start|end/g,t=>NE[t])}const Hp=["left","right"],Gp=["right","left"],OE=["top","bottom"],AE=["bottom","top"];function IE(e,t,n){switch(e){case"top":case"bottom":return n?t?Gp:Hp:t?Hp:Gp;case"left":case"right":return t?OE:AE;default:return[]}}function $E(e,t,n,r){const s=oo(e);let a=IE(wr(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(mh)))),a}function lc(e){return e.replace(/left|right|bottom|top/g,t=>TE[t])}function DE(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cw(e){return typeof e!="number"?DE(e):{top:e,right:e,bottom:e,left:e}}function cc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function qp(e,t,n){let{reference:r,floating:s}=e;const a=Gn(t),o=qf(t),i=Gf(o),c=wr(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[i]/2-s[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(oo(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const LE=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=qp(u,r,c),h=r,m={},b=0;for(let p=0;p<i.length;p++){const{name:x,fn:g}=i[p],{x:y,y:w,data:k,reset:_}=await g({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[x]:{...m[x],...k}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=qp(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function li(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=vr(t,e),b=Cw(m),x=i[h?f==="floating"?"reference":"floating":f],g=cc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),k=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=cc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:w,strategy:c}):y);return{top:(g.top-_.top+b.top)/k.y,bottom:(_.bottom-g.bottom+b.bottom)/k.y,left:(g.left-_.left+b.left)/k.x,right:(_.right-g.right+b.right)/k.x}}const FE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=vr(e,t)||{};if(u==null)return{};const f=Cw(d),h={x:n,y:r},m=qf(s),b=Gf(m),p=await o.getDimensions(u),x=m==="y",g=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",k=a.reference[b]+a.reference[m]-h[m]-a.floating[b],_=h[m]-a.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=i.floating[w]||a.floating[b]);const P=k/2-_/2,O=C/2-p[b]/2-1,A=ss(f[g],O),B=ss(f[y],O),L=A,Q=C-p[b]-B,$=C/2-p[b]/2+P,K=fh(L,$,Q),V=!c.arrow&&oo(s)!=null&&$!==K&&a.reference[b]/2-($<L?A:B)-p[b]/2<0,q=V?$<L?$-L:$-Q:0;return{[m]:h[m]+q,data:{[m]:K,centerOffset:$-K-q,...V&&{alignmentOffset:q}},reset:V}}}),zE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=vr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=wr(s),y=Gn(i),w=wr(i)===i,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[lc(i)]:RE(i)),j=b!=="none";!h&&j&&_.push(...$E(i,p,b,k));const C=[i,..._],P=await li(t,x),O=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&O.push(P[g]),f){const $=ME(s,o,k);O.push(P[$[0]],P[$[1]])}if(A=[...A,{placement:s,overflows:O}],!O.every($=>$<=0)){var B,L;const $=(((B=a.flip)==null?void 0:B.index)||0)+1,K=C[$];if(K&&(!(f==="alignment"?y!==Gn(K):!1)||A.every(M=>M.overflows[0]>0&&Gn(M.placement)===y)))return{data:{index:$,overflows:A},reset:{placement:K}};let V=(L=A.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:L.placement;if(!V)switch(m){case"bestFit":{var Q;const q=(Q=A.filter(M=>{if(j){const S=Gn(M.placement);return S===y||S==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(S=>S>0).reduce((S,U)=>S+U,0)]).sort((M,S)=>M[1]-S[1])[0])==null?void 0:Q[0];q&&(V=q);break}case"initialPlacement":V=i;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Kp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yp(e){return jE.some(t=>e[t]>=0)}const BE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=vr(e,t);switch(r){case"referenceHidden":{const a=await li(t,{...s,elementContext:"reference"}),o=Kp(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yp(o)}}}case"escaped":{const a=await li(t,{...s,altBoundary:!0}),o=Kp(a,n.floating);return{data:{escapedOffsets:o,escaped:Yp(o)}}}default:return{}}}}},jw=new Set(["left","top"]);async function UE(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=wr(n),i=oo(n),c=Gn(n)==="y",u=jw.has(o)?-1:1,d=a&&c?-1:1,f=vr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof b=="number"&&(m=i==="end"?b*-1:b),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const WE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:i}=t,c=await UE(t,e);return o===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},VE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:i={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=vr(e,t),u={x:n,y:r},d=await li(t,c),f=Gn(wr(s)),h=Hf(f);let m=u[h],b=u[f];if(a){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=m+d[x],w=m-d[g];m=fh(y,m,w)}if(o){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=b+d[x],w=b-d[g];b=fh(y,b,w)}const p=i.fn({...t,[h]:m,[f]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:a,[f]:o}}}}}},HE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=vr(e,t),d={x:n,y:r},f=Gn(s),h=Hf(f);let m=d[h],b=d[f];const p=vr(i,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",k=a.reference[h]-a.floating[w]+x.mainAxis,_=a.reference[h]+a.reference[w]-x.mainAxis;m<k?m=k:m>_&&(m=_)}if(u){var g,y;const w=h==="y"?"width":"height",k=jw.has(wr(s)),_=a.reference[f]-a.floating[w]+(k&&((g=o.offset)==null?void 0:g[f])||0)+(k?0:x.crossAxis),j=a.reference[f]+a.reference[w]+(k?0:((y=o.offset)==null?void 0:y[f])||0)-(k?x.crossAxis:0);b<_?b=_:b>j&&(b=j)}return{[h]:m,[f]:b}}}},GE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:i}=t,{apply:c=()=>{},...u}=vr(e,t),d=await li(t,u),f=wr(s),h=oo(s),m=Gn(s)==="y",{width:b,height:p}=a.floating;let x,g;f==="top"||f==="bottom"?(x=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=b-d.left-d.right,k=ss(p-d[x],y),_=ss(b-d[g],w),j=!t.middlewareData.shift;let C=k,P=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),j&&!h){const A=Bt(d.left,0),B=Bt(d.right,0),L=Bt(d.top,0),Q=Bt(d.bottom,0);m?P=b-2*(A!==0||B!==0?A+B:Bt(d.left,d.right)):C=p-2*(L!==0||Q!==0?L+Q:Bt(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const O=await o.getDimensions(i.floating);return b!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function Uc(){return typeof window<"u"}function io(e){return Tw(e)?(e.nodeName||"").toLowerCase():"#document"}function Kt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jn(e){var t;return(t=(Tw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tw(e){return Uc()?e instanceof Node||e instanceof Kt(e).Node:!1}function Rn(e){return Uc()?e instanceof Element||e instanceof Kt(e).Element:!1}function Qn(e){return Uc()?e instanceof HTMLElement||e instanceof Kt(e).HTMLElement:!1}function Qp(e){return!Uc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kt(e).ShadowRoot}const qE=new Set(["inline","contents"]);function Pi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=On(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!qE.has(s)}const KE=new Set(["table","td","th"]);function YE(e){return KE.has(io(e))}const QE=[":popover-open",":modal"];function Wc(e){return QE.some(t=>{try{return e.matches(t)}catch{return!1}})}const JE=["transform","translate","scale","rotate","perspective"],XE=["transform","translate","scale","rotate","perspective","filter"],ZE=["paint","layout","strict","content"];function Kf(e){const t=Yf(),n=Rn(e)?On(e):e;return JE.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||XE.some(r=>(n.willChange||"").includes(r))||ZE.some(r=>(n.contain||"").includes(r))}function e_(e){let t=as(e);for(;Qn(t)&&!eo(t);){if(Kf(t))return t;if(Wc(t))return null;t=as(t)}return null}function Yf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t_=new Set(["html","body","#document"]);function eo(e){return t_.has(io(e))}function On(e){return Kt(e).getComputedStyle(e)}function Vc(e){return Rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function as(e){if(io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qp(e)&&e.host||Jn(e);return Qp(t)?t.host:t}function Nw(e){const t=as(e);return eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qn(t)&&Pi(t)?t:Nw(t)}function ci(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Nw(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Kt(s);if(a){const i=ph(o);return t.concat(o,o.visualViewport||[],Pi(s)?s:[],i&&n?ci(i):[])}return t.concat(s,ci(s,[],n))}function ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Pw(e){const t=On(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Qn(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,i=ic(n)!==a||ic(r)!==o;return i&&(n=a,r=o),{width:n,height:r,$:i}}function Qf(e){return Rn(e)?e:e.contextElement}function Aa(e){const t=Qf(e);if(!Qn(t))return Yn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Pw(t);let o=(a?ic(n.width):n.width)/r,i=(a?ic(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const n_=Yn(0);function Mw(e){const t=Kt(e);return!Yf()||!t.visualViewport?n_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kt(e)?!1:t}function Ws(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Qf(e);let o=Yn(1);t&&(r?Rn(r)&&(o=Aa(r)):o=Aa(e));const i=r_(a,n,r)?Mw(a):Yn(0);let c=(s.left+i.x)/o.x,u=(s.top+i.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Kt(a),m=r&&Rn(r)?Kt(r):r;let b=h,p=ph(b);for(;p&&r&&m!==b;){const x=Aa(p),g=p.getBoundingClientRect(),y=On(p),w=g.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,k=g.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=k,b=Kt(p),p=ph(b)}}return cc({width:d,height:f,x:c,y:u})}function Jf(e,t){const n=Vc(e).scrollLeft;return t?t.left+n:Ws(Jn(e)).left+n}function Rw(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Jf(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function s_(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=Jn(r),i=t?Wc(t.floating):!1;if(r===o||i&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yn(1);const d=Yn(0),f=Qn(r);if((f||!f&&!a)&&((io(r)!=="body"||Pi(o))&&(c=Vc(r)),Qn(r))){const m=Ws(r);u=Aa(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!a?Rw(o,c,!0):Yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function a_(e){return Array.from(e.getClientRects())}function o_(e){const t=Jn(e),n=Vc(e),r=e.ownerDocument.body,s=Bt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Bt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jf(e);const i=-n.scrollTop;return On(r).direction==="rtl"&&(o+=Bt(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:i}}function i_(e,t){const n=Kt(e),r=Jn(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,i=0,c=0;if(s){a=s.width,o=s.height;const u=Yf();(!u||u&&t==="fixed")&&(i=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:i,y:c}}const l_=new Set(["absolute","fixed"]);function c_(e,t){const n=Ws(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Qn(e)?Aa(e):Yn(1),o=e.clientWidth*a.x,i=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:i,x:c,y:u}}function Jp(e,t,n){let r;if(t==="viewport")r=i_(e,n);else if(t==="document")r=o_(Jn(e));else if(Rn(t))r=c_(t,n);else{const s=Mw(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cc(r)}function Ow(e,t){const n=as(e);return n===t||!Rn(n)||eo(n)?!1:On(n).position==="fixed"||Ow(n,t)}function u_(e,t){const n=t.get(e);if(n)return n;let r=ci(e,[],!1).filter(i=>Rn(i)&&io(i)!=="body"),s=null;const a=On(e).position==="fixed";let o=a?as(e):e;for(;Rn(o)&&!eo(o);){const i=On(o),c=Kf(o);!c&&i.position==="fixed"&&(s=null),(a?!c&&!s:!c&&i.position==="static"&&!!s&&l_.has(s.position)||Pi(o)&&!c&&Ow(e,o))?r=r.filter(d=>d!==o):s=i,o=as(o)}return t.set(e,r),r}function d_(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Wc(t)?[]:u_(t,this._c):[].concat(n),r],i=o[0],c=o.reduce((u,d)=>{const f=Jp(t,d,s);return u.top=Bt(f.top,u.top),u.right=ss(f.right,u.right),u.bottom=ss(f.bottom,u.bottom),u.left=Bt(f.left,u.left),u},Jp(t,i,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function h_(e){const{width:t,height:n}=Pw(e);return{width:t,height:n}}function f_(e,t,n){const r=Qn(t),s=Jn(t),a=n==="fixed",o=Ws(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const c=Yn(0);function u(){c.x=Jf(s)}if(r||!r&&!a)if((io(t)!=="body"||Pi(s))&&(i=Vc(t)),r){const m=Ws(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?Rw(s,i):Yn(0),f=o.left+i.scrollLeft-c.x-d.x,h=o.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Uu(e){return On(e).position==="static"}function Xp(e,t){if(!Qn(e)||On(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jn(e)===n&&(n=n.ownerDocument.body),n}function Aw(e,t){const n=Kt(e);if(Wc(e))return n;if(!Qn(e)){let s=as(e);for(;s&&!eo(s);){if(Rn(s)&&!Uu(s))return s;s=as(s)}return n}let r=Xp(e,t);for(;r&&YE(r)&&Uu(r);)r=Xp(r,t);return r&&eo(r)&&Uu(r)&&!Kf(r)?n:r||e_(e)||n}const m_=async function(e){const t=this.getOffsetParent||Aw,n=this.getDimensions,r=await n(e.floating);return{reference:f_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p_(e){return On(e).direction==="rtl"}const g_={convertOffsetParentRelativeRectToViewportRelativeRect:s_,getDocumentElement:Jn,getClippingRect:d_,getOffsetParent:Aw,getElementRects:m_,getClientRects:a_,getDimensions:h_,getScale:Aa,isElement:Rn,isRTL:p_};function Iw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function y_(e,t){let n=null,r;const s=Jn(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function o(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(i||t(),!h||!m)return;const b=sl(f),p=sl(s.clientWidth-(d+h)),x=sl(s.clientHeight-(f+m)),g=sl(d),w={rootMargin:-b+"px "+-p+"px "+-x+"px "+-g+"px",threshold:Bt(0,ss(1,c))||1};let k=!0;function _(j){const C=j[0].intersectionRatio;if(C!==c){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Iw(u,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(e)}return o(!0),a}function v_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Qf(e),d=s||a?[...u?ci(u):[],...ci(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=u&&i?y_(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let b,p=c?Ws(e):null;c&&x();function x(){const g=Ws(e);p&&!Iw(p,g)&&n(),p=g,b=requestAnimationFrame(x)}return n(),()=>{var g;d.forEach(y=>{s&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const w_=WE,x_=VE,b_=zE,S_=GE,k_=BE,Zp=FE,E_=HE,__=(e,t,n)=>{const r=new Map,s={platform:g_,...n},a={...s.platform,_c:r};return LE(e,t,{...s,platform:a})};var C_=typeof document<"u",j_=function(){},Nl=C_?v.useLayoutEffect:j_;function uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!uc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!uc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function $w(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e0(e,t){const n=$w(e);return Math.round(t*n)/n}function Wu(e){const t=v.useRef(e);return Nl(()=>{t.current=e}),t}function T_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);uc(h,r)||m(r);const[b,p]=v.useState(null),[x,g]=v.useState(null),y=v.useCallback(M=>{M!==j.current&&(j.current=M,p(M))},[]),w=v.useCallback(M=>{M!==C.current&&(C.current=M,g(M))},[]),k=a||b,_=o||x,j=v.useRef(null),C=v.useRef(null),P=v.useRef(d),O=c!=null,A=Wu(c),B=Wu(s),L=Wu(u),Q=v.useCallback(()=>{if(!j.current||!C.current)return;const M={placement:t,strategy:n,middleware:h};B.current&&(M.platform=B.current),__(j.current,C.current,M).then(S=>{const U={...S,isPositioned:L.current!==!1};$.current&&!uc(P.current,U)&&(P.current=U,Ys.flushSync(()=>{f(U)}))})},[h,t,n,B,L]);Nl(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const $=v.useRef(!1);Nl(()=>($.current=!0,()=>{$.current=!1}),[]),Nl(()=>{if(k&&(j.current=k),_&&(C.current=_),k&&_){if(A.current)return A.current(k,_,Q);Q()}},[k,_,Q,A,O]);const K=v.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:w}),[y,w]),V=v.useMemo(()=>({reference:k,floating:_}),[k,_]),q=v.useMemo(()=>{const M={position:n,left:0,top:0};if(!V.floating)return M;const S=e0(V.floating,d.x),U=e0(V.floating,d.y);return i?{...M,transform:"translate("+S+"px, "+U+"px)",...$w(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:U}},[n,i,V.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:Q,refs:K,elements:V,floatingStyles:q}),[d,Q,K,V,q])}const N_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Zp({element:r.current,padding:s}).fn(n):{}:r?Zp({element:r,padding:s}).fn(n):{}}}},P_=(e,t)=>({...w_(e),options:[e,t]}),M_=(e,t)=>({...x_(e),options:[e,t]}),R_=(e,t)=>({...E_(e),options:[e,t]}),O_=(e,t)=>({...b_(e),options:[e,t]}),A_=(e,t)=>({...S_(e),options:[e,t]}),I_=(e,t)=>({...k_(e),options:[e,t]}),$_=(e,t)=>({...N_(e),options:[e,t]});var D_="Arrow",Dw=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(me.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dw.displayName=D_;var L_=Dw;function Lw(e){const[t,n]=v.useState(void 0);return ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,i;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,i=u.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Xf="Popper",[Fw,Hc]=us(Xf),[F_,zw]=Fw(Xf),Bw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return l.jsx(F_,{scope:t,anchor:r,onAnchorChange:s,children:n})};Bw.displayName=Xf;var Uw="PopperAnchor",Ww=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=zw(Uw,n),o=v.useRef(null),i=Ae(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(me.div,{...s,ref:i})});Ww.displayName=Uw;var Zf="PopperContent",[z_,B_]=Fw(Zf),Vw=v.forwardRef((e,t)=>{var D,he,ke,ue,le,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=zw(Zf,n),[g,y]=v.useState(null),w=Ae(t,Ge=>y(Ge)),[k,_]=v.useState(null),j=Lw(k),C=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,O=r+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},B=Array.isArray(u)?u:[u],L=B.length>0,Q={padding:A,boundary:B.filter(W_),altBoundary:L},{refs:$,floatingStyles:K,placement:V,isPositioned:q,middlewareData:M}=T_({strategy:"fixed",placement:O,whileElementsMounted:(...Ge)=>v_(...Ge,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[P_({mainAxis:s+P,alignmentAxis:o}),c&&M_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?R_():void 0,...Q}),c&&O_({...Q}),A_({...Q,apply:({elements:Ge,rects:St,availableWidth:dn,availableHeight:An})=>{const{width:Xn,height:ms}=St.reference,Zn=Ge.floating.style;Zn.setProperty("--radix-popper-available-width",`${dn}px`),Zn.setProperty("--radix-popper-available-height",`${An}px`),Zn.setProperty("--radix-popper-anchor-width",`${Xn}px`),Zn.setProperty("--radix-popper-anchor-height",`${ms}px`)}}),k&&$_({element:k,padding:i}),V_({arrowWidth:C,arrowHeight:P}),h&&I_({strategy:"referenceHidden",...Q})]}),[S,U]=qw(V),Z=un(b);ft(()=>{q&&(Z==null||Z())},[q,Z]);const F=(D=M.arrow)==null?void 0:D.x,E=(he=M.arrow)==null?void 0:he.y,X=((ke=M.arrow)==null?void 0:ke.centerOffset)!==0,[T,H]=v.useState();return ft(()=>{g&&H(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T,"--radix-popper-transform-origin":[(ue=M.transformOrigin)==null?void 0:ue.x,(le=M.transformOrigin)==null?void 0:le.y].join(" "),...((ye=M.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(z_,{scope:n,placedSide:S,onArrowChange:_,arrowX:F,arrowY:E,shouldHideArrow:X,children:l.jsx(me.div,{"data-side":S,"data-align":U,...p,ref:w,style:{...p.style,animation:q?void 0:"none"}})})})});Vw.displayName=Zf;var Hw="PopperArrow",U_={top:"bottom",right:"left",bottom:"top",left:"right"},Gw=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=B_(Hw,r),o=U_[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(L_,{...s,ref:n,style:{...s.style,display:"block"}})})});Gw.displayName=Hw;function W_(e){return e!==null}var V_=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,i=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=qw(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=s.arrow)==null?void 0:g.x)??0)+i/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",p="";return u==="bottom"?(b=o?f:`${h}px`,p=`${-c}px`):u==="top"?(b=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(b=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:b,y:p}}}});function qw(e){const[t,n="center"]=e.split("-");return[t,n]}var H_=Bw,Kw=Ww,Yw=Vw,Qw=Gw,[Gc,I4]=us("Tooltip",[Hc]),em=Hc(),Jw="TooltipProvider",G_=700,t0="tooltip.open",[q_,Xw]=Gc(Jw),Zw=e=>{const{__scopeTooltip:t,delayDuration:n=G_,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=v.useRef(!0),i=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(q_,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:v.useCallback(u=>{i.current=u},[]),disableHoverableContent:s,children:a})};Zw.displayName=Jw;var ex="Tooltip",[$4,qc]=Gc(ex),gh="TooltipTrigger",K_=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=qc(gh,n),a=Xw(gh,n),o=em(n),i=v.useRef(null),c=Ae(t,i,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Kw,{asChild:!0,...o,children:l.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(e.onBlur,s.onClose),onClick:se(e.onClick,s.onClose)})})});K_.displayName=gh;var Y_="TooltipPortal",[D4,Q_]=Gc(Y_,{forceMount:void 0}),to="TooltipContent",tx=v.forwardRef((e,t)=>{const n=Q_(to,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=qc(to,e.__scopeTooltip);return l.jsx(ji,{present:r||o.open,children:o.disableHoverableContent?l.jsx(nx,{side:s,...a,ref:t}):l.jsx(J_,{side:s,...a,ref:t})})}),J_=v.forwardRef((e,t)=>{const n=qc(to,e.__scopeTooltip),r=Xw(to,e.__scopeTooltip),s=v.useRef(null),a=Ae(t,s),[o,i]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{i(null),f(!1)},[f]),m=v.useCallback((b,p)=>{const x=b.currentTarget,g={x:b.clientX,y:b.clientY},y=nC(g,x.getBoundingClientRect()),w=rC(g,y),k=sC(p.getBoundingClientRect()),_=oC([...w,...k]);i(_),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const b=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),v.useEffect(()=>{if(o){const b=p=>{const x=p.target,g={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!aC(g,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,h]),l.jsx(nx,{...e,ref:a})}),[X_,Z_]=Gc(ex,{isInside:!1}),eC=n5("TooltipContent"),nx=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...i}=e,c=qc(to,n),u=em(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(t0,d),()=>document.removeEventListener(t0,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Yw,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(eC,{children:r}),l.jsx(X_,{scope:n,isInside:!0,children:l.jsx(E5,{id:c.contentId,role:"tooltip",children:s||r})})]})})});tx.displayName=to;var rx="TooltipArrow",tC=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=em(n);return Z_(rx,n).isInside?null:l.jsx(Qw,{...s,...r,ref:t})});tC.displayName=rx;function nC(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rC(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function sC(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function aC(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const i=t[a],c=t[o],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function oC(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iC(t)}function iC(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var lC=Zw,sx=tx;const cC=lC,uC=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(sx,{ref:r,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));uC.displayName=sx.displayName;var Kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yc=typeof window>"u"||"Deno"in globalThis;function xn(){}function dC(e,t){return typeof e=="function"?e(t):e}function hC(e){return typeof e=="number"&&e>=0&&e!==1/0}function fC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yh(e,t){return typeof e=="function"?e(t):e}function mC(e,t){return typeof e=="function"?e(t):e}function n0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:i}=e;if(o){if(r){if(t.queryHash!==tm(o,t.options))return!1}else if(!di(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||a&&!a(t))}function r0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ui(t.options.mutationKey)!==ui(a))return!1}else if(!di(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function tm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ui)(e)}function ui(e){return JSON.stringify(e,(t,n)=>vh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function di(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>di(e[n],t[n])):!1}function ax(e,t){if(e===t)return e;const n=s0(e)&&s0(t);if(n||vh(e)&&vh(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,i=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(i[f]=void 0,u++):(i[f]=ax(e[f],t[f]),i[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:i}return t}function s0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vh(e){if(!a0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!a0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function a0(e){return Object.prototype.toString.call(e)==="[object Object]"}function pC(e){return new Promise(t=>{setTimeout(t,e)})}function gC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ax(e,t):t}function yC(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var nm=Symbol();function ox(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ps,Dr,La,hg,wC=(hg=class extends Kc{constructor(){super();Se(this,Ps);Se(this,Dr);Se(this,La);ie(this,La,t=>{if(!Yc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Dr)||this.setEventListener(R(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Dr))==null||t.call(this),ie(this,Dr,void 0))}setEventListener(t){var n;ie(this,La,t),(n=R(this,Dr))==null||n.call(this),ie(this,Dr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,Ps)!==t&&(ie(this,Ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,Ps)=="boolean"?R(this,Ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ps=new WeakMap,Dr=new WeakMap,La=new WeakMap,hg),ix=new wC,Fa,Lr,za,fg,xC=(fg=class extends Kc{constructor(){super();Se(this,Fa,!0);Se(this,Lr);Se(this,za);ie(this,za,t=>{if(!Yc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Lr)||this.setEventListener(R(this,za))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Lr))==null||t.call(this),ie(this,Lr,void 0))}setEventListener(t){var n;ie(this,za,t),(n=R(this,Lr))==null||n.call(this),ie(this,Lr,t(this.setOnline.bind(this)))}setOnline(t){R(this,Fa)!==t&&(ie(this,Fa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,Fa)}},Fa=new WeakMap,Lr=new WeakMap,za=new WeakMap,fg),dc=new xC;function bC(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function SC(e){return Math.min(1e3*2**e,3e4)}function lx(e){return(e??"online")==="online"?dc.isOnline():!0}var cx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Vu(e){return e instanceof cx}function ux(e){let t=!1,n=0,r=!1,s;const a=bC(),o=p=>{var x;r||(h(new cx(p)),(x=e.abort)==null||x.call(e))},i=()=>{t=!0},c=()=>{t=!1},u=()=>ix.isFocused()&&(e.networkMode==="always"||dc.isOnline())&&e.canRun(),d=()=>lx(e.networkMode)&&e.canRun(),f=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var x;s=g=>{(r||u())&&p(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(f).catch(g=>{var j;if(r)return;const y=e.retry??(Yc?0:3),w=e.retryDelay??SC,k=typeof w=="function"?w(n,g):w,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!_){h(g);return}n++,(j=e.onFail)==null||j.call(e,n,g),pC(k).then(()=>u()?void 0:m()).then(()=>{t?h(g):b()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:i,continueRetry:c,canStart:d,start:()=>(d()?b():m().then(b),a)}}var kC=e=>setTimeout(e,0);function EC(){let e=[],t=0,n=i=>{i()},r=i=>{i()},s=kC;const a=i=>{t?e.push(i):s(()=>{n(i)})},o=()=>{const i=e;e=[],i.length&&s(()=>{r(()=>{i.forEach(c=>{n(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||o()}return c},batchCalls:i=>(...c)=>{a(()=>{i(...c)})},schedule:a,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{s=i}}}var Ct=EC(),Ms,mg,dx=(mg=class{constructor(){Se(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hC(this.gcTime)&&ie(this,Ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yc?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ms)&&(clearTimeout(R(this,Ms)),ie(this,Ms,void 0))}},Ms=new WeakMap,mg),Ba,Rs,Zt,Os,yt,xi,As,Sn,ar,pg,_C=(pg=class extends dx{constructor(t){super();Se(this,Sn);Se(this,Ba);Se(this,Rs);Se(this,Zt);Se(this,Os);Se(this,yt);Se(this,xi);Se(this,As);ie(this,As,!1),ie(this,xi,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,Os,t.client),ie(this,Zt,R(this,Os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,Ba,jC(this.options)),this.state=t.state??R(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,yt))==null?void 0:t.promise}setOptions(t){this.options={...R(this,xi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Zt).remove(this)}setData(t,n){const r=gC(this.state.data,t,this.options);return mt(this,Sn,ar).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mt(this,Sn,ar).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,yt))==null?void 0:r.promise;return(s=R(this,yt))==null||s.cancel(t),n?n.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ba))}isActive(){return this.observers.some(t=>mC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fC(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,yt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,yt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Zt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,yt)&&(R(this,As)?R(this,yt).cancel({revert:!0}):R(this,yt).cancelRetry()),this.scheduleGc()),R(this,Zt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Sn,ar).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,yt))return R(this,yt).continueRetry(),R(this,yt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ie(this,As,!0),r.signal)})},a=()=>{const h=ox(this.options,n),b=(()=>{const p={client:R(this,Os),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return ie(this,As,!1),this.options.persister?this.options.persister(h,b,this):h(b)},i=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,Os),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(i,this),ie(this,Rs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&mt(this,Sn,ar).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,b,p,x;Vu(h)&&h.silent||mt(this,Sn,ar).call(this,{type:"error",error:h}),Vu(h)||((b=(m=R(this,Zt).config).onError)==null||b.call(m,h,this),(x=(p=R(this,Zt).config).onSettled)==null||x.call(p,this.state.data,h,this)),this.scheduleGc()};return ie(this,yt,ux({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,b,p,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){c(g);return}(b=(m=R(this,Zt).config).onSuccess)==null||b.call(m,h,this),(x=(p=R(this,Zt).config).onSettled)==null||x.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{mt(this,Sn,ar).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{mt(this,Sn,ar).call(this,{type:"pause"})},onContinue:()=>{mt(this,Sn,ar).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),R(this,yt).start()}},Ba=new WeakMap,Rs=new WeakMap,Zt=new WeakMap,Os=new WeakMap,yt=new WeakMap,xi=new WeakMap,As=new WeakMap,Sn=new WeakSet,ar=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CC(r.data,this.options),fetchMeta:t.meta??null};case"success":return ie(this,Rs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Vu(s)&&s.revert&&R(this,Rs)?{...R(this,Rs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Zt).notify({query:this,type:"updated",action:t})})},pg);function CC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Fn,gg,TC=(gg=class extends Kc{constructor(t={}){super();Se(this,Fn);this.config=t,ie(this,Fn,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??tm(s,n);let o=this.get(a);return o||(o=new _C({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){R(this,Fn).has(t.queryHash)||(R(this,Fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,Fn).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,Fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Fn).get(t)}getAll(){return[...R(this,Fn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>n0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>n0(t,r)):n}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fn=new WeakMap,gg),zn,Et,Is,Bn,Nr,yg,NC=(yg=class extends dx{constructor(t){super();Se(this,Bn);Se(this,zn);Se(this,Et);Se(this,Is);this.mutationId=t.mutationId,ie(this,Et,t.mutationCache),ie(this,zn,[]),this.state=t.state||PC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,zn).includes(t)||(R(this,zn).push(t),this.clearGcTimeout(),R(this,Et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,zn,R(this,zn).filter(n=>n!==t)),this.scheduleGc(),R(this,Et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,zn).length||(this.state.status==="pending"?this.scheduleGc():R(this,Et).remove(this))}continue(){var t;return((t=R(this,Is))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,c,u,d,f,h,m,b,p,x,g,y,w,k,_,j,C,P;const n=()=>{mt(this,Bn,Nr).call(this,{type:"continue"})};ie(this,Is,ux({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,A)=>{mt(this,Bn,Nr).call(this,{type:"failed",failureCount:O,error:A})},onPause:()=>{mt(this,Bn,Nr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Et).canRun(this)}));const r=this.state.status==="pending",s=!R(this,Is).canStart();try{if(r)n();else{mt(this,Bn,Nr).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=R(this,Et).config).onMutate)==null?void 0:o.call(a,t,this));const A=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,t));A!==this.state.context&&mt(this,Bn,Nr).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const O=await R(this,Is).start();return await((d=(u=R(this,Et).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,O,t,this.state.context)),await((b=(m=R(this,Et).config).onSettled)==null?void 0:b.call(m,O,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,O,null,t,this.state.context)),mt(this,Bn,Nr).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(g=R(this,Et).config).onError)==null?void 0:y.call(g,O,t,this.state.context,this)),await((k=(w=this.options).onError)==null?void 0:k.call(w,O,t,this.state.context)),await((j=(_=R(this,Et).config).onSettled)==null?void 0:j.call(_,void 0,O,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,O,t,this.state.context)),O}finally{mt(this,Bn,Nr).call(this,{type:"error",error:O})}}finally{R(this,Et).runNext(this)}}},zn=new WeakMap,Et=new WeakMap,Is=new WeakMap,Bn=new WeakSet,Nr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ct.batch(()=>{R(this,zn).forEach(r=>{r.onMutationUpdate(t)}),R(this,Et).notify({mutation:this,type:"updated",action:t})})},yg);function PC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,kn,bi,vg,MC=(vg=class extends Kc{constructor(t={}){super();Se(this,cr);Se(this,kn);Se(this,bi);this.config=t,ie(this,cr,new Set),ie(this,kn,new Map),ie(this,bi,0)}build(t,n,r){const s=new NC({mutationCache:this,mutationId:++Di(this,bi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){R(this,cr).add(t);const n=al(t);if(typeof n=="string"){const r=R(this,kn).get(n);r?r.push(t):R(this,kn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,cr).delete(t)){const n=al(t);if(typeof n=="string"){const r=R(this,kn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&R(this,kn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=al(t);if(typeof n=="string"){const r=R(this,kn).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=al(t);if(typeof n=="string"){const s=(r=R(this,kn).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ct.batch(()=>{R(this,cr).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,cr).clear(),R(this,kn).clear()})}getAll(){return Array.from(R(this,cr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>r0(n,r))}findAll(t={}){return this.getAll().filter(n=>r0(t,n))}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ct.batch(()=>Promise.all(t.map(n=>n.continue().catch(xn))))}},cr=new WeakMap,kn=new WeakMap,bi=new WeakMap,vg);function al(e){var t;return(t=e.options.scope)==null?void 0:t.id}function o0(e){return{onFetch:(t,n)=>{var d,f,h,m,b;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},g=ox(t.options,t.fetchOptions),y=async(w,k,_)=>{if(p)return Promise.reject();if(k==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:k,direction:_?"backward":"forward",meta:t.options.meta};return x(B),B})(),P=await g(C),{maxPages:O}=t.options,A=_?vC:yC;return{pages:A(w.pages,P,O),pageParams:A(w.pageParams,k,O)}};if(s&&a.length){const w=s==="backward",k=w?RC:i0,_={pages:a,pageParams:o},j=k(r,_);i=await y(_,j,w)}else{const w=e??a.length;do{const k=c===0?o[0]??r.initialPageParam:i0(r,i);if(c>0&&k==null)break;i=await y(i,k),c++}while(c<w)}return i};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function i0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function RC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var We,Fr,zr,Ua,Wa,Br,Va,Ha,wg,OC=(wg=class{constructor(e={}){Se(this,We);Se(this,Fr);Se(this,zr);Se(this,Ua);Se(this,Wa);Se(this,Br);Se(this,Va);Se(this,Ha);ie(this,We,e.queryCache||new TC),ie(this,Fr,e.mutationCache||new MC),ie(this,zr,e.defaultOptions||{}),ie(this,Ua,new Map),ie(this,Wa,new Map),ie(this,Br,0)}mount(){Di(this,Br)._++,R(this,Br)===1&&(ie(this,Va,ix.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,We).onFocus())})),ie(this,Ha,dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,We).onOnline())})))}unmount(){var e,t;Di(this,Br)._--,R(this,Br)===0&&((e=R(this,Va))==null||e.call(this),ie(this,Va,void 0),(t=R(this,Ha))==null||t.call(this),ie(this,Ha,void 0))}isFetching(e){return R(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,Fr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,We).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=R(this,We).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(yh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,We).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,We).get(r.queryHash),a=s==null?void 0:s.state.data,o=dC(t,a);if(o!==void 0)return R(this,We).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ct.batch(()=>R(this,We).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,We).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,We);Ct.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,We);return Ct.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ct.batch(()=>R(this,We).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(e,t={}){return Ct.batch(()=>(R(this,We).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ct.batch(()=>R(this,We).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,We).build(this,t);return n.isStaleByTime(yh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xn).catch(xn)}fetchInfiniteQuery(e){return e.behavior=o0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xn).catch(xn)}ensureInfiniteQueryData(e){return e.behavior=o0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dc.isOnline()?R(this,Fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,We)}getMutationCache(){return R(this,Fr)}getDefaultOptions(){return R(this,zr)}setDefaultOptions(e){ie(this,zr,e)}setQueryDefaults(e,t){R(this,Ua).set(ui(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Ua).values()],n={};return t.forEach(r=>{di(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){R(this,Wa).set(ui(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Wa).values()],n={};return t.forEach(r=>{di(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,zr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,zr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,We).clear(),R(this,Fr).clear()}},We=new WeakMap,Fr=new WeakMap,zr=new WeakMap,Ua=new WeakMap,Wa=new WeakMap,Br=new WeakMap,Va=new WeakMap,Ha=new WeakMap,wg),AC=v.createContext(void 0),IC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(AC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi.apply(this,arguments)}var Hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hr||(Hr={}));const l0="popstate";function $C(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:i}=r.location;return wh("",{pathname:a,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hc(s)}return LC(t,n,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DC(){return Math.random().toString(36).substr(2,8)}function c0(e,t){return{usr:e.state,key:e.key,idx:t}}function wh(e,t,n,r){return n===void 0&&(n=null),hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lo(t):t,{state:n,key:t&&t.key||r||DC()})}function hc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function LC(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,i=Hr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(hi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){i=Hr.Pop;let x=d(),g=x==null?null:x-u;u=x,c&&c({action:i,location:p.location,delta:g})}function h(x,g){i=Hr.Push;let y=wh(p.location,x,g);u=d()+1;let w=c0(y,u),k=p.createHref(y);try{o.pushState(w,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(k)}a&&c&&c({action:i,location:p.location,delta:1})}function m(x,g){i=Hr.Replace;let y=wh(p.location,x,g);u=d();let w=c0(y,u),k=p.createHref(y);o.replaceState(w,"",k),a&&c&&c({action:i,location:p.location,delta:0})}function b(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:hc(x);return y=y.replace(/ $/,"%20"),Ze(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let p={get action(){return i},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(l0,f),c=x,()=>{s.removeEventListener(l0,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let g=b(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var u0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u0||(u0={}));function FC(e,t,n){return n===void 0&&(n="/"),zC(e,t,n,!1)}function zC(e,t,n,r){let s=typeof t=="string"?lo(t):t,a=rm(s.pathname||"/",n);if(a==null)return null;let o=fx(e);BC(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=XC(a);i=QC(o[c],u,r)}return i}function fx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=es([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Ze(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fx(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:KC(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,o);else for(let c of mx(a.path))s(a,o,c)}),t}function mx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=mx(r.join("/")),i=[];return i.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function BC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UC=/^:[\w-]+$/,WC=3,VC=2,HC=1,GC=10,qC=-2,d0=e=>e==="*";function KC(e,t){let n=e.split("/"),r=n.length;return n.some(d0)&&(r+=qC),t&&(r+=VC),n.filter(s=>!d0(s)).reduce((s,a)=>s+(UC.test(a)?WC:a===""?HC:GC),r)}function YC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function QC(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=h0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=h0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:es([a,f.pathname]),pathnameBase:nj(es([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=es([a,f.pathnameBase]))}return o}function h0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=JC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=i[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const b=i[f];return m&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function JC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),hx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function XC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ZC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?lo(e):e;return{pathname:n?n.startsWith("/")?n:ej(n,t):t,search:rj(r),hash:sj(s)}}function ej(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function px(e,t){let n=tj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=lo(e):(s=hi({},e),Ze(!s.pathname||!s.pathname.includes("?"),Hu("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Hu("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Hu("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=ZC(s,i),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const es=e=>e.join("/").replace(/\/\/+/g,"/"),nj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yx=["post","put","patch","delete"];new Set(yx);const oj=["get",...yx];new Set(oj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}const sm=v.createContext(null),ij=v.createContext(null),Qs=v.createContext(null),Qc=v.createContext(null),ds=v.createContext({outlet:null,matches:[],isDataRoute:!1}),vx=v.createContext(null);function lj(e,t){let{relative:n}=t===void 0?{}:t;Mi()||Ze(!1);let{basename:r,navigator:s}=v.useContext(Qs),{hash:a,pathname:o,search:i}=xx(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:es([r,o])),s.createHref({pathname:c,search:i,hash:a})}function Mi(){return v.useContext(Qc)!=null}function Sr(){return Mi()||Ze(!1),v.useContext(Qc).location}function wx(e){v.useContext(Qs).static||v.useLayoutEffect(e)}function Jc(){let{isDataRoute:e}=v.useContext(ds);return e?Sj():cj()}function cj(){Mi()||Ze(!1);let e=v.useContext(sm),{basename:t,future:n,navigator:r}=v.useContext(Qs),{matches:s}=v.useContext(ds),{pathname:a}=Sr(),o=JSON.stringify(px(s,n.v7_relativeSplatPath)),i=v.useRef(!1);return wx(()=>{i.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=gx(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:es([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function uj(){let{matches:e}=v.useContext(ds),t=e[e.length-1];return t?t.params:{}}function xx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Qs),{matches:s}=v.useContext(ds),{pathname:a}=Sr(),o=JSON.stringify(px(s,r.v7_relativeSplatPath));return v.useMemo(()=>gx(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function dj(e,t){return hj(e,t)}function hj(e,t,n,r){Mi()||Ze(!1);let{navigator:s}=v.useContext(Qs),{matches:a}=v.useContext(ds),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Sr(),d;if(t){var f;let x=typeof t=="string"?lo(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ze(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=FC(e,{pathname:m}),p=yj(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:es([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:es([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return t&&p?v.createElement(Qc.Provider,{value:{location:fi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hr.Pop}},p):p}function fj(){let e=bj(),t=aj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const mj=v.createElement(fj,null);class pj extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(ds.Provider,{value:this.props.routeContext},v.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gj(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(sm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(ds.Provider,{value:t},r)}function yj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,b=!1,p=null,x=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,p=f.route.errorElement||mj,c&&(u<0&&h===0?(b=!0,x=null):u===h&&(b=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:b?w=x:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(gj,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(pj,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var bx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bx||{}),fc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fc||{});function vj(e){let t=v.useContext(sm);return t||Ze(!1),t}function wj(e){let t=v.useContext(ij);return t||Ze(!1),t}function xj(e){let t=v.useContext(ds);return t||Ze(!1),t}function Sx(e){let t=xj(),n=t.matches[t.matches.length-1];return n.route.id||Ze(!1),n.route.id}function bj(){var e;let t=v.useContext(vx),n=wj(fc.UseRouteError),r=Sx(fc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Sj(){let{router:e}=vj(bx.UseNavigateStable),t=Sx(fc.UseNavigateStable),n=v.useRef(!1);return wx(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fi({fromRouteId:t},a)))},[e,t])}function kj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pn(e){Ze(!1)}function Ej(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Hr.Pop,navigator:a,static:o=!1,future:i}=e;Mi()&&Ze(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:fi({v7_relativeSplatPath:!1},i)}),[c,i,a,o]);typeof r=="string"&&(r=lo(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:b="default"}=r,p=v.useMemo(()=>{let x=rm(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:b},navigationType:s}},[c,d,f,h,m,b,s]);return p==null?null:v.createElement(Qs.Provider,{value:u},v.createElement(Qc.Provider,{children:n,value:p}))}function f0(e){let{children:t,location:n}=e;return dj(xh(t),n)}new Promise(()=>{});function xh(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,xh(r.props.children,a));return}r.type!==pn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xh(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(this,arguments)}function _j(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Cj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jj(e,t){return e.button===0&&(!t||t==="_self")&&!Cj(e)}const Tj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Nj="6";try{window.__reactRouterVersion=Nj}catch{}const Pj="startTransition",m0=Vh[Pj];function Mj(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=$C({window:s,v5Compat:!0}));let o=a.current,[i,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&m0?m0(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>kj(r),[r]),v.createElement(Ej,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=_j(t,Tj),{basename:m}=v.useContext(Qs),b,p=!1;if(typeof u=="string"&&Oj.test(u)&&(b=u,Rj))try{let w=new URL(window.location.href),k=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=rm(k.pathname,m);k.origin===w.origin&&_!=null?u=_+k.search+k.hash:p=!0}catch{}let x=lj(u,{relative:s}),g=Aj(u,{replace:o,state:i,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||g(w)}return v.createElement("a",bh({},h,{href:b||x,onClick:p||a?r:y,ref:n,target:c}))});var p0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p0||(p0={}));var g0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function Aj(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,c=Jc(),u=Sr(),d=xx(e,{relative:o});return v.useCallback(f=>{if(jj(f,n)){f.preventDefault();let h=r!==void 0?r:hc(u)===hc(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[u,c,d,r,s,n,e,a,o,i])}const Ij=[{path:"/",icon:Z5,label:"Home"},{path:"/logs",icon:q5,label:"Logs"},{path:"/library",icon:Uf,label:"Library"},{path:"/story",icon:dw,label:"Story"},{path:"/statistics",icon:Bf,label:"Stats"},{path:"/about",icon:fw,label:"About"}],y0={superBloodMoon:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.95), rgba(80, 10, 10, 0.9), rgba(100, 20, 20, 0.8))",borderTop:"1px solid rgba(255, 50, 50, 0.6)",boxShadow:"0 -10px 40px rgba(220, 20, 60, 0.6), 0 -2px 10px rgba(255, 0, 0, 0.4), inset 0 2px 20px rgba(255, 50, 50, 0.2)",animation:"bloodPulse 3s ease-in-out infinite",backdropFilter:"blur(20px) saturate(150%)"},superBlueBloodMoon:{background:"linear-gradient(135deg, rgba(20, 0, 40, 0.95), rgba(60, 20, 80, 0.9), rgba(100, 40, 120, 0.8))",borderTop:"1px solid rgba(200, 100, 255, 0.6)",borderImage:"linear-gradient(90deg, transparent, rgba(200, 100, 255, 1), rgba(100, 200, 255, 1), transparent) 1",boxShadow:"0 -10px 40px rgba(120, 20, 220, 0.6), 0 -2px 10px rgba(200, 100, 255, 0.4), inset 0 2px 20px rgba(200, 100, 255, 0.2)",animation:"royalShimmer 4s ease-in-out infinite",backdropFilter:"blur(20px) saturate(180%)"},lunarTransientPhenomena:{background:"linear-gradient(to top, rgba(10, 10, 20, 0.95), rgba(30, 30, 60, 0.9))",borderTop:"1px solid rgba(150, 255, 255, 0.8)",boxShadow:"0 -5px 30px rgba(100, 255, 255, 0.5), 0 0 15px rgba(100, 255, 255, 0.3), inset 0 0 20px rgba(100, 255, 255, 0.1)",animation:"electricGlitch 3s steps(5) infinite",backdropFilter:"blur(15px) brightness(1.2)"},hybridEclipse:{background:"linear-gradient(to top, rgba(20, 10, 0, 0.95), rgba(60, 40, 10, 0.9))",borderTop:"1px solid rgba(255, 200, 100, 0.8)",boxShadow:"0 -5px 35px rgba(255, 160, 50, 0.6), 0 0 15px rgba(255, 200, 100, 0.4), inset 0 2px 10px rgba(255, 200, 100, 0.2)",animation:"eclipsePulse 4s ease-in-out infinite",backdropFilter:"blur(18px) contrast(1.1)"},stillMoon:{background:"linear-gradient(to top, rgba(200, 220, 255, 0.15), rgba(255, 255, 255, 0.05))",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 -5px 30px rgba(200, 230, 255, 0.4), inset 0 0 30px rgba(200, 230, 255, 0.2)",backdropFilter:"blur(30px) brightness(1.1)",animation:"stillFreeze 10s linear infinite"},echoMoon:{background:"linear-gradient(to top, rgba(30, 15, 60, 0.98), rgba(15, 5, 30, 0.98))",backgroundSize:"200% 100%",borderTop:"2px solid rgba(180, 130, 255, 0.8)",borderImage:"repeating-linear-gradient(90deg, rgba(160, 100, 255, 0.5) 0, rgba(200, 150, 255, 1) 20px, rgba(160, 100, 255, 0.5) 40px) 1",boxShadow:`
      0 -5px 25px rgba(140, 70, 255, 0.6),
      0 -10px 50px rgba(124, 58, 237, 0.3),
      inset 0 4px 20px rgba(200, 160, 255, 0.2)
    `,animation:"echoRipple 3s infinite linear",backdropFilter:"blur(25px)"},brokenMoon:{background:"linear-gradient(to top, rgba(10, 10, 12, 0.95), rgba(30, 30, 35, 0.9))",borderTop:"2px dashed rgba(255, 255, 255, 0.4)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.1)",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px)",backdropFilter:"blur(15px) grayscale(0.8)"},emptySky:{background:"#050505",borderTop:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 -10px 50px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 255, 255, 0.1) inset",backdropFilter:"blur(50px) brightness(0.5)"},crystalMoon:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(200, 240, 255, 0.2))",borderTop:"1px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 -5px 35px rgba(200, 240, 255, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.4)",backdropFilter:"blur(25px) contrast(1.2)",animation:"crystalFacet 5s ease-in-out infinite"},arcticMoon:{background:"linear-gradient(to top, rgba(20, 40, 60, 0.9), rgba(50, 100, 150, 0.8))",borderTop:"1px solid rgba(150, 230, 255, 0.8)",boxShadow:"0 -8px 30px rgba(100, 200, 255, 0.5), inset 0 0 20px rgba(150, 230, 255, 0.3)",backdropFilter:"blur(20px) brightness(1.1)"},shatteredMoon:{background:"linear-gradient(to top, rgba(20, 20, 25, 0.95), rgba(50, 50, 60, 0.9))",borderTop:"1px double rgba(255, 255, 255, 0.5)",boxShadow:"0 -5px 25px rgba(255, 255, 255, 0.25), inset 0 0 10px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)"},cosmicVoyageMoon:{background:"linear-gradient(to top, rgba(30, 10, 60, 0.95), rgba(60, 20, 100, 0.9))",borderTop:"1px solid rgba(200, 100, 255, 0.7)",boxShadow:"0 -8px 35px rgba(150, 50, 255, 0.5), inset 0 0 15px rgba(200, 100, 255, 0.2)",backdropFilter:"blur(20px)"},nebulaDreamMoon:{background:"linear-gradient(to top, rgba(40, 20, 60, 0.95), rgba(80, 40, 100, 0.9))",borderTop:"1px solid rgba(255, 150, 255, 0.7)",boxShadow:"0 -8px 35px rgba(255, 100, 255, 0.5), 0 0 20px rgba(255, 100, 255, 0.2) inset",backdropFilter:"blur(20px)",animation:"nebulaSwirl 6s ease-in-out infinite"}};function Xc(){const e=Sr(),[t,n]=v.useState(null);v.useEffect(()=>{const s=document.documentElement.getAttribute("data-mythic-theme");n(s);const a=new MutationObserver(()=>{const o=document.documentElement.getAttribute("data-mythic-theme");n(o)});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["data-mythic-theme"]}),()=>a.disconnect()},[]);const r=t&&y0[t]?{...y0[t]}:void 0;if(r){const s=r.animation||"";r.animation=`mythicThemeEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards${s?`, ${s}`:""}`}return l.jsxs("nav",{className:we("mythic-bottom-nav fixed bottom-0 left-0 right-0 border-t z-20",!t&&"bg-background"),style:r,children:[t==="hybridEclipse"&&l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255, 220, 120, 0.8) 50%, transparent)",animation:"goldenWave 3s ease-in-out infinite"}}),t==="arcticMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1026] via-[#1b2735] to-[#090a0f]"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 50% 40%, white 10%, transparent 0), radial-gradient(2px 2px at 80% 20%, white 10%, transparent 0), radial-gradient(1px 1px at 30% 70%, white 20%, transparent 0)",backgroundSize:"200px 200px"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{background:"linear-gradient(120deg, rgba(0,255,150,0.3), rgba(0,0,0,0), rgba(150,0,255,0.3))",backgroundSize:"200% 200%",animation:"auroraShift 15s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-80 mix-blend-screen",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(0, 255, 180, 0.5), transparent 70%), linear-gradient(90deg, transparent, rgba(50, 255, 200, 0.3), transparent)",filter:"blur(15px)",transformOrigin:"bottom center",animation:"auroraWave 8s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-70 mix-blend-screen",style:{background:"radial-gradient(ellipse at 80% 80%, rgba(220, 50, 255, 0.4), transparent 60%)",filter:"blur(20px)",transformOrigin:"bottom center",animation:"auroraWave 12s ease-in-out infinite reverse"}}),l.jsx("div",{className:"absolute top-0 left-0 w-[200%] h-full opacity-50 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(100, 255, 218, 0.8), rgba(180, 100, 255, 0.6), transparent)",transform:"skewX(-20deg)",backgroundSize:"200% 100%",animation:"borderFlow 6s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`twinkle ${Math.random()*3+2}s ease-in-out infinite`,opacity:Math.random()*.8+.2}},a)),l.jsx("div",{className:"absolute inset-0 z-40 mix-blend-overlay pointer-events-none",style:{background:"radial-gradient(circle at 50% -20%, rgba(200, 255, 255, 0.8), transparent 70%)",animation:"auroraFlare 18s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute z-20",style:{top:-Math.random()*100-50+"%",right:Math.random()*100-20+"%",width:Math.random()*120+80+"px",height:"2px",opacity:0,background:`linear-gradient(to right, transparent, ${Math.random()>.5?"white":"#a5f3fc"}, transparent)`,filter:`drop-shadow(0 0 ${Math.random()*3+2}px ${Math.random()>.5?"white":"cyan"})`,animation:`shootingStar ${Math.random()*5+3}s linear infinite ${Math.random()*10}s both`,transform:"rotate(-45deg)"}},a)),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40px] z-10",style:{background:"linear-gradient(to top, rgba(100, 200, 255, 0.2), transparent)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-50 opacity-90",style:{background:"linear-gradient(90deg, transparent, #00ffcc, #bd00ff, #00ffcc, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 10px rgba(0, 255, 200, 0.6), 0 0 20px rgba(189, 0, 255, 0.4)"}}),l.jsx("div",{className:"absolute top-[2px] left-0 right-0 h-[1px] z-40 opacity-50 mix-blend-overlay",style:{background:"white"}})]}),t==="echoMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, rgba(20, 10, 40, 0.6), transparent)"}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute rounded-full border border-white/30",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out"}}),l.jsx("div",{className:"absolute rounded-full border border-white/20",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 1s"}}),l.jsx("div",{className:"absolute rounded-full border border-white/10",style:{width:"100px",height:"100px",animation:"waterRipple 3s infinite ease-out 2s"}})]}),l.jsx("div",{className:"absolute left-[20%] top-[40%] rounded-full border border-white/20",style:{width:"50px",height:"50px",animation:"waterRipple 4s infinite ease-out 0.5s"}}),l.jsx("div",{className:"absolute right-[20%] top-[30%] rounded-full border border-white/20",style:{width:"60px",height:"60px",animation:"waterRipple 5s infinite ease-out 2.5s"}}),[...Array(5)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[1px]",style:{width:Math.random()*3+1+"px",height:Math.random()*3+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`echoParticle ${Math.random()*2+2}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-20",style:{background:"linear-gradient(90deg, rgba(160, 100, 255, 0), rgba(200, 160, 255, 0.8), rgba(255, 255, 255, 1), rgba(200, 160, 255, 0.8), rgba(160, 100, 255, 0))",backgroundSize:"200% 100%",animation:"liquidBorder 3s linear infinite",boxShadow:"0 2px 10px rgba(180, 130, 255, 0.5)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 40% 60%, rgba(180, 0, 50, 0.5), transparent 50%)",filter:"blur(20px)",animation:"plasmaFlow 10s ease-in-out infinite alternate"}}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 60% 40%, rgba(50, 60, 200, 0.6), transparent 50%)",filter:"blur(15px)",animation:"plasmaFlow 8s ease-in-out infinite alternate-reverse"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-white blur-[0.5px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`starFloat ${Math.random()*10+10}s infinite linear, starTwinkle ${Math.random()*1+.5}s infinite ease-in-out alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(255, 50, 50, 0.8), rgba(200, 100, 255, 1), rgba(50, 100, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"flowRight 3s linear infinite",boxShadow:"0 0 15px rgba(200, 50, 200, 0.6)"}})]}),t==="hybridEclipse"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0a0500]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-40 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 180, 50, 0.3), rgba(255, 220, 100, 0.5), rgba(255, 180, 50, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 10s linear infinite"}}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-30 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(255, 140, 0, 0.2), transparent)",backgroundSize:"25% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 7s linear infinite reverse"}}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E")`,mixBlendMode:"overlay"}}),[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-yellow-100 blur-[1px]",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 5px rgba(255, 200, 50, 0.8)",animation:`starFloat ${Math.random()*5+3}s infinite ease-in-out ${Math.random()}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(200, 120, 20, 0), rgba(255, 200, 100, 1), rgba(200, 120, 20, 0), transparent)",backgroundSize:"200% 100%",animation:"flowRight 4s linear infinite",boxShadow:"0 1px 15px rgba(255, 160, 50, 0.5)"}})]}),t==="brokenMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0c0c16]/98"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent 0, transparent 20px, rgba(160, 160, 200, 0.1) 21px, transparent 22px), repeating-linear-gradient(-45deg, transparent 0, transparent 35px, rgba(160, 160, 200, 0.1) 36px, transparent 37px)",animation:"voidCracks 5s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 mix-blend-color-dodge opacity-20",style:{background:"linear-gradient(90deg, transparent, rgba(100, 100, 255, 0.2), transparent)",backgroundSize:"200% 100%",animation:"flowRight 0.2s steps(4) infinite",clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}}),[...Array(10)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/40",style:{width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`shardFloat ${Math.random()*4+2}s linear infinite ${Math.random()*2}s`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, rgba(150, 150, 200, 0.5), rgba(200, 200, 255, 0.9), rgba(150, 150, 200, 0.5), transparent)",boxShadow:"0 0 10px rgba(180, 180, 255, 0.4)",animation:"glitchBorder 3s infinite"}})]}),t==="cosmicVoyageMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0b0515]/95"}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-[200%] opacity-50 mix-blend-screen",style:{backgroundImage:"linear-gradient(90deg, transparent, rgba(100, 20, 200, 0.3), rgba(60, 20, 150, 0.5), rgba(100, 20, 200, 0.3), transparent)",backgroundSize:"50% 100%",backgroundRepeat:"repeat-x",animation:"mistScroll 5s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute w-[2px] bg-white rounded-full mix-blend-screen opacity-40",style:{height:Math.random()*30+10+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`warpSpeed ${Math.random()*2+1.5}s linear infinite ${Math.random()*3}s`,boxShadow:"0 0 2px rgba(200, 200, 255, 0.5)"}},a)),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute w-[1px] h-[1px] bg-white rounded-full opacity-60",style:{top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`pulse ${Math.random()*2+1}s ease-in-out infinite`}},`star-${a}`)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 opacity-40",style:{background:"linear-gradient(90deg, transparent, #8a2be2, transparent)"}}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-screen",style:{background:"linear-gradient(90deg, transparent, rgba(150, 50, 255, 0), rgba(255, 200, 255, 1) 50%, rgba(150, 50, 255, 0), transparent)",backgroundSize:"200% 100%",boxShadow:"0 0 20px rgba(220, 150, 255, 0.8), 0 0 40px rgba(150, 50, 255, 0.5)",animation:"mistFlow 1.5s linear infinite"}})]}),t==="crystalMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#0f1525]/90"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{background:"linear-gradient(135deg, rgba(200, 240, 255, 0.1), rgba(255, 200, 250, 0.15), rgba(200, 240, 255, 0.1), transparent)",backgroundSize:"200% 200%",animation:"prismReflect 5s ease-in-out infinite"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute bg-white/20 border border-white/40",style:{width:Math.random()*8+4+"px",height:Math.random()*8+4+"px",top:Math.random()*80+10+"%",left:Math.random()*90+5+"%",clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",animation:`crystalFloat ${Math.random()*4+3}s ease-in-out infinite ${Math.random()*2}s`,backdropFilter:"blur(2px)"}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] z-20 bg-white/40"}),l.jsx("div",{className:"absolute top-[-1px] left-0 right-0 h-[3px] z-21 mix-blend-overlay",style:{background:"linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.5), rgba(255, 165, 0, 0.5), rgba(255, 255, 0, 0.5), rgba(0, 255, 0, 0.5), rgba(0, 0, 255, 0.5), rgba(238, 130, 238, 0.5), transparent)",backgroundSize:"200% 100%",animation:"prismFlow 3s linear infinite, rainbowBorder 6s linear infinite"}})]}),t==="stillMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#b3e5fc] via-[#e1f5fe] to-[#ffffff]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-multiply",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjgiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjZykiIG9wYWNpdHk9IjAuNSIvPjwvc3ZnPg==')",filter:"contrast(180%)"}}),l.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[150%] bg-white/20 backdrop-blur-sm z-10",style:{clipPath:"polygon(0 0, 100% 0, 80% 100%, 0 100%)",boxShadow:"inset 0 0 20px rgba(255,255,255,0.5)"}}),l.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[60%] h-[150%] bg-white/10 backdrop-blur-md z-10",style:{clipPath:"polygon(20% 0, 100% 0, 100% 100%, 0 100%)",borderLeft:"1px solid rgba(255,255,255,0.4)"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white z-20",style:{width:Math.random()<.2?"3px":"1.5px",height:Math.random()<.2?"3px":"1.5px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.6+.4,boxShadow:"0 0 4px rgba(255,255,255,0.9)",animation:`pulse ${Math.random()*4+2}s ease-in-out infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 bg-white",style:{boxShadow:"0 0 15px rgba(200, 240, 255, 1), 0 0 30px rgba(200, 240, 255, 0.6)"}})]}),t==="nebulaDreamMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#1a0b2e]/95 backdrop-blur-md"}),l.jsx("div",{className:"absolute inset-0 opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 0, 150, 0.3), transparent 60%), radial-gradient(circle at 70% 50%, rgba(0, 200, 255, 0.3), transparent 60%)",filter:"blur(10px)",animation:"nebulaPulse 6s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-color-dodge",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjAyIiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=')",animation:"mistFlow 10s linear infinite"}}),[...Array(15)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full",style:{width:Math.random()*2+1+"px",height:Math.random()*2+1+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",opacity:Math.random()*.8+.2,animation:`stardustTwinkle ${Math.random()*2+1}s ease-in-out infinite ${Math.random()}s`,boxShadow:`0 0 ${Math.random()*4+2}px ${a%2===0?"#ff00ff":"#00ffff"}`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",boxShadow:"0 0 15px rgba(255, 0, 255, 0.5), 0 0 30px rgba(0, 255, 255, 0.3)"}})]}),t==="superBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 3s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(50, 0, 0, 0.8), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(1px 1px at 20% 20%, #ffaaaa 10%, transparent 0), radial-gradient(1.5px 1.5px at 60% 80%, #ff4444 10%, transparent 0)",backgroundSize:"200px 200px",animation:"pulse 4s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 35% 35%, #800000 0%, #500000 40%, #2a0a0a 100%)",boxShadow:"0 0 60px rgba(255, 30, 30, 0.6), inset -10px -10px 40px rgba(0,0,0,0.9)",filter:"contrast(1.2) brightness(1.2)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-60 mix-blend-multiply",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(0,0,0,0.7) 4%, transparent 12%), radial-gradient(circle at 65% 60%, rgba(0,0,0,0.6) 8%, transparent 20%), radial-gradient(circle at 45% 75%, rgba(0,0,0,0.5) 5%, transparent 15%), radial-gradient(circle at 80% 30%, rgba(0,0,0,0.6) 3%, transparent 10%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 20px rgba(255, 100, 100, 0.8), 0 0 10px rgba(255, 50, 50, 0.5)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-overlay",style:{background:"radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.6), transparent 70%)",animation:"flashPulse 4s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(50, 0, 0, 0.6), transparent)",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:[...Array(8)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full bg-red-600/20 blur-xl",style:{width:Math.random()*100+50+"px",height:Math.random()*100+50+"px",bottom:"-50px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*10+10}s linear infinite reverse`}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #ff0000, #ff4444, #ff0000, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(255, 0, 0, 0.6)"}})]}),t==="superBlueBloodMoon"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]"}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:"radial-gradient(circle at 50% 100%, rgba(80, 0, 100, 0.4), transparent 80%)"}}),l.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:"radial-gradient(1.5px 1.5px at 20% 20%, #aaddff 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 80%, #ffaaaa 10%, transparent 0)",backgroundSize:"250px 250px",animation:"pulse 5s ease-in-out infinite"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-[35%] w-[320px] h-[320px] rounded-full z-10",style:{background:"radial-gradient(circle at 30% 30%, #1e1b4b 0%, #4c0519 60%, #000000 100%)",boxShadow:"0 0 60px rgba(100, 50, 255, 0.4), inset -10px -10px 50px rgba(100, 0, 50, 0.8)",filter:"contrast(1.3) brightness(1.1)"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full opacity-50 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 30% 40%, rgba(50,50,100,0.5) 5%, transparent 15%), radial-gradient(circle at 70% 60%, rgba(100,50,50,0.5) 8%, transparent 20%)"}}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 10px 10px 30px rgba(100, 150, 255, 0.6), inset -10px -10px 30px rgba(255, 50, 100, 0.4)",mixBlendMode:"screen"}}),l.jsx("div",{className:"absolute inset-0 rounded-full opacity-40 mix-blend-color-dodge",style:{background:"radial-gradient(circle at 50% 50%, rgba(120, 50, 255, 0.4), transparent 70%)",animation:"flashPulse 5s ease-in-out infinite"}})]}),l.jsx("div",{className:"absolute inset-0 z-20",style:{background:"linear-gradient(to top, rgba(20, 0, 40, 0.4), transparent)"},children:[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute rounded-full blur-md",style:{backgroundColor:a%2===0?"#60a5fa":"#f43f5e",width:Math.random()*4+2+"px",height:Math.random()*4+2+"px",bottom:"-20px",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*8+8}s linear infinite reverse`,opacity:.6}},a))}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] z-30",style:{background:"linear-gradient(90deg, transparent, #3b82f6, #a855f7, #ef4444, #a855f7, #3b82f6, transparent)",backgroundSize:"200% 100%",animation:"borderFlow 3s linear infinite",boxShadow:"0 0 20px rgba(168, 85, 247, 0.6)"}})]}),(t==="brokenMoon"||t==="shatteredMoon")&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 2s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#020205]"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] h-[12px] z-20",style:{background:"linear-gradient(90deg, #2e004d, #ffffff, #2e004d)",clipPath:"polygon(0% 45%, 10% 30%, 20% 60%, 30% 35%, 40% 65%, 50% 20%, 60% 70%, 70% 30%, 80% 60%, 90% 40%, 100% 50%, 100% 55%, 90% 45%, 80% 65%, 70% 35%, 60% 75%, 50% 25%, 40% 70%, 30% 40%, 20% 65%, 10% 35%, 0% 55%)",filter:"drop-shadow(0 0 10px rgba(100, 150, 255, 0.8)) drop-shadow(0 0 20px rgba(180, 50, 255, 0.6))",animation:"pulse 3s ease-in-out infinite alternate"},children:l.jsx("div",{className:"absolute inset-0 bg-white opacity-80 mix-blend-overlay",style:{animation:"flashPulse 0.1s infinite alternate"}})}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[60px] z-10 opacity-30",style:{background:"radial-gradient(ellipse at 50% 50%, rgba(100, 200, 255, 0.4) 0%, transparent 70%)",filter:"blur(10px)",animation:"pulse 4s ease-in-out infinite"}}),[...Array(20)].map((s,a)=>l.jsx("div",{className:"absolute bg-white rounded-full z-30",style:{width:Math.random()<.5?"1px":"2px",height:Math.random()<.5?"1px":"2px",top:Math.random()*100+"%",left:Math.random()*100+"%",boxShadow:"0 0 4px white",opacity:Math.random()*.7+.3,animation:`twinkle ${Math.random()*2+1}s infinite alternate`}},a)),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#a855f7] to-transparent opacity-50"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-[#3b82f6] to-transparent opacity-50"})]}),t==="lunarTransientPhenomena"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 1.5s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#050510]/95 backdrop-blur-xl"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",maskImage:"radial-gradient(circle at 50% 50%, black 40%, transparent 80%)"}}),[...Array(6)].map((s,a)=>l.jsx("div",{className:"absolute top-0 h-[2px] bg-gradient-to-r from-transparent via-[#00ffcc] to-transparent",style:{width:"30%",top:a*20+"%",opacity:.7,animation:`dataStream ${Math.random()*2+2}s linear infinite ${Math.random()*2}s`,boxShadow:"0 0 8px #00ffcc"}},a)),l.jsx("div",{className:"absolute top-0 h-[3px] w-[50%] z-20",style:{background:"linear-gradient(90deg, transparent, #ff00ff, #00ffff, transparent)",animation:"laserScan 3s linear infinite",boxShadow:"0 0 15px rgba(255, 0, 255, 0.8)"}}),l.jsx("div",{className:"absolute inset-0 bg-white/10 mix-blend-overlay",style:{animation:"flashPulse 4s infinite random"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/20"})]}),t==="emptySky"&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-t-[inherit] pointer-events-none",style:{animation:"mythicThemeEntrance 4s ease-out forwards"},children:[l.jsx("div",{className:"absolute inset-0 bg-black"}),l.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:"radial-gradient(circle at 50% 50%, rgba(70, 0, 150, 0.2), transparent 60%)",filter:"blur(20px)"}}),l.jsx("div",{className:"absolute inset-0 opacity-80",style:{backgroundImage:"radial-gradient(1px 1px at 10% 10%, white 10%, transparent 0), radial-gradient(1.5px 1.5px at 80% 40%, #b080ff 10%, transparent 0), radial-gradient(2px 2px at 40% 80%, white 10%, transparent 0)",backgroundSize:"300px 300px",animation:"accretionSpin 120s linear infinite"}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] z-10 pointer-events-none rounded-full",style:{background:"radial-gradient(circle, transparent 30%, rgba(150, 50, 255, 0.05) 40%, transparent 70%)",backdropFilter:"blur(2px) contrast(1.1)",transform:"scale(1.2)"}}),l.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] pointer-events-none z-40 flex items-center justify-center scale-60",children:[l.jsx("div",{className:"absolute w-[280px] h-[280px] rounded-full opacity-60 mix-blend-screen",style:{background:"radial-gradient(circle at 50% 50%, transparent 60%, rgba(120, 50, 255, 0.6) 65%, transparent 70%)",animation:"diskPulse 4s ease-in-out infinite",filter:"blur(4px)"}}),l.jsx("div",{className:"absolute w-[160px] h-[160px] rounded-full z-20",style:{background:"conic-gradient(from 0deg, #4c1d95 0%, #8b5cf6 25%, #ffffff 50%, #8b5cf6 75%, #4c1d95 100%)",maskImage:"radial-gradient(transparent 64%, black 66%)",WebkitMaskImage:"radial-gradient(transparent 64%, black 66%)",animation:"accretionSpin 0.9s linear infinite",boxShadow:"0 0 30px rgba(139, 92, 246, 0.6)"}}),l.jsx("div",{className:"absolute w-[150px] h-[150px] rounded-full z-10 bg-black box-border border border-purple-500/30"})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] z-30 opacity-100",style:{background:"linear-gradient(90deg, transparent 0%, #4c1d95 20%, #8b5cf6 45%, #ffffff 50%, #8b5cf6 55%, #4c1d95 80%, transparent 100%)",backgroundSize:"200% 100%",animation:"borderFlow 0.4s linear infinite",boxShadow:"0 0 15px rgba(139, 92, 246, 0.7)"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[40px] z-20 opacity-30 pointer-events-none",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(150, 50, 255, 0.5), transparent 70%)"}}),[...Array(12)].map((s,a)=>l.jsx("div",{className:"absolute bg-zinc-800 rounded-full z-20 opacity-80",style:{width:Math.random()*4+2+"px",height:Math.random()*3+2+"px",top:Math.random()*100+"%",left:Math.random()*100+"%",animation:`singularFloat ${Math.random()*15+10}s linear infinite`,boxShadow:"inset 1px 1px 2px rgba(0,0,0,0.8)"}},a))]}),l.jsx("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto relative z-50",children:Ij.map(({path:s,icon:a,label:o})=>{const i=e.pathname===s||s!=="/"&&e.pathname.startsWith(s);return l.jsxs(xt,{to:s,className:we("mythic-nav-item flex flex-col items-center justify-center gap-1 px-3 py-2 transition-colors min-w-[60px] relative",i?"text-primary bg-primary/10 rounded-lg mythic-nav-active":"text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg"),style:t==="cosmicVoyageMoon"&&i?{background:"transparent"}:void 0,children:[t==="cosmicVoyageMoon"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(45deg, transparent, rgba(128, 144, 192, 0.3), transparent)",boxShadow:"0 0 15px rgba(100, 100, 255, 0.4)",animation:"pulse 2s ease-in-out infinite"}}),t==="superBloodMoon"&&i&&l.jsx(l.Fragment,{children:l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 20px rgba(220, 20, 60, 0.5), inset 0 0 10px rgba(255, 50, 80, 0.2)",animation:"bloodGlow 2s ease-in-out infinite"}})}),t==="lunarTransientPhenomena"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{boxShadow:"0 0 15px rgba(200, 168, 248, 0.6), 0 0 5px rgba(255, 255, 255, 0.8)",animation:"electricSpark 0.5s steps(5) infinite"}}),t==="crystalMoon"&&i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(220, 240, 255, 0.12), rgba(200, 230, 255, 0.15), rgba(240, 250, 255, 0.1))",boxShadow:"inset 0 0 15px rgba(255, 255, 255, 0.3), 0 0 20px rgba(220, 240, 255, 0.4)",animation:"crystalSparkle 3s ease-in-out infinite"}}),l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%), radial-gradient(circle at 70% 50%, rgba(200, 230, 255, 0.15) 0%, transparent 50%)",animation:"crystalSparkle 3s ease-in-out infinite reverse"}})]}),t==="nebulaDreamMoon"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10 overflow-hidden",children:l.jsx("div",{style:{position:"absolute",inset:"-20%",background:"radial-gradient(circle, rgba(184, 136, 216, 0.3) 0%, transparent 70%)",animation:"nebulaRotate 8s linear infinite"}})}),t==="emptySky"&&i&&l.jsx("div",{className:"absolute inset-0 rounded-lg -z-10",style:{background:"radial-gradient(circle at center, rgba(40, 40, 60, 0.3) 0%, rgba(20, 20, 40, 0.2) 50%, transparent 100%)",boxShadow:"inset 0 0 15px rgba(10, 10, 25, 0.5), 0 0 10px rgba(30, 30, 50, 0.4)",animation:"voidDrift 4s ease-in-out infinite"}}),l.jsx(a,{className:we("w-5 h-5 transition-all duration-300",t&&i&&"drop-shadow-lg"),style:t&&i?{filter:t==="superBloodMoon"?"drop-shadow(0 0 6px rgba(220, 20, 60, 0.8))":t==="emptySky"?"drop-shadow(0 0 5px rgba(60, 60, 80, 0.7))":t==="lunarTransientPhenomena"?"drop-shadow(0 0 6px rgba(200, 168, 248, 0.8))":t==="crystalMoon"?"drop-shadow(0 0 6px rgba(224, 240, 255, 0.8))":t==="arcticMoon"?"drop-shadow(0 0 6px rgba(144, 220, 255, 0.8))":t==="nebulaDreamMoon"?"drop-shadow(0 0 6px rgba(184, 136, 216, 0.8))":void 0,animation:t==="lunarTransientPhenomena"?"iconFlicker 0.3s steps(3) infinite":void 0}:void 0}),l.jsx("span",{className:"text-[10px] font-medium",children:o})]},s)})})]})}function $j({children:e}){return Sr(),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("header",{className:"border-b border-border sticky top-0 bg-background z-10",children:l.jsx("div",{className:"container-app py-3",children:l.jsxs(xt,{to:"/",className:"text-lg font-semibold",children:["Dream book"," ",l.jsx("span",{className:"text-muted-foreground font-normal",children:"by Bon"})]})})}),l.jsx("main",{className:"flex-1 container-app",children:e}),l.jsx(Xc,{})]})}const Dj=zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?e5:"button";return l.jsx(o,{className:we(Dj({variant:t,size:n,className:e})),ref:a,...s})});Me.displayName="Button";const Zc=v.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Zc.displayName="Textarea";const nn=v.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));nn.displayName="Input";const Lj=zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return l.jsx("div",{className:we(Lj({variant:t}),e),...n})}const v0={0:{border:"border-l-4 border-l-muted-foreground/30",bg:"bg-card",badge:"bg-muted text-muted-foreground"},1:{border:"border-l-4 border-l-emerald-500",bg:"bg-gradient-to-r from-emerald-500/5 to-transparent",badge:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"},2:{border:"border-l-4 border-l-yellow-500",bg:"bg-gradient-to-r from-yellow-500/5 to-transparent",badge:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400"},3:{border:"border-l-4 border-l-orange-500",bg:"bg-gradient-to-r from-orange-500/8 to-transparent",badge:"bg-orange-500/20 text-orange-700 dark:text-orange-400"},4:{border:"border-l-4 border-l-red-500",bg:"bg-gradient-to-r from-red-500/10 to-transparent",badge:"bg-red-500/20 text-red-700 dark:text-red-400"},5:{border:"border-l-4 border-l-rose-600",bg:"bg-gradient-to-r from-rose-600/15 to-transparent",badge:"bg-rose-600/25 text-rose-700 dark:text-rose-400 font-semibold"}},Fj={0:"",1:"",2:"",3:"",4:"",5:""};function kx({dream:e,compact:t,showEdit:n=!1}){const r=new Date(e.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),s=v0[e.threatLevel]||v0[0];return l.jsxs("div",{className:"relative group",children:[l.jsxs(xt,{to:`/logs/${e.id}`,className:we("block rounded-lg p-4 transition-all duration-200","border border-border hover:border-primary/30","hover:shadow-md hover:-translate-y-0.5",s.border,s.bg),children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e.id}),l.jsxs("span",{className:we("inline-flex items-center justify-center gap-1 px-2 py-0.5 text-xs rounded-full",s.badge),children:[l.jsx("span",{className:"text-[10px]",children:Fj[e.threatLevel]}),e.threatLevel]})]}),l.jsx("p",{className:"font-medium truncate",children:e.world}),!t&&e.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.wakeTime})]})]}),!t&&e.environments.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.environments.slice(0,4).map(a=>l.jsx("span",{className:"tag",children:a},a)),e.environments.length>4&&l.jsxs("span",{className:"tag",children:["+",e.environments.length-4]})]})]}),n&&l.jsx(xt,{to:`/logs/${e.id}`,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>a.stopPropagation(),children:l.jsx(Me,{size:"icon",variant:"ghost",className:"h-7 w-7 bg-background/80 backdrop-blur-sm hover:bg-background",children:l.jsx(Wf,{className:"w-3 h-3"})})})]})}const zj={newMoon:{id:"newMoon",name:"",nameEn:"New Moon",rarity:"normal",moonTint:"#2a2a3a",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#5a5a7a",transitionSpeed:35,starDensity:1,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.2,emotionTag:"new_beginning",subtitle:""},waxingCrescent:{id:"waxingCrescent",name:"",nameEn:"Waxing Crescent",rarity:"normal",moonTint:"#D8D8E8",skyPalette:["#0a0e27","#1a1e37","#2a2e47"],uiAccent:"#8888a8",transitionSpeed:30,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.22,emotionTag:"growing",subtitle:" "},firstQuarter:{id:"firstQuarter",name:"",nameEn:"First Quarter",rarity:"normal",moonTint:"#E0E0F0",skyPalette:["#0c1028","#1c2038","#2c3048"],uiAccent:"#9090b0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"balanced",subtitle:""},waxingGibbous:{id:"waxingGibbous",name:"",nameEn:"Waxing Gibbous",rarity:"normal",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#9898c8",transitionSpeed:30,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.28,emotionTag:"anticipation",subtitle:""},fullMoon:{id:"fullMoon",name:"",nameEn:"Full Moon",rarity:"normal",moonTint:"#E6E6FA",skyPalette:["#0a0e27","#1a1e3e","#2a2e4e"],uiAccent:"#9090c0",transitionSpeed:30,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.25,emotionTag:"peaceful",subtitle:""},waningGibbous:{id:"waningGibbous",name:"",nameEn:"Waning Gibbous",rarity:"normal",moonTint:"#D0D0E0",skyPalette:["#0a0e25","#1a1e35","#2a2e45"],uiAccent:"#8080a0",transitionSpeed:32,starDensity:.82,cloudOpacity:.28,cloudSpeed:.95,shootingStarChance:.23,emotionTag:"reflection",subtitle:""},lastQuarter:{id:"lastQuarter",name:"",nameEn:"Last Quarter",rarity:"normal",moonTint:"#C8C8D8",skyPalette:["#0b0f26","#1b1f36","#2b2f46"],uiAccent:"#7878a8",transitionSpeed:33,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.2,emotionTag:"letting_go",subtitle:""},waningCrescent:{id:"waningCrescent",name:"",nameEn:"Waning Crescent",rarity:"normal",moonTint:"#B8B8C8",skyPalette:["#080c24","#181c34","#282c44"],uiAccent:"#6868a0",transitionSpeed:35,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"fading",subtitle:" "},penumbralEclipse:{id:"penumbralEclipse",name:"",nameEn:"Penumbral Lunar Eclipse",rarity:"rare",moonTint:"#A8A8B8",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#7878a8",transitionSpeed:40,starDensity:.85,cloudOpacity:.25,cloudSpeed:.8,shootingStarChance:.3,emotionTag:"subtle_change",subtitle:""},partialEclipse:{id:"partialEclipse",name:"",nameEn:"Partial Lunar Eclipse",rarity:"very_rare",moonTint:"#987070",skyPalette:["#150a0a","#251a1a","#352a2a"],uiAccent:"#a87878",transitionSpeed:45,starDensity:.75,cloudOpacity:.35,cloudSpeed:1,shootingStarChance:.35,emotionTag:"partial_shadow",subtitle:""},totalEclipse:{id:"totalEclipse",name:"",nameEn:"Total Lunar Eclipse",rarity:"legendary",moonTint:"#8B4545",skyPalette:["#1a0a0a","#2a1a1a","#3a2a2a"],uiAccent:"#a85555",transitionSpeed:45,starDensity:.7,cloudOpacity:.4,cloudSpeed:1.2,shootingStarChance:.4,specialEffect:"bloodRing",effectIntensity:.75,emotionTag:"intense",subtitle:""},superBloodMoon:{id:"superBloodMoon",name:"",nameEn:"Super Blood Moon",rarity:"mythic",moonTint:"#A03030",skyPalette:["#200505","#301515","#402525"],uiAccent:"#c84040",transitionSpeed:50,starDensity:.65,cloudOpacity:.45,cloudSpeed:1.3,shootingStarChance:.5,specialEffect:"meteorShower",effectIntensity:.9,emotionTag:"dramatic",subtitle:"",moonSize:1.5},superBlueBloodMoon:{id:"superBlueBloodMoon",name:"",nameEn:"Super Blue Blood Moon",rarity:"mythic",moonTint:"#B84060",skyPalette:["#1a0510","#2a1520","#3a2530"],uiAccent:"#d85080",transitionSpeed:60,starDensity:.95,cloudOpacity:.35,cloudSpeed:1.4,shootingStarChance:.6,specialEffect:"meteorShower",effectIntensity:.7,emotionTag:"once_in_lifetime",subtitle:"",moonSize:1.5},lunarTransientPhenomena:{id:"lunarTransientPhenomena",name:"",nameEn:"Lunar Transient Phenomena",rarity:"mythic",moonTint:"#E8D8FF",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#c8a8f8",transitionSpeed:55,starDensity:.9,cloudOpacity:.2,cloudSpeed:.9,shootingStarChance:.45,specialEffect:"flash",effectIntensity:.8,emotionTag:"mysterious_flash",subtitle:"",moonSize:1.4},hybridEclipse:{id:"hybridEclipse",name:"",nameEn:"Hybrid Eclipse",rarity:"mythic",moonTint:"#D8A860",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#e8b870",transitionSpeed:58,starDensity:.7,cloudOpacity:.3,cloudSpeed:1.1,shootingStarChance:.35,specialEffect:"fog",effectIntensity:.7,emotionTag:"dual_nature",subtitle:"",moonSize:1.4},supermoon:{id:"supermoon",name:"",nameEn:"Supermoon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2c","#1a1e3c","#2a2e4c"],uiAccent:"#a0a0d0",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"grand",subtitle:""},micromoon:{id:"micromoon",name:"",nameEn:"Micromoon",rarity:"rare",moonTint:"#C0C0D0",skyPalette:["#0a0e22","#1a1e32","#2a2e42"],uiAccent:"#7070a0",transitionSpeed:38,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.2,emotionTag:"distant",subtitle:""},perigeeMoon:{id:"perigeeMoon",name:"",nameEn:"Perigee Moon",rarity:"rare",moonTint:"#F8F8FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#a8a8d8",transitionSpeed:35,starDensity:.75,cloudOpacity:.35,cloudSpeed:1.15,shootingStarChance:.32,emotionTag:"close",subtitle:""},apogeeMoon:{id:"apogeeMoon",name:"",nameEn:"Apogee Moon",rarity:"rare",moonTint:"#B0B0C0",skyPalette:["#0a0e20","#1a1e30","#2a2e40"],uiAccent:"#6060a0",transitionSpeed:40,starDensity:.95,cloudOpacity:.15,cloudSpeed:.7,shootingStarChance:.18,emotionTag:"far",subtitle:""},earthshine:{id:"earthshine",name:"",nameEn:"Earthshine Moon",rarity:"rare",moonTint:"#FFE4B5",skyPalette:["#0d0a1f","#1d1a2f","#2d2a3f"],uiAccent:"#d4a574",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.35,emotionTag:"warm",subtitle:""},moonHalo:{id:"moonHalo",name:"",nameEn:"Moon Halo",rarity:"very_rare",moonTint:"#E0E0FA",skyPalette:["#0a0e28","#1a1e38","#2a2e48"],uiAccent:"#9898c8",transitionSpeed:42,starDensity:.8,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.28,emotionTag:"mystical",subtitle:""},moonCorona:{id:"moonCorona",name:"",nameEn:"Moon Corona",rarity:"very_rare",moonTint:"#D8D8F8",skyPalette:["#0a0e29","#1a1e39","#2a2e49"],uiAccent:"#8888c8",transitionSpeed:43,starDensity:.75,cloudOpacity:.45,cloudSpeed:.85,shootingStarChance:.3,emotionTag:"crowned",subtitle:""},coloredMoon:{id:"coloredMoon",name:"",nameEn:"Colored Moon",rarity:"rare",moonTint:"#E8C8D8",skyPalette:["#0c0a1e","#1c1a2e","#2c2a3e"],uiAccent:"#b898a8",transitionSpeed:38,starDensity:.85,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.27,emotionTag:"colorful",subtitle:""},moonIllusion:{id:"moonIllusion",name:"",nameEn:"Moon Illusion",rarity:"rare",moonTint:"#F8E8D8",skyPalette:["#0d0b1d","#1d1b2d","#2d2b3d"],uiAccent:"#c8b898",transitionSpeed:37,starDensity:.8,cloudOpacity:.35,cloudSpeed:1.05,shootingStarChance:.25,emotionTag:"illusory",subtitle:""},blueMoon:{id:"blueMoon",name:"",nameEn:"Blue Moon",rarity:"very_rare",moonTint:"#B0C8E0",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#8098c0",transitionSpeed:45,starDensity:.85,cloudOpacity:.25,cloudSpeed:.9,shootingStarChance:.33,emotionTag:"rare",subtitle:""},blackMoon:{id:"blackMoon",name:"",nameEn:"Black Moon",rarity:"very_rare",moonTint:"#1a1a2e",skyPalette:["#000000","#0a0a1a","#14142a"],uiAccent:"#4a4a6a",transitionSpeed:50,starDensity:1,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,emotionTag:"mysterious",subtitle:""},harvestMoon:{id:"harvestMoon",name:"",nameEn:"Harvest Moon",rarity:"rare",moonTint:"#FFD8A0",skyPalette:["#1a1008","#2a2018","#3a3028"],uiAccent:"#d8a870",transitionSpeed:38,starDensity:.75,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,specialEffect:"fireflies",effectIntensity:.6,emotionTag:"abundant",subtitle:""},hunterMoon:{id:"hunterMoon",name:"",nameEn:"Hunter Moon",rarity:"rare",moonTint:"#E8B878",skyPalette:["#1a1208","#2a2218","#3a3228"],uiAccent:"#c89858",transitionSpeed:38,starDensity:.8,cloudOpacity:.25,cloudSpeed:1.1,shootingStarChance:.3,emotionTag:"alert",subtitle:""},pinkMoon:{id:"pinkMoon",name:"",nameEn:"Pink Moon",rarity:"rare",moonTint:"#FFD8E8",skyPalette:["#1a0e18","#2a1e28","#3a2e38"],uiAccent:"#d8a8b8",transitionSpeed:35,starDensity:.85,cloudOpacity:.3,cloudSpeed:.95,shootingStarChance:.27,emotionTag:"gentle",subtitle:""},wolfMoon:{id:"wolfMoon",name:"",nameEn:"Wolf Moon",rarity:"rare",moonTint:"#D8D8E8",skyPalette:["#0a0e24","#1a1e34","#2a2e44"],uiAccent:"#9898b8",transitionSpeed:40,starDensity:.9,cloudOpacity:.2,cloudSpeed:.8,shootingStarChance:.25,emotionTag:"wild",subtitle:""},snowMoon:{id:"snowMoon",name:"",nameEn:"Snow Moon",rarity:"rare",moonTint:"#F0F0FF",skyPalette:["#0a0e2e","#1a1e3e","#2a2e4e"],uiAccent:"#b0b0d0",transitionSpeed:42,starDensity:.95,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.22,specialEffect:"snow",effectIntensity:.7,emotionTag:"cold",subtitle:""},strawberryMoon:{id:"strawberryMoon",name:"",nameEn:"Strawberry Moon",rarity:"rare",moonTint:"#FFE0D0",skyPalette:["#1a0e0e","#2a1e1e","#3a2e2e"],uiAccent:"#d8b0a0",transitionSpeed:36,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.28,emotionTag:"sweet",subtitle:""},stillMoon:{id:"stillMoon",name:"",nameEn:"Still Moon",rarity:"mythic",moonTint:"#B0C4DE",skyPalette:["#0f0f1f","#1f1f2f","#2f2f3f"],uiAccent:"#7090b0",transitionSpeed:60,starDensity:.6,cloudOpacity:.5,cloudSpeed:.1,shootingStarChance:0,specialEffect:"frozenTime",effectIntensity:.75,emotionTag:"frozen",subtitle:"",moonSize:1.4},fadingMoon:{id:"fadingMoon",name:"",nameEn:"Fading Moon",rarity:"legendary",moonTint:"#A0A0B0",skyPalette:["#0a0a1a","#1a1a2a","#2a2a3a"],uiAccent:"#707090",transitionSpeed:55,starDensity:.7,cloudOpacity:.45,cloudSpeed:.6,shootingStarChance:.15,specialEffect:"fadeParticles",effectIntensity:.7,emotionTag:"disappearing",subtitle:" "},veiledMoon:{id:"veiledMoon",name:"",nameEn:"Veiled Moon",rarity:"very_rare",moonTint:"#C0C0D0",skyPalette:["#0c0c1c","#1c1c2c","#2c2c3c"],uiAccent:"#8080a0",transitionSpeed:48,starDensity:.65,cloudOpacity:.6,cloudSpeed:.8,shootingStarChance:.18,emotionTag:"obscured",subtitle:""},echoMoon:{id:"echoMoon",name:"",nameEn:"Echo Moon",rarity:"mythic",moonTint:"#D0D0E8",skyPalette:["#0e0e1e","#1e1e2e","#2e2e3e"],uiAccent:"#9090b8",transitionSpeed:52,starDensity:.75,cloudOpacity:.35,cloudSpeed:.9,shootingStarChance:.25,specialEffect:"echo",effectIntensity:.75,emotionTag:"repeating",subtitle:"",moonSize:1.4},silentMoon:{id:"silentMoon",name:"",nameEn:"Silent Moon",rarity:"legendary",moonTint:"#A8A8C8",skyPalette:["#08081a","#18182a","#28283a"],uiAccent:"#6868a8",transitionSpeed:58,starDensity:0,cloudOpacity:.2,cloudSpeed:.5,shootingStarChance:0,specialEffect:"silence",effectIntensity:.8,emotionTag:"silent",subtitle:" "},brokenMoon:{id:"brokenMoon",name:"",nameEn:"Broken Moon",rarity:"mythic",moonTint:"#9898B8",skyPalette:["#0a0a1c","#1a1a2c","#2a2a3c"],uiAccent:"#6868a8",transitionSpeed:54,starDensity:.8,cloudOpacity:.3,cloudSpeed:1,shootingStarChance:.2,emotionTag:"fractured",subtitle:"",moonSize:1.4},emptySky:{id:"emptySky",name:"",nameEn:"Empty Sky",rarity:"mythic",moonTint:"#404050",skyPalette:["#000000","#050510","#0a0a20"],uiAccent:"#505070",transitionSpeed:60,starDensity:0,cloudOpacity:0,cloudSpeed:0,shootingStarChance:0,specialEffect:"voidRipples",effectIntensity:.6,emotionTag:"void",subtitle:"",moonSize:1.4},dreamMoon:{id:"dreamMoon",name:"",nameEn:"Dream Moon",rarity:"legendary",moonTint:"#C8B8D8",skyPalette:["#0e0a1e","#1e1a2e","#2e2a3e"],uiAccent:"#a888c8",transitionSpeed:50,starDensity:.85,cloudOpacity:.4,cloudSpeed:.7,shootingStarChance:.35,specialEffect:"dreamDust",effectIntensity:.75,emotionTag:"dreamy",subtitle:""},whisperingMoon:{id:"whisperingMoon",name:"",nameEn:"Whispering Moon",rarity:"very_rare",moonTint:"#D8C8E8",skyPalette:["#0c0a1c","#1c1a2c","#2c2a3c"],uiAccent:"#b898d8",transitionSpeed:46,starDensity:.8,cloudOpacity:.35,cloudSpeed:.85,shootingStarChance:.28,emotionTag:"whispering",subtitle:""},forgottenMoon:{id:"forgottenMoon",name:"",nameEn:"Forgotten Moon",rarity:"legendary",moonTint:"#888898",skyPalette:["#0a0a18","#1a1a28","#2a2a38"],uiAccent:"#585878",transitionSpeed:56,starDensity:.5,cloudOpacity:.5,cloudSpeed:.4,shootingStarChance:.1,specialEffect:"memoryFragments",effectIntensity:.65,emotionTag:"forgotten",subtitle:""},mirrorMoon:{id:"mirrorMoon",name:"",nameEn:"Mirror Moon",rarity:"very_rare",moonTint:"#E8E8F8",skyPalette:["#0a0e2a","#1a1e3a","#2a2e4a"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:.9,cloudOpacity:.25,cloudSpeed:1,shootingStarChance:.3,emotionTag:"reflective",subtitle:""},twilightMoon:{id:"twilightMoon",name:"",nameEn:"Twilight Moon",rarity:"rare",moonTint:"#C8B8D8",skyPalette:["#1a1428","#2a2438","#3a3448"],uiAccent:"#9888b8",transitionSpeed:40,starDensity:.7,cloudOpacity:.4,cloudSpeed:.9,shootingStarChance:.25,emotionTag:"transition",subtitle:""},ancientMoon:{id:"ancientMoon",name:"",nameEn:"Ancient Moon",rarity:"legendary",moonTint:"#B8A888",skyPalette:["#1a1408","#2a2418","#3a3428"],uiAccent:"#988868",transitionSpeed:52,starDensity:.85,cloudOpacity:.3,cloudSpeed:.6,shootingStarChance:.22,specialEffect:"ancientRunes",effectIntensity:.7,emotionTag:"ancient",subtitle:""},crystalMoon:{id:"crystalMoon",name:"",nameEn:"Crystal Moon",rarity:"mythic",moonTint:"#E0F0FF",skyPalette:["#0a0e30","#1a1e40","#2a2e50"],uiAccent:"#b0c0e0",transitionSpeed:48,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:.4,specialEffect:"prismLights",effectIntensity:.9,emotionTag:"crystalline",subtitle:"",moonSize:1.5},shadowMoon:{id:"shadowMoon",name:"",nameEn:"Shadow Moon",rarity:"very_rare",moonTint:"#606078",skyPalette:["#050510","#151520","#252530"],uiAccent:"#404068",transitionSpeed:50,starDensity:.6,cloudOpacity:.5,cloudSpeed:.7,shootingStarChance:.15,emotionTag:"shadowy",subtitle:""},luminousMoon:{id:"luminousMoon",name:"",nameEn:"Luminous Moon",rarity:"legendary",moonTint:"#F8F8FF",skyPalette:["#0a0e32","#1a1e42","#2a2e52"],uiAccent:"#c8c8f0",transitionSpeed:46,starDensity:.95,cloudOpacity:.2,cloudSpeed:1.1,shootingStarChance:.38,specialEffect:"lightRays",effectIntensity:.8,emotionTag:"radiant",subtitle:""},arcticMoon:{id:"arcticMoon",name:"",nameEn:"Arctic Moon",rarity:"mythic",moonTint:"#D0E8F8",skyPalette:["#000814","#001428","#00243c"],uiAccent:"#90c0d8",transitionSpeed:50,starDensity:.9,cloudOpacity:.1,cloudSpeed:.5,shootingStarChance:.15,specialEffect:"aurora",effectIntensity:.85,emotionTag:"ethereal",subtitle:"",moonSize:1.4},meteorShowerMoon:{id:"meteorShowerMoon",name:"",nameEn:"Meteor Shower Moon",rarity:"legendary",moonTint:"#E8E8FF",skyPalette:["#0a0a20","#1a1a30","#2a2a40"],uiAccent:"#a8a8d8",transitionSpeed:44,starDensity:1,cloudOpacity:.15,cloudSpeed:.8,shootingStarChance:0,specialEffect:"shootingStars",effectIntensity:.85,emotionTag:"spectacular",subtitle:""},shatteredMoon:{id:"shatteredMoon",name:"",nameEn:"Shattered Moon",rarity:"mythic",moonTint:"#E8E8F8",skyPalette:["#0a0a1f","#141428","#1e1e38"],uiAccent:"#9898c8",transitionSpeed:52,starDensity:.85,cloudOpacity:.15,cloudSpeed:.4,shootingStarChance:.22,moonSize:1.6,specialEffect:"shattered",effectIntensity:1,emotionTag:"broken",subtitle:""},cosmicVoyageMoon:{id:"cosmicVoyageMoon",name:"",nameEn:"Cosmic Voyage Moon",rarity:"mythic",moonTint:"#E0E8FF",skyPalette:["#000510","#001020","#001530"],uiAccent:"#8090C0",transitionSpeed:55,starDensity:.95,cloudOpacity:.05,cloudSpeed:.3,shootingStarChance:.25,moonSize:1.3,specialEffect:"starfield",effectIntensity:1,emotionTag:"cosmic",subtitle:""},nebulaDreamMoon:{id:"nebulaDreamMoon",name:"",nameEn:"Nebula Dream Moon",rarity:"mythic",moonTint:"#F0D8FF",skyPalette:["#0a0515","#150a25","#200f35"],uiAccent:"#B888D8",transitionSpeed:58,starDensity:.9,cloudOpacity:.1,cloudSpeed:.4,shootingStarChance:.2,moonSize:1.5,specialEffect:"nebula",effectIntensity:.9,emotionTag:"dreamy",subtitle:""}},Bj=()=>Object.values(zj),w0={normal:70,rare:20,very_rare:15,legendary:10,mythic:5},Uj=()=>{const e=Bj(),t=e.reduce((r,s)=>r+w0[s.rarity],0);let n=Math.random()*t;for(const r of e)if(n-=w0[r.rarity],n<=0)return r;return e[0]},mc=()=>{const e="dreambook_moon_phenomenon",t=sessionStorage.getItem(e);if(t)try{const r=JSON.parse(t);if(r&&r.id)return r}catch(r){console.error("Failed to parse stored phenomenon:",r)}const n=Uj();return sessionStorage.setItem(e,JSON.stringify(n)),n},Wj=()=>{sessionStorage.removeItem("dreambook_moon_phenomenon")},Gu=(e,t)=>{e=e.replace("#","");const n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16),a=Math.min(255,Math.floor(n*t)),o=Math.min(255,Math.floor(r*t)),i=Math.min(255,Math.floor(s*t));return`#${a.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`},am=e=>{const t=document.documentElement,n=e.transitionSpeed;t.style.setProperty("--sky-transition-duration",`${n*.8}s`),t.style.setProperty("--moon-transition-duration",`${n}s`),t.style.setProperty("--ui-transition-duration",`${n*1.5}s`),t.style.setProperty("--moon-accent",e.uiAccent);const r=Ex(e.uiAccent);if(r){const s=Vj(r.r,r.g,r.b);if(e.rarity==="mythic"){t.setAttribute("data-mythic-theme",e.id),console.log(` Applied Mythic Theme: ${e.id}`),console.log(" Attribute set on:",t),console.log(` Check CSS selector: :root[data-mythic-theme="${e.id}"]`);const f={superBloodMoon:{background:"0 50% 5%",foreground:"0 100% 95%",card:"0 50% 8%",primary:"0 84% 60%",bgColor:"#100505"},superBlueBloodMoon:{background:"270 50% 5%",foreground:"270 100% 95%",card:"270 50% 8%",primary:"290 80% 60%",bgColor:"#1a0520"},lunarTransientPhenomena:{background:"250 50% 4%",foreground:"250 100% 95%",card:"250 50% 7%",primary:"260 100% 70%",bgColor:"#050510"},hybridEclipse:{background:"30 40% 5%",foreground:"40 80% 90%",card:"30 40% 8%",primary:"40 100% 60%",bgColor:"#1a1008"},stillMoon:{background:"210 50% 10%",foreground:"210 20% 95%",card:"210 30% 15%",primary:"210 80% 70%",bgColor:"#0f1f2f"},echoMoon:{background:"240 20% 8%",foreground:"240 20% 90%",card:"240 20% 12%",primary:"245 40% 70%",bgColor:"#0e0e1e"},brokenMoon:{background:"250 15% 8%",foreground:"250 15% 90%",card:"250 15% 11%",primary:"255 30% 65%",bgColor:"#0a0a1c"},emptySky:{background:"0 0% 0%",foreground:"0 0% 80%",card:"0 0% 5%",primary:"0 0% 60%",bgColor:"#000000"},crystalMoon:{background:"220 50% 8%",foreground:"220 50% 95%",card:"220 40% 12%",primary:"200 80% 70%",bgColor:"#0a0e30"},arcticMoon:{background:"200 60% 6%",foreground:"200 50% 95%",card:"200 50% 10%",primary:"190 90% 65%",bgColor:"#001428"},shatteredMoon:{background:"260 20% 8%",foreground:"260 20% 90%",card:"260 20% 12%",primary:"250 50% 60%",bgColor:"#0a0a1f"},cosmicVoyageMoon:{background:"230 60% 4%",foreground:"230 40% 95%",card:"230 50% 8%",primary:"220 80% 70%",bgColor:"#000510"},nebulaDreamMoon:{background:"280 40% 8%",foreground:"280 40% 95%",card:"280 40% 12%",primary:"290 70% 70%",bgColor:"#150a25"}}[e.id];f&&(t.style.setProperty("--background",f.background),t.style.setProperty("--foreground",f.foreground),t.style.setProperty("--card",f.card),t.style.setProperty("--card-foreground",f.foreground),t.style.setProperty("--primary",f.primary),t.style.setProperty("--primary-foreground","0 0% 100%"),document.body.style.backgroundColor=f.bgColor,console.log(" Mythic theme colors applied via JavaScript"));return}else t.removeAttribute("data-mythic-theme"),console.log(` Moon Rarity: ${e.rarity} - Using dynamic theme`);t.style.setProperty("--primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--primary-foreground","0 0% 100%"),t.style.setProperty("--accent",`${s.h} ${s.s}% ${Math.min(s.l+10,95)}%`),t.style.setProperty("--accent-foreground",`${s.h} ${s.s}% ${Math.max(s.l-40,10)}%`),t.style.setProperty("--ring",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--border",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--input",`${s.h} ${Math.max(s.s-30,10)}% ${Math.min(s.l+30,90)}%`),t.style.setProperty("--card",`${s.h} ${Math.max(s.s-50,15)}% 95%`),t.style.setProperty("--card-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--popover",`${s.h} ${Math.max(s.s-50,15)}% 96%`),t.style.setProperty("--popover-foreground",`${s.h} ${Math.max(s.s-60,10)}% 10%`),t.style.setProperty("--secondary",`${s.h} ${Math.max(s.s-40,20)}% 90%`),t.style.setProperty("--secondary-foreground",`${s.h} ${s.s}% ${Math.max(s.l-30,10)}%`),t.style.setProperty("--muted",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--muted-foreground",`${s.h} ${Math.max(s.s-40,15)}% 45%`),t.style.setProperty("--background",`${s.h} ${Math.max(s.s-50,20)}% 92%`),t.style.setProperty("--foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-background",`${s.h} ${Math.max(s.s-50,20)}% 93%`),t.style.setProperty("--sidebar-foreground",`${s.h} ${Math.max(s.s-60,10)}% 5%`),t.style.setProperty("--sidebar-primary",`${s.h} ${s.s}% ${s.l}%`),t.style.setProperty("--sidebar-primary-foreground","0 0% 100%"),t.style.setProperty("--sidebar-accent",`${s.h} ${Math.max(s.s-40,20)}% 88%`),t.style.setProperty("--sidebar-accent-foreground",`${s.h} ${Math.max(s.s-50,15)}% 10%`),t.style.setProperty("--sidebar-border",`${s.h} ${Math.max(s.s-30,10)}% 85%`),t.style.setProperty("--sidebar-ring",`${s.h} ${s.s}% ${s.l}%`);const a=qu(e.uiAccent,1.2);t.style.setProperty("--moon-text",a);const o=qu(e.uiAccent,.6);t.style.setProperty("--moon-placeholder",o);const i=`rgba(${r.r}, ${r.g}, ${r.b}, 0.2)`;t.style.setProperty("--moon-divider",i),t.style.setProperty("--moon-caret",e.uiAccent);const c=`rgba(${r.r}, ${r.g}, ${r.b}, 0.3)`;t.style.setProperty("--moon-selection",c);const u=qu(e.uiAccent,1.1);t.style.setProperty("--moon-button-hover",u)}console.log(" Applied complete system-wide moon theme:",e.name)},Ex=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},Vj=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n);let a=0,o=0;const i=(r+s)/2;if(r!==s){const c=r-s;switch(o=i>.5?c/(2-r-s):c/(r+s),r){case e:a=((t-n)/c+(t<n?6:0))/6;break;case t:a=((n-e)/c+2)/6;break;case n:a=((e-t)/c+4)/6;break}}return{h:Math.round(a*360),s:Math.round(o*100),l:Math.round(i*100)}},qu=(e,t)=>{const n=Ex(e);if(!n)return e;const r=Math.min(255,Math.floor(n.r*t)),s=Math.min(255,Math.floor(n.g*t)),a=Math.min(255,Math.floor(n.b*t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},Pl=(e,t,n)=>{const r=x0(e),s=x0(t);if(!r||!s)return e;const a=Math.round(r.r+(s.r-r.r)*n),o=Math.round(r.g+(s.g-r.g)*n),i=Math.round(r.b+(s.b-r.b)*n);return qj(a,o,i)},Hj=(e,t,n)=>[Pl(e[0],t[0],n),Pl(e[1],t[1],n),Pl(e[2],t[2],n)];class Gj{constructor(){Js(this,"startTime",0);Js(this,"duration",0);Js(this,"fromPhenomenon",null);Js(this,"toPhenomenon",null);Js(this,"isTransitioning",!1)}start(t,n){this.fromPhenomenon=t,this.toPhenomenon=n,this.duration=n.transitionSpeed*1e3,this.startTime=Date.now(),this.isTransitioning=!0}getProgress(){if(!this.isTransitioning)return 1;const t=Date.now()-this.startTime,n=Math.min(t/this.duration,1);return n>=1&&(this.isTransitioning=!1),n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}getCurrentSkyPalette(){if(!this.fromPhenomenon||!this.toPhenomenon)return null;const t=this.getProgress();return Hj(this.fromPhenomenon.skyPalette,this.toPhenomenon.skyPalette,t)}getCurrentMoonTint(){if(!this.fromPhenomenon||!this.toPhenomenon)return null;const t=this.getProgress();return Pl(this.fromPhenomenon.moonTint,this.toPhenomenon.moonTint,t)}isActive(){return this.isTransitioning}}const x0=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},qj=(e,t,n)=>`#${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`,Kj=()=>[],b0=(e,t,n=40)=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*8+4,opacity:1,lifetime:0,maxLifetime:30+Math.random()*20}},Yj=(e,t)=>t.map(n=>{if(n.lifetime++,n.opacity=1-n.lifetime/n.maxLifetime,n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size);r.addColorStop(0,`rgba(255,255,255,${n.opacity})`),r.addColorStop(.5,`rgba(200,200,255,${n.opacity*.6})`),r.addColorStop(1,"rgba(150,150,255,0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size,0,Math.PI*2),e.fill()}return n}).filter(n=>n.lifetime<n.maxLifetime),Ku=(e=20,t="#B84060",n="#d85080",r=.01,s=.02)=>Array.from({length:e},(a,o)=>({angle:Math.PI*2*o/e,distance:50+Math.random()*30,size:Math.random()*3+1,speed:r+Math.random()*(s-r),color:o%2===0?t:n,opacity:Math.random()*.5+.3})),Qj=(e,t,n,r)=>{t.forEach(s=>{s.angle+=s.speed;const a=n+Math.cos(s.angle)*s.distance,o=r+Math.sin(s.angle)*s.distance,i=e.createRadialGradient(a,o,0,a,o,s.size*2);i.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${s.color}00`),e.fillStyle=i,e.beginPath(),e.arc(a,o,s.size*2,0,Math.PI*2),e.fill(),e.fillStyle=s.color,e.globalAlpha=s.opacity,e.beginPath(),e.arc(a,o,s.size,0,Math.PI*2),e.fill(),e.globalAlpha=1})},S0=(e,t,n=40)=>Array.from({length:50},()=>{const r=Math.random()*Math.PI*2,s=Math.random()*n*1.8;return{x:e+Math.cos(r)*s,y:t+Math.sin(r)*s,size:Math.random()*4+1.5,opacity:Math.random()*.9+.3,twinklePhase:Math.random()*Math.PI*2,twinkleSpeed:.03+Math.random()*.05}}),Jj=(e,t)=>{t.forEach(n=>{n.twinklePhase+=n.twinkleSpeed;const r=(Math.sin(n.twinklePhase)+1)/2,s=n.opacity*r;if(s>.1){e.save(),e.translate(n.x,n.y),e.rotate(n.twinklePhase*.2);const a=e.createRadialGradient(0,0,0,0,0,n.size*6),o=n.twinklePhase*50%360;a.addColorStop(0,`hsla(${o}, 70%, 85%, ${s*.4})`),a.addColorStop(.3,`hsla(${o+60}, 60%, 80%, ${s*.3})`),a.addColorStop(.6,`hsla(${o+120}, 50%, 75%, ${s*.2})`),a.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=a,e.beginPath(),e.arc(0,0,n.size*6,0,Math.PI*2),e.fill();const i=e.createRadialGradient(0,0,0,0,0,n.size*4);i.addColorStop(0,`rgba(240, 248, 255, ${s})`),i.addColorStop(.4,`rgba(200, 220, 255, ${s*.7})`),i.addColorStop(.7,`rgba(176, 192, 224, ${s*.4})`),i.addColorStop(1,"rgba(176, 192, 224, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,n.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s*.8})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*1.2,f=Math.sin(u)*n.size*1.2;c===0?e.moveTo(d,f):e.lineTo(d,f)}e.closePath(),e.fill(),e.fillStyle=`rgba(200, 220, 255, ${s*.6})`,e.beginPath();for(let c=0;c<6;c++){const u=c*Math.PI/3,d=Math.cos(u)*n.size*.6,f=Math.sin(u)*n.size*.6;c===0?e.moveTo(d,f):e.lineTo(d,f)}e.closePath(),e.fill(),e.fillStyle=`rgba(255, 255, 255, ${s})`,e.beginPath(),e.arc(0,0,n.size*.3,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(240, 248, 255, ${s*.9})`,e.lineWidth=1.5,e.lineCap="round";for(let c=0;c<6;c++){const u=c*Math.PI/3,d=n.size*6;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.strokeStyle=`rgba(200, 220, 255, ${s*.5})`,e.lineWidth=.8;for(let c=0;c<12;c++){const u=c*Math.PI/6+Math.PI/12,d=n.size*4;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(u)*d,Math.sin(u)*d),e.stroke()}e.restore()}})},Xj=e=>{const t=["#00ff88","#00ddaa","#00ccbb"];return Array.from({length:3},(n,r)=>({y:e*.3+r*80,amplitude:25+Math.random()*20,frequency:.003+Math.random()*.004,phase:Math.random()*Math.PI*2,speed:.004+Math.random()*.005,color:t[r],opacity:.08+Math.random()*.06}))},Zj=(e,t,n)=>{t.forEach((r,s)=>{r.phase+=r.speed;const a=r.opacity*(1+Math.sin(r.phase*.5)*.3);e.beginPath(),e.moveTo(0,r.y);for(let c=0;c<=n;c+=2){const u=r.y+Math.sin(c*r.frequency+r.phase)*r.amplitude,d=Math.sin(c*r.frequency*2+r.phase*1.5)*(r.amplitude*.3),f=Math.sin(c*r.frequency*4+r.phase*2)*(r.amplitude*.15),h=Math.sin(c*.05+r.phase*3)*5;e.lineTo(c,u+d+f+h)}const o=e.createLinearGradient(0,r.y,n,r.y);o.addColorStop(0,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),o.addColorStop(.25,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),o.addColorStop(.5,`${r.color}${Math.floor(a*255).toString(16).padStart(2,"0")}`),o.addColorStop(.75,`${r.color}${Math.floor(a*.7*255).toString(16).padStart(2,"0")}`),o.addColorStop(1,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),e.strokeStyle=o,e.lineWidth=70,e.lineCap="round",e.lineJoin="round",e.shadowBlur=40,e.shadowColor=r.color,e.stroke(),e.shadowBlur=0;const i=e.createLinearGradient(0,r.y-r.amplitude*2,0,r.y+r.amplitude*3);if(i.addColorStop(0,`${r.color}00`),i.addColorStop(.2,`${r.color}${Math.floor(a*.5*255).toString(16).padStart(2,"0")}`),i.addColorStop(.5,`${r.color}${Math.floor(a*.8*255).toString(16).padStart(2,"0")}`),i.addColorStop(.8,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${r.color}00`),e.strokeStyle=i,e.lineWidth=50,e.globalAlpha=.6,e.stroke(),e.globalAlpha=1,Math.random()<.3)for(let c=0;c<3;c++){const u=Math.random()*n,d=r.y+Math.sin(u*r.frequency+r.phase)*r.amplitude,f=2+Math.random()*3,h=e.createRadialGradient(u,d,0,u,d,f*3);h.addColorStop(0,`rgba(255, 255, 255, ${a*.6})`),h.addColorStop(.5,`${r.color}${Math.floor(a*.4*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${r.color}00`),e.fillStyle=h,e.beginPath(),e.arc(u,d,f*3,0,Math.PI*2),e.fill()}})},eT=(e,t,n=20)=>Array.from({length:n},()=>{const r=Math.random()*e,s=t*.5+Math.random()*t*.4;return{x:r,y:s,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:2+Math.random()*2,opacity:0,blinkPhase:Math.random()*Math.PI*2,blinkSpeed:.05+Math.random()*.05,targetX:r,targetY:s}}),tT=(e,t,n,r)=>{t.forEach(s=>{if(s.blinkPhase+=s.blinkSpeed,s.opacity=Math.max(0,Math.sin(s.blinkPhase))*.8,Math.random()<.02&&(s.targetX=Math.random()*n,s.targetY=r*.5+Math.random()*r*.4),s.vx+=(s.targetX-s.x)*.001,s.vy+=(s.targetY-s.y)*.001,s.vx*=.95,s.vy*=.95,s.x+=s.vx,s.y+=s.vy,s.opacity>0){const a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size*3);a.addColorStop(0,`rgba(255,255,150,${s.opacity})`),a.addColorStop(.5,`rgba(255,200,100,${s.opacity*.5})`),a.addColorStop(1,"rgba(255,200,100,0)"),e.fillStyle=a,e.beginPath(),e.arc(s.x,s.y,s.size*3,0,Math.PI*2),e.fill(),e.fillStyle=`rgba(255,255,200,${s.opacity})`,e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fill()}})},nT=(e,t=50)=>Array.from({length:t},()=>({x:Math.random()*e,y:Math.random()*-100,size:Math.random()*3+1,speed:Math.random()*.5+.3,drift:(Math.random()-.5)*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.6+.4})),rT=(e,t,n,r)=>{t.forEach(s=>{s.y+=s.speed,s.x+=s.drift,s.rotation+=s.rotationSpeed,s.y>r&&(s.y=-10,s.x=Math.random()*n),e.save(),e.translate(s.x,s.y),e.rotate(s.rotation),e.globalAlpha=s.opacity,e.strokeStyle="#ffffff",e.lineWidth=1,e.lineCap="round";for(let a=0;a<6;a++)e.rotate(Math.PI/3),e.beginPath(),e.moveTo(0,0),e.lineTo(0,s.size*2),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(-s.size*.5,s.size*1.5),e.stroke(),e.beginPath(),e.moveTo(0,s.size),e.lineTo(s.size*.5,s.size*1.5),e.stroke();e.restore()})},sT=(e,t)=>{const n=["#f0e8e0","#e8d8d0","#d8c8c0"];return Array.from({length:5},(r,s)=>({x:-e-Math.random()*e*.5,y:t*.5+s*40,width:e*2.5,height:100+s*20,speed:.06+s*.04,opacity:.1+s*.04,color:n[s%n.length],wave:Math.random()*Math.PI*2,waveSpeed:.01+Math.random()*.01}))},aT=(e,t,n)=>{t.forEach((r,s)=>{r.x+=r.speed,r.wave+=r.waveSpeed,r.x>n*.3&&(r.x=-r.width);const a=Math.sin(r.wave)*15,o=r.y+a,i=e.createRadialGradient(r.x+r.width*.5,o+r.height*.5,0,r.x+r.width*.5,o+r.height*.5,r.width*.6);if(i.addColorStop(0,`${r.color}${Math.floor(r.opacity*255*.5).toString(16).padStart(2,"0")}`),i.addColorStop(.3,`${r.color}${Math.floor(r.opacity*255*.9).toString(16).padStart(2,"0")}`),i.addColorStop(.7,`${r.color}${Math.floor(r.opacity*255*.4).toString(16).padStart(2,"0")}`),i.addColorStop(1,`${r.color}00`),e.save(),e.globalCompositeOperation="lighter",e.fillStyle=i,e.fillRect(r.x,o,r.width,r.height),r.x>0?e.fillRect(r.x-r.width,o,r.width,r.height):r.x+r.width<n,e.fillRect(r.x-r.width,o,r.width,r.height),e.restore(),s%2===0&&Math.random()<.02){const c=r.x+Math.random()*r.width,u=o+Math.random()*r.height,d=e.createRadialGradient(c,u,0,c,u,3);d.addColorStop(0,"rgba(255,255,255,0.3)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=d,e.beginPath(),e.arc(c,u,3,0,Math.PI*2),e.fill()}e.restore()})},oT=(e,t,n=15)=>{const r=["#ff9966","#ffcc66","#ff6666","#ffaa88","#ff8844"];return Array.from({length:n},(s,a)=>({x:e*.5+Math.random()*e*.5,y:-Math.random()*300-a*20,vx:-4-Math.random()*3,vy:6+Math.random()*3,length:50+Math.random()*80,opacity:.8+Math.random()*.2,color:r[Math.floor(Math.random()*r.length)],active:a<n*.6}))},iT=(e,t,n,r)=>{t.forEach(s=>{if(!s.active){Math.random()<.02&&(s.active=!0);return}s.x+=s.vx,s.y+=s.vy,(s.x<-s.length||s.y>r+50)&&(s.x=n*.7+Math.random()*n*.3,s.y=-Math.random()*200,s.active=!0),e.save(),e.globalAlpha=s.opacity;const a=e.createLinearGradient(s.x,s.y,s.x-s.vx*10,s.y-s.vy*10);a.addColorStop(0,s.color),a.addColorStop(.5,`${s.color}aa`),a.addColorStop(1,`${s.color}00`),e.strokeStyle=a,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*10,s.y-s.vy*10),e.stroke();const o=e.createRadialGradient(s.x,s.y,0,s.x,s.y,6);o.addColorStop(0,"#fff"),o.addColorStop(.3,s.color),o.addColorStop(1,`${s.color}00`),e.fillStyle=o,e.beginPath(),e.arc(s.x,s.y,6,0,Math.PI*2),e.fill(),e.restore()})},lT=(e,t,n=40)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,opacity:0,lifetime:0,maxLifetime:240+Math.random()*180,freezePoint:40+Math.random()*30,isFrozen:!1,trailLength:Math.random()*30+15,color:Math.random()>.5?"#B0C4DE":"#7090b0",rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,frozenIntensity:Math.random()*.5+.5})),cT=(e,t)=>{t.forEach(n=>{if(n.lifetime++,n.lifetime<20?(n.opacity=n.lifetime/20,n.y-=.5):n.lifetime>=n.freezePoint&&n.lifetime<n.freezePoint+150?(n.isFrozen||(n.isFrozen=!0,n.rotationSpeed=0),n.opacity=.9*n.frozenIntensity):n.lifetime>=n.freezePoint+150?n.opacity=Math.max(0,1-(n.lifetime-n.freezePoint-150)/90):(n.opacity=.7,n.y-=.4,n.rotation+=n.rotationSpeed),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.y=Math.random()*e.canvas.height,n.x=Math.random()*e.canvas.width,n.freezePoint=40+Math.random()*30,n.isFrozen=!1,n.rotation=Math.random()*Math.PI*2,n.rotationSpeed=(Math.random()-.5)*.02),n.opacity>0){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),!n.isFrozen&&n.lifetime>=20&&n.lifetime<n.freezePoint){const a=e.createLinearGradient(0,0,0,n.trailLength);a.addColorStop(0,`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${n.color}${Math.floor(n.opacity*100).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${n.color}00`),e.strokeStyle=a,e.lineWidth=2,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n.trailLength),e.stroke()}const r=n.isFrozen?n.size*4:n.size*3,s=e.createRadialGradient(0,0,0,0,0,r);s.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),s.addColorStop(.3,`${n.color}${Math.floor(n.opacity*180).toString(16).padStart(2,"0")}`),s.addColorStop(1,`${n.color}00`),e.fillStyle=s,e.beginPath(),e.arc(0,0,r,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*230).toString(16).padStart(2,"0")}`,e.beginPath();for(let a=0;a<6;a++){const o=Math.PI/3*a,i=Math.cos(o)*n.size,c=Math.sin(o)*n.size;a===0?e.moveTo(i,c):e.lineTo(i,c)}if(e.closePath(),e.fill(),e.fillStyle=`#ffffff${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(0,0,n.size*.5,0,Math.PI*2),e.fill(),n.isFrozen){e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.8})`,e.lineWidth=1.5;for(let o=0;o<6;o++){const i=Math.PI/3*o,c=n.size*3.5;e.beginPath(),e.moveTo(0,0),e.lineTo(Math.cos(i)*c,Math.sin(i)*c),e.stroke(),e.fillStyle=`rgba(220, 235, 255, ${n.opacity*.9})`,e.beginPath(),e.arc(Math.cos(i)*c,Math.sin(i)*c,2,0,Math.PI*2),e.fill()}const a=n.size*2.5+Math.sin(n.lifetime*.05)*n.size*.3;e.strokeStyle=`rgba(176, 196, 222, ${n.opacity*.5})`,e.lineWidth=2,e.beginPath(),e.arc(0,0,a,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(220, 235, 255, ${n.opacity*.3})`,e.lineWidth=1,e.beginPath(),e.arc(0,0,a*.6,0,Math.PI*2),e.stroke();for(let o=0;o<4;o++){const i=Math.PI/2*o+n.lifetime*.01,c=a*1.2,u=Math.cos(i)*c,d=Math.sin(i)*c;e.fillStyle=`rgba(255, 255, 255, ${n.opacity*.7})`,e.beginPath(),e.arc(u,d,1.5,0,Math.PI*2),e.fill()}}e.restore()}})},uT=()=>[],dT=(e,t,n)=>({radius:n*.5,maxRadius:n*5+Math.random()*n*3,opacity:1,lifetime:0,maxLifetime:120+Math.random()*80,centerX:e,centerY:t,speed:.8+Math.random()*.6,thickness:2+Math.random()*2}),hT=(e,t,n,r)=>t.map(s=>{s.lifetime++,s.radius+=s.speed;const a=20,o=s.maxLifetime-40;if(s.lifetime<a?s.opacity=s.lifetime/a:s.lifetime>o?s.opacity=Math.max(0,1-(s.lifetime-o)/40):s.opacity=.6+Math.sin(s.lifetime*.1)*.2,s.opacity>0){e.strokeStyle=`rgba(80, 80, 112, ${s.opacity*.4})`,e.lineWidth=s.thickness,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.stroke(),e.strokeStyle=`rgba(64, 64, 80, ${s.opacity*.6})`,e.lineWidth=s.thickness*.5,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius-s.thickness,0,Math.PI*2),e.stroke();const i=e.createRadialGradient(s.centerX,s.centerY,s.radius-s.thickness*3,s.centerX,s.centerY,s.radius+s.thickness*2);if(i.addColorStop(0,"rgba(0, 0, 0, 0)"),i.addColorStop(.4,`rgba(0, 0, 0, ${s.opacity*.15})`),i.addColorStop(.6,`rgba(0, 0, 0, ${s.opacity*.15})`),i.addColorStop(1,"rgba(0, 0, 0, 0)"),e.fillStyle=i,e.beginPath(),e.arc(s.centerX,s.centerY,s.radius,0,Math.PI*2),e.fill(),s.lifetime%8===0&&s.opacity>.3)for(let u=0;u<3;u++){const d=Math.random()*Math.PI*2,f=s.centerX+Math.cos(d)*s.radius,h=s.centerY+Math.sin(d)*s.radius,m=e.createRadialGradient(f,h,0,f,h,3);m.addColorStop(0,`rgba(112, 144, 176, ${s.opacity*.8})`),m.addColorStop(1,"rgba(112, 144, 176, 0)"),e.fillStyle=m,e.beginPath(),e.arc(f,h,3,0,Math.PI*2),e.fill()}}return s}).filter(s=>s.lifetime<s.maxLifetime),fT=(e,t,n=12)=>{const r=[];for(let s=0;s<n;s++){const a=Math.PI*2/n*s+(Math.random()-.5)*.4,o=60+Math.random()*45;r.push({x:e+Math.cos(a)*o,y:t+Math.sin(a)*o,size:5+Math.random()*8,angle:a,distance:o,orbitSpeed:8e-4+Math.random()*.0015,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.025,opacity:.7+Math.random()*.3})}return r},k0=(e,t,n=25)=>{const r=[];for(let s=0;s<n;s++){const a=Math.random()*Math.PI*2,o=.15+Math.random()*.3;r.push({x:e+(Math.random()-.5)*90,y:t+(Math.random()-.5)*90,vx:Math.cos(a)*o,vy:Math.sin(a)*o,size:.8+Math.random()*1.5,opacity:.2+Math.random()*.3,life:0,maxLife:120+Math.random()*120})}return r},mT=(e,t,n,r,s)=>{t.forEach(a=>{a.angle+=a.orbitSpeed,a.rotation+=a.rotationSpeed,a.x=n+Math.cos(a.angle)*a.distance,a.y=r+Math.sin(a.angle)*a.distance,e.save(),e.translate(a.x,a.y),e.rotate(a.rotation),e.fillStyle=`rgba(0, 0, 0, ${a.opacity*.4})`,e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.6)",e.beginPath();const o=5+Math.floor(Math.random()*3);for(let c=0;c<o;c++){const u=Math.PI*2/o*c,d=a.size*(.8+Math.random()*.5),f=Math.cos(u)*d,h=Math.sin(u)*d;c===0?e.moveTo(f,h):e.lineTo(f,h)}e.closePath(),e.fill(),e.fillStyle=`${s}${Math.floor(a.opacity*255).toString(16).padStart(2,"0")}`,e.shadowBlur=8,e.shadowColor=s,e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${a.opacity*.6})`,e.lineWidth=1.5,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 0.8)",e.stroke();const i=e.createRadialGradient(0,0,0,0,0,a.size*.6);i.addColorStop(0,`rgba(255, 255, 255, ${a.opacity*.4})`),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=i,e.shadowBlur=0,e.beginPath(),e.arc(0,0,a.size*.6,0,Math.PI*2),e.fill(),e.restore()})},pT=(e,t,n,r,s)=>{t.forEach(a=>{a.x+=a.vx,a.y+=a.vy,a.life++;const o=1-a.life/a.maxLife,i=a.opacity*o;if(a.life<a.maxLife&&i>.01){const c=e.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size*4);c.addColorStop(0,`${n}${Math.floor(i*.8*255).toString(16).padStart(2,"0")}`),c.addColorStop(.5,`${n}${Math.floor(i*.3*255).toString(16).padStart(2,"0")}`),c.addColorStop(1,`${n}00`),e.fillStyle=c,e.beginPath(),e.arc(a.x,a.y,a.size*4,0,Math.PI*2),e.fill(),e.fillStyle=`${n}${Math.floor(i*255).toString(16).padStart(2,"0")}`,e.shadowBlur=5,e.shadowColor=n,e.beginPath(),e.arc(a.x,a.y,a.size,0,Math.PI*2),e.fill(),e.shadowBlur=0,Math.random()<.15&&(e.fillStyle=`rgba(255, 255, 255, ${i*.8})`,e.beginPath(),e.arc(a.x,a.y,a.size*.5,0,Math.PI*2),e.fill())}if(a.life>=a.maxLife){if(r!==void 0&&s!==void 0){const c=Math.random()*Math.PI*2,u=70+Math.random()*30;a.x=r+Math.cos(c)*u,a.y=s+Math.sin(c)*u;const d=.15+Math.random()*.35,f=Math.random()*Math.PI*2;a.vx=Math.cos(f)*d,a.vy=Math.sin(f)*d}a.life=0,a.opacity=.35+Math.random()*.45}})},gT=(e,t,n,r=4)=>Array.from({length:r},(s,a)=>({x:e,y:t,radius:n,opacity:.6-a*.15,delay:a*15,scale:1+a*.15,phaseOffset:0})),yT=(e,t,n,r,s,a)=>{t.forEach((o,i)=>{o.phaseOffset+=.001;const c=n,u=r+Math.sin(s-o.phaseOffset*50)*3;o.x+=(c-o.x)*(.05/(i+1)),o.y+=(u-o.y)*(.05/(i+1));const d=o.radius*o.scale,f=e.createRadialGradient(o.x,o.y,d*.3,o.x,o.y,d*2);f.addColorStop(0,`${a}${Math.floor(o.opacity*.4*255).toString(16).padStart(2,"0")}`),f.addColorStop(.5,`${a}${Math.floor(o.opacity*.2*255).toString(16).padStart(2,"0")}`),f.addColorStop(1,`${a}00`),e.fillStyle=f,e.beginPath(),e.arc(o.x,o.y,d*2,0,Math.PI*2),e.fill();const h=e.createRadialGradient(o.x-d*.25,o.y-d*.25,0,o.x,o.y,d);h.addColorStop(0,`${a}${Math.floor(o.opacity*.8*255).toString(16).padStart(2,"0")}`),h.addColorStop(.7,`${a}${Math.floor(o.opacity*.5*255).toString(16).padStart(2,"0")}`),h.addColorStop(1,`${a}${Math.floor(o.opacity*.2*255).toString(16).padStart(2,"0")}`),e.fillStyle=h,e.beginPath(),e.arc(o.x,o.y,d,0,Math.PI*2),e.fill(),e.strokeStyle=`rgba(255, 255, 255, ${o.opacity*.3})`,e.lineWidth=1.5,e.beginPath(),e.arc(o.x-d*.3,o.y-d*.3,d*.6,Math.PI,Math.PI*2),e.stroke();const m=(Date.now()/1e3+i*.5)%2;for(let b=0;b<3;b++){const p=d*(1.2+m*.5+b*.3),x=o.opacity*(1-m/2)*.4;x>.05&&(e.strokeStyle=`rgba(208, 208, 232, ${x})`,e.lineWidth=2,e.beginPath(),e.arc(o.x,o.y,p,0,Math.PI*2),e.stroke())}})},vT=e=>Array.from({length:3},(t,n)=>({radius:e*(1.15+n*.2),opacity:.6-n*.15,pulsePhase:Math.PI*2*n/3,thickness:3-n*.5})),wT=(e,t,n,r)=>{t.forEach(s=>{s.pulsePhase+=.02;const a=Math.sin(s.pulsePhase)*.2+.8,o=s.opacity*a;e.strokeStyle=`rgba(160, 48, 48, ${o})`,e.lineWidth=s.thickness,e.shadowBlur=10,e.shadowColor=`rgba(200, 64, 64, ${o})`,e.beginPath(),e.arc(n,r,s.radius,0,Math.PI*2),e.stroke(),e.shadowBlur=0})},xT=(e,t,n=30)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*4+2,opacity:Math.random()*.8+.2,fadeSpeed:.002+Math.random()*.003,lifetime:0,maxLifetime:200+Math.random()*200})),bT=(e,t)=>{t.forEach(n=>{if(n.x+=n.vx,n.y+=n.vy,n.lifetime++,n.opacity-=n.fadeSpeed,(n.lifetime>=n.maxLifetime||n.opacity<=0)&&(n.x=Math.random()*e.canvas.width,n.y=Math.random()*e.canvas.height,n.opacity=Math.random()*.8+.2,n.lifetime=0),n.opacity>0){const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*3);r.addColorStop(0,`rgba(160, 160, 176, ${n.opacity})`),r.addColorStop(.5,`rgba(160, 160, 176, ${n.opacity*.5})`),r.addColorStop(1,"rgba(160, 160, 176, 0)"),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*3,0,Math.PI*2),e.fill()}})},ST=()=>[],kT=(e,t,n,r,s)=>(Math.random()<.015&&t.push({radius:s,opacity:.6,lifetime:0,maxLifetime:120}),t.map(a=>(a.lifetime++,a.radius+=1,a.opacity=(1-a.lifetime/a.maxLifetime)*.6,a.lifetime<a.maxLifetime&&a.opacity>.05&&(e.strokeStyle=`rgba(168, 168, 200, ${a.opacity})`,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.arc(n,r,a.radius,0,Math.PI*2),e.stroke(),e.setLineDash([])),a)).filter(a=>a.lifetime<a.maxLifetime)),ET=(e,t,n=40)=>{const r=["#C8B8D8","#B8A8C8","#D8C8E8"];return Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.4,vy:-.2-Math.random()*.3,size:Math.random()*3+1.5,opacity:Math.random()*.7+.3,color:r[Math.floor(Math.random()*r.length)],floatPhase:Math.random()*Math.PI*2,floatSpeed:.02+Math.random()*.03}))},_T=(e,t)=>{t.forEach(n=>{n.floatPhase+=n.floatSpeed,n.x+=n.vx+Math.sin(n.floatPhase)*.3,n.y+=n.vy,n.y<-10&&(n.y=e.canvas.height+10,n.x=Math.random()*e.canvas.width),n.x<-10&&(n.x=e.canvas.width+10),n.x>e.canvas.width+10&&(n.x=-10);const r=e.createRadialGradient(n.x,n.y,0,n.x,n.y,n.size*2.5);r.addColorStop(0,`${n.color}${Math.floor(n.opacity*255).toString(16).padStart(2,"0")}`),r.addColorStop(.5,`${n.color}${Math.floor(n.opacity*128).toString(16).padStart(2,"0")}`),r.addColorStop(1,`${n.color}00`),e.fillStyle=r,e.beginPath(),e.arc(n.x,n.y,n.size*2.5,0,Math.PI*2),e.fill(),e.fillStyle=`${n.color}${Math.floor(n.opacity*200).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(n.x,n.y,n.size*.8,0,Math.PI*2),e.fill()})},CT=(e,t,n=25)=>Array.from({length:n},()=>({x:Math.random()*e,y:Math.random()*t,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*6+3,opacity:Math.random()*.4+.2,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,lifetime:0,maxLifetime:300+Math.random()*300,fragmentType:Math.floor(Math.random()*3)})),jT=(e,t)=>{t.forEach(n=>{n.x+=n.vx,n.y+=n.vy,n.rotation+=n.rotationSpeed,n.lifetime++,n.x<0&&(n.x=e.canvas.width),n.x>e.canvas.width&&(n.x=0),n.y<0&&(n.y=e.canvas.height),n.y>e.canvas.height&&(n.y=0),n.lifetime>=n.maxLifetime&&(n.lifetime=0,n.opacity=Math.random()*.4+.2);const r=n.lifetime<60?n.lifetime/60:(n.maxLifetime-n.lifetime)/60,s=Math.min(n.opacity,r);if(s>.05){if(e.save(),e.translate(n.x,n.y),e.rotate(n.rotation),e.globalAlpha=s,e.strokeStyle="#888898",e.fillStyle="rgba(136, 136, 152, 0.3)",e.lineWidth=1.5,e.beginPath(),n.fragmentType===0)e.moveTo(0,-n.size),e.lineTo(n.size,n.size),e.lineTo(-n.size,n.size);else if(n.fragmentType===1)e.rect(-n.size/2,-n.size/2,n.size,n.size);else for(let a=0;a<5;a++){const o=Math.PI*2*a/5-Math.PI/2,i=Math.cos(o)*n.size,c=Math.sin(o)*n.size;a===0?e.moveTo(i,c):e.lineTo(i,c)}e.closePath(),e.fill(),e.stroke(),e.restore()}})},TT=(e,t,n)=>{const r=["","","","","",""];return Array.from({length:6},(s,a)=>({x:e,y:t,symbol:r[a],size:12+Math.random()*8,opacity:.6+Math.random()*.3,rotation:0,pulsePhase:Math.PI*2*a/6,orbitAngle:Math.PI*2*a/6,orbitSpeed:.005+Math.random()*.003,orbitRadius:n*(1.4+Math.random()*.3)}))},NT=(e,t,n,r)=>{t.forEach(s=>{s.orbitAngle+=s.orbitSpeed,s.pulsePhase+=.02,s.rotation+=.01;const a=n+Math.cos(s.orbitAngle)*s.orbitRadius,o=r+Math.sin(s.orbitAngle)*s.orbitRadius,i=Math.sin(s.pulsePhase)*.3+.7,c=s.opacity*i,u=e.createRadialGradient(a,o,0,a,o,s.size*2);u.addColorStop(0,`rgba(184, 168, 136, ${c*.5})`),u.addColorStop(1,"rgba(184, 168, 136, 0)"),e.fillStyle=u,e.beginPath(),e.arc(a,o,s.size*2,0,Math.PI*2),e.fill(),e.save(),e.translate(a,o),e.rotate(s.rotation),e.fillStyle=`rgba(184, 168, 136, ${c})`,e.font=`${s.size}px serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(s.symbol,0,0),e.restore()})},PT=(e=12)=>Array.from({length:e},(t,n)=>({angle:Math.PI*2*n/e,length:50+Math.random()*30,opacity:.3+Math.random()*.4,width:2+Math.random()*3,pulsePhase:Math.random()*Math.PI*2,speed:.02+Math.random()*.02})),MT=(e,t,n,r,s)=>{if(!isFinite(n)||!isFinite(r)||!isFinite(s)){console.warn("Invalid moon parameters in drawLightRays:",{moonX:n,moonY:r,moonRadius:s});return}t.forEach(a=>{a.pulsePhase+=a.speed,a.angle+=.003;const o=Math.sin(a.pulsePhase)*.4+.6,i=a.opacity*o,c=n+Math.cos(a.angle)*s,u=r+Math.sin(a.angle)*s,d=n+Math.cos(a.angle)*(s+a.length),f=r+Math.sin(a.angle)*(s+a.length);if(!isFinite(c)||!isFinite(u)||!isFinite(d)||!isFinite(f))return;const h=e.createLinearGradient(c,u,d,f);h.addColorStop(0,`rgba(248, 248, 255, ${i})`),h.addColorStop(.5,`rgba(248, 248, 255, ${i*.6})`),h.addColorStop(1,"rgba(248, 248, 255, 0)"),e.strokeStyle=h,e.lineWidth=a.width,e.lineCap="round",e.beginPath(),e.moveTo(c,u),e.lineTo(d,f),e.stroke()})},RT=()=>[],OT=(e,t,n,r)=>{if(Math.random()<.3){const s=Math.PI/4+Math.random()*(Math.PI/6),a=15+Math.random()*10;t.push({x:Math.random()*n,y:-50-Math.random()*100,vx:Math.cos(s)*a,vy:Math.sin(s)*a,length:50+Math.random()*50,opacity:Math.random()*.4+.6,trailLength:100+Math.random()*80,color:"#FFFFFF"})}return t.map(s=>{if(s.x+=s.vx,s.y+=s.vy,s.opacity-=.008,s.opacity>.05){const a=e.createLinearGradient(s.x,s.y,s.x-s.vx*3,s.y-s.vy*3);a.addColorStop(0,`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`),a.addColorStop(.5,`${s.color}${Math.floor(s.opacity*128).toString(16).padStart(2,"0")}`),a.addColorStop(1,`${s.color}00`),e.strokeStyle=a,e.lineWidth=2,e.lineCap="round",e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(s.x-s.vx*3,s.y-s.vy*3),e.stroke(),e.fillStyle=`${s.color}${Math.floor(s.opacity*255).toString(16).padStart(2,"0")}`,e.beginPath(),e.arc(s.x,s.y,2,0,Math.PI*2),e.fill()}return s}).filter(s=>s.opacity>.05&&s.x<n+50&&s.y<r+50)},AT=()=>{const e=["rgba(220, 240, 255, 0.9)","rgba(255, 255, 255, 0.95)","rgba(200, 230, 255, 0.85)","rgba(240, 250, 255, 0.9)"],t=["hexagon","diamond","triangle"];return Array.from({length:12},(n,r)=>({angle:Math.PI*2*r/12,distance:80+r%3*20,size:8+Math.random()*8,rotation:Math.random()*Math.PI*2,rotationSpeed:.02+Math.random()*.03,orbitSpeed:.008+Math.random()*.004,opacity:.6+Math.random()*.3,color:e[r%e.length],pulsePhase:Math.random()*Math.PI*2,shardType:t[r%3]}))},IT=(e,t,n,r,s)=>{e.save(),t.forEach(o=>{o.angle+=o.orbitSpeed,o.rotation+=o.rotationSpeed,o.pulsePhase+=.03;const i=n+Math.cos(o.angle)*(s+o.distance),c=r+Math.sin(o.angle)*(s+o.distance),u=o.opacity*(.8+.2*Math.sin(o.pulsePhase));if(e.save(),e.translate(i,c),e.rotate(o.rotation),e.globalCompositeOperation="screen",e.shadowBlur=15,e.shadowColor=o.color,e.fillStyle=o.color.replace(/[\d.]+\)$/g,`${u})`),e.strokeStyle=`rgba(255, 255, 255, ${u*.8})`,e.lineWidth=1.5,e.beginPath(),o.shardType==="hexagon"){for(let d=0;d<6;d++){const f=Math.PI/3*d,h=Math.cos(f)*o.size,m=Math.sin(f)*o.size;d===0?e.moveTo(h,m):e.lineTo(h,m)}e.closePath()}else o.shardType==="diamond"?(e.moveTo(0,-o.size),e.lineTo(o.size*.6,0),e.lineTo(0,o.size),e.lineTo(-o.size*.6,0),e.closePath()):(e.moveTo(0,-o.size),e.lineTo(o.size*.866,o.size*.5),e.lineTo(-o.size*.866,o.size*.5),e.closePath());e.fill(),e.stroke(),e.globalCompositeOperation="lighter",e.fillStyle=`rgba(255, 255, 255, ${u*.6})`,e.beginPath(),e.arc(0,0,o.size*.3,0,Math.PI*2),e.fill(),e.restore()});const a=e.createRadialGradient(n,r,s*.8,n,r,s*1.5);a.addColorStop(0,"rgba(220, 240, 255, 0.15)"),a.addColorStop(.6,"rgba(200, 230, 255, 0.08)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),e.globalCompositeOperation="screen",e.fillStyle=a,e.beginPath(),e.arc(n,r,s*1.5,0,Math.PI*2),e.fill(),e.restore()},$T=(e=120)=>Array.from({length:e},()=>({x:(Math.random()-.5)*2,y:(Math.random()-.5)*2,z:Math.random(),speed:.001+Math.random()*.002,size:1+Math.random()*2,brightness:.3+Math.random()*.7})),DT=(e,t,n,r)=>{const s=n/2,a=r/2;return t.map(o=>{o.z+=o.speed,o.z>=1&&(o.x=(Math.random()-.5)*2,o.y=(Math.random()-.5)*2,o.z=0);const i=o.z*2,c=s+o.x*s*i,u=a+o.y*a*i,d=o.size*(.5+o.z*1.5),f=o.brightness*o.z,h=o.z-o.speed,m=h*2,b=s+o.x*s*m,p=a+o.y*a*m;if(h>0){const g=e.createLinearGradient(b,p,c,u);g.addColorStop(0,"rgba(255, 255, 255, 0)"),g.addColorStop(1,`rgba(255, 255, 255, ${f*.6})`),e.strokeStyle=g,e.lineWidth=d*.5,e.lineCap="round",e.beginPath(),e.moveTo(b,p),e.lineTo(c,u),e.stroke()}const x=e.createRadialGradient(c,u,0,c,u,d*2);return x.addColorStop(0,`rgba(255, 255, 255, ${f})`),x.addColorStop(.5,`rgba(200, 220, 255, ${f*.5})`),x.addColorStop(1,"rgba(200, 220, 255, 0)"),e.fillStyle=x,e.beginPath(),e.arc(c,u,d*2,0,Math.PI*2),e.fill(),o})},LT=(e,t,n=4)=>{const r=[["#FF6B9D","#C44569","#8B3A62"],["#4A90E2","#7B68EE","#9370DB"],["#00D9FF","#0099CC","#006699"],["#FF8C42","#FF6B35","#C44536"],["#6BCF7F","#4ECDC4","#44A08D"]];return Array.from({length:n},()=>{const s=r[Math.floor(Math.random()*r.length)];return{x:Math.random()*e,y:Math.random()*t,size:150+Math.random()*250,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*5e-4,colors:s,opacity:.15+Math.random()*.15,pulsePhase:Math.random()*Math.PI*2,pulseSpeed:.01+Math.random()*.01}})},FT=(e,t,n,r,s=0,a=0)=>t.map(o=>{o.rotation+=o.rotationSpeed,o.pulsePhase+=o.pulseSpeed;const i=Math.sin(o.pulsePhase)*.2+.8,c=o.size*i,u=o.opacity*i,d=o.x+s*.1,f=o.y+a*.1,h=(d%n+n)%n,m=(f%r+r)%r;return e.save(),e.translate(h,m),e.rotate(o.rotation),o.colors.forEach((b,p)=>{const x=c*(1-p*.2),g=u*(1-p*.3),y=e.createRadialGradient(0,0,0,0,0,x);y.addColorStop(0,`${b}${Math.floor(g*255).toString(16).padStart(2,"0")}`),y.addColorStop(.4,`${b}${Math.floor(g*.6*255).toString(16).padStart(2,"0")}`),y.addColorStop(.7,`${b}${Math.floor(g*.3*255).toString(16).padStart(2,"0")}`),y.addColorStop(1,`${b}00`),e.fillStyle=y,e.fillRect(-x,-x,x*2,x*2)}),e.restore(),o}),E0=(e=new Date)=>{const t=new Date("2000-01-06T18:14:00Z"),n=29.530588853,s=(e.getTime()-t.getTime())/(1e3*60*60*24)%n,a=s/n,o=(1-Math.cos(a*Math.PI*2))/2;let i,c;return a<.033||a>.967?(i="New Moon",c=""):a<.216?(i="Waxing Crescent",c=""):a<.283?(i="First Quarter",c=""):a<.467?(i="Waxing Gibbous",c=""):a<.533?(i="Full Moon",c=""):a<.717?(i="Waning Gibbous",c=""):a<.783?(i="Last Quarter",c=""):(i="Waning Crescent",c=""),{phase:a,phaseName:i,phaseNameTh:c,illumination:o,age:s}},zT=(e,t,n,r,s)=>{if(Math.abs(s-.5)<.01)return;e.save(),e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.clip();const a="rgba(5, 10, 25, 0.85)",o="rgba(5, 10, 25, 0.5)";if(s<.5){const i=s*2,c=r*(1-i),u=e.createLinearGradient(t-r,n,t-r+c*2.2,n);u.addColorStop(0,a),u.addColorStop(.4,a),u.addColorStop(.7,o),u.addColorStop(1,"rgba(5, 10, 25, 0)"),e.fillStyle=u,e.fillRect(t-r,n-r,c*2.2,r*2)}else if(s>.5){const i=1-(s-.5)*2,c=r*(1-i),u=e.createLinearGradient(t+r-c*2.2,n,t+r,n);u.addColorStop(0,"rgba(5, 10, 25, 0)"),u.addColorStop(.3,o),u.addColorStop(.6,a),u.addColorStop(1,a),e.fillStyle=u,e.fillRect(t+r-c*2.2,n-r,c*2.2,r*2)}e.restore()};function BT(){const e=v.useRef(null),t=v.useRef([]),n=v.useRef([]),r=v.useRef([]),s=v.useRef(),a=v.useRef({x:0,y:0,phase:0}),o=v.useRef(0),i=v.useRef([]),c=v.useRef([]),u=v.useRef([]),d=v.useRef([]),f=v.useRef([]),h=v.useRef([]),m=v.useRef([]),b=v.useRef([]),p=v.useRef([]),x=v.useRef([]),g=v.useRef([]),y=v.useRef([]),w=v.useRef([]),k=v.useRef([]),_=v.useRef([]),j=v.useRef([]),C=v.useRef([]),P=v.useRef([]),O=v.useRef([]),A=v.useRef([]),B=v.useRef([]),L=v.useRef([]),Q=v.useRef([]),$=v.useRef([]),K=v.useRef(E0()),V=v.useRef({x:0,y:0});v.useRef(new Date().getHours());const q=v.useRef(Date.now()),M=v.useRef({x:0,y:0}),[S,U]=v.useState(null);v.useRef(new Gj),v.useEffect(()=>{const F=E=>{let X=0,T=0;E instanceof MouseEvent?(X=(E.clientX/window.innerWidth-.5)*20,T=(E.clientY/window.innerHeight-.5)*20):window.DeviceOrientationEvent&&E instanceof DeviceOrientationEvent&&(E.gamma!==null&&(X=Math.max(-20,Math.min(20,E.gamma/2))),E.beta!==null&&(T=Math.max(-20,Math.min(20,(E.beta-45)/2)))),M.current={x:X,y:T}};return window.addEventListener("mousemove",F),window.addEventListener("deviceorientation",F),()=>{window.removeEventListener("mousemove",F),window.removeEventListener("deviceorientation",F)}},[]),v.useEffect(()=>{const F=mc();U(F),am(F),console.log(" Moon Phenomenon:",F.name,`(${F.rarity})`)},[]),v.useEffect(()=>{if(!S)return;const F=e.current;if(!F)return;const E=F.getContext("2d");if(!E)return;(()=>{const N=F.getBoundingClientRect();F.width=N.width*window.devicePixelRatio,F.height=N.height*window.devicePixelRatio,E.scale(window.devicePixelRatio,window.devicePixelRatio)})();const T=F.getBoundingClientRect();t.current=Array.from({length:Math.floor(120*S.starDensity)},()=>({x:Math.random()*T.width,y:Math.random()*T.height*.6,size:Math.random()*2+.5,opacity:Math.random()*.8+.2,twinkleSpeed:Math.random()*.02+.01,twinklePhase:Math.random()*Math.PI*2})),n.current=Array.from({length:5},()=>({x:Math.random()*T.width,y:T.height*.2+Math.random()*T.height*.3,width:Math.random()*100+80,height:Math.random()*40+30,speed:(Math.random()*.15+.05)*S.cloudSpeed,opacity:(Math.random()*.15+.1)*S.cloudOpacity}));const H=["#FFFFFF","#FFE4B5","#87CEEB","#DDA0DD","#F0E68C","#98FB98","#FFB6C1","#B0E0E6","#FFDAB9","#E6E6FA"];r.current=Array.from({length:10},(N,W)=>({x:T.width+Math.random()*100,y:Math.random()*T.height*.6,length:Math.random()*60+40,speed:Math.random()*1.5+1,angle:Math.PI/4+(Math.random()-.5)*.3,color:H[W],opacity:Math.random()*.3+.7,isActive:!1,trailLength:Math.random()*80+60})),a.current={x:T.width*.7,y:T.height*.25,phase:0};const D=a.current;S.id==="superBlueBloodMoon"?c.current=Ku(20,"#B84060","#d85080"):S.id==="brokenMoon"?c.current=Ku(25,"#9898B8","#6868a8",.008,.015):S.id==="emptySky"&&(c.current=Ku(30,"#606080","#707090",.008,.012));const he=S.effectIntensity||.5,ue=40*(S.moonSize||1),le={normal:0,rare:.3,very_rare:.5,legendary:.75,mythic:1}[S.rarity];S.rarity!=="normal"&&S.specialEffect&&(S.specialEffect==="flash"?i.current=Kj():S.specialEffect==="sparkle"?u.current=S0(D.x,D.y,60):S.specialEffect==="echo"?w.current=gT(D.x,D.y,ue,4):S.specialEffect==="aurora"?d.current=Xj(T.height):S.specialEffect==="fireflies"?f.current=eT(T.width,T.height,Math.floor((10+he*20)*le)):S.specialEffect==="snow"?h.current=nT(T.width,Math.floor((30+he*70)*le)):S.specialEffect==="fog"?m.current=sT(T.width,T.height):S.specialEffect==="meteorShower"?x.current=oT(T.width,T.height,Math.floor((10+he*15)*le)):S.specialEffect==="frozenTime"?g.current=lT(T.width,T.height,Math.floor((20+he*20)*le)):S.specialEffect==="voidRipples"?y.current=uT():S.specialEffect==="shattered"?(b.current=fT(D.x,D.y,12),p.current=k0(D.x,D.y,25)):S.specialEffect==="bloodRing"?k.current=vT(ue):S.specialEffect==="fadeParticles"?_.current=xT(T.width,T.height):S.specialEffect==="silence"?j.current=ST():S.specialEffect==="dreamDust"?C.current=ET(T.width,T.height):S.specialEffect==="memoryFragments"?P.current=CT(T.width,T.height):S.specialEffect==="ancientRunes"?O.current=TT(D.x,D.y,ue):S.specialEffect==="lightRays"?A.current=PT():S.specialEffect==="shootingStars"?B.current=RT():S.specialEffect==="starfield"?L.current=$T(150):S.specialEffect==="nebula"?Q.current=LT(T.width,T.height,5):S.specialEffect==="prismLights"&&($.current=AT())),K.current=E0(),console.log(" Moon Phase:",K.current.phaseNameTh,`(${Math.round(K.current.illumination*100)}% illuminated)`);const Ge=()=>{V.current={x:window.scrollX,y:window.scrollY}};window.addEventListener("scroll",Ge,{passive:!0});const St=()=>{const N=E.createLinearGradient(0,0,0,T.height);N.addColorStop(0,S.skyPalette[0]),N.addColorStop(.5,S.skyPalette[1]),N.addColorStop(1,S.skyPalette[2]),E.fillStyle=N,E.fillRect(0,0,T.width,T.height)},dn=()=>{if(S.starDensity===0)return;const N=M.current.x*.5,W=M.current.y*.5;t.current.forEach(oe=>{oe.twinklePhase+=oe.twinkleSpeed;const Ie=oe.opacity*(Math.sin(oe.twinklePhase)*.5+.5),re=oe.x+N,ee=oe.y+W;E.beginPath(),E.arc(re,ee,oe.size,0,Math.PI*2),E.fillStyle=`rgba(255,255,255,${Ie})`,E.fill(),oe.size>1.5&&(E.beginPath(),E.arc(re,ee,oe.size*2,0,Math.PI*2),E.fillStyle=`rgba(255,255,255,${Ie*.2})`,E.fill())})},An=()=>{const N=a.current;N.phase+=.005;const W=Math.sin(N.phase)*3,oe=M.current.x*.8,Ie=M.current.y*.8,re=N.x+oe,ee=N.y+Ie,Pt=40,Er={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[S.rarity],fe=Pt*(S.moonSize||1)*Er,ho=S.moonTint,er=E.createRadialGradient(re,ee+W,0,re,ee+W,fe*1.5);er.addColorStop(0,`${ho}50`),er.addColorStop(.5,`${ho}26`),er.addColorStop(1,`${ho}00`),E.fillStyle=er,E.beginPath(),E.arc(re,ee+W,fe*1.5,0,Math.PI*2),E.fill();const ps=E.createLinearGradient(re-fe,ee+W-fe,re+fe,ee+W+fe);if(ps.addColorStop(0,S.moonTint),ps.addColorStop(.3,Gu(S.moonTint,.9)),ps.addColorStop(.6,Gu(S.moonTint,.8)),ps.addColorStop(1,Gu(S.moonTint,.7)),E.fillStyle=ps,E.beginPath(),E.arc(re,ee+W,fe,0,Math.PI*2),E.fill(),S.rarity==="mythic"){const Mt=E.createRadialGradient(re,ee+W,fe*.7,re,ee+W,fe*1.8);Mt.addColorStop(0,`${S.uiAccent}00`),Mt.addColorStop(.3,`${S.uiAccent}40`),Mt.addColorStop(.6,`${S.uiAccent}20`),Mt.addColorStop(1,`${S.uiAccent}00`),E.fillStyle=Mt,E.beginPath(),E.arc(re,ee+W,fe*1.8,0,Math.PI*2),E.fill(),E.strokeStyle=`${S.uiAccent}60`,E.lineWidth=2,E.beginPath(),E.arc(re,ee+W,fe-1,0,Math.PI*2),E.stroke();const Ke=N.phase*2,ot=(Math.sin(Ke)*.15+.25)*255,tr=Math.floor(ot).toString(16).padStart(2,"0"),kt=E.createRadialGradient(re-fe*.3,ee+W-fe*.3,0,re-fe*.3,ee+W-fe*.3,fe*.6);kt.addColorStop(0,`#ffffff${tr}`),kt.addColorStop(1,"#ffffff00"),E.fillStyle=kt,E.beginPath(),E.arc(re,ee+W,fe,0,Math.PI*2),E.fill()}if(S.id==="lunarTransientPhenomena"){const Mt=N.phase*3,Ke=Math.sin(Mt)*.3+.7,ot=E.createRadialGradient(re,ee+W,fe*.5,re,ee+W,fe*3);ot.addColorStop(0,`${S.uiAccent}${Math.floor(Ke*120).toString(16).padStart(2,"0")}`),ot.addColorStop(.3,`${S.uiAccent}${Math.floor(Ke*80).toString(16).padStart(2,"0")}`),ot.addColorStop(.6,`${S.uiAccent}${Math.floor(Ke*40).toString(16).padStart(2,"0")}`),ot.addColorStop(1,`${S.uiAccent}00`),E.fillStyle=ot,E.beginPath(),E.arc(re,ee+W,fe*3,0,Math.PI*2),E.fill();const tr=N.phase*4,kt=(Math.sin(tr)*60+280)%360;E.strokeStyle=`hsla(${kt}, 80%, 70%, ${Ke*.8})`,E.lineWidth=3,E.beginPath(),E.arc(re,ee+W,fe+2,0,Math.PI*2),E.stroke();const nr=E.createRadialGradient(re,ee+W,0,re,ee+W,fe*.8);nr.addColorStop(0,`rgba(255, 255, 255, ${Ke*.4})`),nr.addColorStop(.5,`${S.uiAccent}${Math.floor(Ke*100).toString(16).padStart(2,"0")}`),nr.addColorStop(1,`${S.uiAccent}00`),E.fillStyle=nr,E.beginPath(),E.arc(re,ee+W,fe*.8,0,Math.PI*2),E.fill();const rr=12,In=fe*2;for(let gs=0;gs<rr;gs++){const de=gs/rr*Math.PI*2+N.phase,ve=re+Math.cos(de)*In,Ce=ee+W+Math.sin(de)*In,$e=E.createRadialGradient(ve,Ce,0,ve,Ce,4);$e.addColorStop(0,`${S.uiAccent}${Math.floor(Ke*200).toString(16).padStart(2,"0")}`),$e.addColorStop(1,`${S.uiAccent}00`),E.fillStyle=$e,E.beginPath(),E.arc(ve,Ce,4,0,Math.PI*2),E.fill()}}if(zT(E,re,ee+W,fe,K.current.phase),S.id==="crystalMoon"){E.save();const Mt=8;for(let de=0;de<Mt;de++){const ve=Math.PI*2*de/Mt+N.phase*.3,Ce=Math.PI*2*(de+1)/Mt+N.phase*.3,$e=fe*.95,J=fe*.6,pe=re+Math.cos(ve)*$e,xe=ee+W+Math.sin(ve)*$e,rt=re+Math.cos(Ce)*$e,Ye=ee+W+Math.sin(Ce)*$e,Xt=re+Math.cos(Ce)*J,hn=ee+W+Math.sin(Ce)*J,Lt=re+Math.cos(ve)*J,$n=ee+W+Math.sin(ve)*J,Ii=de%2===0?.08:.04,$i=E.createLinearGradient(pe,xe,re,ee+W);$i.addColorStop(0,`rgba(255, 255, 255, ${Ii})`),$i.addColorStop(.5,`rgba(200, 230, 255, ${Ii*.8})`),$i.addColorStop(1,`rgba(180, 220, 255, ${Ii*.5})`),E.fillStyle=$i,E.strokeStyle=`rgba(220, 240, 255, ${.15+Ii})`,E.lineWidth=.5,E.beginPath(),E.moveTo(pe,xe),E.lineTo(rt,Ye),E.lineTo(Xt,hn),E.lineTo(Lt,$n),E.closePath(),E.fill(),E.stroke()}const Ke=16;for(let de=0;de<Ke;de++){const ve=Math.PI*2*de/Ke-N.phase*.2,Ce=fe*.6,$e=fe*.35,J=re+Math.cos(ve)*Ce,pe=ee+W+Math.sin(ve)*Ce,xe=re+Math.cos(ve+Math.PI/Ke)*$e,rt=ee+W+Math.sin(ve+Math.PI/Ke)*$e,Ye=re+Math.cos(ve-Math.PI/Ke)*$e,Xt=ee+W+Math.sin(ve-Math.PI/Ke)*$e,hn=de%3===0?.06:de%3===1?.04:.02;E.fillStyle=`rgba(200, 230, 255, ${hn})`,E.strokeStyle="rgba(220, 240, 255, 0.1)",E.lineWidth=.3,E.beginPath(),E.moveTo(J,pe),E.lineTo(xe,rt),E.lineTo(Ye,Xt),E.closePath(),E.fill(),E.stroke()}const ot=8,tr=fe*.35;E.strokeStyle="rgba(255, 255, 255, 0.25)",E.lineWidth=.8,E.beginPath();for(let de=0;de<=ot;de++){const ve=Math.PI*2*de/ot,Ce=re+Math.cos(ve)*tr,$e=ee+W+Math.sin(ve)*tr;de===0?E.moveTo(Ce,$e):E.lineTo(Ce,$e)}E.closePath(),E.stroke();const kt=24;for(let de=0;de<kt;de++){const ve=Math.PI*2*de/kt,Ce=fe*.15,$e=fe*.95,J=de%2===0?.12:.06;E.strokeStyle=`rgba(220, 240, 255, ${J})`,E.lineWidth=.3,E.beginPath(),E.moveTo(re+Math.cos(ve)*Ce,ee+W+Math.sin(ve)*Ce),E.lineTo(re+Math.cos(ve)*$e,ee+W+Math.sin(ve)*$e),E.stroke()}const nr=20;for(let de=0;de<nr;de++){const ve=Math.PI*2*de/nr+N.phase*(de%3),Ce=.2+de%5*.15,$e=fe*Ce,J=re+Math.cos(ve)*$e,pe=ee+W+Math.sin(ve)*$e,xe=Math.sin(N.phase*4+de*.5)*.5+.5,rt=(.8+xe*1.2)*(de%3===0?1.2:.8),Ye=E.createRadialGradient(J,pe,0,J,pe,rt*2.5);Ye.addColorStop(0,`rgba(255, 255, 255, ${.5*xe})`),Ye.addColorStop(.4,`rgba(220, 240, 255, ${.3*xe})`),Ye.addColorStop(1,"rgba(200, 230, 255, 0)"),E.fillStyle=Ye,E.beginPath(),E.arc(J,pe,rt*2.5,0,Math.PI*2),E.fill()}const rr=E.createRadialGradient(re,ee+W,0,re,ee+W,fe*.25);rr.addColorStop(0,"rgba(255, 255, 255, 0.3)"),rr.addColorStop(.5,"rgba(240, 250, 255, 0.2)"),rr.addColorStop(1,"rgba(220, 240, 255, 0)"),E.fillStyle=rr,E.beginPath(),E.arc(re,ee+W,fe*.25,0,Math.PI*2),E.fill();const In=fe*.6;E.lineWidth=2,E.lineCap="round",[0,Math.PI/2,Math.PI,Math.PI*1.5].forEach(de=>{const ve=E.createLinearGradient(re,ee+W,re+Math.cos(de)*In,ee+W+Math.sin(de)*In);ve.addColorStop(0,"rgba(255, 255, 255, 0.3)"),ve.addColorStop(1,"rgba(255, 255, 255, 0)"),E.strokeStyle=ve,E.beginPath(),E.moveTo(re,ee+W),E.lineTo(re+Math.cos(de)*In,ee+W+Math.sin(de)*In),E.stroke()}),E.restore()}},Xn=()=>{S.cloudOpacity!==0&&n.current.forEach(N=>{S.cloudSpeed>.2&&(N.x+=N.speed,N.x>T.width+N.width&&(N.x=-N.width)),E.fillStyle=`rgba(150,150,180,${N.opacity*.6})`,E.beginPath(),E.ellipse(N.x+5,N.y+5,N.width/2,N.height/2,0,0,Math.PI*2),E.fill();const W=E.createRadialGradient(N.x,N.y-N.height*.3,0,N.x,N.y,N.width/2);W.addColorStop(0,`rgba(230,230,250,${N.opacity})`),W.addColorStop(.6,`rgba(200,200,230,${N.opacity*.8})`),W.addColorStop(1,`rgba(180,180,210,${N.opacity*.5})`),E.fillStyle=W,E.beginPath(),E.ellipse(N.x,N.y,N.width/2,N.height/2,0,0,Math.PI*2),E.fill(),[{x:-.4,y:-.3,w:.35,h:.5},{x:-.2,y:-.4,w:.3,h:.45},{x:.2,y:-.35,w:.32,h:.48},{x:.4,y:-.25,w:.3,h:.45}].forEach(oe=>{const Ie=E.createRadialGradient(N.x+N.width*oe.x,N.y+N.height*oe.y,0,N.x+N.width*oe.x,N.y+N.height*oe.y,N.width*oe.w);Ie.addColorStop(0,`rgba(240,240,255,${N.opacity})`),Ie.addColorStop(.7,`rgba(210,210,240,${N.opacity*.7})`),Ie.addColorStop(1,`rgba(190,190,220,${N.opacity*.3})`),E.fillStyle=Ie,E.beginPath(),E.ellipse(N.x+N.width*oe.x,N.y+N.height*oe.y,N.width*oe.w,N.height*oe.h,0,0,Math.PI*2),E.fill()})})},ms=()=>{if(S.shootingStarChance!==0&&(r.current.forEach(N=>{if(!N.isActive)return;if(N.x-=Math.cos(N.angle)*N.speed,N.y+=Math.sin(N.angle)*N.speed,N.x<-N.trailLength||N.y>T.height+N.trailLength){N.isActive=!1;return}E.save();const W=E.createLinearGradient(N.x,N.y,N.x+Math.cos(N.angle)*N.trailLength,N.y-Math.sin(N.angle)*N.trailLength);W.addColorStop(0,N.color),W.addColorStop(.5,`${N.color}88`),W.addColorStop(1,`${N.color}00`),E.strokeStyle=W,E.lineWidth=2,E.lineCap="round",E.globalAlpha=N.opacity,E.beginPath(),E.moveTo(N.x,N.y),E.lineTo(N.x+Math.cos(N.angle)*N.trailLength,N.y-Math.sin(N.angle)*N.trailLength),E.stroke();const oe=E.createRadialGradient(N.x,N.y,0,N.x,N.y,8);oe.addColorStop(0,"#FFFFFF"),oe.addColorStop(.3,N.color),oe.addColorStop(1,`${N.color}00`),E.fillStyle=oe,E.beginPath(),E.arc(N.x,N.y,8,0,Math.PI*2),E.fill(),E.fillStyle="#FFFFFF",E.beginPath(),E.arc(N.x,N.y,2,0,Math.PI*2),E.fill(),E.restore()}),o.current++,o.current>3600+Math.random()*3600)){o.current=0;const N=r.current.map((W,oe)=>W.isActive?-1:oe).filter(W=>W!==-1);if(N.length>0){const oe=Math.random()<S.shootingStarChance&&N.length>=3?Math.min(Math.floor(Math.random()*3)+3,N.length):1;for(let Ie=0;Ie<oe;Ie++){const re=N.splice(Math.floor(Math.random()*N.length),1)[0],ee=r.current[re];ee.isActive=!0,ee.x=T.width+Math.random()*100,ee.y=-50-Math.random()*100}}}},Zn=()=>{if(E.clearRect(0,0,T.width,T.height),St(),S.specialEffect==="nebula"&&Q.current.length>0&&(Q.current=FT(E,Q.current,T.width,T.height,V.current.x,V.current.y)),S.specialEffect==="starfield"&&L.current.length>0&&(L.current=DT(E,L.current,T.width,T.height)),S.specialEffect&&(S.specialEffect==="aurora"&&d.current.length>0&&Zj(E,d.current,T.width),S.specialEffect==="fog"&&m.current.length>0&&aT(E,m.current,T.width)),dn(),S.specialEffect==="echo"&&w.current.length>0){const N=a.current;yT(E,w.current,N.x,N.y,N.phase,S.moonTint)}if(S.specialEffect==="fireflies"&&f.current.length>0&&tT(E,f.current,T.width,T.height),An(),S.specialEffect==="shattered"){const N=a.current,W=Date.now();W-q.current>1e4&&(p.current=k0(N.x,N.y,25),q.current=W),p.current.length>0&&pT(E,p.current,S.moonTint,N.x,N.y),b.current.length>0&&mT(E,b.current,N.x,N.y,S.moonTint)}if(S.specialEffect){if(S.specialEffect==="flash"&&i.current.length>=0){const N=a.current;if(Math.random()<.025){const oe=40*(S.moonSize||1);i.current.push(b0(N.x,N.y,oe))}i.current=Yj(E,i.current)}if(S.specialEffect==="sparkle"&&u.current.length>0&&Jj(E,u.current),S.specialEffect==="bloodRing"&&k.current.length>0){const N=a.current;wT(E,k.current,N.x,N.y)}if(S.specialEffect==="fadeParticles"&&_.current.length>0&&bT(E,_.current),S.specialEffect==="silence"&&j.current.length>=0){const N=a.current,oe=40*(S.moonSize||1);j.current=kT(E,j.current,N.x,N.y,oe)}if(S.specialEffect==="dreamDust"&&C.current.length>0&&_T(E,C.current),S.specialEffect==="memoryFragments"&&P.current.length>0&&jT(E,P.current),S.specialEffect==="ancientRunes"&&O.current.length>0){const N=a.current;NT(E,O.current,N.x,N.y)}if(S.specialEffect==="lightRays"&&A.current.length>0){const N=a.current,W=40,oe={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[S.rarity],Ie=W*(S.moonSize||1)*oe;MT(E,A.current,N.x,N.y,Ie)}if(S.specialEffect==="prismLights"&&$.current.length>0){const N=a.current,W=40,oe={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[S.rarity],Ie=W*(S.moonSize||1)*oe;IT(E,$.current,N.x,N.y,Ie)}S.specialEffect==="shootingStars"&&B.current.length>=0&&(a.current,40*(S.moonSize||1),B.current=OT(E,B.current,T.width,T.height))}if((S.id==="superBlueBloodMoon"||S.id==="brokenMoon"||S.id==="emptySky")&&c.current.length>0){const N=a.current;Qj(E,c.current,N.x,N.y)}if(Xn(),S.specialEffect&&(S.specialEffect==="snow"&&h.current.length>0&&rT(E,h.current,T.width,T.height),S.specialEffect==="meteorShower"&&x.current.length>0&&iT(E,x.current,T.width,T.height),S.specialEffect==="frozenTime"&&g.current.length>0&&cT(E,g.current)),S.specialEffect==="voidRipples"){const N=a.current,oe=40*(S.moonSize||1);Math.random()<.015&&y.current.push(dT(N.x,N.y+Math.sin(N.phase)*3,oe)),y.current=hT(E,y.current,N.x,N.y)}ms(),s.current=requestAnimationFrame(Zn)};return Zn(),()=>{s.current&&cancelAnimationFrame(s.current),window.removeEventListener("scroll",Ge)}},[S]);const Z=F=>{if(!e.current||!S)return;const E=e.current.getBoundingClientRect(),X=(F.clientX-E.left)*window.devicePixelRatio,T=(F.clientY-E.top)*window.devicePixelRatio,H=a.current,D=M.current.x*.8,he=M.current.y*.8,ke=H.x+D,ue=H.y+Math.sin(H.phase)*3+he,le=40,ye={normal:1,rare:1.05,very_rare:1.1,legendary:1.15,mythic:1.2}[S.rarity],Ge=le*(S.moonSize||1)*ye;if(Math.sqrt(Math.pow(X-ke,2)+Math.pow(T-ue,2))<Ge*1.5){navigator.vibrate&&navigator.vibrate(20),i.current.push(b0(ke,ue));const dn=S0(ke,ue,15);u.current=[...u.current,...dn]}};return l.jsxs("div",{className:"relative w-full h-[60vh] min-h-[400px] overflow-hidden",children:[l.jsx("canvas",{ref:e,onClick:Z,className:"absolute inset-0 w-full h-full cursor-pointer",style:{width:"100%",height:"100%"}}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-6 pt-10",children:[l.jsx("h1",{className:`font-bold text-white mb-2 tracking-wide transition-all duration-500 ${(S==null?void 0:S.rarity)==="mythic"?"text-6xl":(S==null?void 0:S.rarity)==="legendary"||(S==null?void 0:S.rarity)==="very_rare"?"text-5xl":((S==null?void 0:S.rarity)==="rare","text-4xl")}`,style:{fontFamily:(S==null?void 0:S.rarity)==="mythic"?S.id==="superBloodMoon"?"'Cinzel', serif":S.id==="superBlueBloodMoon"?"'UnifrakturMaguntia', cursive":S.id==="lunarTransientPhenomena"?"'Orbitron', sans-serif":S.id==="hybridEclipse"?"'Spectral', serif":S.id==="stillMoon"?"'Abril Fatface', serif":S.id==="echoMoon"?"'Righteous', cursive":S.id==="brokenMoon"?"'Creepster', cursive":S.id==="emptySky"?"'Nosifer', cursive":S.id==="crystalMoon"?"'Poiret One', cursive":S.id==="shatteredMoon"?"'Creepster', cursive":"'Cinzel', serif":(S==null?void 0:S.rarity)==="legendary"?"'Playfair Display', serif":(S==null?void 0:S.rarity)==="very_rare"?"'Cormorant Garamond', serif":(S==null?void 0:S.rarity)==="rare"?S.id==="snowMoon"?"'Mountains of Christmas', cursive":"'Philosopher', sans-serif":"'Inter', sans-serif",textShadow:(S==null?void 0:S.rarity)==="mythic"?`0 0 5px ${S.uiAccent}99, 0 0 12px ${S.uiAccent}55, 0 3px 8px rgba(0, 0, 0, 0.8)`:(S==null?void 0:S.rarity)==="legendary"?`0 0 12px ${S.uiAccent}, 0 0 25px ${S.uiAccent}aa, 0 4px 10px rgba(0, 0, 0, 0.8)`:(S==null?void 0:S.rarity)==="very_rare"?`0 0 20px ${S.uiAccent}aa, 0 0 40px ${S.uiAccent}66, 0 4px 8px rgba(0, 0, 0, 0.6)`:(S==null?void 0:S.rarity)==="rare"?"0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 4px 8px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 6px rgba(0, 0, 0, 0.5)",color:(S==null?void 0:S.rarity)==="mythic"||(S==null?void 0:S.rarity)==="legendary"?S.id==="emptySky"||S.id==="brokenMoon"?"#ffffff":S.uiAccent:"#ffffff",animation:(S==null?void 0:S.rarity)==="mythic"?"pulse 3s ease-in-out infinite":(S==null?void 0:S.rarity)==="legendary"?"pulse 4s ease-in-out infinite":"none"},children:"Dream book"}),S&&l.jsx("p",{className:`italic font-light transition-all duration-500 ${S.rarity==="mythic"?"text-xl":(S.rarity==="legendary","text-lg")}`,style:{fontFamily:S.rarity==="mythic"||S.rarity==="legendary"?"'Cormorant Garamond', serif":S.rarity==="very_rare"?"'Philosopher', sans-serif":"'Inter', sans-serif",textShadow:S.rarity==="mythic"?`0 0 12px ${S.uiAccent}aa, 0 0 25px ${S.uiAccent}44, 0 2px 6px rgba(0, 0, 0, 0.7)`:S.rarity==="legendary"?`0 0 15px ${S.uiAccent}99, 0 2px 5px rgba(0, 0, 0, 0.6)`:S.rarity==="very_rare"?`0 0 12px ${S.uiAccent}66, 0 2px 4px rgba(0, 0, 0, 0.5)`:"0 0 10px rgba(255, 255, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5)",color:S.rarity==="mythic"||S.rarity==="legendary"?S.uiAccent:"rgba(255, 255, 255, 0.95)"},children:S.subtitle})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background via-background/50 to-transparent pointer-events-none"})]})}var Wn=function(){return Wn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wn.apply(this,arguments)};function co(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function UT(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function i(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(i,c)}u((r=r.apply(e,t||[])).next())})}function WT(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const VT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class om extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class HT extends om{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _0 extends om{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C0 extends om{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sh||(Sh={}));class GT{constructor(t,{headers:n={},customFetch:r,region:s=Sh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=VT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return UT(this,arguments,void 0,function*(n,r={}){var s;let a,o;try{const{headers:i,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:p,signal:x}).catch(_=>{throw new HT(_)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new _0(g);if(!g.ok)throw new C0(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield g.json():w==="application/octet-stream"||w==="application/pdf"?k=yield g.blob():w==="text/event-stream"?k=g:w==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof C0||i instanceof _0?i.context:void 0}}finally{a&&clearTimeout(a)}})}}var qT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},KT=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,i=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(n.method!=="HEAD"){var m;const g=await a.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?i=g:i=JSON.parse(g))}const p=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(i)&&(i.length>1?(o={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,c=null,u=406,d="Not Acceptable"):i.length===1?i=i[0]:i=null)}else{var b;const p=await a.text();try{o=JSON.parse(p),Array.isArray(o)&&a.status===404&&(i=[],o=null,u=200,d="OK")}catch{a.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new qT(o)}return{error:o,data:i,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let i="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";i=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,i+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${b}`,p&&(i+=` (${p})`),c!=null&&c.stack&&(i+=`
${c.stack}`)}else{var m;i=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:i,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},YT=class extends KT{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}={}){var o;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${i};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const j0=new RegExp("[,()]");var ua=class extends YT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&j0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&j0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},QT=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:i,headers:c}=this.cloneRequestState();return i.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new ua({method:s,url:i,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(i.length>0){const c=[...new Set(i)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new ua({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var a;const o="POST",{url:i,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&i.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);i.searchParams.set("columns",d.join(","))}}return new ua({method:o,url:i,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ua({method:r,url:s,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ua({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},JT=class _x{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _x(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){var o;let i;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=r&&Object.values(n).some(d);f?(i="POST",u=n):r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{c.searchParams.append(m,b)})):(i="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new ua({method:i,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class XT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZT="2.91.0",eN=`realtime-js/${ZT}`,tN="1.0.0",Cx="2.0.0",T0=Cx,kh=1e4,nN=1e3,rN=100;var Or;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Or||(Or={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var _n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_n||(_n={}));var Eh;(function(e){e.websocket="websocket"})(Eh||(Eh={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class sN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,a;const o=t.topic,i=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+i.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,c.length),b.setUint8(p++,i.length),b.setUint8(p++,o.length),b.setUint8(p++,u.length),b.setUint8(p++,f.length),b.setUint8(p++,n),Array.from(c,g=>b.setUint8(p++,g.charCodeAt(0))),Array.from(i,g=>b.setUint8(p++,g.charCodeAt(0))),Array.from(o,g=>b.setUint8(p++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(p++,g.charCodeAt(0))),Array.from(f,g=>b.setUint8(p++,g.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,a,o,i,c]=r;return n({join_ref:s,ref:a,topic:o,event:i,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),i=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+a));c=c+a;const f=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=i===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class jx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const N0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=aN(o,e,t,s),a),{}):{}},aN=(e,t,n,r)=>{const s=t.find(i=>i.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?Tx(a,o):_h(o)},Tx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cN(t,n)}switch(e){case je.bool:return oN(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return iN(t);case je.json:case je.jsonb:return lN(t);case je.timestamp:return uN(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return _h(t);default:return _h(t)}},_h=e=>e,oN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(i=>Tx(t,i))}return e},uN=e=>typeof e=="string"?e.replace(" ","T"):e,Nx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yu{constructor(t,n,r={},s=kh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P0||(P0={}));class zo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=zo.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zo.syncDiff(this.state,s,a,o),i())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),i={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);b.length>0&&(i[u]=b),p.length>0&&(c[u]=p)}else i[u]=d}),this.syncDiff(a,{joins:i,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(i,c)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(c),d.length>0){const f=t[i].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[i].unshift(...h)}r(i,d,c)}),this.map(o,(i,c)=>{let u=t[i];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[i]=u,s(i,u,c),u.length===0&&delete t[i]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M0||(M0={}));var Bo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bo||(Bo={}));var ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class Ca{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,_n.join,this.params,this.timeout),this.rejoinTimer=new jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new zo(this),this.broadcastEndpointURL=Nx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:o,presence:i,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ir.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ir.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ir.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,g=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:k,schema:_,table:j,filter:C}}=w,P=m&&m[y];if(P&&P.event===k&&Ca.isFilterValueEqual(P.schema,_)&&Ca.isFilterValueEqual(P.table,j)&&Ca.isFilterValueEqual(P.filter,C))g.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=et.errored,t==null||t(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ir.SUBSCRIBED);return}}).receive("error",m=>{this.state=et.errored,t==null||t(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===et.joined&&t===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(i.status===202)return{success:!0};let c=i.statusText;try{const u=await i.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,i,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(i=(o=this.params)===null||o===void 0?void 0:o.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Yu(this,_n.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yu(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:i,error:c,leave:u,join:d}=_n;if(r&&[i,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var b,p,x,g,y,w,k,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,C=(b=m.filter)===null||b===void 0?void 0:b.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((g=m.filter)===null||g===void 0)&&g.table)||m.filter.table===((y=n.data)===null||y===void 0?void 0:y.table))}else{const j=(k=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return j==="*"||j===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:p,table:x,commit_timestamp:g,type:y,errors:w}=b;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}m.callback(h,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ca.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_n.close,{},t)}_onError(t){this._on(_n.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=N0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=N0(t.columns,t.old_record)),n}}const Qu=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dN=[1e3,2e3,5e3,1e4],hN=1e4,fN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kh,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qu,this.ref=0,this.reconnectTimer=null,this.vsn=T0,this.logger=Qu,this.conn=null,this.sendBuffer=[],this.serializer=new sN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Eh.websocket}`,this.httpEndpoint=Nx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return Es.Connecting;case Or.open:return Es.Open;case Or.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Ca(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:a,ref:o}=n,i=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${i}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Or.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_n.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:eN};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(_n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,o,i,c,u,d,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:kh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ol.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(i=t==null?void 0:t.heartbeatCallback)!==null&&i!==void 0?i:Qu,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:T0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>dN[b-1]||hN,this.vsn){case tN:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,p)=>p(JSON.parse(b));break;case Cx:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var mi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pN(e,t,n){const r=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&r.searchParams.set(s,a);return r.toString()}async function gN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:a,headers:o}){const i=pN(e.baseUrl,r,s),c=await gN(e.auth),u=await t(i,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,b=m==null?void 0:m.error;throw new mi((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function il(e){return e.join("")}var vN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:il(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(e.namespace)}`}),!0}catch(t){if(t instanceof mi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof mi&&n.status===409)return;throw n}}};function Zs(e){return e.join("")}var wN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof mi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof mi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},xN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new vN(this.client,t),this.tableOps=new wN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},eu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var bN=class extends eu{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ch=class extends eu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const im=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SN=()=>Response,jh=e=>{if(Array.isArray(e))return e.map(n=>jh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=jh(r)}),t},kN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},EN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function pi(e){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function _N(e,t){if(pi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CN(e){var t=_N(e,"string");return pi(t)=="symbol"?t:t+""}function jN(e,t,n){return(t=CN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(r){jN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Ju=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TN=async(e,t,n)=>{e instanceof await SN()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,a=(r==null?void 0:r.statusCode)||s+"";t(new bN(Ju(r),s,a))}).catch(r=>{t(new Ch(Ju(r),r))}):t(new Ch(Ju(e),e))},NN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(kN(r)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ne(ne({},s),n))};async function Ri(e,t,n,r,s,a){return new Promise((o,i)=>{e(n,NN(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>TN(c,i,r))})}async function gi(e,t,n,r){return Ri(e,"GET",t,n,r)}async function bn(e,t,n,r,s){return Ri(e,"POST",t,r,s,n)}async function Th(e,t,n,r,s){return Ri(e,"PUT",t,r,s,n)}async function PN(e,t,n,r){return Ri(e,"HEAD",t,ne(ne({},n),{},{noResolveJson:!0}),r)}async function lm(e,t,n,r,s){return Ri(e,"DELETE",t,r,s,n)}var MN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Le(t))return{data:null,error:t};throw t}}};let Px;Px=Symbol.toStringTag;var RN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Px]="BlobDownloadBuilder",this.promise=null}asStream(){return new MN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Le(t))return{data:null,error:t};throw t}}};const ON={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AN=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let a;const o=ne(ne({},O0),r);let i=ne(ne({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=n,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,c&&(i["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(i=ne(ne({},i),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Th:bn)(s.fetch,`${s.url}/object/${d}`,a,ne({headers:i},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Le(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),i=new URL(s.url+`/object/upload/sign/${o}`);i.searchParams.set("token",t);try{let c;const u=ne({upsert:O0.upsert},r),d=ne(ne({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Th(s.fetch,i.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Le(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ne({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await bn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+a.url),i=o.searchParams.get("token");if(!i)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await bn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await bn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),a=await bn(r.fetch,`${r.url}/object/sign/${s}`,ne({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await bn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>ne(ne({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>gi(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new RN(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:jh(await gi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await PN(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r)&&r instanceof Ch){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let i=r.join("&");return i!==""&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${i}`)}}}async remove(e){var t=this;try{return{data:await lm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ne(ne(ne({},ON),t),{},{prefix:e||""});return{data:await bn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ne({},e);return{data:await bn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Mx="2.91.0",Rx={"X-Client-Info":`storage-js/${Mx}`};var IN=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ne(ne({},Rx),t),this.fetch=im(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await gi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await gi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await bn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Th(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await bn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await lm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$N=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},Rx),t),this.fetch=im(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await bn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await gi(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await lm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!EN(e))throw new eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new xN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...i)=>{try{return{data:await o.apply(s,i),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const cm={"X-Client-Info":`storage-js/${Mx}`,"Content-Type":"application/json"};var Ox=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Xu=class extends Ox{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},DN=class extends Ox{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const um=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FN=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new Xu(A0(a),r,o))}).catch(()=>{const a=r+"";t(new Xu(s.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new Xu(s.statusText||`HTTP ${r} error`,r,a))}}else t(new DN(A0(e),e))},zN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(LN(r)?(s.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ne(ne({},s),n)):s};async function BN(e,t,n,r,s,a){return new Promise((o,i)=>{e(n,zN(t,r,s,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>FN(c,i,r))})}async function Wt(e,t,n,r,s){return BN(e,"POST",t,r,s,n)}var UN=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},cm),t),this.fetch=um(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},WN=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},cm),t),this.fetch=um(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Wt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Wt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Wt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},VN=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ne(ne({},cm),t),this.fetch=um(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},HN=class extends VN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new GN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},GN=class extends UN{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new qN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qN=class extends WN{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},KN=class extends IN{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new AN(this.url,this.headers,e,this.fetch)}get vectors(){return new HN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $N(this.url+"/iceberg",this.headers,this.fetch)}};const Ax="2.91.0",da=30*1e3,Nh=3,Zu=Nh*da,YN="http://localhost:9999",QN="supabase.auth.token",JN={"X-Client-Info":`gotrue-js/${Ax}`},Ph="X-Supabase-Api-Version",Ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZN=10*60*1e3;class yi extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eP extends yi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tP(e){return Y(e)&&e.name==="AuthApiError"}class _s extends yi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kr extends yi{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ft extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nP(e){return Y(e)&&e.name==="AuthSessionMissingError"}class ea extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends kr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cl extends kr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rP(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class I0 extends kr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sP extends kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mh extends kr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ed(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class $0 extends kr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rh extends kr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D0=` 	
\r=`.split(""),aP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D0.length;t+=1)e[D0[t].charCodeAt(0)]=-2;for(let t=0;t<pc.length;t+=1)e[pc[t].charCodeAt(0)]=t;return e})();function L0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(pc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(pc[r]),t.queuedBits-=6}}function $x(e,t,n){const r=aP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{lP(o,r,n)};for(let o=0;o<e.length;o+=1)$x(e.charCodeAt(o),s,a);return t.join("")}function oP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}oP(r,t)}}function lP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ia(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$x(e.charCodeAt(s),n,r);return new Uint8Array(t)}function cP(e){const t=[];return iP(e,n=>t.push(n)),new Uint8Array(t)}function Ns(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>L0(s,n,r)),L0(null,n,r),t.join("")}function uP(e){return Math.round(Date.now()/1e3)+e}function dP(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},Dx=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function hP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Lx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ha=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},it=async(e,t)=>{await e.removeItem(t)};class tu{constructor(){this.promise=new tu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}tu.promiseConstructor=Promise;function td(e){const t=e.split(".");if(t.length!==3)throw new Rh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XN.test(t[r]))throw new Rh("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:Ia(t[2]),raw:{header:t[0],payload:t[1]}}}async function mP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pP(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function gP(e){return("0"+e.toString(16)).substr(-2)}function yP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,gP).join("")}async function vP(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function wP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vP(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ta(e,t,n=!1){const r=yP();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ha(e,`${t}-code-verifier`,s);const a=await wP(r);return[a,r===a?"plain":"s256"]}const xP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bP(e){const t=e.headers.get(Ph);if(!t||!t.match(xP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!EP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _P(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function z0(e){return JSON.parse(JSON.stringify(e))}const bs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CP=[502,503,504];async function B0(e){var t;if(!fP(e))throw new Mh(bs(e),0);if(CP.includes(e.status))throw new Mh(bs(e),e.status);let n;try{n=await e.json()}catch(a){throw new _s(bs(a),a)}let r;const s=bP(e);if(s&&s.getTime()>=Ix["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $0(bs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $0(bs(n),e.status,n.weak_password.reasons);throw new eP(bs(n),e.status||500,r)}const jP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Ph]||(a[Ph]=Ix["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await TP(e,t,n+i,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function TP(e,t,n,r,s,a){const o=jP(t,r,s,a);let i;try{i=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Mh(bs(c),0)}if(i.ok||await B0(i),r!=null&&r.noResolveJson)return i;try{return await i.json()}catch(c){await B0(c)}}function gn(e){var t;let n=null;MP(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function U0(e){const t=gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $r(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NP(e){return{data:e,error:null}}function PP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=co(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:i,user:c},error:null}}function W0(e){return e}function MP(e){return e.access_token&&e.refresh_token&&e.expires_in}const rd=["global","local","others"];class RP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Lx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=rd[0]){if(rd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rd.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$r})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=co(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$r})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:W0});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){na(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$r})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){na(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$r})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){na(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$r})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){na(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,o,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:W0});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Y(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}}function V0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ra={debug:!!(globalThis&&Dx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OP extends Fx{}async function AP(e,t,n){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ra.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ra.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function IP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $P(e){return parseInt(e,16)}function DP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function LP(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:i,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zx(e.address),b=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),i&&(g+=`
Not Before: ${i.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}g+=y}return`${x}
${g}`}class Qe extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class gc extends Qe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function FP({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Bx(o)){if(a.rp.id!==o)return new Qe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zP({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Bx(r)){if(n.rpId!==r)return new Qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BP{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const UP=new BP;function WP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=co(e,["challenge","user","excludeCredentials"]),a=Ia(t).buffer,o=Object.assign(Object.assign({},n),{id:Ia(n.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:a,user:o});if(r&&r.length>0){i.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];i.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ia(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function VP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=co(e,["challenge","allowCredentials"]),s=Ia(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const i=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},i),{id:Ia(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return a}function HP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ns(new Uint8Array(s.authenticatorData)),clientDataJSON:Ns(new Uint8Array(s.clientDataJSON)),signature:Ns(new Uint8Array(s.signature)),userHandle:s.userHandle?Ns(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function H0(){var e,t;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gc("Browser returned unexpected credential type",t)}:{data:null,error:new gc("Empty credential response",t)}}catch(t){return{data:null,error:FP({error:t,options:e})}}}async function KP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gc("Browser returned unexpected credential type",t)}:{data:null,error:new gc("Empty credential response",t)}}catch(t){return{data:null,error:zP({error:t,options:e})}}}const YP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const i=r[a];t(i)?r[a]=yc(i,o):r[a]=yc(o)}else r[a]=o}return r}function JP(e,t){return yc(YP,e,t||{})}function XP(e,t){return yc(QP,e,t||{})}class ZP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:o,error:i}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:i};const c=s??UP.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=JP(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await qP({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=XP(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await KP(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new yi("rpId is required for WebAuthn authentication")};try{if(!H0())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:o,error:i}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!o)return{data:null,error:i};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new yi("rpId is required for WebAuthn registration")};try{if(!H0())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:o,error:i}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:i};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new _s("Unexpected error in register",o)}}}}IP();const eM={url:YN,storageKey:QN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function G0(e,t,n){return await n()}const sa={};class vi{get jwks(){var t,n;return(n=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},eM),t);if(this.storageKey=a.storageKey,this.instanceID=(n=vi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,vi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&lt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new RP({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Lx(a.fetch),this.lock=a.lock||G0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AP:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Dx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=V0(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ax}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(lt()&&(n=hP(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),lt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),rP(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?this._returnResult({error:n}):this._returnResult({error:new _s("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:gn}),{data:o,error:i}=a;if(i||!o)return this._returnResult({data:{user:null,session:null},error:i});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await ta(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:gn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gn})}else throw new ll("You must provide either an email or phone number and a password");const{data:o,error:i}=a;if(i||!o)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:i}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:U0})}else if("phone"in t){const{phone:a,password:o,options:i}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:U0})}else throw new ll("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new ea;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,o,i,c,u,d,f,h;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:g,options:y}=t;let w;if(lt())if(typeof x=="object")w=x;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=zx(_[0]);let C=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const O=await w.request({method:"eth_chainId"});C=$P(O)}const P={domain:k.host,address:j,statement:g,uri:k.href,version:"1",chainId:C,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=LP(P),b=await w.request({method:"personal_sign",params:[DP(m),j]})}try{const{data:p,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gn});if(x)throw x;if(!p||!p.session||!p.user){const g=new ea;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Y(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,a,o,i,c,u,d,f,h,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:g,statement:y,options:w}=t;let k;if(lt())if(typeof g=="object")k=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ns(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:gn});if(g)throw g;if(!x||!x.session||!x.user){const y=new ea;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(Y(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await vs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new sP;const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gn});if(await it(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const i=new ea;return this._returnResult({data:{user:null,session:null,redirectType:null},error:i})}return a.session&&(await this._saveSession(a.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",a.session)},0)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,i=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gn}),{data:c,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ea;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:i,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ta(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:i,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ll("You must provide either an email or phone number.")}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:i}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:gn});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,a,o;try{let i=null,c=null;this.flowType==="pkce"&&([i,c]=await ta(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:NP});return!((a=u.data)===null||a===void 0)&&a.url&&lt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ft;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Y(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:i}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:i})}throw new ll("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await vs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=nd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=_P(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$r}):await this._useSession(async n=>{var r,s,a;const{data:o,error:i}=n;if(i)throw i;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:$r})})}catch(n){if(Y(n))return nP(n)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Ft;const o=s.session;let i=null,c=null;this.flowType==="pkce"&&t.email!=null&&([i,c]=await ta(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:c}),jwt:o.access_token,xform:$r});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ft;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=td(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:i,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i)return{data:{user:null,session:null},error:null};a=i}else{const{data:i,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:i}=n;if(i)throw i;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ft;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!lt())throw new cl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I0("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:i,expires_at:c,token_type:u}=t;if(!a||!i||!o||!u)throw new cl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(i);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=da&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:p,error:x}=await this._getUser(a);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(Y(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:i}=await this.admin.signOut(o,t);if(i&&!(tP(i)&&(i.status===404||i.status===401||i.status===403)))return this._returnResult({error:i})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=dP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ta(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,i,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Y(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:o,provider:i,token:c,access_token:u,nonce:d}=t,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:i,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ea}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await it(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pP(async s=>(s>0&&await mP(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&ed(a)&&Date.now()+o-r<da})}catch(r){if(this._debug(n,"error",r),Y(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await vs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ha(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:nd()}else if(s&&!s.user&&!s.user){const o=await vs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await it(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,s)):s.user=nd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Zu}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ed(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:i}=await this._getUser(s.access_token);!i&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tu;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ft;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const i={data:a.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(a){if(this._debug(s,"error",a),Y(a)){const o={data:null,error:a};return ed(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let i=0;i<a.length;i+=1)console.error(a[i]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ha(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=z0(s);await ha(this.storage,this.storageKey,a)}else{const s=z0(n);await ha(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),da);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/da);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${da}ms, refresh threshold is ${Nh} ticks`),s<=Nh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await ta(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(i.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HP(t.webauthn.credential_response):GP(t.webauthn.credential_response)})}:{code:t.code}),{data:i,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:c}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:i}=o;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:WP(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:VP(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=td(r.access_token);let o=null;a.aal&&(o=a.aal);let i=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(i="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Ft});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:i=>({data:i,error:null})});return o.data&&o.data.redirect_url&&lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Ft});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:i=>({data:i,error:null})});return o.data&&o.data.redirect_url&&lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(t){if(Y(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+ZN>s)return r;const{data:a,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(i=>i.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:i,payload:c}}=td(r);n!=null&&n.allowExpired||SP(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=kP(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,cP(`${i}.${c}`)))throw new Rh("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}}vi.nextInstanceID={};const tM=vi,nM="2.91.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const rM={"X-Client-Info":`supabase-js-${To}/${nM}`},sM={headers:rM},aM={schema:"public"},oM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iM={};function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function lM(e,t){if(wi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cM(e){var t=lM(e,"string");return wi(t)=="symbol"?t:t+""}function uM(e,t,n){return(t=cM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(r){uM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const dM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hM=()=>Headers,fM=(e,t,n)=>{const r=dM(n),s=hM();return async(a,o)=>{var i;const c=(i=await t())!==null&&i!==void 0?i:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Ve(Ve({},o),{},{headers:u}))}};function mM(e){return e.endsWith("/")?e:e+"/"}function pM(e,t){var n,r;const{db:s,auth:a,realtime:o,global:i}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Ve(Ve({},c),s),auth:Ve(Ve({},u),a),realtime:Ve(Ve({},d),o),storage:{},global:Ve(Ve(Ve({},f),i),{},{headers:Ve(Ve({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=i==null?void 0:i.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function gM(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yM=class extends tM{constructor(e){super(e)}},vM=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const a=gM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,i={db:aM,realtime:iM,auth:Ve(Ve({},oM),{},{storageKey:o}),global:sM},c=pM(n??{},i);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=fM(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new JT(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new KN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new GT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:a,flowType:o,lock:i,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yM({url:this.authUrl.href,headers:Ve(Ve({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:i,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mN(this.realtimeUrl.href,Ve(Ve({},e),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wM=(e,t,n)=>new vM(e,t,n);function xM(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bM="https://rapxqrjhrehfhqsafovf.supabase.co",SM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co",Je=wM(bM,SM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function Vs(){const{data:e,error:t}=await Je.from("dream_logs").select(`
      *,
      world:worlds(id, name),
      entities:dream_log_entities(entity:entities(id, name))
    `).order("date",{ascending:!1});return t?(console.error("Error fetching dream logs:",t),[]):(e||[]).map(n=>{var r,s;return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:((r=n.world)==null?void 0:r.name)||"",timeSystem:n.time_system,environments:n.environments||[],entities:((s=n.entities)==null?void 0:s.map(a=>{var o;return(o=a.entity)==null?void 0:o.name}).filter(Boolean))||[],threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}})}async function Ux(e){let t=null;if(e.world){const{data:s}=await Je.from("worlds").select("id").eq("name",e.world).maybeSingle();if(s)t=s.id;else{const{data:a}=await Je.from("worlds").insert({name:e.world,type:"transient",stability:3}).select("id").single();t=(a==null?void 0:a.id)||null}}const{data:n,error:r}=await Je.from("dream_logs").insert({dream_id:"",date:e.date,wake_time:e.wakeTime,world_id:t,time_system:e.timeSystem,environments:e.environments,threat_level:e.threatLevel,safety_override:e.safetyOverride,exit:e.exit,notes:e.notes}).select().single();if(r||!n)return console.error("Error adding dream log:",r),null;for(const s of e.entities){let a;const{data:o}=await Je.from("entities").select("id").eq("name",s).maybeSingle();if(o)a=o.id;else{const{data:i}=await Je.from("entities").insert({name:s,role:"observer"}).select("id").single();a=(i==null?void 0:i.id)||""}a&&await Je.from("dream_log_entities").insert({dream_log_id:n.id,entity_id:a})}return{id:n.dream_id,date:n.date,wakeTime:n.wake_time,world:e.world,timeSystem:n.time_system,environments:n.environments||[],entities:e.entities,threatLevel:n.threat_level,safetyOverride:n.safety_override,exit:n.exit,notes:n.notes||void 0,createdAt:n.created_at}}async function kM(e,t){const{data:n}=await Je.from("dream_logs").select("*").eq("dream_id",e).single();if(!n)return null;let r=n.world_id;if(t.world){const{data:i}=await Je.from("worlds").select("id").eq("name",t.world).maybeSingle();if(i)r=i.id;else{const{data:c}=await Je.from("worlds").insert({name:t.world,type:"transient",stability:3}).select("id").single();r=(c==null?void 0:c.id)||r}}const{data:s,error:a}=await Je.from("dream_logs").update({world_id:r,time_system:t.timeSystem||n.time_system,environments:t.environments||n.environments,threat_level:t.threatLevel!==void 0?t.threatLevel:n.threat_level,safety_override:t.safetyOverride||n.safety_override,exit:t.exit||n.exit,notes:t.notes!==void 0?t.notes:n.notes}).eq("dream_id",e).select().single();if(a||!s)return console.error("Error updating dream log:",a),null;if(t.entities){await Je.from("dream_log_entities").delete().eq("dream_log_id",s.id);for(const i of t.entities){let c;const{data:u}=await Je.from("entities").select("id").eq("name",i).maybeSingle();if(u)c=u.id;else{const{data:d}=await Je.from("entities").insert({name:i,role:"observer"}).select("id").single();c=(d==null?void 0:d.id)||""}c&&await Je.from("dream_log_entities").insert({dream_log_id:s.id,entity_id:c})}}let o=t.world||"";if(!o&&r){const{data:i}=await Je.from("worlds").select("name").eq("id",r).maybeSingle();o=(i==null?void 0:i.name)||""}return{id:s.dream_id,date:s.date,wakeTime:s.wake_time,world:o,timeSystem:s.time_system,environments:s.environments||[],entities:t.entities||[],threatLevel:s.threat_level,safetyOverride:s.safety_override,exit:s.exit,notes:s.notes||void 0,createdAt:s.created_at}}async function EM(e){const{error:t}=await Je.from("dream_logs").delete().eq("dream_id",e);return!t}async function Oi(){const{data:e,error:t}=await Je.from("worlds").select(`
      *,
      dream_logs(dream_id)
    `).order("name");return t?(console.error("Error fetching worlds:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,type:n.type,stability:n.stability,description:n.description||void 0,dreamIds:((r=n.dream_logs)==null?void 0:r.map(s=>s.dream_id))||[]}})}async function nu(){const{data:e,error:t}=await Je.from("entities").select(`
      *,
      dream_log_entities(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching entities:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,role:n.role,description:n.description||void 0,dreamIds:((r=n.dream_log_entities)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function _M(){const{data:e,error:t}=await Je.from("threats").select(`
      *,
      dream_log_threats(dream_log:dream_logs(dream_id))
    `).order("name");return t?(console.error("Error fetching threats:",t),[]):(e||[]).map(n=>{var r;return{id:n.id,name:n.name,level:n.level,response:n.response||void 0,dreamIds:((r=n.dream_log_threats)==null?void 0:r.map(s=>{var a;return(a=s.dream_log)==null?void 0:a.dream_id}).filter(Boolean))||[]}})}async function CM(e,t,n,r){const s=await fetch("https://rapxqrjhrehfhqsafovf.supabase.co/functions/v1/suggest-tags",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcHhxcmpocmVoZmhxc2Fmb3ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MjczOTYsImV4cCI6MjA4NDUwMzM5Nn0.OpoDaXxYH0wDGj9S4AYRDwVVfW2xhOsBjY8Nh8zl2co"},body:JSON.stringify({text:e,existingWorlds:t,existingEntities:n,existingEnvironments:r})});return s.ok?s.json():{world:null,environments:[],entities:[],threatLevel:0,safetyOverride:"unknown",exit:"unknown",timeSystem:"unknown"}}function jM(){var _,j;Jc(),Sr();const[e,t]=v.useState([]),[n,r]=v.useState(""),[s,a]=v.useState(!0),[o,i]=v.useState(!1),[c,u]=v.useState([]),[d,f]=v.useState([]),[h,m]=v.useState(null),[b,p]=v.useState(!1),[x,g]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const[P,O,A]=await Promise.all([Vs(),Oi(),nu()]);t(P.slice(0,5)),u(O.map(B=>B.name)),f(A.map(B=>B.name))}catch(P){console.error("Error loading data:",P)}finally{a(!1)}})()},[]);const y=async()=>{if(!n.trim()){jn.error("");return}i(!0);try{const C=await CM(n,c,d,["fog","sea","mountain","city","tunnel","rain","night","sunset","forest","building"]);m(C),p(!0),jn.success("! ")}catch(C){console.error("Error analyzing:",C),jn.error("")}finally{i(!1)}},w=async()=>{if(h){i(!0);try{const C=new Date;if(await Ux({date:C.toISOString().split("T")[0],wakeTime:C.toTimeString().slice(0,5),world:h.world||"Unknown",timeSystem:h.timeSystem||"unknown",environments:h.environments||[],entities:h.entities||[],threatLevel:h.threatLevel||0,safetyOverride:h.safetyOverride||"unknown",exit:h.exit||"unknown",notes:n})){jn.success("! ",{description:`: ${h.world} | Threat: ${h.threatLevel}`}),r(""),m(null),p(!1),g(!1);const O=await Vs();t(O.slice(0,5))}else jn.error("")}catch(C){console.error("Error saving:",C),jn.error("")}finally{i(!1)}}},k=(C,P)=>{m(O=>O?{...O,[C]:P}:null)};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(BT,{}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"space-y-8 py-4 container-app",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl",children:""}),l.jsx("p",{className:"text-muted-foreground",children:""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zc,{placeholder:"... ",value:n,onChange:C=>r(C.target.value),className:"min-h-[120px] resize-none",disabled:b}),b&&h&&l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fp,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"AI "})]}),l.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>g(!x),children:x?l.jsx(ac,{className:"w-4 h-4"}):l.jsx(Wf,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),x?l.jsx(nn,{value:h.world,onChange:C=>k("world",C.target.value),className:"mt-1 h-8"}):l.jsx(Oe,{variant:"secondary",children:h.world})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:": "}),l.jsxs(Oe,{variant:h.threatLevel>=3?"destructive":"secondary",children:["Level ",h.threatLevel]})]}),((_=h.entities)==null?void 0:_.length)>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Entities: "}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.entities.map((C,P)=>l.jsx(Oe,{variant:"outline",children:C},P))})]}),((j=h.environments)==null?void 0:j.length)>0&&l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground",children:["Environments:"," "]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.environments.map((C,P)=>l.jsx(Oe,{variant:"outline",children:C},P))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Me,{onClick:w,disabled:o,className:"flex-1 gap-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(Lp,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ac,{className:"w-4 h-4"}),""]})}),l.jsx(Me,{variant:"outline",onClick:()=>{p(!1),m(null),g(!1)},children:l.jsx(Bc,{className:"w-4 h-4"})})]})]}),!b&&l.jsx(Me,{onClick:y,disabled:o||!n.trim(),className:"w-full gap-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(Lp,{className:"w-4 h-4 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Fp,{className:"w-4 h-4"}),""]})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx(Me,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(xt,{to:"/logs/new",children:[l.jsx(mw,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:" ()"})]})}),l.jsx(Me,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(xt,{to:"/library",children:[l.jsx(Uf,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:""})]})}),l.jsx(Me,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2 h-12",children:l.jsxs(xt,{to:"/logs",children:[l.jsx(tk,{className:"w-5 h-5"}),l.jsx("span",{className:"flex-1 text-left",children:""})]})})]}),s?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"..."}):e.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:""}),l.jsx(xt,{to:"/logs",className:"text-sm text-primary hover:underline",children:""})]}),l.jsx("div",{className:"space-y-2",children:e.map(C=>l.jsx(kx,{dream:C,compact:!0},C.id))})]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Me,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(xt,{to:"/logs/new",children:""})})]})]})}),l.jsx(Xc,{})]})}function K0(e,[t,n]){return Math.min(n,Math.max(t,e))}var TM=v.createContext(void 0);function dm(e){const t=v.useContext(TM);return e||t||"ltr"}var sd=0;function NM(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y0()),document.body.insertAdjacentElement("beforeend",e[1]??Y0()),sd++,()=>{sd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sd--}},[])}function Y0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ad="focusScope.autoFocusOnMount",od="focusScope.autoFocusOnUnmount",Q0={bubbles:!1,cancelable:!0},PM="FocusScope",Wx=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[i,c]=v.useState(null),u=un(s),d=un(a),f=v.useRef(null),h=Ae(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(w){if(m.paused||!i)return;const k=w.target;i.contains(k)?f.current=k:Pr(f.current,{select:!0})},x=function(w){if(m.paused||!i)return;const k=w.relatedTarget;k!==null&&(i.contains(k)||Pr(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Pr(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(g);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[r,i,m.paused]),v.useEffect(()=>{if(i){X0.add(m);const p=document.activeElement;if(!i.contains(p)){const g=new CustomEvent(ad,Q0);i.addEventListener(ad,u),i.dispatchEvent(g),g.defaultPrevented||(MM($M(Vx(i)),{select:!0}),document.activeElement===p&&Pr(i))}return()=>{i.removeEventListener(ad,u),setTimeout(()=>{const g=new CustomEvent(od,Q0);i.addEventListener(od,d),i.dispatchEvent(g),g.defaultPrevented||Pr(p??document.body,{select:!0}),i.removeEventListener(od,d),X0.remove(m)},0)}}},[i,u,d,m]);const b=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(x&&g){const y=p.currentTarget,[w,k]=RM(y);w&&k?!p.shiftKey&&g===k?(p.preventDefault(),n&&Pr(w,{select:!0})):p.shiftKey&&g===w&&(p.preventDefault(),n&&Pr(k,{select:!0})):g===y&&p.preventDefault()}},[n,r,m.paused]);return l.jsx(me.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});Wx.displayName=PM;function MM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pr(r,{select:t}),document.activeElement!==n)return}function RM(e){const t=Vx(e),n=J0(t,e),r=J0(t.reverse(),e);return[n,r]}function Vx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J0(e,t){for(const n of e)if(!OM(n,{upTo:t}))return n}function OM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AM(e){return e instanceof HTMLInputElement&&"select"in e}function Pr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&AM(e)&&t&&e.select()}}var X0=IM();function IM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Z0(e,t),e.unshift(t)},remove(t){var n;e=Z0(e,t),(n=e[0])==null||n.resume()}}}function Z0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function $M(e){return e.filter(t=>t.tagName!=="A")}function Hx(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var DM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},aa=new WeakMap,ul=new WeakMap,dl={},id=0,Gx=function(e){return e&&(e.host||Gx(e.parentNode))},LM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},FM=function(e,t,n,r){var s=LM(t,Array.isArray(e)?e:[e]);dl[n]||(dl[n]=new WeakMap);var a=dl[n],o=[],i=new Set,c=new Set(s),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var m=h.getAttribute(r),b=m!==null&&m!=="false",p=(aa.get(h)||0)+1,x=(a.get(h)||0)+1;aa.set(h,p),a.set(h,x),o.push(h),p===1&&b&&ul.set(h,!0),x===1&&h.setAttribute(n,"true"),b||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),i.clear(),id++,function(){o.forEach(function(f){var h=aa.get(f)-1,m=a.get(f)-1;aa.set(f,h),a.set(f,m),h||(ul.has(f)||f.removeAttribute(r),ul.delete(f)),m||f.removeAttribute(n)}),id--,id||(aa=new WeakMap,aa=new WeakMap,ul=new WeakMap,dl={})}},zM=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),FM(r,s,n,"aria-hidden")):function(){return null}},Ml="right-scroll-bar-position",Rl="width-before-scroll-bar",BM="with-scroll-bars-hidden",UM="--removed-body-scroll-bar-size";function ld(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WM(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var VM=typeof window<"u"?v.useLayoutEffect:v.useEffect,eg=new WeakMap;function HM(e,t){var n=WM(null,function(r){return e.forEach(function(s){return ld(s,r)})});return VM(function(){var r=eg.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(i){a.has(i)||ld(i,null)}),a.forEach(function(i){s.has(i)||ld(i,o)})}eg.set(n,e)},[e]),n}function GM(e){return e}function qM(e,t){t===void 0&&(t=GM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var i=n;n=[],i.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function KM(e){e===void 0&&(e={});var t=qM(null);return t.options=Wn({async:!0,ssr:!1},e),t}var qx=function(e){var t=e.sideCar,n=co(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Wn({},n))};qx.isSideCarExport=!0;function YM(e,t){return e.useMedium(t),qx}var Kx=KM(),cd=function(){},ru=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:cd,onWheelCapture:cd,onTouchMoveCapture:cd}),s=r[0],a=r[1],o=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,w=e.gapMode,k=co(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=HM([n,t]),C=Wn(Wn({},k),s);return v.createElement(v.Fragment,null,d&&v.createElement(_,{sideCar:Kx,removeScrollBar:u,shards:f,noRelative:m,noIsolation:b,inert:p,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(i),Wn(Wn({},C),{ref:j})):v.createElement(y,Wn({},C,{className:c,ref:j}),i))});ru.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ru.classNames={fullWidth:Rl,zeroRight:Ml};var QM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QM();return t&&e.setAttribute("nonce",t),e}function XM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=JM())&&(XM(t,n),ZM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tR=function(){var e=eR();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Yx=function(){var e=tR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},nR={left:0,top:0,right:0,gap:0},ud=function(e){return parseInt(e||"",10)||0},rR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ud(n),ud(r),ud(s)]},sR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nR;var t=rR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},aR=Yx(),$a="data-scroll-locked",oR=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(BM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ml,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Rl,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ml," .").concat(Ml,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(UM,": ").concat(i,`px;
  }
`)},tg=function(){var e=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(e)?e:0},iR=function(){v.useEffect(function(){return document.body.setAttribute($a,(tg()+1).toString()),function(){var e=tg()-1;e<=0?document.body.removeAttribute($a):document.body.setAttribute($a,e.toString())}},[])},lR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;iR();var a=v.useMemo(function(){return sR(s)},[s]);return v.createElement(aR,{styles:oR(a,!t,s,n?"":"!important")})},Oh=!1;if(typeof window<"u")try{var hl=Object.defineProperty({},"passive",{get:function(){return Oh=!0,!0}});window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Oh=!1}var oa=Oh?{passive:!1}:!1,cR=function(e){return e.tagName==="TEXTAREA"},Qx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cR(e)&&n[t]==="visible")},uR=function(e){return Qx(e,"overflowY")},dR=function(e){return Qx(e,"overflowX")},ng=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jx(e,r);if(s){var a=Xx(e,r),o=a[1],i=a[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},fR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Jx=function(e,t){return e==="v"?uR(t):dR(t)},Xx=function(e,t){return e==="v"?hR(t):fR(t)},mR=function(e,t){return e==="h"&&t==="rtl"?-1:1},pR=function(e,t,n,r,s){var a=mR(e,window.getComputedStyle(t).direction),o=a*r,i=n.target,c=t.contains(i),u=!1,d=o>0,f=0,h=0;do{if(!i)break;var m=Xx(e,i),b=m[0],p=m[1],x=m[2],g=p-x-a*b;(b||g)&&Jx(e,i)&&(f+=g,h+=b);var y=i.parentNode;i=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},fl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rg=function(e){return[e.deltaX,e.deltaY]},sg=function(e){return e&&"current"in e?e.current:e},gR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vR=0,ia=[];function wR(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(vR++)[0],a=v.useState(Yx)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=WT([e.lockRef.current],(e.shards||[]).map(sg),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var g=fl(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-g[0],k="deltaY"in p?p.deltaY:y[1]-g[1],_,j=p.target,C=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in p&&C==="h"&&j.type==="range")return!1;var P=ng(C,j);if(!P)return!0;if(P?_=C:(_=C==="v"?"h":"v",P=ng(C,j)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||k)&&(r.current=_),!_)return!0;var O=r.current||_;return pR(O,x,p,O==="h"?w:k,!0)},[]),c=v.useCallback(function(p){var x=p;if(!(!ia.length||ia[ia.length-1]!==a)){var g="deltaY"in x?rg(x):fl(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&gR(_.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(sg).filter(Boolean).filter(function(_){return _.contains(x.target)}),k=w.length>0?i(x,w[0]):!o.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,g,y){var w={name:p,delta:x,target:g,should:y,shadowParent:xR(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(k){return k!==w})},1)},[]),d=v.useCallback(function(p){n.current=fl(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,rg(p),p.target,i(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,fl(p),p.target,i(p,e.lockRef.current))},[]);v.useEffect(function(){return ia.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,oa),document.addEventListener("touchmove",c,oa),document.addEventListener("touchstart",d,oa),function(){ia=ia.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,oa),document.removeEventListener("touchmove",c,oa),document.removeEventListener("touchstart",d,oa)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(a,{styles:yR(s)}):null,m?v.createElement(lR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bR=YM(Kx,wR);var Zx=v.forwardRef(function(e,t){return v.createElement(ru,Wn({},e,{ref:t,sideCar:bR}))});Zx.classNames=ru.classNames;var SR=[" ","Enter","ArrowUp","ArrowDown"],kR=[" ","Enter"],Hs="Select",[su,au,ER]=$f(Hs),[uo,L4]=us(Hs,[ER,Hc]),ou=Hc(),[_R,hs]=uo(Hs),[CR,jR]=uo(Hs),eb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:i,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:b}=e,p=ou(t),[x,g]=v.useState(null),[y,w]=v.useState(null),[k,_]=v.useState(!1),j=dm(u),[C,P]=Za({prop:r,defaultProp:s??!1,onChange:a,caller:Hs}),[O,A]=Za({prop:o,defaultProp:i,onChange:c,caller:Hs}),B=v.useRef(null),L=x?b||!!x.closest("form"):!0,[Q,$]=v.useState(new Set),K=Array.from(Q).map(V=>V.props.value).join(";");return l.jsx(H_,{...p,children:l.jsxs(_R,{required:m,scope:t,trigger:x,onTriggerChange:g,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:k,onValueNodeHasChildrenChange:_,contentId:Ni(),value:O,onValueChange:A,open:C,onOpenChange:P,dir:j,triggerPointerDownPosRef:B,disabled:h,children:[l.jsx(su.Provider,{scope:t,children:l.jsx(CR,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(V=>{$(q=>new Set(q).add(V))},[]),onNativeOptionRemove:v.useCallback(V=>{$(q=>{const M=new Set(q);return M.delete(V),M})},[]),children:n})}),L?l.jsxs(Eb,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:V=>A(V.target.value),disabled:h,form:b,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(Q)]},K):null]})})};eb.displayName=Hs;var tb="SelectTrigger",nb=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=ou(n),o=hs(tb,n),i=o.disabled||r,c=Ae(t,o.onTriggerChange),u=au(n),d=v.useRef("touch"),[f,h,m]=Cb(p=>{const x=u().filter(w=>!w.disabled),g=x.find(w=>w.value===o.value),y=jb(x,p,g);y!==void 0&&o.onValueChange(y.value)}),b=p=>{i||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(Kw,{asChild:!0,...a,children:l.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":_b(o.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:se(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:se(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&SR.includes(p.key)&&(b(),p.preventDefault())})})})});nb.displayName=tb;var rb="SelectValue",sb=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...i}=e,c=hs(rb,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ae(t,c.onValueNodeChange);return ft(()=>{u(d)},[u,d]),l.jsx(me.span,{...i,ref:f,style:{pointerEvents:"none"},children:_b(c.value)?l.jsx(l.Fragment,{children:o}):a})});sb.displayName=rb;var TR="SelectIcon",ab=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});ab.displayName=TR;var NR="SelectPortal",ob=e=>l.jsx(Df,{asChild:!0,...e});ob.displayName=NR;var Gs="SelectContent",ib=v.forwardRef((e,t)=>{const n=hs(Gs,e.__scopeSelect),[r,s]=v.useState();if(ft(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Ys.createPortal(l.jsx(lb,{scope:e.__scopeSelect,children:l.jsx(su.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(cb,{...e,ref:t})});ib.displayName=Gs;var vn=10,[lb,fs]=uo(Gs),PR="SelectContentImpl",MR=ai("SelectContent.RemoveScroll"),cb=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...g}=e,y=hs(Gs,n),[w,k]=v.useState(null),[_,j]=v.useState(null),C=Ae(t,D=>k(D)),[P,O]=v.useState(null),[A,B]=v.useState(null),L=au(n),[Q,$]=v.useState(!1),K=v.useRef(!1);v.useEffect(()=>{if(w)return zM(w)},[w]),NM();const V=v.useCallback(D=>{const[he,...ke]=L().map(ye=>ye.ref.current),[ue]=ke.slice(-1),le=document.activeElement;for(const ye of D)if(ye===le||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===he&&_&&(_.scrollTop=0),ye===ue&&_&&(_.scrollTop=_.scrollHeight),ye==null||ye.focus(),document.activeElement!==le))return},[L,_]),q=v.useCallback(()=>V([P,w]),[V,P,w]);v.useEffect(()=>{Q&&q()},[Q,q]);const{onOpenChange:M,triggerPointerDownPosRef:S}=y;v.useEffect(()=>{if(w){let D={x:0,y:0};const he=ue=>{var le,ye;D={x:Math.abs(Math.round(ue.pageX)-(((le=S.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ye=S.current)==null?void 0:ye.y)??0))}},ke=ue=>{D.x<=10&&D.y<=10?ue.preventDefault():w.contains(ue.target)||M(!1),document.removeEventListener("pointermove",he),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ke,{capture:!0})}}},[w,M,S]),v.useEffect(()=>{const D=()=>M(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[M]);const[U,Z]=Cb(D=>{const he=L().filter(le=>!le.disabled),ke=he.find(le=>le.ref.current===document.activeElement),ue=jb(he,D,ke);ue&&setTimeout(()=>ue.ref.current.focus())}),F=v.useCallback((D,he,ke)=>{const ue=!K.current&&!ke;(y.value!==void 0&&y.value===he||ue)&&(O(D),ue&&(K.current=!0))},[y.value]),E=v.useCallback(()=>w==null?void 0:w.focus(),[w]),X=v.useCallback((D,he,ke)=>{const ue=!K.current&&!ke;(y.value!==void 0&&y.value===he||ue)&&B(D)},[y.value]),T=r==="popper"?Ah:ub,H=T===Ah?{side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return l.jsx(lb,{scope:n,content:w,viewport:_,onViewportChange:j,itemRefCallback:F,selectedItem:P,onItemLeave:E,itemTextRefCallback:X,focusSelectedItem:q,selectedItemText:A,position:r,isPositioned:Q,searchRef:U,children:l.jsx(Zx,{as:MR,allowPinchZoom:!0,children:l.jsx(Wx,{asChild:!0,trapped:y.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:se(s,D=>{var he;(he=y.trigger)==null||he.focus({preventScroll:!0}),D.preventDefault()}),children:l.jsx(Dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(T,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:D=>D.preventDefault(),...g,...H,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:se(g.onKeyDown,D=>{const he=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!he&&D.key.length===1&&Z(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let ue=L().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(D.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const le=D.target,ye=ue.indexOf(le);ue=ue.slice(ye+1)}setTimeout(()=>V(ue)),D.preventDefault()}})})})})})})});cb.displayName=PR;var RR="SelectItemAlignedPosition",ub=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=hs(Gs,n),o=fs(Gs,n),[i,c]=v.useState(null),[u,d]=v.useState(null),f=Ae(t,C=>d(C)),h=au(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:g,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&u&&p&&x&&g){const C=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(a.dir!=="rtl"){const le=A.left-P.left,ye=O.left-le,Ge=C.left-ye,St=C.width+Ge,dn=Math.max(St,P.width),An=window.innerWidth-vn,Xn=K0(ye,[vn,Math.max(vn,An-dn)]);i.style.minWidth=St+"px",i.style.left=Xn+"px"}else{const le=P.right-A.right,ye=window.innerWidth-O.right-le,Ge=window.innerWidth-C.right-ye,St=C.width+Ge,dn=Math.max(St,P.width),An=window.innerWidth-vn,Xn=K0(ye,[vn,Math.max(vn,An-dn)]);i.style.minWidth=St+"px",i.style.right=Xn+"px"}const B=h(),L=window.innerHeight-vn*2,Q=p.scrollHeight,$=window.getComputedStyle(u),K=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),q=parseInt($.borderBottomWidth,10),M=parseInt($.paddingBottom,10),S=K+V+Q+M+q,U=Math.min(x.offsetHeight*5,S),Z=window.getComputedStyle(p),F=parseInt(Z.paddingTop,10),E=parseInt(Z.paddingBottom,10),X=C.top+C.height/2-vn,T=L-X,H=x.offsetHeight/2,D=x.offsetTop+H,he=K+V+D,ke=S-he;if(he<=X){const le=B.length>0&&x===B[B.length-1].ref.current;i.style.bottom="0px";const ye=u.clientHeight-p.offsetTop-p.offsetHeight,Ge=Math.max(T,H+(le?E:0)+ye+q),St=he+Ge;i.style.height=St+"px"}else{const le=B.length>0&&x===B[0].ref.current;i.style.top="0px";const Ge=Math.max(X,K+p.offsetTop+(le?F:0)+H)+ke;i.style.height=Ge+"px",p.scrollTop=he-X+p.offsetTop}i.style.margin=`${vn}px 0`,i.style.minHeight=U+"px",i.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,i,u,p,x,g,a.dir,r]);ft(()=>w(),[w]);const[k,_]=v.useState();ft(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=v.useCallback(C=>{C&&b.current===!0&&(w(),y==null||y(),b.current=!1)},[w,y]);return l.jsx(AR,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ub.displayName=RR;var OR="SelectPopperPosition",Ah=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=vn,...a}=e,o=ou(n);return l.jsx(Yw,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ah.displayName=OR;var[AR,hm]=uo(Gs,{}),Ih="SelectViewport",db=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=fs(Ih,n),o=hm(Ih,n),i=Ae(t,a.onViewportChange),c=v.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(su.Slot,{scope:n,children:l.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const b=window.innerHeight-vn*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),g=Math.max(p,x);if(g<b){const y=g+m,w=Math.min(b,y),k=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});db.displayName=Ih;var hb="SelectGroup",[IR,$R]=uo(hb),DR=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ni();return l.jsx(IR,{scope:n,id:s,children:l.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});DR.displayName=hb;var fb="SelectLabel",mb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$R(fb,n);return l.jsx(me.div,{id:s.id,...r,ref:t})});mb.displayName=fb;var vc="SelectItem",[LR,pb]=uo(vc),gb=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,i=hs(vc,n),c=fs(vc,n),u=i.value===r,[d,f]=v.useState(a??""),[h,m]=v.useState(!1),b=Ae(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,s)}),p=Ni(),x=v.useRef("touch"),g=()=>{s||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(LR,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(su.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:se(o.onFocus,()=>m(!0)),onBlur:se(o.onBlur,()=>m(!1)),onClick:se(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:se(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:se(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:se(o.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:se(o.onKeyDown,y=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(kR.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});gb.displayName=vc;var No="SelectItemText",yb=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=hs(No,n),i=fs(No,n),c=pb(No,n),u=jR(No,n),[d,f]=v.useState(null),h=Ae(t,g=>f(g),c.onItemTextChange,g=>{var y;return(y=i.itemTextRefCallback)==null?void 0:y.call(i,g,c.value,c.disabled)}),m=d==null?void 0:d.textContent,b=v.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ft(()=>(p(b),()=>x(b)),[p,x,b]),l.jsxs(l.Fragment,{children:[l.jsx(me.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ys.createPortal(a.children,o.valueNode):null]})});yb.displayName=No;var vb="SelectItemIndicator",wb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return pb(vb,n).isSelected?l.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});wb.displayName=vb;var $h="SelectScrollUpButton",xb=v.forwardRef((e,t)=>{const n=fs($h,e.__scopeSelect),r=hm($h,e.__scopeSelect),[s,a]=v.useState(!1),o=Ae(t,r.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(Sb,{...e,ref:o,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});xb.displayName=$h;var Dh="SelectScrollDownButton",bb=v.forwardRef((e,t)=>{const n=fs(Dh,e.__scopeSelect),r=hm(Dh,e.__scopeSelect),[s,a]=v.useState(!1),o=Ae(t,r.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),s?l.jsx(Sb,{...e,ref:o,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});bb.displayName=Dh;var Sb=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=fs("SelectScrollButton",n),o=v.useRef(null),i=au(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),ft(()=>{var d;const u=i().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),l.jsx(me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),FR="SelectSeparator",kb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});kb.displayName=FR;var Lh="SelectArrow",zR=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ou(n),a=hs(Lh,n),o=fs(Lh,n);return a.open&&o.position==="popper"?l.jsx(Qw,{...s,...r,ref:t}):null});zR.displayName=Lh;var BR="SelectBubbleInput",Eb=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),a=Ae(r,s),o=Hx(t);return v.useEffect(()=>{const i=s.current;if(!i)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[o,t]),l.jsx(me.select,{...n,style:{...Bv,...n.style},ref:a,defaultValue:t})});Eb.displayName=BR;function _b(e){return e===""||e===void 0}function Cb(e){const t=un(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const i=n.current+o;t(i),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function jb(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=UR(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function UR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WR=eb,Tb=nb,VR=sb,HR=ab,GR=ob,Nb=ib,qR=db,Pb=mb,Mb=gb,KR=yb,YR=wb,Rb=xb,Ob=bb,Ab=kb;const sn=WR,an=VR,Ht=v.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Tb,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(HR,{asChild:!0,children:l.jsx(ks,{className:"h-4 w-4 opacity-50"})})]}));Ht.displayName=Tb.displayName;const Ib=v.forwardRef(({className:e,...t},n)=>l.jsx(Rb,{ref:n,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ca,{className:"h-4 w-4"})}));Ib.displayName=Rb.displayName;const $b=v.forwardRef(({className:e,...t},n)=>l.jsx(Ob,{ref:n,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ks,{className:"h-4 w-4"})}));$b.displayName=Ob.displayName;const Gt=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(GR,{children:l.jsxs(Nb,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(Ib,{}),l.jsx(qR,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx($b,{})]})}));Gt.displayName=Nb.displayName;const QR=v.forwardRef(({className:e,...t},n)=>l.jsx(Pb,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));QR.displayName=Pb.displayName;const ut=v.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Mb,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(YR,{children:l.jsx(ac,{className:"h-4 w-4"})})}),l.jsx(KR,{children:t})]}));ut.displayName=Mb.displayName;const JR=v.forwardRef(({className:e,...t},n)=>l.jsx(Ab,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));JR.displayName=Ab.displayName;const dd=["fog","sea","mountain","city","tunnel","rain","night","sunset"],fm=["inactive","activated","unknown"],mm=["none","helper","separation","wake","unknown"],Db=["wake","separation","collapse","unknown"];function XR(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,a]=v.useState(!0),[o,i]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState("all"),[h,m]=v.useState("all"),[b,p]=v.useState("all"),[x,g]=v.useState("all");v.useEffect(()=>{(async()=>{try{const[k,_]=await Promise.all([Vs(),Oi()]);t(k),r(_)}catch(k){console.error("Error loading data:",k)}finally{a(!1)}})()},[]);const y=e.filter(w=>{var k;if(c){const _=c.toLowerCase();if(!(w.world.toLowerCase().includes(_)||((k=w.notes)==null?void 0:k.toLowerCase().includes(_))||w.entities.some(C=>C.toLowerCase().includes(_))||w.environments.some(C=>C.toLowerCase().includes(_))))return!1}return!(d!=="all"&&w.world!==d||h!=="all"&&w.threatLevel!==Number(h)||b!=="all"&&w.timeSystem!==b||x!=="all"&&w.safetyOverride!==x)});return s?l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."}):l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{children:"Dream Logs"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>i(!o),children:l.jsx(J5,{className:"w-4 h-4"})}),l.jsx(Me,{asChild:!0,size:"sm",children:l.jsxs(xt,{to:"/logs/new",children:[l.jsx(mw,{className:"w-4 h-4 mr-1"}),"New"]})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(pw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(nn,{type:"text",placeholder:" dreams... (world, notes, entities, environments)",value:c,onChange:w=>u(w.target.value),className:"pl-9 pr-9"}),c&&l.jsx(Me,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>u(""),children:l.jsx(Bc,{className:"w-3 h-3"})})]}),o&&l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(sn,{value:d,onValueChange:f,children:[l.jsx(Ht,{className:"text-sm",children:l.jsx(an,{placeholder:"World"})}),l.jsxs(Gt,{children:[l.jsx(ut,{value:"all",children:"All Worlds"}),n.map(w=>l.jsx(ut,{value:w.name,children:w.name},w.id))]})]}),l.jsxs(sn,{value:h,onValueChange:m,children:[l.jsx(Ht,{className:"text-sm",children:l.jsx(an,{placeholder:"Threat"})}),l.jsxs(Gt,{children:[l.jsx(ut,{value:"all",children:"All Threats"}),[0,1,2,3,4,5].map(w=>l.jsxs(ut,{value:String(w),children:["Level ",w]},w))]})]}),l.jsxs(sn,{value:b,onValueChange:p,children:[l.jsx(Ht,{className:"text-sm",children:l.jsx(an,{placeholder:"Time System"})}),l.jsxs(Gt,{children:[l.jsx(ut,{value:"all",children:"All"}),fm.map(w=>l.jsx(ut,{value:w,children:w},w))]})]}),l.jsxs(sn,{value:x,onValueChange:g,children:[l.jsx(Ht,{className:"text-sm",children:l.jsx(an,{placeholder:"Safety"})}),l.jsxs(Gt,{children:[l.jsx(ut,{value:"all",children:"All"}),mm.map(w=>l.jsx(ut,{value:w,children:w},w))]})]})]})]}),l.jsx("div",{className:"space-y-2",children:y.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("p",{children:""}),l.jsx(Me,{asChild:!0,variant:"link",className:"mt-2",children:l.jsx(xt,{to:"/logs/new",children:""})})]}):y.map(w=>l.jsx(kx,{dream:w,showEdit:!0},w.id))})]})}var ZR="Label",Lb=v.forwardRef((e,t)=>l.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Lb.displayName=ZR;var Fb=Lb;const eO=zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yn=v.forwardRef(({className:e,...t},n)=>l.jsx(Fb,{ref:n,className:we(eO(),e),...t}));yn.displayName=Fb.displayName;var iu="Checkbox",[tO,F4]=us(iu),[nO,pm]=tO(iu);function rO(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:i,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Za({prop:n,defaultProp:s??!1,onChange:c,caller:iu}),[b,p]=v.useState(null),[x,g]=v.useState(null),y=v.useRef(!1),w=b?!!o||!!b.closest("form"):!0,k={checked:h,disabled:a,setChecked:m,control:b,setControl:p,name:i,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:ts(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:g};return l.jsx(nO,{scope:t,...k,children:sO(f)?f(k):r})}var zb="CheckboxTrigger",Bb=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:o,disabled:i,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:b}=pm(zb,e),p=Ae(s,d),x=v.useRef(c);return v.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const y=()=>f(x.current);return g.addEventListener("reset",y),()=>g.removeEventListener("reset",y)}},[a,f]),l.jsx(me.button,{type:"button",role:"checkbox","aria-checked":ts(c)?"mixed":c,"aria-required":u,"data-state":Gb(c),"data-disabled":i?"":void 0,disabled:i,value:o,...r,ref:p,onKeyDown:se(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:se(n,g=>{f(y=>ts(y)?!0:!y),b&&m&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});Bb.displayName=zb;var gm=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:i,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(rO,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:i,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(Bb,{...f,ref:t,__scopeCheckbox:n}),h&&l.jsx(Hb,{__scopeCheckbox:n})]})})});gm.displayName=iu;var Ub="CheckboxIndicator",Wb=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=pm(Ub,n);return l.jsx(ji,{present:r||ts(a.checked)||a.checked===!0,children:l.jsx(me.span,{"data-state":Gb(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Wb.displayName=Ub;var Vb="CheckboxBubbleInput",Hb=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:i,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=pm(Vb,e),b=Ae(n,m),p=Hx(a),x=Lw(r);v.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(p!==a&&_){const C=new Event("click",{bubbles:j});y.indeterminate=ts(a),_.call(y,ts(a)?!1:a),y.dispatchEvent(C)}},[h,p,a,s]);const g=v.useRef(ts(a)?!1:a);return l.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:i,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Hb.displayName=Vb;function sO(e){return typeof e=="function"}function ts(e){return e==="indeterminate"}function Gb(e){return ts(e)?"indeterminate":e?"checked":"unchecked"}const qb=v.forwardRef(({className:e,...t},n)=>l.jsx(gm,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Wb,{className:we("flex items-center justify-center text-current"),children:l.jsx(ac,{className:"h-4 w-4"})})}));qb.displayName=gm.displayName;function aO(){const e=Jc(),[t,n]=v.useState([]),[r,s]=v.useState([]),[a,o]=v.useState(!1),[i,c]=v.useState({date:new Date().toISOString().split("T")[0],wakeTime:"",world:"",newWorld:"",timeSystem:"unknown",environments:[],newEnvironment:"",selectedEntities:[],newEntity:"",threatLevel:0,safetyOverride:"none",exit:"unknown",notes:""});v.useEffect(()=>{(async()=>{const[m,b]=await Promise.all([Oi(),nu()]);n(m.map(p=>({id:p.id,name:p.name}))),s(b.map(p=>({id:p.id,name:p.name})))})()},[]);const u=async h=>{h.preventDefault(),o(!0);try{const m=i.newWorld||i.world,b=[...i.selectedEntities];i.newEntity&&b.push(i.newEntity);const p=[...i.environments];i.newEnvironment&&p.push(i.newEnvironment),await Ux({date:i.date,wakeTime:i.wakeTime,world:m,timeSystem:i.timeSystem,environments:p,entities:b,threatLevel:i.threatLevel,safetyOverride:i.safetyOverride,exit:i.exit,notes:i.notes||void 0})?(Tl({title:""}),e("/logs")):Tl({title:"",variant:"destructive"})}catch(m){console.error("Error saving dream:",m),Tl({title:"",variant:"destructive"})}finally{o(!1)}},d=h=>{c(m=>({...m,environments:m.environments.includes(h)?m.environments.filter(b=>b!==h):[...m.environments,h]}))},f=h=>{c(m=>({...m,selectedEntities:m.selectedEntities.includes(h)?m.selectedEntities.filter(b=>b!==h):[...m.selectedEntities,h]}))};return l.jsxs("div",{className:"py-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(uw,{className:"w-4 h-4"})}),l.jsx("h1",{children:""})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{htmlFor:"date",children:"Date"}),l.jsx(nn,{id:"date",type:"date",value:i.date,onChange:h=>c(m=>({...m,date:h.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{htmlFor:"wakeTime",children:"Wake Time"}),l.jsx(nn,{id:"wakeTime",type:"time",value:i.wakeTime,onChange:h=>c(m=>({...m,wakeTime:h.target.value})),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"World"}),l.jsxs(sn,{value:i.world,onValueChange:h=>c(m=>({...m,world:h})),children:[l.jsx(Ht,{children:l.jsx(an,{placeholder:"Select or create new"})}),l.jsx(Gt,{children:t.map(h=>l.jsx(ut,{value:h.name,children:h.name},h.id))})]}),l.jsx(nn,{placeholder:"...",value:i.newWorld,onChange:h=>c(m=>({...m,newWorld:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"Time System"}),l.jsxs(sn,{value:i.timeSystem,onValueChange:h=>c(m=>({...m,timeSystem:h})),children:[l.jsx(Ht,{children:l.jsx(an,{})}),l.jsx(Gt,{children:fm.map(h=>l.jsx(ut,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"Environments"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:dd.map(h=>l.jsx("button",{type:"button",onClick:()=>d(h),className:`tag transition-colors ${i.environments.includes(h)?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,children:h},h))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(nn,{type:"text",placeholder:" environment ...",value:i.newEnvironment,onChange:h=>c({...i,newEnvironment:h.target.value}),className:"flex-1"}),l.jsx(Me,{type:"button",variant:"outline",size:"sm",disabled:!i.newEnvironment,onClick:()=>{i.newEnvironment&&!i.environments.includes(i.newEnvironment)&&c(h=>({...h,environments:[...h.environments,h.newEnvironment],newEnvironment:""}))},children:""})]}),i.environments.filter(h=>!dd.includes(h)).length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:i.environments.filter(h=>!dd.includes(h)).map(h=>l.jsx("button",{type:"button",onClick:()=>d(h),className:"tag bg-primary text-primary-foreground",children:h},h))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"Entities"}),l.jsx("div",{className:"space-y-2",children:r.map(h=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qb,{id:h.id,checked:i.selectedEntities.includes(h.name),onCheckedChange:()=>f(h.name)}),l.jsx("label",{htmlFor:h.id,className:"text-sm",children:h.name})]},h.id))}),l.jsx(nn,{placeholder:" entity ...",value:i.newEntity,onChange:h=>c(m=>({...m,newEntity:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(yn,{children:["Threat Level: ",i.threatLevel]}),l.jsx("input",{type:"range",min:"0",max:"5",value:i.threatLevel,onChange:h=>c(m=>({...m,threatLevel:Number(h.target.value)})),className:"w-full accent-primary"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"5"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"Safety Override"}),l.jsxs(sn,{value:i.safetyOverride,onValueChange:h=>c(m=>({...m,safetyOverride:h})),children:[l.jsx(Ht,{children:l.jsx(an,{})}),l.jsx(Gt,{children:mm.map(h=>l.jsx(ut,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{children:"Exit"}),l.jsxs(sn,{value:i.exit,onValueChange:h=>c(m=>({...m,exit:h})),children:[l.jsx(Ht,{children:l.jsx(an,{})}),l.jsx(Gt,{children:Db.map(h=>l.jsx(ut,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yn,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Zc,{id:"notes",placeholder:"...",value:i.notes,onChange:h=>c(m=>({...m,notes:h.target.value})),className:"min-h-[80px]"})]}),l.jsx(Me,{type:"submit",className:"w-full",disabled:a,children:a?"...":""})]})]})}const oO={0:"bg-muted text-muted-foreground",1:"bg-yellow-100 text-yellow-800",2:"bg-orange-100 text-orange-800",3:"bg-orange-200 text-orange-900",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};function iO(){const{id:e}=uj(),t=Jc(),[n,r]=v.useState(null),[s,a]=v.useState(!0),[o,i]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState({world:"",threatLevel:0,timeSystem:"unknown",safetyOverride:"unknown",exit:"unknown",environments:[],entities:[],notes:""});v.useEffect(()=>{(async()=>{try{const w=(await Vs()).find(k=>k.id===e);r(w||null),w&&f({world:w.world,threatLevel:w.threatLevel,timeSystem:w.timeSystem,safetyOverride:w.safetyOverride,exit:w.exit,environments:w.environments,entities:w.entities,notes:w.notes||""})}catch(y){console.error("Error loading dream:",y)}finally{a(!1)}})()},[e]);const h=()=>{i(!0)},m=()=>{n&&f({world:n.world,threatLevel:n.threatLevel,timeSystem:n.timeSystem,safetyOverride:n.safetyOverride,exit:n.exit,environments:n.environments,entities:n.entities,notes:n.notes||""}),i(!1)},b=async()=>{if(n){u(!0);try{const g=await kM(n.id,d);g?(r(g),i(!1),jn.success("")):jn.error("")}catch(g){console.error("Error saving:",g),jn.error("")}finally{u(!1)}}},p=async()=>{n&&confirm("?")&&(await EM(n.id)?(jn.success(""),t("/logs")):jn.error(""))};if(s)return l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."});if(!n)return l.jsxs("div",{className:"py-4",children:[l.jsx("p",{className:"text-muted-foreground",children:""}),l.jsx(Me,{asChild:!0,variant:"link",className:"mt-2 p-0",children:l.jsx(xt,{to:"/logs",children:""})})]});const x=new Date(n.date).toLocaleDateString("th-TH",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:l.jsx(uw,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:n.id})]}),l.jsx("div",{className:"flex gap-1",children:o?l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"ghost",size:"icon",onClick:m,disabled:c,children:l.jsx(Bc,{className:"w-4 h-4"})}),l.jsx(Me,{size:"icon",onClick:b,disabled:c,children:l.jsx(ak,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Me,{variant:"ghost",size:"icon",onClick:h,children:l.jsx(Wf,{className:"w-4 h-4"})}),l.jsx(Me,{variant:"ghost",size:"icon",onClick:p,children:l.jsx(lk,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{children:[o?l.jsx(nn,{value:d.world,onChange:g=>f(y=>({...y,world:g.target.value})),className:"text-xl font-semibold mb-2",placeholder:""}):l.jsx("h1",{className:"text-xl mb-1",children:n.world}),l.jsxs("p",{className:"text-muted-foreground",children:[x,"  ",n.wakeTime]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Threat Level"}),o?l.jsxs(sn,{value:String(d.threatLevel),onValueChange:g=>f(y=>({...y,threatLevel:Number(g)})),children:[l.jsx(Ht,{className:"h-8",children:l.jsx(an,{})}),l.jsx(Gt,{children:[0,1,2,3,4,5].map(g=>l.jsxs(ut,{value:String(g),children:["Level ",g]},g))})]}):l.jsx("span",{className:`threat-badge text-lg ${oO[n.threatLevel]}`,children:n.threatLevel})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Time System"}),o?l.jsxs(sn,{value:d.timeSystem,onValueChange:g=>f(y=>({...y,timeSystem:g})),children:[l.jsx(Ht,{className:"h-8",children:l.jsx(an,{})}),l.jsx(Gt,{children:fm.map(g=>l.jsx(ut,{value:g,children:g},g))})]}):l.jsx("p",{className:"font-medium",children:n.timeSystem})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Safety Override"}),o?l.jsxs(sn,{value:d.safetyOverride,onValueChange:g=>f(y=>({...y,safetyOverride:g})),children:[l.jsx(Ht,{className:"h-8",children:l.jsx(an,{})}),l.jsx(Gt,{children:mm.map(g=>l.jsx(ut,{value:g,children:g},g))})]}):l.jsx("p",{className:"font-medium",children:n.safetyOverride})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Exit"}),o?l.jsxs(sn,{value:d.exit,onValueChange:g=>f(y=>({...y,exit:g})),children:[l.jsx(Ht,{className:"h-8",children:l.jsx(an,{})}),l.jsx(Gt,{children:Db.map(g=>l.jsx(ut,{value:g,children:g},g))})]}):l.jsx("p",{className:"font-medium",children:n.exit})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Environments"}),o?l.jsx(nn,{value:d.environments.join(", "),onChange:g=>f(y=>({...y,environments:g.target.value.split(",").map(w=>w.trim()).filter(Boolean)})),placeholder:"fog, sea, mountain ()"}):n.environments.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.environments.map(g=>l.jsx("span",{className:"tag",children:g},g))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Entities"}),o?l.jsx(nn,{value:d.entities.join(", "),onChange:g=>f(y=>({...y,entities:g.target.value.split(",").map(w=>w.trim()).filter(Boolean)})),placeholder:"Entity1, Entity2 ()"}):n.entities.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:n.entities.map(g=>l.jsx("span",{className:"tag-accent",children:g},g))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),o?l.jsx(Zc,{value:d.notes,onChange:g=>f(y=>({...y,notes:g.target.value})),className:"min-h-[120px]",placeholder:"..."}):n.notes?l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:n.notes}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"-"})]})]})}function Be(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function xr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Kb(e,t){const n=Be(e);return isNaN(t)?xr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const Yb=6048e5,lO=864e5;let cO={};function lu(){return cO}function Tn(e,t){var i,c,u,d;const n=lu(),r=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Be(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function wc(e){return Tn(e,{weekStartsOn:1})}function Qb(e){const t=Be(e),n=t.getFullYear(),r=xr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=wc(r),a=xr(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=wc(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function xc(e){const t=Be(e);return t.setHours(0,0,0,0),t}function ag(e){const t=Be(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uO(e,t){const n=xc(e),r=xc(t),s=+n-ag(n),a=+r-ag(r);return Math.round((s-a)/lO)}function dO(e){const t=Qb(e),n=xr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wc(n)}function hO(e,t){const n=t*7;return Kb(e,n)}function ym(e){return xr(e,Date.now())}function fO(e,t){const n=xc(e),r=xc(t);return+n==+r}function mO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pO(e){if(!mO(e)&&typeof e!="number")return!1;const t=Be(e);return!isNaN(Number(t))}function gO(e,t){const n=Be(e.start),r=Be(e.end);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let i=1;const c=[];for(;+o<=a;)c.push(Be(o)),o.setDate(o.getDate()+i),o.setHours(0,0,0,0);return s?c.reverse():c}function yO(e,t){const n=Be(e.start),r=Be(e.end);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let i=1;const c=[];for(;+o<=a;)c.push(Be(o)),o.setMonth(o.getMonth()+i);return s?c.reverse():c}function vO(e,t){const n=Be(e.start),r=Be(e.end);let s=+n>+r;const a=Tn(s?r:n,t),o=Tn(s?n:r,t);a.setHours(15),o.setHours(15);const i=+o.getTime();let c=a,u=(t==null?void 0:t.step)??1;if(!u)return[];u<0&&(u=-u,s=!s);const d=[];for(;+c<=i;)c.setHours(0),d.push(Be(c)),c=hO(c,u),c.setHours(15);return s?d.reverse():d}function wO(e){const t=Be(e),n=xr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const xO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bO=(e,t,n)=>{let r;const s=xO[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Da(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const SO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_O={date:Da({formats:SO,defaultWidth:"full"}),time:Da({formats:kO,defaultWidth:"full"}),dateTime:Da({formats:EO,defaultWidth:"full"})},CO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jO=(e,t,n,r)=>CO[e];function Vn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{const o=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[i]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const TO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IO={ordinalNumber:AO,era:Vn({values:TO,defaultWidth:"wide"}),quarter:Vn({values:NO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vn({values:PO,defaultWidth:"wide"}),day:Vn({values:MO,defaultWidth:"wide"}),dayPeriod:Vn({values:RO,defaultWidth:"wide",formattingValues:OO,defaultFormattingWidth:"wide"})};function Hn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?DO(i,f=>f.test(o)):$O(i,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function $O(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function DO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Jb(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const i=t.slice(s.length);return{value:o,rest:i}}}const LO=/^(\d+)(th|st|nd|rd)?/i,FO=/\d+/i,zO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BO={any:[/^b/i,/^(a|c)/i]},UO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WO={any:[/1/i,/2/i,/3/i,/4/i]},VO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QO={ordinalNumber:Jb({matchPattern:LO,parsePattern:FO,valueCallback:e=>parseInt(e,10)}),era:Hn({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:BO,defaultParseWidth:"any"}),quarter:Hn({matchPatterns:UO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hn({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:HO,defaultParseWidth:"any"}),day:Hn({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),dayPeriod:Hn({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:YO,defaultParseWidth:"any"})},JO={code:"en-US",formatDistance:bO,formatLong:_O,formatRelative:jO,localize:IO,match:QO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XO(e){const t=Be(e);return uO(t,wO(t))+1}function ZO(e){const t=Be(e),n=+wc(t)-+dO(t);return Math.round(n/Yb)+1}function Xb(e,t){var d,f,h,m;const n=Be(e),r=n.getFullYear(),s=lu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=xr(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const i=Tn(o,t),c=xr(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Tn(c,t);return n.getTime()>=i.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function eA(e,t){var i,c,u,d;const n=lu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Xb(e,t),a=xr(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Tn(a,t)}function tA(e,t){const n=Be(e),r=+Tn(n,t)-+eA(n,t);return Math.round(r/Yb)+1}function Ee(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Tr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ee(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ee(n+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ee(s,t.length)}},la={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},og={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Tr.y(e,t)},Y:function(e,t,n,r){const s=Xb(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ee(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ee(a,t.length)},R:function(e,t){const n=Qb(e);return Ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ee(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Tr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=tA(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},I:function(e,t,n){const r=ZO(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ee(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Tr.d(e,t)},D:function(e,t,n){const r=XO(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ee(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ee(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ee(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=la.noon:r===0?s=la.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=la.evening:r>=12?s=la.afternoon:r>=4?s=la.morning:s=la.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Tr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Tr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Tr.s(e,t)},S:function(e,t){return Tr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return lg(r);case"XXXX":case"XX":return Ss(r);case"XXXXX":case"XXX":default:return Ss(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return lg(r);case"xxxx":case"xx":return Ss(r);case"xxxxx":case"xxx":default:return Ss(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ig(r,":");case"OOOO":default:return"GMT"+Ss(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ig(r,":");case"zzzz":default:return"GMT"+Ss(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ee(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ee(r,t.length)}};function ig(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Ee(a,2)}function lg(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):Ss(e,t)}function Ss(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ee(Math.trunc(r/60),2),a=Ee(r%60,2);return n+s+t+a}const cg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nA=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return cg(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",cg(r,t)).replace("{{time}}",Zb(s,t))},rA={p:Zb,P:nA},sA=/^D+$/,aA=/^Y+$/,oA=["D","DD","YY","YYYY"];function iA(e){return sA.test(e)}function lA(e){return aA.test(e)}function cA(e,t,n){const r=uA(e,t,n);if(console.warn(r),oA.includes(e))throw new RangeError(r)}function uA(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fA=/^'([^]*?)'?$/,mA=/''/g,pA=/[a-zA-Z]/;function vt(e,t,n){var d,f,h,m,b,p,x,g;const r=lu(),s=(n==null?void 0:n.locale)??r.locale??JO,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,i=Be(e);if(!pO(i))throw new RangeError("Invalid time value");let c=t.match(hA).map(y=>{const w=y[0];if(w==="p"||w==="P"){const k=rA[w];return k(y,s.formatLong)}return y}).join("").match(dA).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:gA(y)};if(og[w])return{isToken:!0,value:y};if(w.match(pA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(i,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lA(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&iA(w))&&cA(w,t,String(e));const k=og[w[0]];return k(i,w,s.localize,u)}).join("")}function gA(e){const t=e.match(fA);return t?t[1].replace(mA,"'"):e}function yA(e,t,n){const r=Tn(e,n),s=Tn(t,n);return+r==+s}function vA(e,t){const n=Be(e),r=Be(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function wA(e){return vA(e,ym(e))}function xA(e,t){return yA(e,ym(e),t)}function bA(e){return fO(e,ym(e))}function SA(e,t){return Kb(e,-t)}const kA={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},EA=(e,t,n)=>{let r;const s=kA[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e==="halfAMinute"?""+r:" "+r:r+"":r},_A={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},CA={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},jA={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TA={date:Da({formats:_A,defaultWidth:"full"}),time:Da({formats:CA,defaultWidth:"medium"}),dateTime:Da({formats:jA,defaultWidth:"full"})},NA={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},PA=(e,t,n,r)=>NA[e],MA={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},RA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},OA={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},AA={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},IA={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$A={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},DA=(e,t)=>String(e),LA={ordinalNumber:DA,era:Vn({values:MA,defaultWidth:"wide"}),quarter:Vn({values:RA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vn({values:AA,defaultWidth:"wide"}),day:Vn({values:OA,defaultWidth:"wide"}),dayPeriod:Vn({values:IA,defaultWidth:"wide",formattingValues:$A,defaultFormattingWidth:"wide"})},FA=/^\d+/i,zA=/\d+/i,BA={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},UA={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},WA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},VA={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},HA={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},GA={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},qA={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},KA={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},YA={any:/^(||||(.*?)?.*(||||))/i},QA={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},JA={ordinalNumber:Jb({matchPattern:FA,parsePattern:zA,valueCallback:e=>parseInt(e,10)}),era:Hn({matchPatterns:BA,defaultMatchWidth:"wide",parsePatterns:UA,defaultParseWidth:"any"}),quarter:Hn({matchPatterns:WA,defaultMatchWidth:"wide",parsePatterns:VA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hn({matchPatterns:HA,defaultMatchWidth:"wide",parsePatterns:GA,defaultParseWidth:"any"}),day:Hn({matchPatterns:qA,defaultMatchWidth:"wide",parsePatterns:KA,defaultParseWidth:"any"}),dayPeriod:Hn({matchPatterns:YA,defaultMatchWidth:"any",parsePatterns:QA,defaultParseWidth:"any"})},os={code:"th",formatDistance:EA,formatLong:TA,formatRelative:PA,localize:LA,match:JA,options:{weekStartsOn:0,firstWeekContainsDate:1}},ug=[{gradient:["#1e3a8a","#1e40af","#3b82f6"],particles:"#60a5fa"},{gradient:["#581c87","#7c3aed","#a855f7"],particles:"#c084fc"},{gradient:["#c2410c","#ea580c","#f97316"],particles:"#fb923c"},{gradient:["#065f46","#059669","#10b981"],particles:"#34d399"}];function XA(e){const t=e.split("").reduce((n,r)=>n+r.charCodeAt(0),0);return ug[t%ug.length]}function ko({dream:e}){var a,o;const t=v.useRef(null),n=v.useRef([]),r=v.useRef(),s=XA(e.id);return v.useEffect(()=>{const i=t.current;if(!i)return;const c=i.getContext("2d");if(!c)return;(()=>{const h=i.getBoundingClientRect();i.width=h.width*window.devicePixelRatio,i.height=h.height*window.devicePixelRatio,c.scale(window.devicePixelRatio,window.devicePixelRatio)})(),(()=>{const h=[],m=i.getBoundingClientRect();for(let b=0;b<30;b++)h.push({x:Math.random()*m.width,y:Math.random()*m.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,opacity:Math.random()*.5+.3});n.current=h})();const f=()=>{const h=i.getBoundingClientRect();c.clearRect(0,0,h.width,h.height);const m=c.createLinearGradient(0,0,0,h.height);m.addColorStop(0,s.gradient[0]),m.addColorStop(.5,s.gradient[1]),m.addColorStop(1,s.gradient[2]),c.fillStyle=m,c.fillRect(0,0,h.width,h.height),n.current.forEach(b=>{b.x+=b.vx,b.y+=b.vy,b.x<0&&(b.x=h.width),b.x>h.width&&(b.x=0),b.y<0&&(b.y=h.height),b.y>h.height&&(b.y=0),c.beginPath(),c.arc(b.x,b.y,b.size,0,Math.PI*2),c.fillStyle=`${s.particles}${Math.floor(b.opacity*255).toString(16).padStart(2,"0")}`,c.fill()}),r.current=requestAnimationFrame(f)};return f(),()=>{r.current&&cancelAnimationFrame(r.current)}},[s]),(o=(a=e.world)==null?void 0:a[0])!=null&&o.toUpperCase(),l.jsx(xt,{to:`/logs/${e.id}`,className:"group block",children:l.jsxs("div",{className:"aspect-[2/3] rounded-lg overflow-hidden relative shadow-lg hover:shadow-2xl transition-all duration-500 group-hover:scale-[1.03]",children:[l.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full",style:{width:"100%",height:"100%"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-6",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center px-2",children:l.jsx("h3",{className:"font-bold text-2xl sm:text-3xl text-center leading-tight text-white drop-shadow-2xl uppercase tracking-wider line-clamp-3",children:e.world||"Unknown"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60",children:[l.jsx("div",{className:"h-px w-8 bg-white/50"}),l.jsx("div",{className:"w-1 h-1 rounded-full bg-white/50"}),l.jsx("div",{className:"h-px w-8 bg-white/50"})]}),l.jsx("p",{className:"text-xs text-white/80 font-light tracking-wide text-center uppercase",children:vt(new Date(e.date),"d MMM yyyy",{locale:os})})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/0 to-transparent group-hover:via-white/20 transition-all duration-700 transform translate-x-full group-hover:translate-x-0"})]})})}function ZA(){Sr();const[e,t]=v.useState(""),[n,r]=v.useState("date"),[s,a]=v.useState([]),[o,i]=v.useState({today:!0,thisWeek:!0,thisMonth:!0,older:!1}),[c,u]=v.useState(null);v.useEffect(()=>{const x=mc();u(x)},[]);const d=()=>{Wj();const x=mc();u(x),am(x)};v.useEffect(()=>{(async()=>{try{const g=await Vs();a(g)}catch(g){console.error("Error loading data:",g)}})()},[]);const f=e?s.filter(x=>{var g;return x.world.toLowerCase().includes(e.toLowerCase())||x.entities.some(y=>y.toLowerCase().includes(e.toLowerCase()))||((g=x.notes)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}):s,h=()=>{const x=[],g=[],y=[],w=[];return f.forEach(k=>{const _=new Date(k.date);bA(_)?x.push(k):xA(_,{weekStartsOn:1})?g.push(k):wA(_)?y.push(k):w.push(k)}),{today:x,thisWeek:g,thisMonth:y,older:w}},m=()=>{const x={};return f.forEach(g=>{const y=g.world||"Unknown World";x[y]||(x[y]=[]),x[y].push(g)}),Object.entries(x).sort((g,y)=>y[1].length-g[1].length)},b=x=>{i(g=>({...g,[x]:!g[x]}))},p=x=>{i(g=>({...g,[x]:!g[x]}))};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Dream Library"}),c&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.uiAccent}}),c.name]}),l.jsxs("span",{className:"opacity-60",children:["(",c.rarity,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{variant:"outline",size:"sm",onClick:d,className:"h-8 px-2",title:"",children:l.jsx(ok,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.length," "]})]})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(pw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(nn,{placeholder:"...",value:e,onChange:x=>t(x.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r("date"),className:we("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="date"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(hw,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>r("world"),className:we("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",n==="world"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(Dp,{className:"w-4 h-4"}),""]})]})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:f.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground px-4",children:[l.jsx(Uf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):n==="date"?l.jsxs("div",{className:"space-y-4 p-4",children:[h().today.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("today"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-primary rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[h().today.length," "]})]})]}),o.today?l.jsx(ca,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ks,{className:"w-5 h-5 text-muted-foreground"})]}),o.today&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h().today.map(x=>l.jsx(ko,{dream:x},x.id))})})]}),h().thisWeek.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("thisWeek"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-blue-500 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[h().thisWeek.length," "]})]})]}),o.thisWeek?l.jsx(ca,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ks,{className:"w-5 h-5 text-muted-foreground"})]}),o.thisWeek&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h().thisWeek.map(x=>l.jsx(ko,{dream:x},x.id))})})]}),h().thisMonth.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("thisMonth"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-emerald-500 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[h().thisMonth.length," "]})]})]}),o.thisMonth?l.jsx(ca,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ks,{className:"w-5 h-5 text-muted-foreground"})]}),o.thisMonth&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h().thisMonth.map(x=>l.jsx(ko,{dream:x},x.id))})})]}),h().older.length>0&&l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>b("older"),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 h-8 bg-muted-foreground/50 rounded-full"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:""}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[h().older.length," "]})]})]}),o.older?l.jsx(ca,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ks,{className:"w-5 h-5 text-muted-foreground"})]}),o.older&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h().older.map(x=>l.jsx(ko,{dream:x},x.id))})})]})]}):l.jsx("div",{className:"space-y-4 p-4",children:m().map(([x,g])=>l.jsxs("section",{className:"bg-card rounded-lg border",children:[l.jsxs("button",{onClick:()=>p(x),className:"w-full flex items-center justify-between p-4 hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Dp,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-sm font-semibold",children:x}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," "]})]})]}),o[x]?l.jsx(ca,{className:"w-5 h-5 text-muted-foreground"}):l.jsx(ks,{className:"w-5 h-5 text-muted-foreground"})]}),o[x]&&l.jsx("div",{className:"p-4 pt-0",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:g.map(y=>l.jsx(ko,{dream:y},y.id))})})]},x))})}),l.jsx(Xc,{})]})}var hd="rovingFocusGroup.onEntryFocus",e4={bubbles:!1,cancelable:!0},Ai="RovingFocusGroup",[Fh,e1,t4]=$f(Ai),[n4,t1]=us(Ai,[t4]),[r4,s4]=n4(Ai),n1=v.forwardRef((e,t)=>l.jsx(Fh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Fh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(a4,{...e,ref:t})})}));n1.displayName=Ai;var a4=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=Ae(t,h),b=dm(a),[p,x]=Za({prop:o,defaultProp:i??null,onChange:c,caller:Ai}),[g,y]=v.useState(!1),w=un(u),k=e1(n),_=v.useRef(!1),[j,C]=v.useState(0);return v.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(hd,w),()=>P.removeEventListener(hd,w)},[w]),l.jsx(r4,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(P=>x(P),[x]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>C(P=>P-1),[]),children:l.jsx(me.div,{tabIndex:g||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{_.current=!0}),onFocus:se(e.onFocus,P=>{const O=!_.current;if(P.target===P.currentTarget&&O&&!g){const A=new CustomEvent(hd,e4);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const B=k().filter(V=>V.focusable),L=B.find(V=>V.active),Q=B.find(V=>V.id===p),K=[L,Q,...B].filter(Boolean).map(V=>V.ref.current);a1(K,d)}}_.current=!1}),onBlur:se(e.onBlur,()=>y(!1))})})}),r1="RovingFocusGroupItem",s1=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:o,...i}=e,c=Ni(),u=a||c,d=s4(r1,n),f=d.currentTabStopId===u,h=e1(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),l.jsx(Fh.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=l4(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const k=w.indexOf(x.currentTarget);w=d.loop?c4(w,k+1):w.slice(k+1)}setTimeout(()=>a1(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});s1.displayName=r1;var o4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l4(e,t,n){const r=i4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return o4[r]}function a1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function c4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u4=n1,d4=s1,cu="Tabs",[h4,z4]=us(cu,[t1]),o1=t1(),[f4,vm]=h4(cu),i1=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=dm(i),[f,h]=Za({prop:r,onChange:s,defaultProp:a??"",caller:cu});return l.jsx(f4,{scope:n,baseId:Ni(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:t})})});i1.displayName=cu;var l1="TabsList",c1=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=vm(l1,n),o=o1(n);return l.jsx(u4,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(me.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});c1.displayName=l1;var u1="TabsTrigger",d1=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=vm(u1,n),i=o1(n),c=m1(o.baseId,r),u=p1(o.baseId,r),d=r===o.value;return l.jsx(d4,{asChild:!0,...i,focusable:!s,active:d,children:l.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});d1.displayName=u1;var h1="TabsContent",f1=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,i=vm(h1,n),c=m1(i.baseId,r),u=p1(i.baseId,r),d=r===i.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(ji,{present:s||d,children:({present:h})=>l.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});f1.displayName=h1;function m1(e,t){return`${e}-trigger-${t}`}function p1(e,t){return`${e}-content-${t}`}var m4=i1,g1=c1,y1=d1,v1=f1;const p4=m4,w1=v.forwardRef(({className:e,...t},n)=>l.jsx(g1,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));w1.displayName=g1.displayName;const Ol=v.forwardRef(({className:e,...t},n)=>l.jsx(y1,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ol.displayName=y1.displayName;const Al=v.forwardRef(({className:e,...t},n)=>l.jsx(v1,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Al.displayName=v1.displayName;function dg({dreams:e,mode:t}){const n=v.useMemo(()=>{if(e.length===0)return[];const s=[...e].sort((i,c)=>new Date(i.date).getTime()-new Date(c.date).getTime()),a=new Date(s[0].date),o=new Date(s[s.length-1].date);return t==="week"?vO({start:a,end:o},{weekStartsOn:1}).map(c=>{const u=new Date(c);u.setDate(u.getDate()+6);const d=e.filter(f=>{const h=new Date(f.date);return h>=c&&h<=u}).length;return{label:vt(c,"d MMM",{locale:os}),count:d,period:c}}).slice(-12):yO({start:a,end:o}).map(c=>{const u=new Date(c);u.setMonth(u.getMonth()+1),u.setDate(0);const d=e.filter(f=>{const h=new Date(f.date);return h>=c&&h<=u}).length;return{label:vt(c,"MMM yy",{locale:os}),count:d,period:c}}).slice(-12)},[e,t]),r=Math.max(...n.map(s=>s.count),1);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bf,{className:"w-4 h-4 text-primary"}),l.jsxs("h2",{className:"text-sm font-semibold",children:[" (",t==="week"?"":"",")"]})]}),l.jsxs("div",{className:"space-y-2",children:[n.map((s,a)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:s.label}),l.jsxs("span",{className:"font-semibold",children:[s.count," "]})]}),l.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s.count/r*100}%`}})})]},a)),n.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})]})}function g4({dreams:e}){const t=v.useMemo(()=>{const n=new Set(["","","","","","","","","","","","","","","","","","","","","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","is","was","were"]),r=new Map;e.forEach(c=>{[c.notes||"",...c.environments,...c.entities,c.world].join(" ").split(/[\s,.:;!?()[\]{}]+/).filter(f=>f.length>2&&!n.has(f.toLowerCase())).map(f=>f.toLowerCase()).forEach(f=>{r.set(f,(r.get(f)||0)+1)})});const s=Array.from(r.entries()).map(([c,u])=>({word:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,30);if(s.length===0)return[];const a=Math.max(...s.map(c=>c.count)),o=Math.min(...s.map(c=>c.count)),i=a-o||1;return s.map(({word:c,count:u})=>({word:c,count:u,size:12+(u-o)/i*24}))},[e]);return t.length===0?l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx($p,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:""})]}):l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($p,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Word Cloud"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center items-center py-4 min-h-[200px]",children:t.map(({word:n,count:r,size:s})=>l.jsx("span",{className:"cursor-default hover:text-primary transition-colors",style:{fontSize:`${s}px`,fontWeight:Math.round(300+s/36*400),opacity:.6+s/36*.4},title:`${r} `,children:n},n))})]})}function y4({dreams:e}){const t=v.useMemo(()=>{const n=new Map;return e.forEach(r=>{[...r.environments,...r.entities,r.world,r.timeSystem,r.safetyOverride].forEach(a=>{a&&a!=="unknown"&&a!=="none"&&n.set(a,(n.get(a)||0)+1)})}),Array.from(n.entries()).map(([r,s])=>({tag:r,count:s})).sort((r,s)=>s.count-r.count).slice(0,20)},[e]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ik,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:""})]}),t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(({tag:n,count:r})=>l.jsxs(Oe,{variant:"secondary",className:"text-xs px-3 py-1 gap-2",children:[l.jsx("span",{children:n}),l.jsx("span",{className:"text-primary font-semibold",children:r})]},n))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function v4({dreams:e}){const t=v.useMemo(()=>{const r=[...e].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime()),s=Array.from({length:14},(c,u)=>{const d=SA(new Date,u),f=r.filter(m=>vt(new Date(m.date),"yyyy-MM-dd")===vt(d,"yyyy-MM-dd")),h=f.length>0?f.reduce((m,b)=>m+b.threatLevel,0)/f.length:0;return{date:d,label:vt(d,"d MMM",{locale:os}),avgThreat:h,count:f.length}}).reverse(),a=s.slice(-7).filter(c=>c.count>0).reduce((c,u,d,f)=>c+u.avgThreat/f.length,0),o=s.slice(0,7).filter(c=>c.count>0).reduce((c,u,d,f)=>c+u.avgThreat/f.length,0),i=a-o;return{data:s,trend:i,recentAvg:a,previousAvg:o}},[e]),n=Math.max(...t.data.map(r=>r.avgThreat),5);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ii,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Trends"})]}),t.trend!==0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${t.trend>0?"text-red-500":t.trend<0?"text-green-500":"text-muted-foreground"}`,children:[t.trend>0?l.jsx(ii,{className:"w-3 h-3"}):t.trend<0?l.jsx(ck,{className:"w-3 h-3"}):l.jsx(ek,{className:"w-3 h-3"}),l.jsx("span",{children:Math.abs(t.trend).toFixed(2)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.recentAvg.toFixed(2)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"7 "}),l.jsx("p",{className:"text-lg font-bold",children:t.previousAvg.toFixed(2)})]})]}),l.jsx("div",{className:"space-y-2",children:t.data.map((r,s)=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:r.label}),l.jsx("span",{className:`font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.count>0?r.avgThreat.toFixed(1):"-"})]}),r.count>0&&l.jsx("div",{className:"h-1.5 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${r.avgThreat>=4?"bg-red-500":r.avgThreat>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${r.avgThreat/n*100}%`}})})]},s))})]})}function w4({dreams:e,entities:t}){const n=v.useMemo(()=>{const s=new Map;e.forEach(i=>{i.environments.forEach(c=>{s.set(c,(s.get(c)||0)+1)})});const a=new Map;e.forEach(i=>{if(i.entities.length>=2){const c=i.entities.sort().join(" + ");a.set(c,(a.get(c)||0)+1)}});const o=new Map;for(let i=0;i<e.length-1;i++){const c=`${e[i].world}  ${e[i+1].world}`;o.set(c,(o.get(c)||0)+1)}return{recurringEnvs:Array.from(s.entries()).filter(([i,c])=>c>=3).map(([i,c])=>({env:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,5),recurringCombos:Array.from(a.entries()).filter(([i,c])=>c>=2).map(([i,c])=>({combo:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,3),worldPatterns:Array.from(o.entries()).filter(([i,c])=>c>=2).map(([i,c])=>({seq:i,count:c})).sort((i,c)=>c.count-i.count).slice(0,3)}},[e]),r=n.recurringEnvs.length>0||n.recurringCombos.length>0||n.worldPatterns.length>0;return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sk,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Recurring Patterns"})]}),r?l.jsxs("div",{className:"space-y-4",children:[n.recurringEnvs.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringEnvs.map(({env:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:s}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.recurringCombos.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.recurringCombos.map(({combo:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]}),n.worldPatterns.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-medium text-muted-foreground",children:""}),l.jsx("div",{className:"space-y-1",children:n.worldPatterns.map(({seq:s,count:a})=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-xs",children:s}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))})]})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""})]})}function x4({dreams:e,entities:t}){const n=v.useMemo(()=>{const s=new Map;return t.forEach(a=>{const o=a.dreamIds.length;if(o>=2){const i=e.filter(c=>a.dreamIds.includes(c.id)).sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime())[0];s.set(a.name,{count:o,role:a.role,lastSeen:(i==null?void 0:i.date)||""})}}),Array.from(s.entries()).map(([a,o])=>({name:a,...o})).sort((a,o)=>o.count-a.count).slice(0,10)},[e,t]),r=v.useMemo(()=>n.filter(s=>s.count>=3).map(s=>` "${s.name}"  ${s.count} !`),[n]);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Entities "})]}),r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((s,a)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50/50 dark:bg-blue-950/20 border border-blue-500/50 rounded-lg",children:[l.jsx(K5,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:s})]},a))}),n.length>0?l.jsx("div",{className:"space-y-2",children:n.map(({name:s,count:a,role:o})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:o})]}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[a," "]})]},s))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:" entities "})]})}function b4({dreams:e}){const t=v.useMemo(()=>{if(e.length===0)return{currentStreak:0,longestStreak:0,totalDays:0,streakDays:[]};const r=[...e].sort((b,p)=>new Date(p.date).getTime()-new Date(b.date).getTime()),s=new Set(r.map(b=>vt(new Date(b.date),"yyyy-MM-dd")));let a=0,o=new Date;for(o.setHours(0,0,0,0);s.has(vt(o,"yyyy-MM-dd"));)a++,o.setDate(o.getDate()-1);if(a===0&&(o=new Date,o.setDate(o.getDate()-1),o.setHours(0,0,0,0),s.has(vt(o,"yyyy-MM-dd"))))for(a=1,o.setDate(o.getDate()-1);s.has(vt(o,"yyyy-MM-dd"));)a++,o.setDate(o.getDate()-1);const i=new Date(r[r.length-1].date),c=new Date(r[0].date),u=gO({start:i,end:c});let d=0,f=0;u.forEach(b=>{s.has(vt(b,"yyyy-MM-dd"))?(f++,d=Math.max(d,f)):f=0});const h=[],m=new Date;m.setHours(0,0,0,0);for(let b=0;b<a&&b<7;b++)h.push(new Date(m)),m.setDate(m.getDate()-1);return{currentStreak:a,longestStreak:d,totalDays:s.size,streakDays:h.reverse()}},[e]),n=r=>r>=30?"":r>=14?"":r>=7?"":r>=3?"":"";return l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zu,{className:"w-4 h-4 text-orange-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Dream Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[l.jsx("div",{className:"text-4xl mb-2",children:n(t.currentStreak)}),l.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:t.currentStreak}),l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(G5,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.longestStreak}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(zu,{className:"w-3 h-3 text-primary"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),l.jsx("p",{className:"text-xl font-bold",children:t.totalDays}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),t.streakDays.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex gap-1 justify-center",children:t.streakDays.map((r,s)=>l.jsxs("div",{className:"flex flex-col items-center",title:vt(r,"d MMM yyyy",{locale:os}),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:l.jsx(zu,{className:"w-4 h-4 text-orange-500"})}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:vt(r,"d")})]},s))})]}),t.currentStreak===0&&l.jsx("div",{className:"text-center p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" streak ! "})}),t.currentStreak>=7&&l.jsx("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["!  ",t.currentStreak," ","! "]})})]})}function S4(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,a]=v.useState([]),[o,i]=v.useState([]),[c,u]=v.useState(!0),[d,f]=v.useState(!1),[h,m]=v.useState(new Date),b=async(T=!1)=>{T?f(!0):u(!0);try{const[H,D,he,ke]=await Promise.all([Vs(),Oi(),nu(),_M()]);t(H),r(D),a(he),i(ke),m(new Date)}catch(H){console.error("Error loading data:",H)}finally{u(!1),f(!1)}};v.useEffect(()=>{b()},[]);const p=e.length,x=e.length>0?(e.reduce((T,H)=>T+H.threatLevel,0)/e.length).toFixed(1):"0",g=n.map(T=>({name:T.name,count:T.dreamIds.length,stability:T.stability})).sort((T,H)=>H.count-T.count).slice(0,5),y=s.map(T=>({name:T.name,role:T.role,count:T.dreamIds.length})).sort((T,H)=>H.count-T.count).slice(0,5),w=o.filter(T=>T.level>=4),k=o.map(T=>({name:T.name,level:T.level,count:T.dreamIds.length})).sort((T,H)=>H.count-T.count).slice(0,5),_=[0,1,2,3,4,5].map(T=>({level:T,count:e.filter(H=>H.threatLevel===T).length})),j={inactive:e.filter(T=>T.timeSystem==="inactive").length,activated:e.filter(T=>T.timeSystem==="activated").length,unknown:e.filter(T=>T.timeSystem==="unknown").length},C=e.slice(0,7),P=e.slice(7,14),O=C.length>0?C.reduce((T,H)=>T+H.threatLevel,0)/C.length:0,A=P.length>0?P.reduce((T,H)=>T+H.threatLevel,0)/P.length:0,B=O-A,L={};e.forEach(T=>{T.environments.forEach(H=>{L[H]=(L[H]||0)+1})});const Q=Object.entries(L).sort((T,H)=>H[1]-T[1]).slice(0,10),$={none:e.filter(T=>T.safetyOverride==="none").length,helper:e.filter(T=>T.safetyOverride==="helper").length,separation:e.filter(T=>T.safetyOverride==="separation").length,wake:e.filter(T=>T.safetyOverride==="wake").length},K={dreams:p*3,worlds:n.length*.5,entities:s.length*.5,threats:o.length*.3,relations:p*.5},q=Object.values(K).reduce((T,H)=>T+H,0)/1024,M=500,S=q/M*100,U=M-q,Z=Math.floor(U/(q/p||3))+p,F=[];B>.5?F.push({type:"warning",text:` ${B.toFixed(1)} `,icon:_a}):B<-.5&&F.push({type:"success",text:` ${Math.abs(B).toFixed(1)} `,icon:oc}),j.activated>j.inactive&&F.push({type:"info",text:"Time System ",icon:oi});const E=C.filter(T=>T.threatLevel>=4).length;E>=3&&F.push({type:"danger",text:` ${E} `,icon:_a});const X=g[0];return X&&X.count>p*.3&&F.push({type:"info",text:` "${X.name}"  (${X.count} )`,icon:Vr}),c?l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"..."}):l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bf,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{children:"Statistics & Insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:h.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),l.jsx(Me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(!0),disabled:d,children:l.jsx(rk,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]})]}),l.jsxs(p4,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(w1,{className:"grid w-full grid-cols-3",children:[l.jsx(Ol,{value:"overview",children:"Overview"}),l.jsx(Ol,{value:"analytics",children:"Analytics"}),l.jsx(Ol,{value:"patterns",children:"Patterns"})]}),l.jsxs(Al,{value:"overview",className:"space-y-6",children:[F.length>0&&l.jsx("div",{className:"space-y-2",children:F.map((T,H)=>l.jsxs("div",{className:`card-minimal flex items-start gap-3 ${T.type==="danger"?"border-red-500/50 bg-red-50/50 dark:bg-red-950/20":T.type==="warning"?"border-orange-500/50 bg-orange-50/50 dark:bg-orange-950/20":T.type==="success"?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":"border-blue-500/50 bg-blue-50/50 dark:bg-blue-950/20"}`,children:[l.jsx(T.icon,{className:`w-4 h-4 mt-0.5 ${T.type==="danger"?"text-red-500":T.type==="warning"?"text-orange-500":T.type==="success"?"text-green-500":"text-blue-500"}`}),l.jsx("p",{className:"text-sm flex-1",children:T.text})]},H))}),l.jsxs("div",{className:"card-minimal space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Y5,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Database Usage"})]}),l.jsxs(Oe,{variant:"outline",className:"text-xs",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),l.jsxs("span",{className:"font-semibold",children:[q.toFixed(2)," MB / ",M," MB"]})]}),l.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all rounded-full ${S>80?"bg-red-500":S>60?"bg-orange-500":S>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(S,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.toFixed(2),"%   "," ",U.toFixed(2)," MB"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(X5,{className:"w-3 h-3"}),"Dream Logs"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[K.dreams.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Vr,{className:"w-3 h-3"}),"Worlds"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[K.worlds.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(fr,{className:"w-3 h-3"}),"Entities"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[K.entities.toFixed(1)," KB"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(_a,{className:"w-3 h-3"}),"Threats"]}),l.jsxs("p",{className:"text-sm font-semibold",children:[K.threats.toFixed(1)," KB"]})]})]}),l.jsxs("div",{className:"pt-2 border-t space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-semibold text-primary",children:["~",Z.toLocaleString()," logs"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[""," ",(Z-p).toLocaleString()," logs"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(hw,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Dreams"})]}),l.jsx("p",{className:"text-2xl font-bold",children:p})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ii,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"})]}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-2xl font-bold",children:x}),B!==0&&e.length>7&&l.jsxs(Oe,{variant:B>0?"destructive":"secondary",className:"text-xs",children:[B>0?"":""," ",Math.abs(B).toFixed(1)]})]})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Vr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Worlds"})]}),l.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),l.jsxs("div",{className:"card-minimal",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(fr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Entities"})]}),l.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ii,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Level Distribution"})]}),l.jsx("div",{className:"space-y-2",children:_.map(({level:T,count:H})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs w-16",children:["Level ",T]}),l.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${T>=4?"bg-red-500":T>=3?"bg-orange-500":"bg-primary"}`,style:{width:`${p>0?H/p*100:0}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:H})]},T))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Worlds"})]}),l.jsxs("div",{className:"space-y-2",children:[g.map((T,H)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",H+1]}),l.jsx("span",{children:T.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(stability ",T.stability,"/5)"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[T.count," dreams"]})]},T.name)),g.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fr,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top 5 Entities"})]}),l.jsxs("div",{className:"space-y-2",children:[y.map((T,H)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",H+1]}),l.jsx("span",{children:T.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",T.role,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[T.count," dreams"]})]},T.name)),y.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_a,{className:"w-4 h-4 text-red-500"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Threat Analysis"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"High Threats (Level 4-5)"}),l.jsx("span",{className:"font-semibold text-red-500",children:w.length})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Most Common Threats:"}),k.map((T,H)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted-foreground",children:["#",H+1]}),l.jsx("span",{children:T.name}),l.jsxs("span",{className:`text-xs ${T.level>=4?"text-red-500":"text-muted-foreground"}`,children:["(level ",T.level,")"]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[T.count," times"]})]},T.name)),k.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oi,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Time System Usage"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Inactive"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:"h-full bg-slate-500 rounded-full transition-all",style:{width:`${p>0?j.inactive/p*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:j.inactive})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Activated"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${p>0?j.activated/p*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:j.activated})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Unknown"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-secondary rounded-full h-2",children:l.jsx("div",{className:"h-full bg-muted-foreground rounded-full transition-all",style:{width:`${p>0?j.unknown/p*100:0}%`}})}),l.jsx("span",{className:"text-muted-foreground w-12 text-right",children:j.unknown})]})]})]})]}),Q.length>0&&l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uk,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Top Environments"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(([T,H])=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-secondary rounded-full",children:[l.jsx("span",{className:"text-sm",children:T}),l.jsx(Oe,{variant:"outline",className:"text-xs ml-1",children:H})]},T))})]}),l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oc,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-sm font-semibold",children:"Safety Override Usage"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"None"}),l.jsx("p",{className:"text-xl font-bold",children:$.none})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Helper"}),l.jsx("p",{className:"text-xl font-bold",children:$.helper})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Separation"}),l.jsx("p",{className:"text-xl font-bold",children:$.separation})]}),l.jsxs("div",{className:"text-center p-3 bg-secondary/50 rounded-lg",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Wake"}),l.jsx("p",{className:"text-xl font-bold",children:$.wake})]})]})]})]}),l.jsxs(Al,{value:"analytics",className:"space-y-6",children:[l.jsx(dg,{dreams:e,mode:"week"}),l.jsx(dg,{dreams:e,mode:"month"}),l.jsx(v4,{dreams:e}),l.jsx(g4,{dreams:e}),l.jsx(y4,{dreams:e}),l.jsx(b4,{dreams:e})]}),l.jsxs(Al,{value:"patterns",className:"space-y-6",children:[l.jsx(w4,{dreams:e,entities:s}),l.jsx(x4,{dreams:e,entities:s})]})]})]})}function k4({dreams:e}){const t=v.useMemo(()=>[...e].sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime()),[e]),n=r=>r>=4?"text-red-500 bg-red-100 dark:bg-red-950":r>=3?"text-orange-500 bg-orange-100 dark:bg-orange-950":"text-primary bg-primary/10";return e.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(oi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),t.map((r,s)=>l.jsxs("div",{className:"relative pl-16 pb-8 last:pb-0",children:[l.jsx("div",{className:we("absolute left-6 w-5 h-5 rounded-full border-4 border-background",n(r.threatLevel))}),l.jsx(xt,{to:`/logs/${r.id}`,children:l.jsxs("div",{className:"card-minimal hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oi,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium",children:vt(new Date(r.date),"d MMMM yyyy",{locale:os})})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:r.wakeTime})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Vr,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-semibold",children:r.world})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_a,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Threat Level:"}),l.jsx(Oe,{variant:"outline",className:n(r.threatLevel),children:r.threatLevel})]}),r.entities.length>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(fr,{className:"w-3 h-3 text-muted-foreground mt-0.5"}),l.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:r.entities.map(a=>l.jsx(Oe,{variant:"secondary",className:"text-xs",children:a},a))})]}),r.environments.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.environments.map(a=>l.jsx(Oe,{variant:"outline",className:"text-xs",children:a},a))}),r.notes&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes}),r.safetyOverride!=="none"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(oc,{className:"w-3 h-3 text-orange-500"}),l.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Safety Override: ",r.safetyOverride]})]})]})]})})]},r.id))]})})}function E4({dreams:e,worlds:t}){const n=v.useMemo(()=>{const r=[];for(let s=0;s<e.length;s++)for(let a=s+1;a<e.length;a++){const o=e[s],i=e[a],c=[];o.world===i.world&&c.push(`: ${o.world}`);const u=o.entities.filter(f=>i.entities.includes(f));u.length>0&&c.push(`: ${u.join(", ")}`);const d=o.environments.filter(f=>i.environments.includes(f));d.length>0&&c.push(`: ${d.join(", ")}`),Math.abs(o.threatLevel-i.threatLevel)<=1&&c.push(` (${o.threatLevel}-${i.threatLevel})`),o.timeSystem===i.timeSystem&&o.timeSystem!=="unknown"&&c.push(`Time System: ${o.timeSystem}`),c.length>=2&&r.push({dream1:o,dream2:i,connections:c,strength:c.length})}return r.sort((s,a)=>a.strength-s.strength).slice(0,15)},[e]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(uh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(uh,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" ",n.length," "]})]}),n.map((r,s)=>l.jsxs("div",{className:"card-minimal",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[": ",r.strength," "]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(xt,{to:`/logs/${r.dream1.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream1.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream1.date).toLocaleDateString("th-TH")}),r.dream1.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream1.entities.slice(0,3).map(a=>l.jsx(Oe,{variant:"outline",className:"text-xs",children:a},a))})]})}),l.jsx(xt,{to:`/logs/${r.dream2.id}`,children:l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg hover:bg-secondary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-primary"}),l.jsx("span",{className:"text-sm font-semibold",children:r.dream2.world})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r.dream2.date).toLocaleDateString("th-TH")}),r.dream2.entities.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.dream2.entities.slice(0,3).map(a=>l.jsx(Oe,{variant:"outline",className:"text-xs",children:a},a))})]})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:r.connections.map((a,o)=>l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-primary"}),a]},o))})]},s))]})}function _4({dreams:e,worlds:t}){const n=v.useMemo(()=>{const r={};t.forEach(a=>{const o=e.filter(d=>d.world===a.name),i=o.length>0?o.reduce((d,f)=>d+f.threatLevel,0)/o.length:0,c={};o.forEach(d=>{d.entities.forEach(f=>{c[f]=(c[f]||0)+1})});const u=Object.entries(c).filter(([d,f])=>f>=2).sort((d,f)=>f[1]-d[1]).map(([d])=>d).slice(0,5);r[a.name]={world:a,dreamCount:o.length,connections:{},avgThreat:i,commonEntities:u}});const s=[...e].sort((a,o)=>new Date(a.date).getTime()-new Date(o.date).getTime());for(let a=0;a<s.length-1;a++){const o=s[a].world,i=s[a+1].world;if(o!==i){const c=r[o];c&&(c.connections[i]=(c.connections[i]||0)+1)}}return Object.values(r).sort((a,o)=>o.dreamCount-a.dreamCount)},[e,t]);return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(ch,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(ch,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(r=>l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Vr,{className:"w-4 h-4 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:r.world.name})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Oe,{variant:"outline",className:"text-xs",children:r.world.type}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:["Stability: ",r.world.stability,"/5"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:r.dreamCount}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${r.avgThreat>=4?"text-red-500":r.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:r.avgThreat.toFixed(1)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Connections"}),l.jsx("p",{className:"text-sm font-semibold",children:Object.keys(r.connections).length})]})]}),r.commonEntities.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.commonEntities.map(s=>l.jsx(Oe,{variant:"secondary",className:"text-xs",children:s},s))})]}),Object.keys(r.connections).length>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(ii,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:":"})]}),l.jsx("div",{className:"space-y-1",children:Object.entries(r.connections).sort((s,a)=>a[1]-s[1]).slice(0,3).map(([s,a])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-muted-foreground",children:[" ",s]}),l.jsxs(Oe,{variant:"outline",className:"text-xs",children:[a,"x"]})]},s))})]}),r.world.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:r.world.description})]},r.world.id))})]})}function C4({dreams:e,entities:t}){const n=v.useMemo(()=>{const a=[];return t.forEach(o=>{const i=e.filter(h=>o.dreamIds.includes(h.id));if(i.length===0)return;const c=new Set(i.map(h=>h.world)),u=i.reduce((h,m)=>h+m.threatLevel,0)/i.length,d=[...i].sort((h,m)=>new Date(h.date).getTime()-new Date(m.date).getTime()),f=new Map;i.forEach(h=>{h.entities.filter(m=>m!==o.name).forEach(m=>{f.set(m,(f.get(m)||0)+1)})}),a.push({entity:o,appearances:i.length,worlds:c,avgThreat:u,firstSeen:d[0].date,lastSeen:d[d.length-1].date,coAppearances:f})}),a.sort((o,i)=>i.appearances-o.appearances)},[e,t]),r=a=>{switch(a){case"observer":return Q5;case"protector":return oc;case"guide":return nk;case"intruder":return _a;default:return fr}},s=a=>{switch(a){case"observer":return"text-blue-500 bg-blue-100 dark:bg-blue-950";case"protector":return"text-green-500 bg-green-100 dark:bg-green-950";case"guide":return"text-purple-500 bg-purple-100 dark:bg-purple-950";case"intruder":return"text-red-500 bg-red-100 dark:bg-red-950";default:return"text-muted-foreground bg-secondary"}};return n.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:""})]}):l.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(fr,{className:"w-5 h-5 text-primary"}),l.jsxs("h2",{className:"text-lg font-semibold",children:[" (",n.length," )"]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(a=>{const o=r(a.entity.role);return l.jsxs("div",{className:"card-minimal space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.entity.name}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Oe,{className:s(a.entity.role),children:[l.jsx(o,{className:"w-3 h-3 mr-1"}),a.entity.role]})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:a.appearances}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-secondary/50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Worlds"}),l.jsx("p",{className:"text-sm font-semibold",children:a.worlds.size})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Threat"}),l.jsx("p",{className:`text-sm font-semibold ${a.avgThreat>=4?"text-red-500":a.avgThreat>=3?"text-orange-500":"text-foreground"}`,children:a.avgThreat.toFixed(1)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-appear"}),l.jsx("p",{className:"text-sm font-semibold",children:a.coAppearances.size})]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:vt(new Date(a.firstSeen),"d MMM yyyy",{locale:os})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsx("span",{className:"font-medium",children:vt(new Date(a.lastSeen),"d MMM yyyy",{locale:os})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(a.worlds).map(i=>l.jsx(Oe,{variant:"outline",className:"text-xs",children:i},i))})]}),a.coAppearances.size>0&&l.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:":"}),l.jsx("div",{className:"space-y-1",children:Array.from(a.coAppearances.entries()).sort((i,c)=>c[1]-i[1]).slice(0,3).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:i}),l.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[c,"x"]})]},i))})]}),a.entity.description&&l.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:a.entity.description})]},a.entity.id)})})]})}function j4({dreams:e,worlds:t,entities:n}){const[r,s]=v.useState("timeline"),a=[{id:"timeline",label:"Timeline",icon:oi},{id:"connected",label:"Connected Dreams",icon:uh},{id:"map",label:"Universe Map",icon:ch},{id:"characters",label:"Characters",icon:fr}];return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background border-b",children:l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dw,{className:"w-5 h-5 text-primary"}),l.jsx("h1",{className:"text-xl font-semibold",children:"Story Mode"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," "]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:a.map(o=>l.jsxs("button",{onClick:()=>s(o.id),className:we("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap",r===o.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[l.jsx(o.icon,{className:"w-4 h-4"}),o.label]},o.id))})]})}),l.jsx("main",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"p-4",children:[r==="timeline"&&l.jsx(k4,{dreams:e}),r==="connected"&&l.jsx(E4,{dreams:e,worlds:t}),r==="map"&&l.jsx(_4,{dreams:e,worlds:t}),r==="characters"&&l.jsx(C4,{dreams:e,entities:n})]})}),l.jsx(Xc,{})]})}function T4(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,a]=v.useState([]),[o,i]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const[u,d,f]=await Promise.all([Vs(),Oi(),nu()]);t(u),r(d),a(f)}catch(u){console.error("Error loading data:",u)}finally{i(!1)}})()},[]),o?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"..."})}):l.jsx(j4,{dreams:e,worlds:n,entities:s})}function N4(){return l.jsxs("div",{className:"py-4 space-y-8 pb-20",children:[l.jsx("h1",{children:"About / Safety"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fw,{className:"w-4 h-4 text-primary"}),l.jsx("h2",{className:"text-lg font-medium",children:" Dream book"})]}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Dream book by Bon     structured log    "})]}),l.jsxs("section",{className:"card-minimal text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dream book by Bon  ",new Date().getFullYear()]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Personal Dream Logging System"})]})]})]})}const P4=()=>(Sr(),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})),M4=new OC,R4=()=>(v.useEffect(()=>{const e=mc();am(e),console.log(" Global Moon Theme Applied:",e.name)},[]),l.jsx(IC,{client:M4,children:l.jsxs(cC,{children:[l.jsx(Gk,{}),l.jsx(EE,{}),l.jsx(Mj,{basename:"/dream-weaver-log",children:l.jsxs(f0,{children:[l.jsx(pn,{path:"/",element:l.jsx(jM,{})}),l.jsx(pn,{path:"/library",element:l.jsx(ZA,{})}),l.jsx(pn,{path:"/story",element:l.jsx(T4,{})}),l.jsx(pn,{path:"/*",element:l.jsx($j,{children:l.jsxs(f0,{children:[l.jsx(pn,{path:"/logs",element:l.jsx(XR,{})}),l.jsx(pn,{path:"/logs/new",element:l.jsx(aO,{})}),l.jsx(pn,{path:"/logs/:id",element:l.jsx(iO,{})}),l.jsx(pn,{path:"/statistics",element:l.jsx(S4,{})}),l.jsx(pn,{path:"/about",element:l.jsx(N4,{})}),l.jsx(pn,{path:"*",element:l.jsx(P4,{})})]})})})]})})]})}));Av(document.getElementById("root")).render(l.jsx(R4,{}));
